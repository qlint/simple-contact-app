(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var indexof=require("indexof");module.exports=ClassList;function ClassList(elem){var cl=elem.classList;if(cl){return cl}var classList={add:add,remove:remove,contains:contains,toggle:toggle,toString:$toString,length:0,item:item};return classList;function add(token){var list=getTokens();if(indexof(list,token)>-1){return}list.push(token);setTokens(list)}function remove(token){var list=getTokens(),index=indexof(list,token);if(index===-1){return}list.splice(index,1);setTokens(list)}function contains(token){return indexof(getTokens(),token)>-1}function toggle(token){if(contains(token)){remove(token);return false}else{add(token);return true}}function $toString(){return elem.className}function item(index){var tokens=getTokens();return tokens[index]||null}function getTokens(){var className=elem.className;return filter(className.split(" "),isTruthy)}function setTokens(list){var length=list.length;elem.className=list.join(" ");classList.length=length;for(var i=0;i<list.length;i++){classList[i]=list[i]}delete list[length]}}function filter(arr,fn){var ret=[];for(var i=0;i<arr.length;i++){if(fn(arr[i]))ret.push(arr[i])}return ret}function isTruthy(value){return!!value}},{indexof:2}],2:[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}},{}],3:[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.dashjs||(g.dashjs={})).MediaPlayer=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";(function(exports){"use strict";var specialCea608CharsCodes={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499};var getCharForByte=function getCharForByte(byte){var charCode=byte;if(specialCea608CharsCodes.hasOwnProperty(byte)){charCode=specialCea608CharsCodes[byte]}return String.fromCharCode(charCode)};var NR_ROWS=15,NR_COLS=32;var rowsLowCh1={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14};var rowsHighCh1={17:2,18:4,21:6,22:8,23:10,19:13,20:15};var rowsLowCh2={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14};var rowsHighCh2={25:2,26:4,29:6,30:8,31:10,27:13,28:15};var backgroundColors=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];var logger={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function setTime(newTime){this.time=newTime},log:function log(severity,msg){var minLevel=this.verboseFilter[severity];if(this.verboseLevel>=minLevel){console.log(this.time+" ["+severity+"] "+msg)}}};var numArrayToHexArray=function numArrayToHexArray(numArray){var hexArray=[];for(var j=0;j<numArray.length;j++){hexArray.push(numArray[j].toString(16))}return hexArray};var PenState=function PenState(foreground,underline,italics,background,flash){this.foreground=foreground||"white";this.underline=underline||false;this.italics=italics||false;this.background=background||"black";this.flash=flash||false};PenState.prototype={reset:function reset(){this.foreground="white";this.underline=false;this.italics=false;this.background="black";this.flash=false},setStyles:function setStyles(styles){var attribs=["foreground","underline","italics","background","flash"];for(var i=0;i<attribs.length;i++){var style=attribs[i];if(styles.hasOwnProperty(style)){this[style]=styles[style]}}},isDefault:function isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function equals(other){return this.foreground===other.foreground&&this.underline===other.underline&&this.italics===other.italics&&this.background===other.background&&this.flash===other.flash},copy:function copy(newPenState){this.foreground=newPenState.foreground;this.underline=newPenState.underline;this.italics=newPenState.italics;this.background=newPenState.background;this.flash=newPenState.flash},toString:function toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var StyledUnicodeChar=function StyledUnicodeChar(uchar,foreground,underline,italics,background,flash){this.uchar=uchar||" ";this.penState=new PenState(foreground,underline,italics,background,flash)};StyledUnicodeChar.prototype={reset:function reset(){this.uchar=" ";this.penState.reset()},setChar:function setChar(uchar,newPenState){this.uchar=uchar;this.penState.copy(newPenState)},setPenState:function setPenState(newPenState){this.penState.copy(newPenState)},equals:function equals(other){return this.uchar===other.uchar&&this.penState.equals(other.penState)},copy:function copy(newChar){this.uchar=newChar.uchar;this.penState.copy(newChar.penState)},isEmpty:function isEmpty(){return this.uchar===" "&&this.penState.isDefault()}};var Row=function Row(){this.chars=[];for(var i=0;i<NR_COLS;i++){this.chars.push(new StyledUnicodeChar)}this.pos=0;this.currPenState=new PenState};Row.prototype={equals:function equals(other){var equal=true;for(var i=0;i<NR_COLS;i++){if(!this.chars[i].equals(other.chars[i])){equal=false;break}}return equal},copy:function copy(other){for(var i=0;i<NR_COLS;i++){this.chars[i].copy(other.chars[i])}},isEmpty:function isEmpty(){var empty=true;for(var i=0;i<NR_COLS;i++){if(!this.chars[i].isEmpty()){empty=false;break}}return empty},setCursor:function setCursor(absPos){if(this.pos!==absPos){this.pos=absPos}if(this.pos<0){logger.log("ERROR","Negative cursor position "+this.pos);this.pos=0}else if(this.pos>NR_COLS){logger.log("ERROR","Too large cursor position "+this.pos);this.pos=NR_COLS}},moveCursor:function moveCursor(relPos){var newPos=this.pos+relPos;if(relPos>1){for(var i=this.pos+1;i<newPos+1;i++){this.chars[i].setPenState(this.currPenState)}}this.setCursor(newPos)},backSpace:function backSpace(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function insertChar(byte){if(byte>=144){this.backSpace()}var char=getCharForByte(byte);if(this.pos>=NR_COLS){logger.log("ERROR","Cannot insert "+byte.toString(16)+" ("+char+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(char,this.currPenState);this.moveCursor(1)},clearFromPos:function clearFromPos(startPos){var i;for(i=startPos;i<NR_COLS;i++){this.chars[i].reset()}},clear:function clear(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()},clearToEndOfRow:function clearToEndOfRow(){this.clearFromPos(this.pos)},getTextString:function getTextString(){var chars=[];var empty=true;for(var i=0;i<NR_COLS;i++){var char=this.chars[i].uchar;if(char!==" "){empty=false}chars.push(char)}if(empty){return""}else{return chars.join("")}},setPenStyles:function setPenStyles(styles){this.currPenState.setStyles(styles);var currChar=this.chars[this.pos];currChar.setPenState(this.currPenState)}};var CaptionScreen=function CaptionScreen(){this.rows=[];for(var i=0;i<NR_ROWS;i++){this.rows.push(new Row)}this.currRow=NR_ROWS-1;this.nrRollUpRows=null;this.reset()};CaptionScreen.prototype={reset:function reset(){for(var i=0;i<NR_ROWS;i++){this.rows[i].clear()}this.currRow=NR_ROWS-1},equals:function equals(other){var equal=true;for(var i=0;i<NR_ROWS;i++){if(!this.rows[i].equals(other.rows[i])){equal=false;break}}return equal},copy:function copy(other){for(var i=0;i<NR_ROWS;i++){this.rows[i].copy(other.rows[i])}},isEmpty:function isEmpty(){var empty=true;for(var i=0;i<NR_ROWS;i++){if(!this.rows[i].isEmpty()){empty=false;break}}return empty},backSpace:function backSpace(){var row=this.rows[this.currRow];row.backSpace()},clearToEndOfRow:function clearToEndOfRow(){var row=this.rows[this.currRow];row.clearToEndOfRow()},insertChar:function insertChar(char){var row=this.rows[this.currRow];row.insertChar(char)},setPen:function setPen(styles){var row=this.rows[this.currRow];row.setPenStyles(styles)},moveCursor:function moveCursor(relPos){var row=this.rows[this.currRow];row.moveCursor(relPos)},setCursor:function setCursor(absPos){logger.log("INFO","setCursor: "+absPos);var row=this.rows[this.currRow];row.setCursor(absPos)},setPAC:function setPAC(pacData){logger.log("INFO","pacData = "+JSON.stringify(pacData));var newRow=pacData.row-1;if(this.nrRollUpRows&&newRow<this.nrRollUpRows-1){newRow=this.nrRollUpRows-1}this.currRow=newRow;var row=this.rows[this.currRow];if(pacData.indent!==null){var indent=pacData.indent;var prevPos=Math.max(indent-1,0);row.setCursor(pacData.indent);pacData.color=row.chars[prevPos].penState.foreground}var styles={foreground:pacData.color,underline:pacData.underline,italics:pacData.italics,background:"black",flash:false};this.setPen(styles)},setBkgData:function setBkgData(bkgData){logger.log("INFO","bkgData = "+JSON.stringify(bkgData));this.backSpace();this.setPen(bkgData);this.insertChar(32)},setRollUpRows:function setRollUpRows(nrRows){this.nrRollUpRows=nrRows},rollUp:function rollUp(){if(this.nrRollUpRows===null){logger.log("DEBUG","roll_up but nrRollUpRows not set yet");return}logger.log("TEXT",this.getDisplayText());var topRowIndex=this.currRow+1-this.nrRollUpRows;var topRow=this.rows.splice(topRowIndex,1)[0];topRow.clear();this.rows.splice(this.currRow,0,topRow);logger.log("INFO","Rolling up")},getDisplayText:function getDisplayText(asOneRow){asOneRow=asOneRow||false;var displayText=[];var text="";var rowNr=-1;for(var i=0;i<NR_ROWS;i++){var rowText=this.rows[i].getTextString();if(rowText){rowNr=i+1;if(asOneRow){displayText.push("Row "+rowNr+': "'+rowText+'"')}else{displayText.push(rowText.trim())}}}if(displayText.length>0){if(asOneRow){text="["+displayText.join(" | ")+"]"}else{text=displayText.join("\n")}}return text},getTextAndFormat:function getTextAndFormat(){return this.rows}};var Cea608Channel=function Cea608Channel(channelNumber,outputFilter){this.chNr=channelNumber;this.outputFilter=outputFilter;this.mode=null;this.verbose=0;this.displayedMemory=new CaptionScreen;this.nonDisplayedMemory=new CaptionScreen;this.lastOutputScreen=new CaptionScreen;this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null};Cea608Channel.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function reset(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null;this.lastCueEndTime=null},getHandler:function getHandler(){return this.outputFilter},setHandler:function setHandler(newHandler){this.outputFilter=newHandler},setPAC:function setPAC(pacData){this.writeScreen.setPAC(pacData)},setBkgData:function setBkgData(bkgData){this.writeScreen.setBkgData(bkgData)},setMode:function setMode(newMode){if(newMode===this.mode){return}this.mode=newMode;logger.log("INFO","MODE="+newMode);if(this.mode=="MODE_POP-ON"){this.writeScreen=this.nonDisplayedMemory}else{this.writeScreen=this.displayedMemory;this.writeScreen.reset()}if(this.mode!=="MODE_ROLL-UP"){this.displayedMemory.nrRollUpRows=null;this.nonDisplayedMemory.nrRollUpRows=null}this.mode=newMode},insertChars:function insertChars(chars){for(var i=0;i<chars.length;i++){this.writeScreen.insertChar(chars[i])}var screen=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";logger.log("INFO",screen+": "+this.writeScreen.getDisplayText(true));if(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP"){logger.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(true));this.outputDataUpdate()}},cc_RCL:function cc_RCL(){logger.log("INFO","RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")},cc_BS:function cc_BS(){logger.log("INFO","BS - BackSpace");if(this.mode==="MODE_TEXT"){return}this.writeScreen.backSpace();if(this.writeScreen===this.displayedMemory){this.outputDataUpdate()}},cc_AOF:function cc_AOF(){return},cc_AON:function cc_AON(){return},cc_DER:function cc_DER(){logger.log("INFO","DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()},cc_RU:function cc_RU(nrRows){logger.log("INFO","RU("+nrRows+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(nrRows)},cc_FON:function cc_FON(){logger.log("INFO","FON - Flash On");this.writeScreen.setPen({flash:true})},cc_RDC:function cc_RDC(){logger.log("INFO","RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")},cc_TR:function cc_TR(){logger.log("INFO","TR");this.setMode("MODE_TEXT")},cc_RTD:function cc_RTD(){logger.log("INFO","RTD");this.setMode("MODE_TEXT")},cc_EDM:function cc_EDM(){logger.log("INFO","EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate()},cc_CR:function cc_CR(){logger.log("CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate()},cc_ENM:function cc_ENM(){logger.log("INFO","ENM - Erase Non-displayed Memory");this.nonDisplayedMemory.reset()},cc_EOC:function cc_EOC(){logger.log("INFO","EOC - End Of Caption");if(this.mode==="MODE_POP-ON"){var tmp=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.nonDisplayedMemory=tmp;this.writeScreen=this.nonDisplayedMemory;logger.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function cc_TO(nrCols){logger.log("INFO","TO("+nrCols+") - Tab Offset");this.writeScreen.moveCursor(nrCols)},cc_MIDROW:function cc_MIDROW(secondByte){var styles={flash:false};styles.underline=secondByte%2===1;styles.italics=secondByte>=46;if(!styles.italics){var colorIndex=Math.floor(secondByte/2)-16;var colors=["white","green","blue","cyan","red","yellow","magenta"];styles.foreground=colors[colorIndex]}else{styles.foreground="white"}logger.log("INFO","MIDROW: "+JSON.stringify(styles));this.writeScreen.setPen(styles)},outputDataUpdate:function outputDataUpdate(){var t=logger.time;if(t===null){return}if(this.outputFilter){if(this.outputFilter.updateData){this.outputFilter.updateData(t,this.displayedMemory)}if(this.cueStartTime===null&&!this.displayedMemory.isEmpty()){this.cueStartTime=t}else{if(!this.displayedMemory.equals(this.lastOutputScreen)){if(this.outputFilter.newCue){this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen)}this.cueStartTime=this.displayedMemory.isEmpty()?null:t}}this.lastOutputScreen.copy(this.displayedMemory)}},cueSplitAtTime:function cueSplitAtTime(t){if(this.outputFilter){if(!this.displayedMemory.isEmpty()){if(this.outputFilter.newCue){this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory)}this.cueStartTime=t}}}};var Cea608Parser=function Cea608Parser(field,out1,out2){this.field=field||1;this.outputs=[out1,out2];this.channels=[new Cea608Channel(1,out1),new Cea608Channel(2,out2)];this.currChNr=-1;this.lastCmdA=null;this.lastCmdB=null;this.bufferedData=[];this.startTime=null;this.lastTime=null;this.dataCounters={padding:0,"char":0,cmd:0,other:0}};Cea608Parser.prototype={getHandler:function getHandler(index){return this.channels[index].getHandler()},setHandler:function setHandler(index,newHandler){this.channels[index].setHandler(newHandler)},addData:function addData(t,byteList){var cmdFound,a,b,charsFound=false;this.lastTime=t;logger.setTime(t);for(var i=0;i<byteList.length;i+=2){a=byteList[i]&127;b=byteList[i+1]&127;if(a===0&&b===0){this.dataCounters.padding+=2;continue}else{logger.log("DATA","["+numArrayToHexArray([byteList[i],byteList[i+1]])+"] -> ("+numArrayToHexArray([a,b])+")")}cmdFound=this.parseCmd(a,b);if(!cmdFound){cmdFound=this.parseMidrow(a,b)}if(!cmdFound){cmdFound=this.parsePAC(a,b)}if(!cmdFound){cmdFound=this.parseBackgroundAttributes(a,b)}if(!cmdFound){charsFound=this.parseChars(a,b);if(charsFound){if(this.currChNr&&this.currChNr>=0){var channel=this.channels[this.currChNr-1];channel.insertChars(charsFound)}else{logger.log("WARNING","No channel found yet. TEXT-MODE?")}}}if(cmdFound){this.dataCounters.cmd+=2}else if(charsFound){this.dataCounters.char+=2}else{this.dataCounters.other+=2;logger.log("WARNING","Couldn't parse cleaned data "+numArrayToHexArray([a,b])+" orig: "+numArrayToHexArray([byteList[i],byteList[i+1]]))}}},parseCmd:function parseCmd(a,b){var chNr=null;var cond1=(a===20||a===28)&&32<=b&&b<=47;var cond2=(a===23||a===31)&&33<=b&&b<=35;if(!(cond1||cond2)){return false}if(a===this.lastCmdA&&b===this.lastCmdB){this.lastCmdA=null;this.lastCmdB=null;logger.log("DEBUG","Repeated command ("+numArrayToHexArray([a,b])+") is dropped");return true}if(a===20||a===23){chNr=1}else{chNr=2}var channel=this.channels[chNr-1];if(a===20||a===28){if(b===32){channel.cc_RCL()}else if(b===33){channel.cc_BS()}else if(b===34){channel.cc_AOF()}else if(b===35){channel.cc_AON()}else if(b===36){channel.cc_DER()}else if(b===37){channel.cc_RU(2)}else if(b===38){channel.cc_RU(3)}else if(b===39){channel.cc_RU(4)}else if(b===40){channel.cc_FON()}else if(b===41){channel.cc_RDC()}else if(b===42){channel.cc_TR()}else if(b===43){channel.cc_RTD()}else if(b===44){channel.cc_EDM()}else if(b===45){channel.cc_CR()}else if(b===46){channel.cc_ENM()}else if(b===47){channel.cc_EOC()}}else{channel.cc_TO(b-32)}this.lastCmdA=a;this.lastCmdB=b;this.currChNr=chNr;return true},parseMidrow:function parseMidrow(a,b){var chNr=null;if((a===17||a===25)&&32<=b&&b<=47){if(a===17){chNr=1}else{chNr=2}if(chNr!==this.currChNr){logger.log("ERROR","Mismatch channel in midrow parsing");return false}var channel=this.channels[chNr-1];channel.cc_MIDROW(b);logger.log("DEBUG","MIDROW ("+numArrayToHexArray([a,b])+")");return true}return false},parsePAC:function parsePAC(a,b){var chNr=null;var row=null;var case1=(17<=a&&a<=23||25<=a&&a<=31)&&64<=b&&b<=127;var case2=(a===16||a===24)&&64<=b&&b<=95;if(!(case1||case2)){return false}if(a===this.lastCmdA&&b===this.lastCmdB){this.lastCmdA=null;this.lastCmdB=null;return true}chNr=a<=23?1:2;if(64<=b&&b<=95){row=chNr===1?rowsLowCh1[a]:rowsLowCh2[a]}else{row=chNr===1?rowsHighCh1[a]:rowsHighCh2[a]}var pacData=this.interpretPAC(row,b);var channel=this.channels[chNr-1];channel.setPAC(pacData);this.lastCmdA=a;this.lastCmdB=b;this.currChNr=chNr;return true},interpretPAC:function interpretPAC(row,byte){var pacIndex=byte;var pacData={color:null,italics:false,indent:null,underline:false,row:row};if(byte>95){pacIndex=byte-96}else{pacIndex=byte-64}pacData.underline=(pacIndex&1)===1;if(pacIndex<=13){pacData.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(pacIndex/2)]}else if(pacIndex<=15){pacData.italics=true;pacData.color="white"}else{pacData.indent=Math.floor((pacIndex-16)/2)*4}return pacData},parseChars:function parseChars(a,b){var channelNr=null,charCodes=null,charCode1=null,charCode2=null;if(a>=25){channelNr=2;charCode1=a-8}else{channelNr=1;charCode1=a}if(17<=charCode1&&charCode1<=19){var oneCode=b;if(charCode1===17){oneCode=b+80}else if(charCode1===18){oneCode=b+112}else{oneCode=b+144}logger.log("INFO","Special char '"+getCharForByte(oneCode)+"' in channel "+channelNr);charCodes=[oneCode]}else if(32<=a&&a<=127){charCodes=b===0?[a]:[a,b]}if(charCodes){var hexCodes=numArrayToHexArray(charCodes);logger.log("DEBUG","Char codes =  "+hexCodes.join(","));this.lastCmdA=null;this.lastCmdB=null}return charCodes},parseBackgroundAttributes:function parseBackgroundAttributes(a,b){var bkgData,index,chNr,channel;var case1=(a===16||a===24)&&32<=b&&b<=47;var case2=(a===23||a===31)&&45<=b&&b<=47;if(!(case1||case2)){return false}bkgData={};if(a===16||a===24){index=Math.floor((b-32)/2);bkgData.background=backgroundColors[index];if(b%2===1){bkgData.background=bkgData.background+"_semi"}}else if(b===45){bkgData.background="transparent"}else{bkgData.foreground="black";if(b===47){bkgData.underline=true}}chNr=a<24?1:2;channel=this.channels[chNr-1];channel.setBkgData(bkgData);this.lastCmdA=null;this.lastCmdB=null;return true},reset:function reset(){for(var i=0;i<this.channels.length;i++){if(this.channels[i]){this.channels[i].reset()}}this.lastCmdA=null;this.lastCmdB=null},cueSplitAtTime:function cueSplitAtTime(t){for(var i=0;i<this.channels.length;i++){if(this.channels[i]){this.channels[i].cueSplitAtTime(t)}}}};var findCea608Nalus=function findCea608Nalus(raw,startPos,size){var nalSize=0,cursor=startPos,nalType=0,cea608NaluRanges=[],isCEA608SEI=function isCEA608SEI(payloadType,payloadSize,raw,pos){if(payloadType!==4||payloadSize<8){return null}var countryCode=raw.getUint8(pos);var providerCode=raw.getUint16(pos+1);var userIdentifier=raw.getUint32(pos+3);var userDataTypeCode=raw.getUint8(pos+7);return countryCode==181&&providerCode==49&&userIdentifier==1195456820&&userDataTypeCode==3};while(cursor<startPos+size){nalSize=raw.getUint32(cursor);nalType=raw.getUint8(cursor+4)&31;if(nalType===6){var pos=cursor+5;var payloadType=-1;while(pos<cursor+4+nalSize-1){payloadType=0;var b=255;while(b===255){b=raw.getUint8(pos);payloadType+=b;pos++}var payloadSize=0;b=255;while(b===255){b=raw.getUint8(pos);payloadSize+=b;pos++}if(isCEA608SEI(payloadType,payloadSize,raw,pos)){cea608NaluRanges.push([pos,payloadSize])}pos+=payloadSize}}cursor+=nalSize+4}return cea608NaluRanges};var extractCea608DataFromRange=function extractCea608DataFromRange(raw,cea608Range){var pos=cea608Range[0];var fieldData=[[],[]];pos+=8;var ccCount=raw.getUint8(pos)&31;pos+=2;for(var i=0;i<ccCount;i++){var byte=raw.getUint8(pos);var ccValid=byte&4;var ccType=byte&3;pos++;var ccData1=raw.getUint8(pos);pos++;var ccData2=raw.getUint8(pos);pos++;if(ccValid&&(ccData1&127)+(ccData2&127)!==0){if(ccType===0){fieldData[0].push(ccData1);fieldData[0].push(ccData2)}else if(ccType===1){fieldData[1].push(ccData1);fieldData[1].push(ccData2)}}}return fieldData};exports.logger=logger;exports.PenState=PenState;exports.CaptionScreen=CaptionScreen;exports.Cea608Parser=Cea608Parser;exports.findCea608Nalus=findCea608Nalus;exports.extractCea608DataFromRange=extractCea608DataFromRange})(typeof exports==="undefined"?undefined.cea608parser={}:exports)},{}],2:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function ObjectIron(map){var lookup,len,i;lookup=[];for(i=0,len=map.length;i<len;i+=1){if(map[i].isRoot){lookup.push("root")}else{lookup.push(map[i].name)}}var mergeValues=function mergeValues(parentItem,childItem){var name,parentValue,childValue;if(parentItem===null||childItem===null){return}for(name in parentItem){if(parentItem.hasOwnProperty(name)){if(!childItem.hasOwnProperty(name)){childItem[name]=parentItem[name]}}}},mapProperties=function mapProperties(properties,parent,child){var i,len,property,parentValue,childValue;if(properties===null||properties.length===0){return}for(i=0,len=properties.length;i<len;i+=1){property=properties[i];if(parent.hasOwnProperty(property.name)){if(child.hasOwnProperty(property.name)){if(property.merge){parentValue=parent[property.name];childValue=child[property.name];if(typeof parentValue==="object"&&typeof childValue==="object"){mergeValues(parentValue,childValue)}else{if(property.mergeFunction!=null){child[property.name]=property.mergeFunction(parentValue,childValue)}else{child[property.name]=parentValue+childValue}}}}else{child[property.name]=parent[property.name]}}}},mapItem=function mapItem(obj,node){var item=obj,i,len,v,len2,array,childItem,childNode,property;if(item.children===null||item.children.length===0){return}for(i=0,len=item.children.length;i<len;i+=1){childItem=item.children[i];if(node.hasOwnProperty(childItem.name)){if(childItem.isArray){array=node[childItem.name+"_asArray"];for(v=0,len2=array.length;v<len2;v+=1){childNode=array[v];mapProperties(item.properties,node,childNode);mapItem(childItem,childNode)}}else{childNode=node[childItem.name];mapProperties(item.properties,node,childNode);mapItem(childItem,childNode)}}}},performMapping=function performMapping(source){var i,len,pi,pp,item,node,array;if(source===null){return source}if(typeof source!=="object"){return source}for(i=0,len=lookup.length;i<len;i+=1){if(lookup[i]==="root"){item=map[i];node=source;mapItem(item,node)}}for(pp in source){if(source.hasOwnProperty(pp)&&pp!="__children"){pi=lookup.indexOf(pp);if(pi!==-1){item=map[pi];if(item.isArray){array=source[pp+"_asArray"];for(i=0,len=array.length;i<len;i+=1){node=array[i];mapItem(item,node)}}else{node=source[pp];mapItem(item,node)}}performMapping(source[pp])}}return source};return{run:performMapping}}exports["default"]=ObjectIron;module.exports=exports["default"]},{}],3:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function X2JS(matchers,attrPrefix,ignoreRoot){if(attrPrefix===null||attrPrefix===undefined){attrPrefix="_"}if(ignoreRoot===null||ignoreRoot===undefined){ignoreRoot=false}var VERSION="1.0.11";var escapeMode=false;var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function escapeXmlChars(str){if(typeof str=="string")return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");else return str}function unescapeXmlChars(str){return str.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result,child=node.firstChild,i,len;for(i=0,len=node.childNodes.length;i<len;i+=1){if(node.childNodes[i].nodeType!==DOMNodeTypes.COMMENT_NODE){child=node.childNodes[i];break}}if(ignoreRoot){result=parseDOMChildren(child)}else{result={};var childName=getNodeLocalName(child);result[childName]=parseDOMChildren(child)}return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var children=[];var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;if(result[childName]==null){var c=parseDOMChildren(child);if(childName!="#text"||/[^\s]/.test(c)){var o={};o[childName]=c;children.push(o)}result[childName]=c;result[childName+"_asArray"]=new Array(1);result[childName+"_asArray"][0]=result[childName]}else{if(result[childName]!=null){if(!(result[childName]instanceof Array)){var tmpObj=result[childName];result[childName]=new Array;result[childName][0]=tmpObj;result[childName+"_asArray"]=result[childName]}}var aridx=0;while(result[childName][aridx]!=null)aridx++;var c=parseDOMChildren(child);if(childName!="#text"||/[^\s]/.test(c)){var o={};o[childName]=c;children.push(o)}result[childName][aridx]=c}}result.__children=children;for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;var value2=attr.value;for(var m=0,ml=matchers.length;m<ml;m++){var matchobj=matchers[m];if(matchobj.test.call(this,attr))value2=matchobj.converter.call(this,attr.value)}result[attrPrefix+attr.name]=value2}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null){result=result["#text"]}if(result["#text"]!=null){result.__text=result["#text"];if(escapeMode)result.__text=unescapeXmlChars(result.__text);delete result["#text"];delete result["#text_asArray"]}if(result["#cdata-section"]!=null){result.__cdata=result["#cdata-section"];delete result["#cdata-section"];delete result["#cdata-section_asArray"]}if(result.__text!=null||result.__cdata!=null){result.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE||node.nodeType==DOMNodeTypes.CDATA_SECTION_NODE){return node.nodeValue}else if(node.nodeType==DOMNodeTypes.COMMENT_NODE){return null}}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj!=null&&jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null){for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function jsonXmlSpecialElem(jsonObj,jsonObjField){if(endsWith(jsonObjField.toString(),"_asArray")||jsonObjField.toString().indexOf("_")==0||jsonObj[jsonObjField]instanceof Function)return true;else return false}function jsonXmlElemCount(jsonObj){var elementsCnt=0;if(jsonObj instanceof Object){for(var it in jsonObj){if(jsonXmlSpecialElem(jsonObj,it))continue;elementsCnt++}}return elementsCnt}function parseJSONAttributes(jsonObj){var attrList=[];if(jsonObj instanceof Object){for(var ait in jsonObj){if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0){attrList.push(ait)}}}return attrList}function parseJSONTextAttrs(jsonTxtObj){var result="";if(jsonTxtObj.__cdata!=null){result+="<![CDATA["+jsonTxtObj.__cdata+"]]>"}if(jsonTxtObj.__text!=null){if(escapeMode)result+=escapeXmlChars(jsonTxtObj.__text);else result+=jsonTxtObj.__text}return result}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj instanceof Object){result+=parseJSONTextAttrs(jsonTxtObj)}else if(jsonTxtObj!=null){if(escapeMode)result+=escapeXmlChars(jsonTxtObj);else result+=jsonTxtObj}return result}function parseJSONArray(jsonArrRoot,jsonArrObj,attrList){var result="";if(jsonArrRoot.length==0){result+=startTag(jsonArrRoot,jsonArrObj,attrList,true)}else{for(var arIdx=0;arIdx<jsonArrRoot.length;arIdx++){result+=startTag(jsonArrRoot[arIdx],jsonArrObj,parseJSONAttributes(jsonArrRoot[arIdx]),false);result+=parseJSONObject(jsonArrRoot[arIdx]);result+=endTag(jsonArrRoot[arIdx],jsonArrObj)}}return result}function parseJSONObject(jsonObj){var result="";var elementsCnt=jsonXmlElemCount(jsonObj);if(elementsCnt>0){for(var it in jsonObj){if(jsonXmlSpecialElem(jsonObj,it))continue;

var subObj=jsonObj[it];var attrList=parseJSONAttributes(subObj);if(subObj==null||subObj==undefined){result+=startTag(subObj,it,attrList,true)}else if(subObj instanceof Object){if(subObj instanceof Array){result+=parseJSONArray(subObj,it,attrList)}else{var subObjElementsCnt=jsonXmlElemCount(subObj);if(subObjElementsCnt>0||subObj.__text!=null||subObj.__cdata!=null){result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,true)}}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}}result+=parseJSONTextObject(jsonObj);return result}this.parseXmlString=function(xmlDocStr){var xmlDoc,parser,ns;if(window.DOMParser){parser=new window.DOMParser;try{ns=parser.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}try{xmlDoc=parser.parseFromString(xmlDocStr,"text/xml");if(ns){if(xmlDoc.getElementsByTagNameNS(ns,"parsererror").length){xmlDoc=undefined}}}catch(e){}}else{if(xmlDocStr.indexOf("<?")==0){xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2)}xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return xmlDoc?this.xml2json(xmlDoc):undefined};this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)};this.getVersion=function(){return VERSION};this.escapeMode=function(enabled){escapeMode=enabled}}exports["default"]=X2JS;module.exports=exports["default"]},{}],4:[function(_dereq_,module,exports){var ISOBoxer={};ISOBoxer.parseBuffer=function(arrayBuffer){return new ISOFile(arrayBuffer).parse()};ISOBoxer.Utils={};ISOBoxer.Utils.dataViewToString=function(dataView,encoding){var impliedEncoding=encoding||"utf-8";if(typeof TextDecoder!=="undefined"){return new TextDecoder(impliedEncoding).decode(dataView)}var a=[];var i=0;if(impliedEncoding==="utf-8"){while(i<dataView.byteLength){var c=dataView.getUint8(i++);if(c<128){}else if(c<224){c=(c&31)<<6;c|=dataView.getUint8(i++)&63}else if(c<240){c=(c&15)<<12;c|=(dataView.getUint8(i++)&63)<<6;c|=dataView.getUint8(i++)&63}else{c=(c&7)<<18;c|=(dataView.getUint8(i++)&63)<<12;c|=(dataView.getUint8(i++)&63)<<6;c|=dataView.getUint8(i++)&63}a.push(String.fromCharCode(c))}}else{while(i<dataView.byteLength){a.push(String.fromCharCode(dataView.getUint8(i++)))}}return a.join("")};if(typeof exports!=="undefined"){exports.parseBuffer=ISOBoxer.parseBuffer;exports.Utils=ISOBoxer.Utils}ISOBoxer.Cursor=function(initialOffset){this.offset=typeof initialOffset=="undefined"?0:initialOffset};var ISOFile=function(arrayBuffer){this._raw=new DataView(arrayBuffer);this._cursor=new ISOBoxer.Cursor;this.boxes=[]};ISOFile.prototype.fetch=function(type){var result=this.fetchAll(type,true);return result.length?result[0]:null};ISOFile.prototype.fetchAll=function(type,returnEarly){var result=[];ISOFile._sweep.call(this,type,result,returnEarly);return result};ISOFile.prototype.parse=function(){this._cursor.offset=0;this.boxes=[];while(this._cursor.offset<this._raw.byteLength){var box=ISOBox.parse(this);if(typeof box.type==="undefined")break;this.boxes.push(box)}return this};ISOFile._sweep=function(type,result,returnEarly){if(this.type&&this.type==type)result.push(this);for(var box in this.boxes){if(result.length&&returnEarly)return;ISOFile._sweep.call(this.boxes[box],type,result,returnEarly)}};var ISOBox=function(){this._cursor=new ISOBoxer.Cursor};ISOBox.parse=function(parent){var newBox=new ISOBox;newBox._offset=parent._cursor.offset;newBox._root=parent._root?parent._root:parent;newBox._raw=parent._raw;newBox._parent=parent;newBox._parseBox();parent._cursor.offset=newBox._raw.byteOffset+newBox._raw.byteLength;return newBox};ISOBox.prototype._readInt=function(size){var result=null;switch(size){case 8:result=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:result=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:result=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var s1=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);var s2=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);result=s1*Math.pow(2,32)+s2;break}this._cursor.offset+=size>>3;return result};ISOBox.prototype._readUint=function(size){var result=null;switch(size){case 8:result=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:result=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var s1=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);var s2=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2);result=(s1<<8)+s2;break;case 32:result=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var s1=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);var s2=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);result=s1*Math.pow(2,32)+s2;break}this._cursor.offset+=size>>3;return result};ISOBox.prototype._readString=function(length){var str="";for(var c=0;c<length;c++){var char=this._readUint(8);str+=String.fromCharCode(char)}return str};ISOBox.prototype._readTerminatedString=function(){var str="";while(true){var char=this._readUint(8);if(char==0)break;str+=String.fromCharCode(char)}return str};ISOBox.prototype._readTemplate=function(size){var pre=this._readUint(size/2);var post=this._readUint(size/2);return pre+post/Math.pow(2,size/2)};ISOBox.prototype._parseBox=function(){this._cursor.offset=this._offset;if(this._offset+8>this._raw.buffer.byteLength){this._root._incomplete=true;return}this.size=this._readUint(32);this.type=this._readString(4);if(this.size==1){this.largesize=this._readUint(64)}if(this.type=="uuid"){this.usertype=this._readString(16)}switch(this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:if(this._offset+this.size>this._raw.buffer.byteLength){this._incomplete=true;this._root._incomplete=true}else{this._raw=new DataView(this._raw.buffer,this._offset,this.largesize)}break;default:if(this._offset+this.size>this._raw.buffer.byteLength){this._incomplete=true;this._root._incomplete=true}else{this._raw=new DataView(this._raw.buffer,this._offset,this.size)}}if(!this._incomplete&&this._boxParsers[this.type])this._boxParsers[this.type].call(this)};ISOBox.prototype._parseFullBox=function(){this.version=this._readUint(8);this.flags=this._readUint(24)};ISOBox.prototype._boxParsers={};["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(boxType){ISOBox.prototype._boxParsers[boxType]=function(){this.boxes=[];while(this._cursor.offset-this._raw.byteOffset<this._raw.byteLength){this.boxes.push(ISOBox.parse(this))}}});ISOBox.prototype._boxParsers["elst"]=function(){this._parseFullBox();this.entry_count=this._readUint(32);this.entries=[];for(var i=1;i<=this.entry_count;i++){var entry={};if(this.version==1){entry.segment_duration=this._readUint(64);entry.media_time=this._readInt(64)}else{entry.segment_duration=this._readUint(32);entry.media_time=this._readInt(32)}entry.media_rate_integer=this._readInt(16);entry.media_rate_fraction=this._readInt(16);this.entries.push(entry)}};ISOBox.prototype._boxParsers["emsg"]=function(){this._parseFullBox();this.scheme_id_uri=this._readTerminatedString();this.value=this._readTerminatedString();this.timescale=this._readUint(32);this.presentation_time_delta=this._readUint(32);this.event_duration=this._readUint(32);this.id=this._readUint(32);this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))};ISOBox.prototype._boxParsers["free"]=ISOBox.prototype._boxParsers["skip"]=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))};ISOBox.prototype._boxParsers["ftyp"]=ISOBox.prototype._boxParsers["styp"]=function(){this.major_brand=this._readString(4);this.minor_versions=this._readUint(32);this.compatible_brands=[];while(this._cursor.offset-this._raw.byteOffset<this._raw.byteLength){this.compatible_brands.push(this._readString(4))}};ISOBox.prototype._boxParsers["hdlr"]=function(){this._parseFullBox();this.pre_defined=this._readUint(32);this.handler_type=this._readString(4);this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)];this.name=this._readTerminatedString()};ISOBox.prototype._boxParsers["mdat"]=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))};ISOBox.prototype._boxParsers["mdhd"]=function(){this._parseFullBox();if(this.version==1){this.creation_time=this._readUint(64);this.modification_time=this._readUint(64);this.timescale=this._readUint(32);this.duration=this._readUint(64)}else{this.creation_time=this._readUint(32);this.modification_time=this._readUint(32);this.timescale=this._readUint(32);this.duration=this._readUint(32)}var language=this._readUint(16);this.pad=language>>15;this.language=String.fromCharCode((language>>10&31)+96,(language>>5&31)+96,(language&31)+96);this.pre_defined=this._readUint(16)};ISOBox.prototype._boxParsers["mfhd"]=function(){this._parseFullBox();this.sequence_number=this._readUint(32)};ISOBox.prototype._boxParsers["mvhd"]=function(){this._parseFullBox();if(this.version==1){this.creation_time=this._readUint(64);this.modification_time=this._readUint(64);this.timescale=this._readUint(32);this.duration=this._readUint(64)}else{this.creation_time=this._readUint(32);this.modification_time=this._readUint(32);this.timescale=this._readUint(32);this.duration=this._readUint(32)}this.rate=this._readTemplate(32);this.volume=this._readTemplate(16);this.reserved1=this._readUint(16);this.reserved2=[this._readUint(32),this._readUint(32)];this.matrix=[];for(var i=0;i<9;i++){this.matrix.push(this._readTemplate(32))}this.pre_defined=[];for(var i=0;i<6;i++){this.pre_defined.push(this._readUint(32))}this.next_track_ID=this._readUint(32)};ISOBox.prototype._boxParsers["payl"]=function(){var cue_text_raw=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=ISOBoxer.Utils.dataViewToString(cue_text_raw)};ISOBox.prototype._boxParsers["sidx"]=function(){this._parseFullBox();this.reference_ID=this._readUint(32);this.timescale=this._readUint(32);if(this.version==0){this.earliest_presentation_time=this._readUint(32);this.first_offset=this._readUint(32)}else{this.earliest_presentation_time=this._readUint(64);this.first_offset=this._readUint(64)}this.reserved=this._readUint(16);this.reference_count=this._readUint(16);this.references=[];for(var i=0;i<this.reference_count;i++){var ref={};var reference=this._readUint(32);ref.reference_type=reference>>31&1;ref.referenced_size=reference&2147483647;ref.subsegment_duration=this._readUint(32);var sap=this._readUint(32);ref.starts_with_SAP=sap>>31&1;ref.SAP_type=sap>>28&7;ref.SAP_delta_time=sap&268435455;this.references.push(ref)}};ISOBox.prototype._boxParsers["ssix"]=function(){this._parseFullBox();this.subsegment_count=this._readUint(32);this.subsegments=[];for(var i=0;i<this.subsegment_count;i++){var subsegment={};subsegment.ranges_count=this._readUint(32);subsegment.ranges=[];for(var j=0;j<subsegment.ranges_count;j++){var range={};range.level=this._readUint(8);range.range_size=this._readUint(24);subsegment.ranges.push(range)}this.subsegments.push(subsegment)}};ISOBox.prototype._boxParsers["tfdt"]=function(){this._parseFullBox();if(this.version==1){this.baseMediaDecodeTime=this._readUint(64)}else{this.baseMediaDecodeTime=this._readUint(32)}};ISOBox.prototype._boxParsers["tfhd"]=function(){this._parseFullBox();this.track_ID=this._readUint(32);if(this.flags&1)this.base_data_offset=this._readUint(64);if(this.flags&2)this.sample_description_offset=this._readUint(32);if(this.flags&8)this.default_sample_duration=this._readUint(32);if(this.flags&16)this.default_sample_size=this._readUint(32);if(this.flags&32)this.default_sample_flags=this._readUint(32)};ISOBox.prototype._boxParsers["tkhd"]=function(){this._parseFullBox();if(this.version==1){this.creation_time=this._readUint(64);this.modification_time=this._readUint(64);this.track_ID=this._readUint(32);this.reserved1=this._readUint(32);this.duration=this._readUint(64)}else{this.creation_time=this._readUint(32);this.modification_time=this._readUint(32);this.track_ID=this._readUint(32);this.reserved1=this._readUint(32);this.duration=this._readUint(32)}this.reserved2=[this._readUint(32),this._readUint(32)];this.layer=this._readUint(16);this.alternate_group=this._readUint(16);this.volume=this._readTemplate(16);this.reserved3=this._readUint(16);this.matrix=[];for(var i=0;i<9;i++){this.matrix.push(this._readTemplate(32))}this.width=this._readUint(32);this.height=this._readUint(32)};ISOBox.prototype._boxParsers["trun"]=function(){this._parseFullBox();this.sample_count=this._readUint(32);if(this.flags&1)this.data_offset=this._readInt(32);if(this.flags&4)this.first_sample_flags=this._readUint(32);this.samples=[];for(var i=0;i<this.sample_count;i++){var sample={};if(this.flags&256)sample.sample_duration=this._readUint(32);if(this.flags&512)sample.sample_size=this._readUint(32);if(this.flags&1024)sample.sample_flags=this._readUint(32);if(this.flags&2048){if(this.version==0){sample.sample_composition_time_offset=this._readUint(32)}else{sample.sample_composition_time_offset=this._readInt(32)}}this.samples.push(sample)}};ISOBox.prototype._boxParsers["vlab"]=function(){var source_label_raw=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=ISOBoxer.Utils.dataViewToString(source_label_raw)};ISOBox.prototype._boxParsers["vttC"]=function(){var config_raw=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=ISOBoxer.Utils.dataViewToString(config_raw)};ISOBox.prototype._boxParsers["vtte"]=function(){}},{}],5:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _EventBusJs=_dereq_("./EventBus.js");var _EventBusJs2=_interopRequireDefault(_EventBusJs);var _eventsEventsJs=_dereq_("./events/Events.js");var _eventsEventsJs2=_interopRequireDefault(_eventsEventsJs);var _FactoryMakerJs=_dereq_("./FactoryMaker.js");var _FactoryMakerJs2=_interopRequireDefault(_FactoryMakerJs);function Debug(){var context=this.context;var eventBus=(0,_EventBusJs2["default"])(context).getInstance();var instance=undefined,logToBrowserConsole=undefined,showLogTimestamp=undefined,startTime=undefined;function setup(){logToBrowserConsole=true;showLogTimestamp=true;startTime=(new Date).getTime()}function setLogTimestampVisible(value){showLogTimestamp=value}function setLogToBrowserConsole(value){logToBrowserConsole=value}function getLogToBrowserConsole(){return logToBrowserConsole}function log(){var message="";var logTime=null;if(showLogTimestamp){logTime=(new Date).getTime();message+="["+(logTime-startTime)+"]"}if(message.length>0){message+=" "}Array.apply(null,arguments).forEach(function(item){message+=item+" "});if(logToBrowserConsole){console.log(message)}eventBus.trigger(_eventsEventsJs2["default"].LOG,{message:message})}instance={log:log,setLogTimestampVisible:setLogTimestampVisible,setLogToBrowserConsole:setLogToBrowserConsole,getLogToBrowserConsole:getLogToBrowserConsole};setup();return instance}Debug.__dashjs_factory_name="Debug";exports["default"]=_FactoryMakerJs2["default"].getSingletonFactory(Debug);module.exports=exports["default"]},{"./EventBus.js":6,"./FactoryMaker.js":7,"./events/Events.js":9}],6:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _FactoryMakerJs=_dereq_("./FactoryMaker.js");var _FactoryMakerJs2=_interopRequireDefault(_FactoryMakerJs);function EventBus(){var instance=undefined;var handlers={};function on(type,listener,scope){if(!type){throw new Error("event type cannot be null or undefined")}if(!listener||typeof listener!=="function"){throw new Error("listener must be a function: "+listener)}if(getHandlerIdx(type,listener,scope)>=0)return;var handler={callback:listener,scope:scope};handlers[type]=handlers[type]||[];handlers[type].push(handler)}function off(type,listener,scope){if(!type||!listener||!handlers[type])return;var idx=getHandlerIdx(type,listener,scope);if(idx<0)return;handlers[type].splice(idx,1)}function trigger(type,args){if(!type||!handlers[type])return;args=args||{};if(args.hasOwnProperty("type")){throw new Error("'type' is a reserved word for event dispatching")}args.type=type;handlers[type].forEach(function(handler){handler.callback.call(handler.scope,args)})}function reset(){handlers={}}function getHandlerIdx(type,listener,scope){var handlersForType=handlers[type];var result=-1;if(!handlersForType||handlersForType.length===0)return result;for(var i=0;i<handlersForType.length;i++){if(handlersForType[i].callback===listener&&(!scope||scope===handlersForType[i].scope))return i}return result}instance={on:on,off:off,trigger:trigger,reset:reset};return instance}EventBus.__dashjs_factory_name="EventBus";exports["default"]=_FactoryMakerJs2["default"].getSingletonFactory(EventBus);module.exports=exports["default"]},{"./FactoryMaker.js":7}],7:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var FactoryMaker=function(){var instance=undefined;var extensions=[];var singletonContexts=[];function extend(name,childInstance,override,context){var extensionContext=getExtensionContext(context);if(!extensionContext[name]&&childInstance){extensionContext[name]={instance:childInstance,override:override}}}function getSingletonInstance(context,className){for(var i in singletonContexts){var obj=singletonContexts[i];if(obj.context===context&&obj.name===className){return obj.instance}}return null}function setSingletonInstance(context,className,instance){for(var i in singletonContexts){var obj=singletonContexts[i];if(obj.context===context&&obj.name===className){singletonContexts[i].instance=instance;return}}singletonContexts.push({name:className,context:context,instance:instance})}function getClassFactory(classConstructor){return function(context){if(context===undefined){context={}}return{create:function create(){return merge(classConstructor.__dashjs_factory_name,classConstructor.apply({context:context},arguments),context,arguments)}}}}function getSingletonFactory(classConstructor){return function(context){var instance=undefined;if(context===undefined){context={}}return{getInstance:function getInstance(){if(!instance){instance=getSingletonInstance(context,classConstructor.__dashjs_factory_name)}if(!instance){instance=merge(classConstructor.__dashjs_factory_name,classConstructor.apply({context:context},arguments),context,arguments);singletonContexts.push({name:classConstructor.__dashjs_factory_name,context:context,instance:instance})}return instance}}}}function merge(name,classConstructor,context,args){var extensionContext=getExtensionContext(context);var extensionObject=extensionContext[name];if(extensionObject){var extension=extensionObject.instance;if(extensionObject.override){extension=extension.apply({context:context,factory:instance,parent:classConstructor},args);for(var prop in extension){if(classConstructor.hasOwnProperty(prop)){classConstructor[prop]=extension[prop]}}}else{return extension.apply({context:context,factory:instance},args)}}return classConstructor}function getExtensionContext(context){var extensionContext=undefined;extensions.forEach(function(obj){if(obj===context){extensionContext=obj}});if(!extensionContext){extensionContext=extensions.push(context)}return extensionContext}instance={extend:extend,getSingletonInstance:getSingletonInstance,setSingletonInstance:setSingletonInstance,getSingletonFactory:getSingletonFactory,getClassFactory:getClassFactory};return instance}();exports["default"]=FactoryMaker;module.exports=exports["default"]},{}],8:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _EventsBaseJs=_dereq_("./EventsBase.js");var _EventsBaseJs2=_interopRequireDefault(_EventsBaseJs);var CoreEvents=function(_EventsBase){_inherits(CoreEvents,_EventsBase);function CoreEvents(){_classCallCheck(this,CoreEvents);_get(Object.getPrototypeOf(CoreEvents.prototype),"constructor",this).call(this);this.AST_IN_FUTURE="astinfuture";this.BUFFERING_COMPLETED="bufferingCompleted";this.BUFFER_CLEARED="bufferCleared";this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated";this.BYTES_APPENDED="bytesAppended";this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted";this.CHUNK_APPENDED="chunkAppended";this.CURRENT_TRACK_CHANGED="currenttrackchanged";this.DATA_UPDATE_COMPLETED="dataUpdateCompleted";this.DATA_UPDATE_STARTED="dataUpdateStarted";this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted";this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted";this.INITIALIZATION_LOADED="initializationLoaded";this.INIT_FRAGMENT_LOADED="initFragmentLoaded";this.INIT_REQUESTED="initRequested";this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded";this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted";this.LOADING_COMPLETED="loadingCompleted";this.LOADING_PROGRESS="loadingProgress";this.MANIFEST_UPDATED="manifestUpdated";this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded";this.QUALITY_CHANGED="qualityChanged";this.QUOTA_EXCEEDED="quotaExceeded";this.REPRESENTATION_UPDATED="representationUpdated";this.SEGMENTS_LOADED="segmentsLoaded";this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged";this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted";this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted";this.STREAMS_COMPOSED="streamsComposed";this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted";this.STREAM_COMPLETED="streamCompleted";this.STREAM_INITIALIZED="streaminitialized";this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete";this.TIMED_TEXT_REQUESTED="timedTextRequested";this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete";this.URL_RESOLUTION_FAILED="urlResolutionFailed";this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated";this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded";this.XLINK_ELEMENT_LOADED="xlinkElementLoaded";this.XLINK_READY="xlinkReady"}return CoreEvents}(_EventsBaseJs2["default"]);exports["default"]=CoreEvents;module.exports=exports["default"]},{"./EventsBase.js":10}],9:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _CoreEventsJs=_dereq_("./CoreEvents.js");var _CoreEventsJs2=_interopRequireDefault(_CoreEventsJs);var Events=function(_CoreEvents){_inherits(Events,_CoreEvents);function Events(){_classCallCheck(this,Events);_get(Object.getPrototypeOf(Events.prototype),"constructor",this).apply(this,arguments)}return Events}(_CoreEventsJs2["default"]);var events=new Events;exports["default"]=events;module.exports=exports["default"]},{"./CoreEvents.js":8}],10:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EventsBase=function(){function EventsBase(){_classCallCheck(this,EventsBase)}_createClass(EventsBase,[{key:"extend",value:function extend(events,config){if(!events)return;var override=config?config.override:false;var publicOnly=config?config.publicOnly:false;for(var evt in events){if(!events.hasOwnProperty(evt)||this[evt]&&!override)continue;if(publicOnly&&events[evt].indexOf("public_")===-1)continue;this[evt]=events[evt]}}}]);return EventsBase}();exports["default"]=EventsBase;module.exports=exports["default"]},{}],11:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _streamingVoTrackInfoJs=_dereq_("../streaming/vo/TrackInfo.js");var _streamingVoTrackInfoJs2=_interopRequireDefault(_streamingVoTrackInfoJs);var _streamingVoMediaInfoJs=_dereq_("../streaming/vo/MediaInfo.js");var _streamingVoMediaInfoJs2=_interopRequireDefault(_streamingVoMediaInfoJs);var _streamingVoStreamInfoJs=_dereq_("../streaming/vo/StreamInfo.js");var _streamingVoStreamInfoJs2=_interopRequireDefault(_streamingVoStreamInfoJs);var _streamingVoManifestInfoJs=_dereq_("../streaming/vo/ManifestInfo.js");var _streamingVoManifestInfoJs2=_interopRequireDefault(_streamingVoManifestInfoJs);var _voEventJs=_dereq_("./vo/Event.js");var _voEventJs2=_interopRequireDefault(_voEventJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _externalsCea608ParserJs=_dereq_("../../externals/cea608-parser.js");var _externalsCea608ParserJs2=_interopRequireDefault(_externalsCea608ParserJs);var METRIC_LIST={TCP_CONNECTION:"TcpList",HTTP_REQUEST:"HttpList",TRACK_SWITCH:"RepSwitchList",BUFFER_LEVEL:"BufferLevel",BUFFER_STATE:"BufferState",DVR_INFO:"DVRInfo",DROPPED_FRAMES:"DroppedFrames",SCHEDULING_INFO:"SchedulingInfo",REQUESTS_QUEUE:"RequestsQueue",MANIFEST_UPDATE:"ManifestUpdate",MANIFEST_UPDATE_STREAM_INFO:"ManifestUpdatePeriodInfo",MANIFEST_UPDATE_TRACK_INFO:"ManifestUpdateRepresentationInfo",PLAY_LIST:"PlayList",DVB_ERRORS:"DVBErrors"};function DashAdapter(){var instance=undefined,dashManifestModel=undefined,periods=undefined,adaptations=undefined;function setConfig(config){if(!config)return;if(config.dashManifestModel){dashManifestModel=config.dashManifestModel}}function initialize(){periods=[];adaptations={}}function getRepresentationForTrackInfo(trackInfo,representationController){return representationController.getRepresentationForQuality(trackInfo.quality)}function getAdaptationForMediaInfo(mediaInfo){return adaptations[mediaInfo.streamInfo.id][mediaInfo.index]}function getPeriodForStreamInfo(streamInfo){var ln=periods.length;for(var i=0;i<ln;i++){var period=periods[i];if(streamInfo.id===period.id)return period}return null}function convertRepresentationToTrackInfo(manifest,representation){var trackInfo=new _streamingVoTrackInfoJs2["default"];var a=representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index];var r=dashManifestModel.getRepresentationFor(representation.index,a);trackInfo.id=representation.id;trackInfo.quality=representation.index;trackInfo.bandwidth=dashManifestModel.getBandwidth(r);trackInfo.DVRWindow=representation.segmentAvailabilityRange;trackInfo.fragmentDuration=representation.segmentDuration||(representation.segments&&representation.segments.length>0?representation.segments[0].duration:NaN);trackInfo.MSETimeOffset=representation.MSETimeOffset;trackInfo.useCalculatedLiveEdgeTime=representation.useCalculatedLiveEdgeTime;trackInfo.mediaInfo=convertAdaptationToMediaInfo(manifest,representation.adaptation);return trackInfo}function convertAdaptationToMediaInfo(manifest,adaptation){var mediaInfo=new _streamingVoMediaInfoJs2["default"];var a=adaptation.period.mpd.manifest.Period_asArray[adaptation.period.index].AdaptationSet_asArray[adaptation.index];var viewpoint;mediaInfo.id=adaptation.id;mediaInfo.index=adaptation.index;mediaInfo.type=adaptation.type;mediaInfo.streamInfo=convertPeriodToStreamInfo(manifest,adaptation.period);mediaInfo.representationCount=dashManifestModel.getRepresentationCount(a);mediaInfo.lang=dashManifestModel.getLanguageForAdaptation(a);viewpoint=dashManifestModel.getViewpointForAdaptation(a);mediaInfo.viewpoint=viewpoint?viewpoint.value:undefined;mediaInfo.accessibility=dashManifestModel.getAccessibilityForAdaptation(a).map(function(accessibility){var accessibilityValue=accessibility.value;var accessibilityData=accessibilityValue;if(accessibility.schemeIdUri&&accessibility.schemeIdUri.search("cea-608")>=0&&typeof _externalsCea608ParserJs2["default"]!=="undefined"){if(accessibilityValue){accessibilityData="cea-608:"+accessibilityValue}else{accessibilityData="cea-608"}mediaInfo.embeddedCaptions=true}return accessibilityData});mediaInfo.audioChannelConfiguration=dashManifestModel.getAudioChannelConfigurationForAdaptation(a).map(function(audioChannelConfiguration){return audioChannelConfiguration.value});mediaInfo.roles=dashManifestModel.getRolesForAdaptation(a).map(function(role){return role.value});mediaInfo.codec=dashManifestModel.getCodec(a);

mediaInfo.mimeType=dashManifestModel.getMimeType(a);mediaInfo.contentProtection=dashManifestModel.getContentProtectionData(a);mediaInfo.bitrateList=dashManifestModel.getBitrateListForAdaptation(a);if(mediaInfo.contentProtection){mediaInfo.contentProtection.forEach(function(item){item.KID=dashManifestModel.getKID(item)})}mediaInfo.isText=dashManifestModel.getIsTextTrack(mediaInfo.mimeType);return mediaInfo}function convertVideoInfoToEmbeddedTextInfo(mediaInfo,channel,lang){mediaInfo.id=channel;mediaInfo.index=100+parseInt(channel.substring(2,3));mediaInfo.type="embeddedText";mediaInfo.codec="cea-608-in-SEI";mediaInfo.isText=true;mediaInfo.isEmbedded=true;mediaInfo.lang=channel+" "+lang;mediaInfo.roles=["caption"]}function convertPeriodToStreamInfo(manifest,period){var streamInfo=new _streamingVoStreamInfoJs2["default"];var THRESHOLD=1;streamInfo.id=period.id;streamInfo.index=period.index;streamInfo.start=period.start;streamInfo.duration=period.duration;streamInfo.manifestInfo=convertMpdToManifestInfo(manifest,period.mpd);streamInfo.isLast=manifest.Period_asArray.length===1||Math.abs(streamInfo.start+streamInfo.duration-streamInfo.manifestInfo.duration)<THRESHOLD;streamInfo.isFirst=manifest.Period_asArray.length===1||dashManifestModel.getRegularPeriods(manifest,dashManifestModel.getMpd(manifest))[0].id===period.id;return streamInfo}function convertMpdToManifestInfo(manifest,mpd){var manifestInfo=new _streamingVoManifestInfoJs2["default"];manifestInfo.DVRWindowSize=mpd.timeShiftBufferDepth;manifestInfo.loadedTime=mpd.manifest.loadedTime;manifestInfo.availableFrom=mpd.availabilityStartTime;manifestInfo.minBufferTime=mpd.manifest.minBufferTime;manifestInfo.maxFragmentDuration=mpd.maxSegmentDuration;manifestInfo.duration=dashManifestModel.getDuration(manifest);manifestInfo.isDynamic=dashManifestModel.getIsDynamic(manifest);return manifestInfo}function getMediaInfoForType(manifest,streamInfo,type){var periodInfo=getPeriodForStreamInfo(streamInfo);var periodId=periodInfo.id;var data=dashManifestModel.getAdaptationForType(manifest,streamInfo.index,type);var idx;if(!data)return null;idx=dashManifestModel.getIndexForAdaptation(data,manifest,streamInfo.index);adaptations[periodId]=adaptations[periodId]||dashManifestModel.getAdaptationsForPeriod(manifest,periodInfo);return convertAdaptationToMediaInfo(manifest,adaptations[periodId][idx])}function getAllMediaInfoForType(manifest,streamInfo,type){var periodInfo=getPeriodForStreamInfo(streamInfo);var periodId=periodInfo.id;var adaptationsForType=dashManifestModel.getAdaptationsForType(manifest,streamInfo.index,type!=="embeddedText"?type:"video");var mediaArr=[];var data,media,idx,i,j,ln;if(!adaptationsForType)return mediaArr;adaptations[periodId]=adaptations[periodId]||dashManifestModel.getAdaptationsForPeriod(manifest,periodInfo);for(i=0,ln=adaptationsForType.length;i<ln;i++){data=adaptationsForType[i];idx=dashManifestModel.getIndexForAdaptation(data,manifest,streamInfo.index);media=convertAdaptationToMediaInfo(manifest,adaptations[periodId][idx]);if(type==="embeddedText"){var accessibilityLength=media.accessibility.length;for(j=0;j<accessibilityLength;j++){if(!media){continue}var accessibility=media.accessibility[j];if(accessibility.indexOf("cea-608:")===0){var value=accessibility.substring(8);var parts=value.split(";");if(parts[0].substring(0,2)==="CC"){for(j=0;j<parts.length;j++){if(!media){media=convertAdaptationToMediaInfo.call(this,manifest,adaptations[periodId][idx])}convertVideoInfoToEmbeddedTextInfo(media,parts[j].substring(0,3),parts[j].substring(4));mediaArr.push(media);media=null}}else{for(j=0;j<parts.length;j++){if(!media){media=convertAdaptationToMediaInfo.call(this,manifest,adaptations[periodId][idx])}convertVideoInfoToEmbeddedTextInfo(media,"CC"+(j+1),parts[j]);mediaArr.push(media);media=null}}}else if(accessibility.indexOf("cea-608")===0){convertVideoInfoToEmbeddedTextInfo(media,"CC1","eng");mediaArr.push(media);media=null}}}if(media&&type!=="embeddedText"){mediaArr.push(media)}}return mediaArr}function getStreamsInfo(manifest){var streams=[];var mpd,ln,i;if(!manifest)return null;mpd=dashManifestModel.getMpd(manifest);periods=dashManifestModel.getRegularPeriods(manifest,mpd);mpd.checkTime=dashManifestModel.getCheckTime(manifest,periods[0]);adaptations={};ln=periods.length;for(i=0;i<ln;i++){streams.push(convertPeriodToStreamInfo(manifest,periods[i]))}return streams}function getManifestInfo(manifest){var mpd=dashManifestModel.getMpd(manifest);return convertMpdToManifestInfo(manifest,mpd)}function getInitRequest(streamProcessor,quality){var representation=streamProcessor.getRepresentationController().getRepresentationForQuality(quality);return streamProcessor.getIndexHandler().getInitRequest(representation)}function getNextFragmentRequest(streamProcessor,trackInfo){var representation=getRepresentationForTrackInfo(trackInfo,streamProcessor.getRepresentationController());return streamProcessor.getIndexHandler().getNextSegmentRequest(representation)}function getFragmentRequestForTime(streamProcessor,trackInfo,time,options){var representation=getRepresentationForTrackInfo(trackInfo,streamProcessor.getRepresentationController());return streamProcessor.getIndexHandler().getSegmentRequestForTime(representation,time,options)}function generateFragmentRequestForTime(streamProcessor,trackInfo,time){var representation=getRepresentationForTrackInfo(trackInfo,streamProcessor.getRepresentationController());return streamProcessor.getIndexHandler().generateSegmentRequestForTime(representation,time)}function getIndexHandlerTime(streamProcessor){return streamProcessor.getIndexHandler().getCurrentTime()}function setIndexHandlerTime(streamProcessor,value){return streamProcessor.getIndexHandler().setCurrentTime(value)}function updateData(manifest,streamProcessor){var periodInfo=getPeriodForStreamInfo(streamProcessor.getStreamInfo());var mediaInfo=streamProcessor.getMediaInfo();var adaptation=getAdaptationForMediaInfo(mediaInfo);var type=streamProcessor.getType();var id,data;id=mediaInfo.id;data=id?dashManifestModel.getAdaptationForId(id,manifest,periodInfo.index):dashManifestModel.getAdaptationForIndex(mediaInfo.index,manifest,periodInfo.index);streamProcessor.getRepresentationController().updateData(data,adaptation,type)}function getRepresentationInfoForQuality(manifest,representationController,quality){var representation=representationController.getRepresentationForQuality(quality);return representation?convertRepresentationToTrackInfo(manifest,representation):null}function getCurrentRepresentationInfo(manifest,representationController){var representation=representationController.getCurrentRepresentation();return representation?convertRepresentationToTrackInfo(manifest,representation):null}function getEvent(eventBox,eventStreams,startTime){var event=new _voEventJs2["default"];var schemeIdUri=eventBox.scheme_id_uri;var value=eventBox.value;var timescale=eventBox.timescale;var presentationTimeDelta=eventBox.presentation_time_delta;var duration=eventBox.event_duration;var id=eventBox.id;var messageData=eventBox.message_data;var presentationTime=startTime*timescale+presentationTimeDelta;if(!eventStreams[schemeIdUri])return null;event.eventStream=eventStreams[schemeIdUri];event.eventStream.value=value;event.eventStream.timescale=timescale;event.duration=duration;event.id=id;event.presentationTime=presentationTime;event.messageData=messageData;event.presentationTimeDelta=presentationTimeDelta;return event}function getEventsFor(manifest,info,streamProcessor){var events=[];if(info instanceof _streamingVoStreamInfoJs2["default"]){events=dashManifestModel.getEventsForPeriod(manifest,getPeriodForStreamInfo(info))}else if(info instanceof _streamingVoMediaInfoJs2["default"]){events=dashManifestModel.getEventStreamForAdaptationSet(manifest,getAdaptationForMediaInfo(info))}else if(info instanceof _streamingVoTrackInfoJs2["default"]){events=dashManifestModel.getEventStreamForRepresentation(manifest,getRepresentationForTrackInfo(info,streamProcessor.getRepresentationController()))}return events}function reset(){periods=[];adaptations={}}instance={initialize:initialize,convertDataToTrack:convertRepresentationToTrackInfo,convertDataToMedia:convertAdaptationToMediaInfo,convertDataToStream:convertPeriodToStreamInfo,getDataForTrack:getRepresentationForTrackInfo,getDataForMedia:getAdaptationForMediaInfo,getDataForStream:getPeriodForStreamInfo,getStreamsInfo:getStreamsInfo,getManifestInfo:getManifestInfo,getMediaInfoForType:getMediaInfoForType,getAllMediaInfoForType:getAllMediaInfoForType,getCurrentRepresentationInfo:getCurrentRepresentationInfo,getRepresentationInfoForQuality:getRepresentationInfoForQuality,updateData:updateData,getInitRequest:getInitRequest,getNextFragmentRequest:getNextFragmentRequest,getFragmentRequestForTime:getFragmentRequestForTime,generateFragmentRequestForTime:generateFragmentRequestForTime,getIndexHandlerTime:getIndexHandlerTime,setIndexHandlerTime:setIndexHandlerTime,getEventsFor:getEventsFor,getEvent:getEvent,setConfig:setConfig,reset:reset,metricsList:METRIC_LIST};return instance}DashAdapter.__dashjs_factory_name="DashAdapter";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(DashAdapter);module.exports=exports["default"]},{"../../externals/cea608-parser.js":1,"../core/FactoryMaker.js":7,"../streaming/vo/ManifestInfo.js":104,"../streaming/vo/MediaInfo.js":105,"../streaming/vo/StreamInfo.js":107,"../streaming/vo/TrackInfo.js":110,"./vo/Event.js":27}],12:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _streamingVoFragmentRequestJs=_dereq_("../streaming/vo/FragmentRequest.js");var _streamingVoFragmentRequestJs2=_interopRequireDefault(_streamingVoFragmentRequestJs);var _streamingVoErrorJs=_dereq_("../streaming/vo/Error.js");var _streamingVoErrorJs2=_interopRequireDefault(_streamingVoErrorJs);var _streamingVoMetricsHTTPRequestJs=_dereq_("../streaming/vo/metrics/HTTPRequest.js");var _streamingVoMetricsHTTPRequestJs2=_interopRequireDefault(_streamingVoMetricsHTTPRequestJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _streamingUtilsURLUtilsJs=_dereq_("../streaming/utils/URLUtils.js");var _streamingUtilsURLUtilsJs2=_interopRequireDefault(_streamingUtilsURLUtilsJs);var _utilsSegmentsUtilsJs=_dereq_("./utils/SegmentsUtils.js");var _utilsSegmentsGetterJs=_dereq_("./utils/SegmentsGetter.js");var _utilsSegmentsGetterJs2=_interopRequireDefault(_utilsSegmentsGetterJs);var SEGMENTS_UNAVAILABLE_ERROR_CODE=1;function DashHandler(config){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var urlUtils=(0,_streamingUtilsURLUtilsJs2["default"])(context).getInstance();var segmentBaseLoader=config.segmentBaseLoader;var timelineConverter=config.timelineConverter;var dashMetrics=config.dashMetrics;var metricsModel=config.metricsModel;var baseURLController=config.baseURLController;var instance=undefined,index=undefined,requestedTime=undefined,isDynamic=undefined,type=undefined,currentTime=undefined,earliestTime=undefined,streamProcessor=undefined,segmentsGetter=undefined;function setup(){index=-1;currentTime=0;earliestTime=NaN;eventBus.on(_coreEventsEventsJs2["default"].INITIALIZATION_LOADED,onInitializationLoaded,instance);eventBus.on(_coreEventsEventsJs2["default"].SEGMENTS_LOADED,onSegmentsLoaded,instance)}function initialize(StreamProcessor){streamProcessor=StreamProcessor;type=streamProcessor.getType();isDynamic=streamProcessor.isDynamic();segmentsGetter=(0,_utilsSegmentsGetterJs2["default"])(context).create(config,isDynamic)}function getStreamProcessor(){return streamProcessor}function setCurrentTime(value){currentTime=value}function getCurrentTime(){return currentTime}function getCurrentIndex(){return index}function getEarliestTime(){return earliestTime}function reset(){segmentsGetter=null;currentTime=0;earliestTime=NaN;requestedTime=NaN;index=-1;isDynamic=null;type=null;streamProcessor=null;eventBus.off(_coreEventsEventsJs2["default"].INITIALIZATION_LOADED,onInitializationLoaded,instance);eventBus.off(_coreEventsEventsJs2["default"].SEGMENTS_LOADED,onSegmentsLoaded,instance)}function unescapeDollarsInTemplate(url){return url.split("$$").join("$")}function replaceIDForTemplate(url,value){if(value===null||url.indexOf("$RepresentationID$")===-1){return url}var v=value.toString();return url.split("$RepresentationID$").join(v)}function setRequestUrl(request,destination,representation){var baseURL=baseURLController.resolve(representation.path);var url;var serviceLocation;if(!baseURL||destination===baseURL.url||!urlUtils.isRelative(destination)){url=destination}else{url=baseURL.url;serviceLocation=baseURL.serviceLocation;if(destination){url+=destination}}if(urlUtils.isRelative(url)){return false}request.url=url;request.serviceLocation=serviceLocation;return true}function generateInitRequest(representation,mediaType){var request=new _streamingVoFragmentRequestJs2["default"];var period,presentationStartTime;period=representation.adaptation.period;request.mediaType=mediaType;request.type=_streamingVoMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE;request.range=representation.range;presentationStartTime=period.start;request.availabilityStartTime=timelineConverter.calcAvailabilityStartTimeFromPresentationTime(presentationStartTime,representation.adaptation.period.mpd,isDynamic);request.availabilityEndTime=timelineConverter.calcAvailabilityEndTimeFromPresentationTime(presentationStartTime+period.duration,period.mpd,isDynamic);request.quality=representation.index;request.mediaInfo=streamProcessor.getMediaInfo();if(setRequestUrl(request,representation.initialization,representation)){return request}}function getInitRequest(representation){var request;if(!representation)return null;request=generateInitRequest(representation,type);return request}function isMediaFinished(representation){var period=representation.adaptation.period;var segmentInfoType=representation.segmentInfoType;var isFinished=false;var sDuration,seg,fTime;if(index<0){isFinished=false}else if(isDynamic||index<representation.availableSegmentsNumber){seg=(0,_utilsSegmentsUtilsJs.getSegmentByIndex)(index,representation);if(seg){fTime=seg.presentationStartTime-period.start;sDuration=representation.adaptation.period.duration;log(representation.segmentInfoType+": "+fTime+" / "+sDuration);isFinished=segmentInfoType==="SegmentTimeline"&&isDynamic?false:fTime>=sDuration}}else{isFinished=true}return isFinished}function updateSegments(representation){return segmentsGetter.getSegments(representation,requestedTime,index,onSegmentListUpdated)}function onSegmentListUpdated(representation,segments){representation.segments=segments;if(segments&&segments.length>0){earliestTime=isNaN(earliestTime)?segments[0].presentationStartTime:Math.min(segments[0].presentationStartTime,earliestTime)}if(isDynamic&&isNaN(timelineConverter.getExpectedLiveEdge())){var lastIdx=segments.length-1;var lastSegment=segments[lastIdx];var liveEdge=lastSegment.presentationStartTime;var metrics=metricsModel.getMetricsFor("stream");timelineConverter.setExpectedLiveEdge(liveEdge);metricsModel.updateManifestUpdateInfo(dashMetrics.getCurrentManifestUpdate(metrics),{presentationStartTime:liveEdge})}}function updateSegmentList(representation){if(!representation){throw new _streamingVoErrorJs2["default"]("no representation")}representation.segments=null;updateSegments(representation);return representation}function updateRepresentation(representation,keepIdx){var hasInitialization=representation.initialization;var hasSegments=representation.segmentInfoType!=="BaseURL"&&representation.segmentInfoType!=="SegmentBase";var error;if(!representation.segmentDuration&&!representation.segments){updateSegmentList(representation)}representation.segmentAvailabilityRange=null;representation.segmentAvailabilityRange=timelineConverter.calcSegmentAvailabilityRange(representation,isDynamic);if(representation.segmentAvailabilityRange.end<representation.segmentAvailabilityRange.start&&!representation.useCalculatedLiveEdgeTime){error=new _streamingVoErrorJs2["default"](SEGMENTS_UNAVAILABLE_ERROR_CODE,"no segments are available yet",{availabilityDelay:representation.segmentAvailabilityRange.start-representation.segmentAvailabilityRange.end});eventBus.trigger(_coreEventsEventsJs2["default"].REPRESENTATION_UPDATED,{sender:this,representation:representation,error:error});return}if(!keepIdx)index=-1;if(representation.segmentDuration){updateSegmentList(representation)}if(!hasInitialization){segmentBaseLoader.loadInitialization(representation)}if(!hasSegments){segmentBaseLoader.loadSegments(representation,type,representation.indexRange)}if(hasInitialization&&hasSegments){eventBus.trigger(_coreEventsEventsJs2["default"].REPRESENTATION_UPDATED,{sender:this,representation:representation})}}function getIndexForSegments(time,representation,timeThreshold){var segments=representation.segments;var ln=segments?segments.length:null;var idx=-1;var epsilon,frag,ft,fd,i;if(segments&&ln>0){for(i=0;i<ln;i++){frag=segments[i];ft=frag.presentationStartTime;fd=frag.duration;epsilon=timeThreshold===undefined||timeThreshold===null?fd/2:timeThreshold;if(time+epsilon>=ft&&time-epsilon<ft+fd){idx=frag.availabilityIdx;break}}}return idx}function getRequestForSegment(segment){if(segment===null||segment===undefined){return null}var request=new _streamingVoFragmentRequestJs2["default"];var representation=segment.representation;var bandwidth=representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].bandwidth;var url=segment.media;url=(0,_utilsSegmentsUtilsJs.replaceTokenForTemplate)(url,"Number",segment.replacementNumber);url=(0,_utilsSegmentsUtilsJs.replaceTokenForTemplate)(url,"Time",segment.replacementTime);url=(0,_utilsSegmentsUtilsJs.replaceTokenForTemplate)(url,"Bandwidth",bandwidth);url=replaceIDForTemplate(url,representation.id);url=unescapeDollarsInTemplate(url);request.mediaType=type;request.type=_streamingVoMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE;request.range=segment.mediaRange;request.startTime=segment.presentationStartTime;request.duration=segment.duration;request.timescale=representation.timescale;request.availabilityStartTime=segment.availabilityStartTime;request.availabilityEndTime=segment.availabilityEndTime;request.wallStartTime=segment.wallStartTime;request.quality=representation.index;request.index=segment.availabilityIdx;request.mediaInfo=streamProcessor.getMediaInfo();request.adaptationIndex=representation.adaptation.index;if(setRequestUrl(request,url,representation)){return request}}function getSegmentRequestForTime(representation,time,options){var request,segment,finished;var idx=index;var keepIdx=options?options.keepIdx:false;var timeThreshold=options?options.timeThreshold:null;var ignoreIsFinished=options&&options.ignoreIsFinished?true:false;if(!representation){return null}if(requestedTime!==time){requestedTime=time;log("Getting the request for "+type+" time : "+time)}index=getIndexForSegments(time,representation,timeThreshold);updateSegments(representation);if(index<0){index=getIndexForSegments(time,representation,timeThreshold)}if(index>0){log("Index for "+type+" time "+time+" is "+index)}finished=!ignoreIsFinished?isMediaFinished(representation):false;if(finished){request=new _streamingVoFragmentRequestJs2["default"];request.action=_streamingVoFragmentRequestJs2["default"].ACTION_COMPLETE;request.index=index;request.mediaType=type;request.mediaInfo=streamProcessor.getMediaInfo();log("Signal complete.",request)}else{segment=(0,_utilsSegmentsUtilsJs.getSegmentByIndex)(index,representation);request=getRequestForSegment(segment)}if(keepIdx&&idx>=0){index=representation.segmentInfoType==="SegmentTimeline"&&isDynamic?index:idx}return request}function generateSegmentRequestForTime(representation,time){var step=(representation.segmentAvailabilityRange.end-representation.segmentAvailabilityRange.start)/2;representation.segments=null;representation.segmentAvailabilityRange={start:time-step,end:time+step};return getSegmentRequestForTime(representation,time,{keepIdx:false,ignoreIsFinished:true})}function getNextSegmentRequest(representation){var request,segment,finished;if(!representation||index===-1){return null}requestedTime=null;index++;log("Getting the next request at index: "+index);finished=isMediaFinished(representation);if(finished){request=new _streamingVoFragmentRequestJs2["default"];request.action=_streamingVoFragmentRequestJs2["default"].ACTION_COMPLETE;request.index=index;request.mediaType=type;request.mediaInfo=streamProcessor.getMediaInfo();log("Signal complete.")}else{updateSegments(representation);segment=(0,_utilsSegmentsUtilsJs.getSegmentByIndex)(index,representation);request=getRequestForSegment(segment);if(!segment&&isDynamic){index--}}return request}function onInitializationLoaded(e){var representation=e.representation;if(!representation.segments)return;eventBus.trigger(_coreEventsEventsJs2["default"].REPRESENTATION_UPDATED,{sender:this,representation:representation})}function onSegmentsLoaded(e){if(e.error||type!==e.mediaType)return;var fragments=e.segments;var representation=e.representation;var segments=[];var count=0;var i,len,s,seg;for(i=0,len=fragments.length;i<len;i++){s=fragments[i];seg=(0,_utilsSegmentsUtilsJs.getTimeBasedSegment)(timelineConverter,isDynamic,representation,s.startTime,s.duration,s.timescale,s.media,s.mediaRange,count);segments.push(seg);seg=null;count++}representation.segmentAvailabilityRange={start:segments[0].presentationStartTime,end:segments[len-1].presentationStartTime};representation.availableSegmentsNumber=len;onSegmentListUpdated(representation,segments);if(!representation.initialization)return;eventBus.trigger(_coreEventsEventsJs2["default"].REPRESENTATION_UPDATED,{sender:this,representation:representation})}instance={initialize:initialize,getStreamProcessor:getStreamProcessor,getInitRequest:getInitRequest,getSegmentRequestForTime:getSegmentRequestForTime,getNextSegmentRequest:getNextSegmentRequest,generateSegmentRequestForTime:generateSegmentRequestForTime,updateRepresentation:updateRepresentation,setCurrentTime:setCurrentTime,getCurrentTime:getCurrentTime,getCurrentIndex:getCurrentIndex,getEarliestTime:getEarliestTime,reset:reset};setup();return instance}DashHandler.__dashjs_factory_name="DashHandler";var factory=_coreFactoryMakerJs2["default"].getClassFactory(DashHandler);factory.SEGMENTS_UNAVAILABLE_ERROR_CODE=SEGMENTS_UNAVAILABLE_ERROR_CODE;exports["default"]=factory;module.exports=exports["default"]},{"../core/Debug.js":5,"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9,"../streaming/utils/URLUtils.js":96,"../streaming/vo/Error.js":100,"../streaming/vo/FragmentRequest.js":101,"../streaming/vo/metrics/HTTPRequest.js":117,"./utils/SegmentsGetter.js":20,"./utils/SegmentsUtils.js":21}],13:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _streamingVoMetricsHTTPRequestJs=_dereq_("../streaming/vo/metrics/HTTPRequest.js");var _streamingVoMetricsHTTPRequestJs2=_interopRequireDefault(_streamingVoMetricsHTTPRequestJs);var _streamingControllersAbrControllerJs=_dereq_("../streaming/controllers/AbrController.js");var _streamingControllersAbrControllerJs2=_interopRequireDefault(_streamingControllersAbrControllerJs);var _streamingModelsManifestModelJs=_dereq_("../streaming/models/ManifestModel.js");var _streamingModelsManifestModelJs2=_interopRequireDefault(_streamingModelsManifestModelJs);var _modelsDashManifestModelJs=_dereq_("./models/DashManifestModel.js");var _modelsDashManifestModelJs2=_interopRequireDefault(_modelsDashManifestModelJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function DashMetrics(){var instance=undefined;var context=this.context;var manifestModel=(0,_streamingModelsManifestModelJs2["default"])(context).getInstance();function getBandwidthForRepresentation(representationId,periodId){var representation;var manifest=manifestModel.getValue();var period=manifest.Period_asArray[periodId];representation=findRepresentation(period,representationId);if(representation===null){return null}return representation.bandwidth}function getIndexForRepresentation(representationId,periodIdx){var representationIndex;var manifest=manifestModel.getValue();var period=manifest.Period_asArray[periodIdx];representationIndex=findRepresentationIndex(period,representationId);return representationIndex}function getMaxIndexForBufferType(bufferType,periodIdx){var maxIndex;var manifest=manifestModel.getValue();var period=manifest.Period_asArray[periodIdx];maxIndex=findMaxBufferIndex(period,bufferType);return maxIndex}function getMaxAllowedIndexForBufferType(bufferType,periodId){var idx=0;var abrController=(0,_streamingControllersAbrControllerJs2["default"])(context).getInstance();if(abrController){idx=abrController.getTopQualityIndexFor(bufferType,periodId)}return idx}function getCurrentRepresentationSwitch(metrics){if(metrics===null){return null}var repSwitch=metrics.RepSwitchList;var repSwitchLength,repSwitchLastIndex,currentRepSwitch;if(repSwitch===null||repSwitch.length<=0){return null}repSwitchLength=repSwitch.length;repSwitchLastIndex=repSwitchLength-1;currentRepSwitch=repSwitch[repSwitchLastIndex];return currentRepSwitch}function getLatestBufferLevelVO(metrics){if(metrics===null){return null}var bufferLevel=metrics.BufferLevel;if(bufferLevel===null||bufferLevel.length<=0){return null}return bufferLevel[bufferLevel.length-1]}function getCurrentBufferLevel(metrics){if(metrics===null){return 0}var bufferLevel=metrics.BufferLevel;if(bufferLevel===null||bufferLevel.length<=0){return 0}return bufferLevel[bufferLevel.length-1].level/1e3}function getRequestsQueue(metrics){return metrics.RequestsQueue}function getCurrentHttpRequest(metrics){if(metrics===null){return null}var httpList=metrics.HttpList;var currentHttpList=null;var httpListLength,httpListLastIndex;if(httpList===null||httpList.length<=0){return null}httpListLength=httpList.length;httpListLastIndex=httpListLength-1;while(httpListLastIndex>=0){if(httpList[httpListLastIndex].responsecode){currentHttpList=httpList[httpListLastIndex];break}httpListLastIndex--}return currentHttpList}function getHttpRequests(metrics){if(metrics===null){return[]}return!!metrics.HttpList?metrics.HttpList:[]}function getCurrentDroppedFrames(metrics){if(metrics===null){return null}var droppedFrames=metrics.DroppedFrames;var droppedFramesLength,droppedFramesLastIndex,currentDroppedFrames;if(droppedFrames===null||droppedFrames.length<=0){return null}droppedFramesLength=droppedFrames.length;droppedFramesLastIndex=droppedFramesLength-1;currentDroppedFrames=droppedFrames[droppedFramesLastIndex];return currentDroppedFrames}function getCurrentSchedulingInfo(metrics){if(metrics===null)return null;var schedulingInfo=metrics.SchedulingInfo;var ln,lastIdx,currentSchedulingInfo;if(schedulingInfo===null||schedulingInfo.length<=0){return null}ln=schedulingInfo.length;lastIdx=ln-1;currentSchedulingInfo=schedulingInfo[lastIdx];return currentSchedulingInfo}function getCurrentManifestUpdate(metrics){if(metrics===null)return null;var manifestUpdate=metrics.ManifestUpdate;var ln,lastIdx,currentManifestUpdate;if(manifestUpdate===null||manifestUpdate.length<=0){return null}ln=manifestUpdate.length;lastIdx=ln-1;currentManifestUpdate=manifestUpdate[lastIdx];return currentManifestUpdate}function getCurrentDVRInfo(metrics){if(metrics===null){return null}var dvrInfo=metrics.DVRInfo;var dvrInfoLastIndex,currentDVRInfo;if(dvrInfo===null||dvrInfo.length<=0){return null}dvrInfoLastIndex=dvrInfo.length-1;currentDVRInfo=dvrInfo[dvrInfoLastIndex];return currentDVRInfo}function getLatestMPDRequestHeaderValueByID(metrics,id){var headers={};var httpRequestList,httpRequest,i;if(metrics===null){return null}httpRequestList=getHttpRequests(metrics);for(i=httpRequestList.length-1;i>=0;i--){httpRequest=httpRequestList[i];if(httpRequest.type===_streamingVoMetricsHTTPRequestJs2["default"].MPD_TYPE){headers=parseResponseHeaders(httpRequest._responseHeaders);break}}return headers[id]===undefined?null:headers[id]}function getLatestFragmentRequestHeaderValueByID(metrics,id){if(metrics===null)return null;var httpRequest=getCurrentHttpRequest(metrics);var headers;if(httpRequest===null||httpRequest._responseHeaders===null)return null;headers=parseResponseHeaders(httpRequest._responseHeaders);return headers[id]===undefined?null:headers[id]}function parseResponseHeaders(headerStr){var headers={};if(!headerStr){return headers}var headerPairs=headerStr.split("\r\n");for(var i=0,ilen=headerPairs.length;i<ilen;i++){var headerPair=headerPairs[i];var index=headerPair.indexOf(": ");if(index>0){headers[headerPair.substring(0,index)]=headerPair.substring(index+2)}}return headers}function findRepresentationIndex(period,representationId){var adaptationSet,adaptationSetArray,representation,representationArray,adaptationSetArrayIndex,representationArrayIndex;adaptationSetArray=period.AdaptationSet_asArray;for(adaptationSetArrayIndex=0;adaptationSetArrayIndex<adaptationSetArray.length;adaptationSetArrayIndex=adaptationSetArrayIndex+1){adaptationSet=adaptationSetArray[adaptationSetArrayIndex];representationArray=adaptationSet.Representation_asArray;for(representationArrayIndex=0;representationArrayIndex<representationArray.length;representationArrayIndex=representationArrayIndex+1){representation=representationArray[representationArrayIndex];if(representationId===representation.id){return representationArrayIndex}}}return-1}function findRepresentation(period,representationId){var adaptationSet,adaptationSetArray,representation,representationArray,adaptationSetArrayIndex,representationArrayIndex;adaptationSetArray=period.AdaptationSet_asArray;for(adaptationSetArrayIndex=0;adaptationSetArrayIndex<adaptationSetArray.length;adaptationSetArrayIndex=adaptationSetArrayIndex+1){adaptationSet=adaptationSetArray[adaptationSetArrayIndex];representationArray=adaptationSet.Representation_asArray;for(representationArrayIndex=0;representationArrayIndex<representationArray.length;representationArrayIndex=representationArrayIndex+1){representation=representationArray[representationArrayIndex];if(representationId===representation.id){return representation}}}return null}function adaptationIsType(adaptation,bufferType){return(0,_modelsDashManifestModelJs2["default"])(context).getInstance().getIsTypeOf(adaptation,bufferType)}function findMaxBufferIndex(period,bufferType){var adaptationSet,adaptationSetArray,representationArray,adaptationSetArrayIndex;if(!period||!bufferType)return-1;adaptationSetArray=period.AdaptationSet_asArray;for(adaptationSetArrayIndex=0;adaptationSetArrayIndex<adaptationSetArray.length;adaptationSetArrayIndex=adaptationSetArrayIndex+1){adaptationSet=adaptationSetArray[adaptationSetArrayIndex];representationArray=adaptationSet.Representation_asArray;if(adaptationIsType(adaptationSet,bufferType)){return representationArray.length}}return-1}instance={getBandwidthForRepresentation:getBandwidthForRepresentation,getIndexForRepresentation:getIndexForRepresentation,getMaxIndexForBufferType:getMaxIndexForBufferType,
getMaxAllowedIndexForBufferType:getMaxAllowedIndexForBufferType,getCurrentRepresentationSwitch:getCurrentRepresentationSwitch,getLatestBufferLevelVO:getLatestBufferLevelVO,getCurrentBufferLevel:getCurrentBufferLevel,getCurrentHttpRequest:getCurrentHttpRequest,getHttpRequests:getHttpRequests,getCurrentDroppedFrames:getCurrentDroppedFrames,getCurrentSchedulingInfo:getCurrentSchedulingInfo,getCurrentDVRInfo:getCurrentDVRInfo,getCurrentManifestUpdate:getCurrentManifestUpdate,getLatestFragmentRequestHeaderValueByID:getLatestFragmentRequestHeaderValueByID,getLatestMPDRequestHeaderValueByID:getLatestMPDRequestHeaderValueByID,getRequestsQueue:getRequestsQueue};return instance}DashMetrics.__dashjs_factory_name="DashMetrics";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(DashMetrics);module.exports=exports["default"]},{"../core/FactoryMaker.js":7,"../streaming/controllers/AbrController.js":46,"../streaming/models/ManifestModel.js":63,"../streaming/vo/metrics/HTTPRequest.js":117,"./models/DashManifestModel.js":17}],14:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _streamingUtilsErrorHandlerJs=_dereq_("../streaming/utils/ErrorHandler.js");var _streamingUtilsErrorHandlerJs2=_interopRequireDefault(_streamingUtilsErrorHandlerJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _externalsObjectironJs=_dereq_("../../externals/objectiron.js");var _externalsObjectironJs2=_interopRequireDefault(_externalsObjectironJs);var _externalsXml2jsonJs=_dereq_("../../externals/xml2json.js");var _externalsXml2jsonJs2=_interopRequireDefault(_externalsXml2jsonJs);function DashParser(){var SECONDS_IN_YEAR=365*24*60*60;var SECONDS_IN_MONTH=30*24*60*60;var SECONDS_IN_DAY=24*60*60;var SECONDS_IN_HOUR=60*60;var SECONDS_IN_MIN=60;var MINUTES_IN_HOUR=60;var MILLISECONDS_IN_SECONDS=1e3;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var instance=undefined,durationRegex=undefined,datetimeRegex=undefined,numericRegex=undefined,httpOrHttpsRegex=undefined,originRegex=undefined,matchers=undefined;function setup(){durationRegex=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;datetimeRegex=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/;numericRegex=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;httpOrHttpsRegex=/^https?:\/\//i;originRegex=/^(https?:\/\/[^\/]+)\/?/i;matchers=[{type:"duration",test:function test(attr){var attributeList=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"];var len=attributeList.length;for(var i=0;i<len;i++){if(attr.nodeName===attributeList[i]){return durationRegex.test(attr.value)}}return false},converter:function converter(str){var match=durationRegex.exec(str);var result=parseFloat(match[2]||0)*SECONDS_IN_YEAR+parseFloat(match[4]||0)*SECONDS_IN_MONTH+parseFloat(match[6]||0)*SECONDS_IN_DAY+parseFloat(match[8]||0)*SECONDS_IN_HOUR+parseFloat(match[10]||0)*SECONDS_IN_MIN+parseFloat(match[12]||0);if(match[1]!==undefined){result=-result}return result}},{type:"datetime",test:function test(attr){return datetimeRegex.test(attr.value)},converter:function converter(str){var match=datetimeRegex.exec(str);var utcDate;utcDate=Date.UTC(parseInt(match[1],10),parseInt(match[2],10)-1,parseInt(match[3],10),parseInt(match[4],10),parseInt(match[5],10),match[6]&&parseInt(match[6],10)||0,match[7]&&parseFloat(match[7])*MILLISECONDS_IN_SECONDS||0);if(match[9]&&match[10]){var timezoneOffset=parseInt(match[9],10)*MINUTES_IN_HOUR+parseInt(match[10],10);utcDate+=(match[8]==="+"?-1:+1)*timezoneOffset*SECONDS_IN_MIN*MILLISECONDS_IN_SECONDS}return new Date(utcDate)}},{type:"numeric",test:function test(attr){return numericRegex.test(attr.value)},converter:function converter(str){return parseFloat(str)}}]}function getCommonValuesMap(){var adaptationSet,representation,subRepresentation,common;common=[{name:"profiles",merge:false},{name:"width",merge:false},{name:"height",merge:false},{name:"sar",merge:false},{name:"frameRate",merge:false},{name:"audioSamplingRate",merge:false},{name:"mimeType",merge:false},{name:"segmentProfiles",merge:false},{name:"codecs",merge:false},{name:"maximumSAPPeriod",merge:false},{name:"startsWithSap",merge:false},{name:"maxPlayoutRate",merge:false},{name:"codingDependency",merge:false},{name:"scanType",merge:false},{name:"FramePacking",merge:true},{name:"AudioChannelConfiguration",merge:true},{name:"ContentProtection",merge:true}];adaptationSet={};adaptationSet.name="AdaptationSet";adaptationSet.isRoot=false;adaptationSet.isArray=true;adaptationSet.parent=null;adaptationSet.children=[];adaptationSet.properties=common;representation={};representation.name="Representation";representation.isRoot=false;representation.isArray=true;representation.parent=adaptationSet;representation.children=[];representation.properties=common;adaptationSet.children.push(representation);subRepresentation={};subRepresentation.name="SubRepresentation";subRepresentation.isRoot=false;subRepresentation.isArray=true;subRepresentation.parent=representation;subRepresentation.children=[];subRepresentation.properties=common;representation.children.push(subRepresentation);return adaptationSet}function getSegmentValuesMap(){var period,adaptationSet,representation,common;common=[{name:"SegmentBase",merge:true},{name:"SegmentTemplate",merge:true},{name:"SegmentList",merge:true}];period={};period.name="Period";period.isRoot=false;period.isArray=true;period.parent=null;period.children=[];period.properties=common;adaptationSet={};adaptationSet.name="AdaptationSet";adaptationSet.isRoot=false;adaptationSet.isArray=true;adaptationSet.parent=period;adaptationSet.children=[];adaptationSet.properties=common;period.children.push(adaptationSet);representation={};representation.name="Representation";representation.isRoot=false;representation.isArray=true;representation.parent=adaptationSet;representation.children=[];representation.properties=common;adaptationSet.children.push(representation);return period}function getDashMap(){var result=[];result.push(getCommonValuesMap());result.push(getSegmentValuesMap());return result}function parse(data,xlinkController){var converter=new _externalsXml2jsonJs2["default"](matchers,"",true);var iron=new _externalsObjectironJs2["default"](getDashMap());var start=new Date;var manifest;var json=null;var ironed=null;try{manifest=converter.xml_str2json(data);if(!manifest){throw"parser error"}json=new Date;if(manifest.hasOwnProperty("Location")){manifest.Location=manifest.Location_asArray[0]}iron.run(manifest);ironed=new Date;xlinkController.setMatchers(matchers);xlinkController.setIron(iron);log("Parsing complete: ( xml2json: "+(json.getTime()-start.getTime())+"ms, objectiron: "+(ironed.getTime()-json.getTime())+"ms, total: "+(ironed.getTime()-start.getTime())/1e3+"s)")}catch(err){(0,_streamingUtilsErrorHandlerJs2["default"])(context).getInstance().manifestError("parsing the manifest failed","parse",data);return null}return manifest}instance={parse:parse};setup();return instance}DashParser.__dashjs_factory_name="DashParser";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(DashParser);module.exports=exports["default"]},{"../../externals/objectiron.js":2,"../../externals/xml2json.js":3,"../core/Debug.js":5,"../core/FactoryMaker.js":7,"../streaming/utils/ErrorHandler.js":90}],15:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _streamingUtilsRequestModifierJs=_dereq_("../streaming/utils/RequestModifier.js");var _streamingUtilsRequestModifierJs2=_interopRequireDefault(_streamingUtilsRequestModifierJs);var _voSegmentJs=_dereq_("./vo/Segment.js");var _voSegmentJs2=_interopRequireDefault(_voSegmentJs);var _streamingVoErrorJs=_dereq_("../streaming/vo/Error.js");var _streamingVoErrorJs2=_interopRequireDefault(_streamingVoErrorJs);var _streamingUtilsErrorHandlerJs=_dereq_("../streaming/utils/ErrorHandler.js");var _streamingUtilsErrorHandlerJs2=_interopRequireDefault(_streamingUtilsErrorHandlerJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _streamingUtilsBoxParserJs=_dereq_("../streaming/utils/BoxParser.js");var _streamingUtilsBoxParserJs2=_interopRequireDefault(_streamingUtilsBoxParserJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function SegmentBaseLoader(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,errHandler=undefined,boxParser=undefined,requestModifier=undefined,baseURLController=undefined;function initialize(){errHandler=(0,_streamingUtilsErrorHandlerJs2["default"])(context).getInstance();boxParser=(0,_streamingUtilsBoxParserJs2["default"])(context).getInstance();requestModifier=(0,_streamingUtilsRequestModifierJs2["default"])(context).getInstance()}function setConfig(config){if(config.baseURLController){baseURLController=config.baseURLController}}function loadInitialization(representation,loadingInfo){var needFailureReport=true;var initRange=null;var isoFile=null;var request=new XMLHttpRequest;var baseUrl=baseURLController.resolve(representation.path);var info=loadingInfo||{url:baseUrl?baseUrl.url:undefined,range:{start:0,end:1500},searching:false,bytesLoaded:0,bytesToLoad:1500,request:request};log("Start searching for initialization.");request.onload=function(){if(request.status<200||request.status>299)return;needFailureReport=false;info.bytesLoaded=info.range.end;isoFile=boxParser.parse(request.response);initRange=findInitRange(isoFile);if(initRange){representation.range=initRange;representation.initialization=info.url;eventBus.trigger(_coreEventsEventsJs2["default"].INITIALIZATION_LOADED,{representation:representation})}else{info.range.end=info.bytesLoaded+info.bytesToLoad;loadInitialization(representation,info)}};request.onloadend=request.onerror=function(){if(!needFailureReport)return;needFailureReport=false;errHandler.downloadError("initialization",info.url,request);eventBus.trigger(_coreEventsEventsJs2["default"].INITIALIZATION_LOADED,{representation:representation})};sendRequest(request,info);log("Perform init search: "+info.url)}function loadSegments(representation,type,range,loadingInfo,callback){if(range&&(range.start===undefined||range.end===undefined)){var parts=range?range.toString().split("-"):null;range=parts?{start:parseFloat(parts[0]),end:parseFloat(parts[1])}:null}callback=!callback?onLoaded:callback;var needFailureReport=true;var isoFile=null;var sidx=null;var hasRange=!!range;var request=new XMLHttpRequest;var baseUrl=baseURLController.resolve(representation.path);var info={url:baseUrl?baseUrl.url:undefined,range:hasRange?range:{start:0,end:1500},searching:!hasRange,bytesLoaded:loadingInfo?loadingInfo.bytesLoaded:0,bytesToLoad:1500,request:request};request.onload=function(){if(request.status<200||request.status>299)return;var extraBytes=info.bytesToLoad;var loadedLength=request.response.byteLength;needFailureReport=false;info.bytesLoaded=info.range.end-info.range.start;isoFile=boxParser.parse(request.response);sidx=isoFile.getBox("sidx");if(!sidx||!sidx.isComplete){if(sidx){info.range.start=sidx.offset||info.range.start;info.range.end=info.range.start+(sidx.size||extraBytes)}else if(loadedLength<info.bytesLoaded){callback(null,representation,type);return}else{var lastBox=isoFile.getLastBox();if(lastBox&&lastBox.size){info.range.start=lastBox.offset+lastBox.size;info.range.end=info.range.start+extraBytes}else{info.range.end+=extraBytes}}loadSegments(representation,type,info.range,info,callback)}else{var ref=sidx.references;var loadMultiSidx,segments;if(ref!==null&&ref!==undefined&&ref.length>0){loadMultiSidx=ref[0].reference_type===1}if(loadMultiSidx){log("Initiate multiple SIDX load.");info.range.end=info.range.start+sidx.size;var j,len,ss,se,r;var segs=[];var count=0;var offset=(sidx.offset||info.range.start)+sidx.size;var tmpCallback=function tmpCallback(result){if(result){segs=segs.concat(result);count++;if(count>=len){callback(segs,representation,type)}}else{callback(null,representation,type)}};for(j=0,len=ref.length;j<len;j++){ss=offset;se=offset+ref[j].referenced_size-1;offset=offset+ref[j].referenced_size;r={start:ss,end:se};loadSegments(representation,null,r,info,tmpCallback)}}else{log("Parsing segments from SIDX.");segments=getSegmentsForSidx(sidx,info);callback(segments,representation,type)}}};request.onloadend=request.onerror=function(){if(!needFailureReport)return;needFailureReport=false;errHandler.downloadError("SIDX",info.url,request);callback(null,representation,type)};sendRequest(request,info);log("Perform SIDX load: "+info.url)}function reset(){errHandler=null;boxParser=null;requestModifier=null;log=null}function getSegmentsForSidx(sidx,info){var refs=sidx.references;var len=refs.length;var timescale=sidx.timescale;var time=sidx.earliest_presentation_time;var start=info.range.start+sidx.first_offset+sidx.size;var segments=[];var segment,end,duration,size;for(var i=0;i<len;i++){duration=refs[i].subsegment_duration;size=refs[i].referenced_size;segment=new _voSegmentJs2["default"];segment.duration=duration;segment.media=info.url;segment.startTime=time;segment.timescale=timescale;end=start+size-1;segment.mediaRange=start+"-"+end;segments.push(segment);time+=duration;start+=size}return segments}function findInitRange(isoFile){var ftyp=isoFile.getBox("ftyp");var moov=isoFile.getBox("moov");var initRange=null;var start,end;log("Searching for initialization.");if(moov&&moov.isComplete){start=ftyp?ftyp.offset:moov.offset;end=moov.offset+moov.size-1;initRange=start+"-"+end;log("Found the initialization.  Range: "+initRange)}return initRange}function sendRequest(request,info){if(!info.url){return}request.open("GET",requestModifier.modifyRequestURL(info.url));request.responseType="arraybuffer";request.setRequestHeader("Range","bytes="+info.range.start+"-"+info.range.end);request=requestModifier.modifyRequestHeader(request);request.send(null)}function onLoaded(segments,representation,type){if(segments){eventBus.trigger(_coreEventsEventsJs2["default"].SEGMENTS_LOADED,{segments:segments,representation:representation,mediaType:type})}else{eventBus.trigger(_coreEventsEventsJs2["default"].SEGMENTS_LOADED,{segments:null,representation:representation,mediaType:type,error:new _streamingVoErrorJs2["default"](null,"error loading segments",null)})}}instance={setConfig:setConfig,initialize:initialize,loadInitialization:loadInitialization,loadSegments:loadSegments,reset:reset};return instance}SegmentBaseLoader.__dashjs_factory_name="SegmentBaseLoader";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(SegmentBaseLoader);module.exports=exports["default"]},{"../core/Debug.js":5,"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9,"../streaming/utils/BoxParser.js":86,"../streaming/utils/ErrorHandler.js":90,"../streaming/utils/RequestModifier.js":94,"../streaming/vo/Error.js":100,"./vo/Segment.js":32}],16:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modelsDashManifestModelJs=_dereq_("../models/DashManifestModel.js");var _modelsDashManifestModelJs2=_interopRequireDefault(_modelsDashManifestModelJs);var _DashMetricsJs=_dereq_("../DashMetrics.js");var _DashMetricsJs2=_interopRequireDefault(_DashMetricsJs);var _utilsTimelineConverterJs=_dereq_("../utils/TimelineConverter.js");var _utilsTimelineConverterJs2=_interopRequireDefault(_utilsTimelineConverterJs);var _streamingControllersAbrControllerJs=_dereq_("../../streaming/controllers/AbrController.js");var _streamingControllersAbrControllerJs2=_interopRequireDefault(_streamingControllersAbrControllerJs);var _streamingControllersPlaybackControllerJs=_dereq_("../../streaming/controllers/PlaybackController.js");var _streamingControllersPlaybackControllerJs2=_interopRequireDefault(_streamingControllersPlaybackControllerJs);var _streamingControllersStreamControllerJs=_dereq_("../../streaming/controllers/StreamController.js");var _streamingControllersStreamControllerJs2=_interopRequireDefault(_streamingControllersStreamControllerJs);var _streamingModelsManifestModelJs=_dereq_("../../streaming/models/ManifestModel.js");var _streamingModelsManifestModelJs2=_interopRequireDefault(_streamingModelsManifestModelJs);var _streamingModelsMetricsModelJs=_dereq_("../../streaming/models/MetricsModel.js");var _streamingModelsMetricsModelJs2=_interopRequireDefault(_streamingModelsMetricsModelJs);var _streamingModelsMediaPlayerModelJs=_dereq_("../../streaming/models/MediaPlayerModel.js");var _streamingModelsMediaPlayerModelJs2=_interopRequireDefault(_streamingModelsMediaPlayerModelJs);var _streamingUtilsDOMStorageJs=_dereq_("../../streaming/utils/DOMStorage.js");var _streamingUtilsDOMStorageJs2=_interopRequireDefault(_streamingUtilsDOMStorageJs);var _streamingVoErrorJs=_dereq_("../../streaming/vo/Error.js");var _streamingVoErrorJs2=_interopRequireDefault(_streamingVoErrorJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function RepresentationController(){var SEGMENTS_UPDATE_FAILED_ERROR_CODE=1;var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,data=undefined,dataIndex=undefined,updating=undefined,availableRepresentations=undefined,currentRepresentation=undefined,streamProcessor=undefined,abrController=undefined,indexHandler=undefined,streamController=undefined,playbackController=undefined,manifestModel=undefined,metricsModel=undefined,domStorage=undefined,timelineConverter=undefined,dashManifestModel=undefined,dashMetrics=undefined,mediaPlayerModel=undefined;function setup(){data=null;dataIndex=-1;updating=true;availableRepresentations=[];abrController=(0,_streamingControllersAbrControllerJs2["default"])(context).getInstance();streamController=(0,_streamingControllersStreamControllerJs2["default"])(context).getInstance();playbackController=(0,_streamingControllersPlaybackControllerJs2["default"])(context).getInstance();manifestModel=(0,_streamingModelsManifestModelJs2["default"])(context).getInstance();metricsModel=(0,_streamingModelsMetricsModelJs2["default"])(context).getInstance();domStorage=(0,_streamingUtilsDOMStorageJs2["default"])(context).getInstance();timelineConverter=(0,_utilsTimelineConverterJs2["default"])(context).getInstance();dashManifestModel=(0,_modelsDashManifestModelJs2["default"])(context).getInstance();dashMetrics=(0,_DashMetricsJs2["default"])(context).getInstance();mediaPlayerModel=(0,_streamingModelsMediaPlayerModelJs2["default"])(context).getInstance();eventBus.on(_coreEventsEventsJs2["default"].QUALITY_CHANGED,onQualityChanged,instance);eventBus.on(_coreEventsEventsJs2["default"].REPRESENTATION_UPDATED,onRepresentationUpdated,instance);eventBus.on(_coreEventsEventsJs2["default"].WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,instance);eventBus.on(_coreEventsEventsJs2["default"].BUFFER_LEVEL_UPDATED,onBufferLevelUpdated,instance);eventBus.on(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,instance)}function setConfig(config){if(config.abrController){abrController=config.abrController}}function initialize(StreamProcessor){streamProcessor=StreamProcessor;indexHandler=streamProcessor.getIndexHandler()}function getStreamProcessor(){return streamProcessor}function getData(){return data}function getDataIndex(){return dataIndex}function isUpdating(){return updating}function getCurrentRepresentation(){return currentRepresentation}function reset(){eventBus.off(_coreEventsEventsJs2["default"].QUALITY_CHANGED,onQualityChanged,instance);eventBus.off(_coreEventsEventsJs2["default"].REPRESENTATION_UPDATED,onRepresentationUpdated,instance);eventBus.off(_coreEventsEventsJs2["default"].WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,instance);eventBus.off(_coreEventsEventsJs2["default"].BUFFER_LEVEL_UPDATED,onBufferLevelUpdated,instance);eventBus.off(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,instance);data=null;dataIndex=-1;updating=true;availableRepresentations=[];abrController=null;streamController=null;playbackController=null;manifestModel=null;metricsModel=null;domStorage=null;timelineConverter=null;dashManifestModel=null;dashMetrics=null;mediaPlayerModel=null}function updateData(dataValue,adaptation,type){var quality,averageThroughput;var bitrate=null;var streamInfo=streamProcessor.getStreamInfo();var maxQuality=abrController.getTopQualityIndexFor(type,streamInfo.id);updating=true;eventBus.trigger(_coreEventsEventsJs2["default"].DATA_UPDATE_STARTED,{sender:this});availableRepresentations=updateRepresentations(adaptation);if(data===null&&type!=="fragmentedText"){averageThroughput=abrController.getAverageThroughput(type);bitrate=averageThroughput||abrController.getInitialBitrateFor(type,streamInfo);quality=abrController.getQualityForBitrate(streamProcessor.getMediaInfo(),bitrate)}else{quality=abrController.getQualityFor(type,streamInfo)}if(quality>maxQuality){quality=maxQuality}currentRepresentation=getRepresentationForQuality(quality);data=dataValue;if(type!=="video"&&type!=="audio"&&type!=="fragmentedText"){updating=false;eventBus.trigger(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,{sender:this,data:data,currentRepresentation:currentRepresentation});return}for(var i=0;i<availableRepresentations.length;i++){indexHandler.updateRepresentation(availableRepresentations[i],true)}}function addRepresentationSwitch(){var now=new Date;var currentRepresentation=getCurrentRepresentation();var currentVideoTimeMs=playbackController.getTime()*1e3;metricsModel.addRepresentationSwitch(currentRepresentation.adaptation.type,now,currentVideoTimeMs,currentRepresentation.id)}function addDVRMetric(){var range=timelineConverter.calcSegmentAvailabilityRange(currentRepresentation,streamProcessor.isDynamic());metricsModel.addDVRInfo(streamProcessor.getType(),playbackController.getTime(),streamProcessor.getStreamInfo().manifestInfo,range)}function getRepresentationForQuality(quality){return availableRepresentations[quality]}function getQualityForRepresentation(representation){return availableRepresentations.indexOf(representation)}function isAllRepresentationsUpdated(){for(var i=0,ln=availableRepresentations.length;i<ln;i++){var segmentInfoType=availableRepresentations[i].segmentInfoType;if(availableRepresentations[i].segmentAvailabilityRange===null||availableRepresentations[i].initialization===null||(segmentInfoType==="SegmentBase"||segmentInfoType==="BaseURL")&&!availableRepresentations[i].segments){return false}}return true}function updateRepresentations(adaptation){var reps;var manifest=manifestModel.getValue();dataIndex=dashManifestModel.getIndexForAdaptation(data,manifest,adaptation.period.index);reps=dashManifestModel.getRepresentationsForAdaptation(manifest,adaptation);return reps}function updateAvailabilityWindow(isDynamic){var rep;for(var i=0,ln=availableRepresentations.length;i<ln;i++){rep=availableRepresentations[i];rep.segmentAvailabilityRange=timelineConverter.calcSegmentAvailabilityRange(rep,isDynamic)}}function resetAvailabilityWindow(){availableRepresentations.forEach(function(rep){rep.segmentAvailabilityRange=null})}function postponeUpdate(postponeTimePeriod){var delay=postponeTimePeriod;var update=function update(){if(isUpdating())return;updating=true;eventBus.trigger(_coreEventsEventsJs2["default"].DATA_UPDATE_STARTED,{sender:instance});resetAvailabilityWindow();for(var i=0;i<availableRepresentations.length;i++){indexHandler.updateRepresentation(availableRepresentations[i],true)}};updating=false;eventBus.trigger(_coreEventsEventsJs2["default"].AST_IN_FUTURE,{delay:delay});setTimeout(update,delay)}function onRepresentationUpdated(e){if(e.sender.getStreamProcessor()!==streamProcessor||!isUpdating())return;var r=e.representation;var streamMetrics=metricsModel.getMetricsFor("stream");var metrics=metricsModel.getMetricsFor(getCurrentRepresentation().adaptation.type);var manifestUpdateInfo=dashMetrics.getCurrentManifestUpdate(streamMetrics);var alreadyAdded=false;var postponeTimePeriod=0;var repInfo;var err;var repSwitch;if(r.adaptation.period.mpd.manifest.type=="dynamic"){var segmentAvailabilityTimePeriod=r.segmentAvailabilityRange.end-r.segmentAvailabilityRange.start;var liveDelay=playbackController.computeLiveDelay(currentRepresentation.segmentDuration,streamProcessor.getStreamInfo().manifestInfo.DVRWindowSize);postponeTimePeriod=(liveDelay-segmentAvailabilityTimePeriod)*1e3}if(postponeTimePeriod>0){addDVRMetric();postponeUpdate(postponeTimePeriod);err=new _streamingVoErrorJs2["default"](SEGMENTS_UPDATE_FAILED_ERROR_CODE,"Segments update failed",null);eventBus.trigger(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,{sender:this,data:data,currentRepresentation:currentRepresentation,error:err});return}if(manifestUpdateInfo){for(var i=0;i<manifestUpdateInfo.trackInfo.length;i++){repInfo=manifestUpdateInfo.trackInfo[i];if(repInfo.index===r.index&&repInfo.mediaType===streamProcessor.getType()){alreadyAdded=true;break}}if(!alreadyAdded){metricsModel.addManifestUpdateRepresentationInfo(manifestUpdateInfo,r.id,r.index,r.adaptation.period.index,streamProcessor.getType(),r.presentationTimeOffset,r.startNumber,r.segmentInfoType)}}if(isAllRepresentationsUpdated()){updating=false;abrController.setPlaybackQuality(streamProcessor.getType(),streamProcessor.getStreamInfo(),getQualityForRepresentation(currentRepresentation));metricsModel.updateManifestUpdateInfo(manifestUpdateInfo,{latency:currentRepresentation.segmentAvailabilityRange.end-playbackController.getTime()});repSwitch=dashMetrics.getCurrentRepresentationSwitch(metrics);if(!repSwitch){addRepresentationSwitch()}eventBus.trigger(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,{sender:this,data:data,currentRepresentation:currentRepresentation})}}function onWallclockTimeUpdated(e){if(e.isDynamic){updateAvailabilityWindow(e.isDynamic)}}function onLiveEdgeSearchCompleted(e){if(e.error)return;updateAvailabilityWindow(true);indexHandler.updateRepresentation(currentRepresentation,false);var manifest=manifestModel.getValue();var period=currentRepresentation.adaptation.period;var streamInfo=streamController.getActiveStreamInfo();if(streamInfo.isLast){period.mpd.checkTime=dashManifestModel.getCheckTime(manifest,period);period.duration=dashManifestModel.getEndTimeForLastPeriod(manifestModel.getValue(),period)-period.start;streamInfo.duration=period.duration}}function onBufferLevelUpdated(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;addDVRMetric()}function onQualityChanged(e){if(e.mediaType!==streamProcessor.getType()||streamProcessor.getStreamInfo().id!==e.streamInfo.id)return;if(e.oldQuality!==e.newQuality){currentRepresentation=getRepresentationForQuality(e.newQuality);domStorage.setSavedBitrateSettings(e.mediaType,currentRepresentation.bandwidth);addRepresentationSwitch()}}instance={initialize:initialize,setConfig:setConfig,getData:getData,getDataIndex:getDataIndex,isUpdating:isUpdating,updateData:updateData,getStreamProcessor:getStreamProcessor,getCurrentRepresentation:getCurrentRepresentation,getRepresentationForQuality:getRepresentationForQuality,reset:reset};setup();return instance}RepresentationController.__dashjs_factory_name="RepresentationController";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(RepresentationController);module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../streaming/controllers/AbrController.js":46,"../../streaming/controllers/PlaybackController.js":54,"../../streaming/controllers/StreamController.js":57,"../../streaming/models/ManifestModel.js":63,"../../streaming/models/MediaPlayerModel.js":64,"../../streaming/models/MetricsModel.js":65,"../../streaming/utils/DOMStorage.js":89,"../../streaming/vo/Error.js":100,"../DashMetrics.js":13,"../models/DashManifestModel.js":17,"../utils/TimelineConverter.js":23}],17:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voRepresentationJs=_dereq_("../vo/Representation.js");var _voRepresentationJs2=_interopRequireDefault(_voRepresentationJs);var _voAdaptationSetJs=_dereq_("../vo/AdaptationSet.js");var _voAdaptationSetJs2=_interopRequireDefault(_voAdaptationSetJs);var _voPeriodJs=_dereq_("../vo/Period.js");var _voPeriodJs2=_interopRequireDefault(_voPeriodJs);var _voMpdJs=_dereq_("../vo/Mpd.js");var _voMpdJs2=_interopRequireDefault(_voMpdJs);var _voUTCTimingJs=_dereq_("../vo/UTCTiming.js");var _voUTCTimingJs2=_interopRequireDefault(_voUTCTimingJs);var _utilsTimelineConverterJs=_dereq_("../utils/TimelineConverter.js");var _utilsTimelineConverterJs2=_interopRequireDefault(_utilsTimelineConverterJs);var _voEventJs=_dereq_("../vo/Event.js");var _voEventJs2=_interopRequireDefault(_voEventJs);var _voBaseURLJs=_dereq_("../vo/BaseURL.js");var _voBaseURLJs2=_interopRequireDefault(_voBaseURLJs);var _voEventStreamJs=_dereq_("../vo/EventStream.js");var _voEventStreamJs2=_interopRequireDefault(_voEventStreamJs);var _streamingUtilsURLUtilsJs=_dereq_("../../streaming/utils/URLUtils.js");var _streamingUtilsURLUtilsJs2=_interopRequireDefault(_streamingUtilsURLUtilsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function DashManifestModel(){var instance=undefined;var context=this.context;var timelineConverter=(0,_utilsTimelineConverterJs2["default"])(context).getInstance();var urlUtils=(0,_streamingUtilsURLUtilsJs2["default"])(context).getInstance();function getIsTypeOf(adaptation,type){var i,len,representation;var result=false;var found=false;var col=adaptation.ContentComponent_asArray;var mimeTypeRegEx=type!=="text"?new RegExp(type):new RegExp("(vtt|ttml)");if(adaptation.Representation_asArray.length>0&&adaptation.Representation_asArray[0].hasOwnProperty("codecs")){var codecs=adaptation.Representation_asArray[0].codecs;if(codecs==="stpp"||codecs==="wvtt"){return type==="fragmentedText"}}if(col){if(col.length>1){return type=="muxed"}else if(col[0]&&col[0].contentType===type){result=true;found=true}}if(adaptation.hasOwnProperty("mimeType")){result=mimeTypeRegEx.test(adaptation.mimeType);found=true}if(!found){i=0;len=adaptation.Representation_asArray.length;while(!found&&i<len){representation=adaptation.Representation_asArray[i];if(representation.hasOwnProperty("mimeType")){result=mimeTypeRegEx.test(representation.mimeType);found=true}i++}}return result}function getIsAudio(adaptation){return getIsTypeOf(adaptation,"audio");

}function getIsVideo(adaptation){return getIsTypeOf(adaptation,"video")}function getIsFragmentedText(adaptation){return getIsTypeOf(adaptation,"fragmentedText")}function getIsText(adaptation){return getIsTypeOf(adaptation,"text")}function getIsMuxed(adaptation){return getIsTypeOf(adaptation,"muxed")}function getIsTextTrack(type){return type==="text/vtt"||type==="application/ttml+xml"}function getLanguageForAdaptation(adaptation){var lang="";if(adaptation.hasOwnProperty("lang")){lang=adaptation.lang.replace(/[^A-Za-z0-9-]/g,"")}return lang}function getViewpointForAdaptation(adaptation){return adaptation.hasOwnProperty("Viewpoint")?adaptation.Viewpoint:null}function getRolesForAdaptation(adaptation){return adaptation.hasOwnProperty("Role_asArray")?adaptation.Role_asArray:[]}function getAccessibilityForAdaptation(adaptation){return adaptation.hasOwnProperty("Accessibility_asArray")?adaptation.Accessibility_asArray:[]}function getAudioChannelConfigurationForAdaptation(adaptation){return adaptation.hasOwnProperty("AudioChannelConfiguration_asArray")?adaptation.AudioChannelConfiguration_asArray:[]}function getIsMain(adaptation){return getRolesForAdaptation(adaptation).filter(function(role){return role.value==="main"})[0]}function getRepresentationSortFunction(){return function(a,b){return a.bandwidth-b.bandwidth}}function processAdaptation(adaptation){if(adaptation.Representation_asArray!==undefined&&adaptation.Representation_asArray!==null){adaptation.Representation_asArray.sort(getRepresentationSortFunction())}return adaptation}function getAdaptationForId(id,manifest,periodIndex){var adaptations=manifest.Period_asArray[periodIndex].AdaptationSet_asArray;var i,len;for(i=0,len=adaptations.length;i<len;i++){if(adaptations[i].hasOwnProperty("id")&&adaptations[i].id===id){return adaptations[i]}}return null}function getAdaptationForIndex(index,manifest,periodIndex){var adaptations=manifest.Period_asArray[periodIndex].AdaptationSet_asArray;return adaptations[index]}function getIndexForAdaptation(adaptation,manifest,periodIndex){var adaptations=manifest.Period_asArray[periodIndex].AdaptationSet_asArray;var i,len;for(i=0,len=adaptations.length;i<len;i++){if(adaptations[i]===adaptation){return i}}return-1}function getAdaptationsForType(manifest,periodIndex,type){var adaptationSet=manifest.Period_asArray[periodIndex].AdaptationSet_asArray;var i,len;var adaptations=[];for(i=0,len=adaptationSet.length;i<len;i++){if(getIsTypeOf(adaptationSet[i],type)){adaptations.push(processAdaptation(adaptationSet[i]))}}return adaptations}function getAdaptationForType(manifest,periodIndex,type){var i,len,adaptations;adaptations=getAdaptationsForType(manifest,periodIndex,type);if(!adaptations||adaptations.length===0)return null;for(i=0,len=adaptations.length;i<len;i++){if(getIsMain(adaptations[i]))return adaptations[i]}return adaptations[0]}function getCodec(adaptation){var representation=adaptation.Representation_asArray[0];return representation.mimeType+';codecs="'+representation.codecs+'"'}function getMimeType(adaptation){return adaptation.Representation_asArray[0].mimeType}function getKID(adaptation){if(!adaptation||!adaptation.hasOwnProperty("cenc:default_KID")){return null}return adaptation["cenc:default_KID"]}function getContentProtectionData(adaptation){if(!adaptation||!adaptation.hasOwnProperty("ContentProtection_asArray")||adaptation.ContentProtection_asArray.length===0){return null}return adaptation.ContentProtection_asArray}function getIsDynamic(manifest){var isDynamic=false;if(manifest.hasOwnProperty("type")){isDynamic=manifest.type==="dynamic"}return isDynamic}function getIsDVR(manifest){var isDynamic=getIsDynamic(manifest);var containsDVR,isDVR;containsDVR=!isNaN(manifest.timeShiftBufferDepth);isDVR=isDynamic&&containsDVR;return isDVR}function hasProfile(manifest,profile){var has=false;if(manifest.profiles&&manifest.profiles.length>0){has=manifest.profiles.indexOf(profile)!==-1}return has}function getIsOnDemand(manifest){return hasProfile(manifest,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function getIsDVB(manifest){return hasProfile(manifest,"urn:dvb:dash:profile:dvb-dash:2014")}function getDuration(manifest){var mpdDuration;if(manifest.hasOwnProperty("mediaPresentationDuration")){mpdDuration=manifest.mediaPresentationDuration}else{mpdDuration=Number.MAX_VALUE}return mpdDuration}function getBandwidth(representation){return representation.bandwidth}function getRefreshDelay(manifest){var delay=NaN;var minDelay=2;if(manifest.hasOwnProperty("minimumUpdatePeriod")){delay=Math.max(parseFloat(manifest.minimumUpdatePeriod),minDelay)}return delay}function getRepresentationCount(adaptation){return adaptation.Representation_asArray.length}function getBitrateListForAdaptation(adaptation){if(!adaptation||!adaptation.Representation_asArray||!adaptation.Representation_asArray.length)return null;var a=processAdaptation(adaptation);var reps=a.Representation_asArray;var ln=reps.length;var bitrateList=[];for(var i=0;i<ln;i++){bitrateList.push({bandwidth:reps[i].bandwidth,width:reps[i].width||0,height:reps[i].height||0})}return bitrateList}function getRepresentationFor(index,adaptation){return adaptation.Representation_asArray[index]}function getRepresentationsForAdaptation(manifest,adaptation){var a=processAdaptation(manifest.Period_asArray[adaptation.period.index].AdaptationSet_asArray[adaptation.index]);var representations=[];var representation,initialization,segmentInfo,r,s;for(var i=0;i<a.Representation_asArray.length;i++){r=a.Representation_asArray[i];representation=new _voRepresentationJs2["default"];representation.index=i;representation.adaptation=adaptation;if(r.hasOwnProperty("id")){representation.id=r.id}if(r.hasOwnProperty("bandwidth")){representation.bandwidth=r.bandwidth}if(r.hasOwnProperty("maxPlayoutRate")){representation.maxPlayoutRate=r.maxPlayoutRate}if(r.hasOwnProperty("SegmentBase")){segmentInfo=r.SegmentBase;representation.segmentInfoType="SegmentBase"}else if(r.hasOwnProperty("SegmentList")){segmentInfo=r.SegmentList;representation.segmentInfoType="SegmentList";representation.useCalculatedLiveEdgeTime=true}else if(r.hasOwnProperty("SegmentTemplate")){segmentInfo=r.SegmentTemplate;if(segmentInfo.hasOwnProperty("SegmentTimeline")){representation.segmentInfoType="SegmentTimeline";s=segmentInfo.SegmentTimeline.S_asArray[segmentInfo.SegmentTimeline.S_asArray.length-1];if(!s.hasOwnProperty("r")||s.r>=0){representation.useCalculatedLiveEdgeTime=true}}else{representation.segmentInfoType="SegmentTemplate"}if(segmentInfo.hasOwnProperty("initialization")){representation.initialization=segmentInfo.initialization.split("$Bandwidth$").join(r.bandwidth).split("$RepresentationID$").join(r.id)}}else{segmentInfo=r.BaseURL;representation.segmentInfoType="BaseURL"}if(segmentInfo.hasOwnProperty("Initialization")){initialization=segmentInfo.Initialization;if(initialization.hasOwnProperty("sourceURL")){representation.initialization=initialization.sourceURL}else if(initialization.hasOwnProperty("range")){representation.range=initialization.range}}else if(r.hasOwnProperty("mimeType")&&getIsTextTrack(r.mimeType)){representation.range=0}if(segmentInfo.hasOwnProperty("timescale")){representation.timescale=segmentInfo.timescale}if(segmentInfo.hasOwnProperty("duration")){representation.segmentDuration=segmentInfo.duration/representation.timescale}if(segmentInfo.hasOwnProperty("startNumber")){representation.startNumber=segmentInfo.startNumber}if(segmentInfo.hasOwnProperty("indexRange")){representation.indexRange=segmentInfo.indexRange}if(segmentInfo.hasOwnProperty("presentationTimeOffset")){representation.presentationTimeOffset=segmentInfo.presentationTimeOffset/representation.timescale}representation.MSETimeOffset=timelineConverter.calcMSETimeOffset(representation);representation.path=[adaptation.period.index,adaptation.index,i];representations.push(representation)}return representations}function getAdaptationsForPeriod(manifest,period){var p=manifest.Period_asArray[period.index];var adaptations=[];var adaptationSet,a;for(var i=0;i<p.AdaptationSet_asArray.length;i++){a=p.AdaptationSet_asArray[i];adaptationSet=new _voAdaptationSetJs2["default"];if(a.hasOwnProperty("id")){adaptationSet.id=a.id}adaptationSet.index=i;adaptationSet.period=period;if(getIsMuxed(a)){adaptationSet.type="muxed"}else if(getIsAudio(a)){adaptationSet.type="audio"}else if(getIsVideo(a)){adaptationSet.type="video"}else if(getIsFragmentedText(a)){adaptationSet.type="fragmentedText"}else{adaptationSet.type="text"}adaptations.push(adaptationSet)}return adaptations}function getRegularPeriods(manifest,mpd){var isDynamic=getIsDynamic(manifest);var periods=[];var p1=null;var p=null;var vo1=null;var vo=null;var len,i;for(i=0,len=manifest.Period_asArray.length;i<len;i++){p=manifest.Period_asArray[i];if(p.hasOwnProperty("start")){vo=new _voPeriodJs2["default"];vo.start=p.start}else if(p1!==null&&p.hasOwnProperty("duration")&&vo1!==null){vo=new _voPeriodJs2["default"];vo.start=vo1.start+vo1.duration;vo.duration=p.duration}else if(i===0&&!isDynamic){vo=new _voPeriodJs2["default"];vo.start=0}if(vo1!==null&&isNaN(vo1.duration)){vo1.duration=vo.start-vo1.start}if(vo!==null){vo.id=getPeriodId(p)}if(vo!==null&&p.hasOwnProperty("duration")){vo.duration=p.duration}if(vo!==null){vo.index=i;vo.mpd=mpd;periods.push(vo);p1=p;vo1=vo}p=null;vo=null}if(periods.length===0){return periods}if(vo1!==null&&isNaN(vo1.duration)){vo1.duration=getEndTimeForLastPeriod(manifest,vo1)-vo1.start}return periods}function getPeriodId(p){if(!p){throw new Error("Period cannot be null or undefined")}var id=_voPeriodJs2["default"].DEFAULT_ID;if(p.hasOwnProperty("id")&&p.id!=="__proto__"){id=p.id}return id}function getMpd(manifest){var mpd=new _voMpdJs2["default"];mpd.manifest=manifest;if(manifest.hasOwnProperty("availabilityStartTime")){mpd.availabilityStartTime=new Date(manifest.availabilityStartTime.getTime())}else{mpd.availabilityStartTime=new Date(manifest.loadedTime.getTime())}if(manifest.hasOwnProperty("availabilityEndTime")){mpd.availabilityEndTime=new Date(manifest.availabilityEndTime.getTime())}if(manifest.hasOwnProperty("suggestedPresentationDelay")){mpd.suggestedPresentationDelay=manifest.suggestedPresentationDelay}if(manifest.hasOwnProperty("timeShiftBufferDepth")){mpd.timeShiftBufferDepth=manifest.timeShiftBufferDepth}if(manifest.hasOwnProperty("maxSegmentDuration")){mpd.maxSegmentDuration=manifest.maxSegmentDuration}return mpd}function getFetchTime(manifest,period){return timelineConverter.calcPresentationTimeFromWallTime(manifest.loadedTime,period)}function getCheckTime(manifest,period){var checkTime=NaN;var fetchTime;if(manifest.hasOwnProperty("minimumUpdatePeriod")){fetchTime=getFetchTime(manifest,period);checkTime=fetchTime+manifest.minimumUpdatePeriod}return checkTime}function getEndTimeForLastPeriod(manifest,period){var periodEnd;var checkTime=getCheckTime(manifest,period);if(manifest.mediaPresentationDuration){periodEnd=manifest.mediaPresentationDuration}else if(!isNaN(checkTime)){periodEnd=checkTime}else{throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.")}return periodEnd}function getEventsForPeriod(manifest,period){var periodArray=manifest.Period_asArray;var eventStreams=periodArray[period.index].EventStream_asArray;var events=[];if(eventStreams){for(var i=0;i<eventStreams.length;i++){var eventStream=new _voEventStreamJs2["default"];eventStream.period=period;eventStream.timescale=1;if(eventStreams[i].hasOwnProperty("schemeIdUri")){eventStream.schemeIdUri=eventStreams[i].schemeIdUri}else{throw"Invalid EventStream. SchemeIdUri has to be set"}if(eventStreams[i].hasOwnProperty("timescale")){eventStream.timescale=eventStreams[i].timescale}if(eventStreams[i].hasOwnProperty("value")){eventStream.value=eventStreams[i].value}for(var j=0;j<eventStreams[i].Event_asArray.length;j++){var event=new _voEventJs2["default"];event.presentationTime=0;event.eventStream=eventStream;if(eventStreams[i].Event_asArray[j].hasOwnProperty("presentationTime")){event.presentationTime=eventStreams[i].Event_asArray[j].presentationTime}if(eventStreams[i].Event_asArray[j].hasOwnProperty("duration")){event.duration=eventStreams[i].Event_asArray[j].duration}if(eventStreams[i].Event_asArray[j].hasOwnProperty("id")){event.id=eventStreams[i].Event_asArray[j].id}events.push(event)}}}return events}function getEventStreams(inbandStreams,representation){var eventStreams=[];if(!inbandStreams)return eventStreams;for(var i=0;i<inbandStreams.length;i++){var eventStream=new _voEventStreamJs2["default"];eventStream.timescale=1;eventStream.representation=representation;if(inbandStreams[i].hasOwnProperty("schemeIdUri")){eventStream.schemeIdUri=inbandStreams[i].schemeIdUri}else{throw"Invalid EventStream. SchemeIdUri has to be set"}if(inbandStreams[i].hasOwnProperty("timescale")){eventStream.timescale=inbandStreams[i].timescale}if(inbandStreams[i].hasOwnProperty("value")){eventStream.value=inbandStreams[i].value}eventStreams.push(eventStream)}return eventStreams}function getEventStreamForAdaptationSet(manifest,adaptation){var inbandStreams=manifest.Period_asArray[adaptation.period.index].AdaptationSet_asArray[adaptation.index].InbandEventStream_asArray;return getEventStreams(inbandStreams,null)}function getEventStreamForRepresentation(manifest,representation){var inbandStreams=manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].InbandEventStream_asArray;return getEventStreams(inbandStreams,representation)}function getUTCTimingSources(manifest){var isDynamic=getIsDynamic(manifest);var hasAST=manifest.hasOwnProperty("availabilityStartTime");var utcTimingsArray=manifest.UTCTiming_asArray;var utcTimingEntries=[];if(isDynamic||hasAST){if(utcTimingsArray){utcTimingsArray.forEach(function(utcTiming){var entry=new _voUTCTimingJs2["default"];if(utcTiming.hasOwnProperty("schemeIdUri")){entry.schemeIdUri=utcTiming.schemeIdUri}else{return}if(utcTiming.hasOwnProperty("value")){entry.value=utcTiming.value.toString()}else{return}utcTimingEntries.push(entry)})}}return utcTimingEntries}function getBaseURLsFromElement(node){var baseUrls=[];var entries=node.BaseURL_asArray||[node.baseUri]||[];var earlyReturn=false;entries.some(function(entry){if(entry){var baseUrl=new _voBaseURLJs2["default"];var text=entry.__text||entry;if(urlUtils.isRelative(text)){earlyReturn=true;if(node.baseUri){text=node.baseUri+text}}baseUrl.url=text;if(entry.hasOwnProperty("serviceLocation")&&entry.serviceLocation.length){baseUrl.serviceLocation=entry.serviceLocation}else{baseUrl.serviceLocation=text}if(entry.hasOwnProperty("dvb:priority")){baseUrl.dvb_priority=entry["dvb:priority"]}if(entry.hasOwnProperty("dvb:weight")){baseUrl.dvb_weight=entry["dvb:weight"]}baseUrls.push(baseUrl);return earlyReturn}});return baseUrls}instance={getIsTypeOf:getIsTypeOf,getIsAudio:getIsAudio,getIsVideo:getIsVideo,getIsText:getIsText,getIsMuxed:getIsMuxed,getIsTextTrack:getIsTextTrack,getIsFragmentedText:getIsFragmentedText,getIsMain:getIsMain,getLanguageForAdaptation:getLanguageForAdaptation,getViewpointForAdaptation:getViewpointForAdaptation,getRolesForAdaptation:getRolesForAdaptation,getAccessibilityForAdaptation:getAccessibilityForAdaptation,getAudioChannelConfigurationForAdaptation:getAudioChannelConfigurationForAdaptation,processAdaptation:processAdaptation,getAdaptationForIndex:getAdaptationForIndex,getIndexForAdaptation:getIndexForAdaptation,getAdaptationForId:getAdaptationForId,getAdaptationsForType:getAdaptationsForType,getAdaptationForType:getAdaptationForType,getCodec:getCodec,getMimeType:getMimeType,getKID:getKID,getContentProtectionData:getContentProtectionData,getIsDynamic:getIsDynamic,getIsDVR:getIsDVR,getIsOnDemand:getIsOnDemand,getIsDVB:getIsDVB,getDuration:getDuration,getBandwidth:getBandwidth,getRefreshDelay:getRefreshDelay,getRepresentationCount:getRepresentationCount,getBitrateListForAdaptation:getBitrateListForAdaptation,getRepresentationFor:getRepresentationFor,getRepresentationsForAdaptation:getRepresentationsForAdaptation,getAdaptationsForPeriod:getAdaptationsForPeriod,getRegularPeriods:getRegularPeriods,getPeriodId:getPeriodId,getMpd:getMpd,getFetchTime:getFetchTime,getCheckTime:getCheckTime,getEndTimeForLastPeriod:getEndTimeForLastPeriod,getEventsForPeriod:getEventsForPeriod,getEventStreams:getEventStreams,getEventStreamForAdaptationSet:getEventStreamForAdaptationSet,getEventStreamForRepresentation:getEventStreamForRepresentation,getUTCTimingSources:getUTCTimingSources,getBaseURLsFromElement:getBaseURLsFromElement,getRepresentationSortFunction:getRepresentationSortFunction};return instance}DashManifestModel.__dashjs_factory_name="DashManifestModel";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(DashManifestModel);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"../../streaming/utils/URLUtils.js":96,"../utils/TimelineConverter.js":23,"../vo/AdaptationSet.js":25,"../vo/BaseURL.js":26,"../vo/Event.js":27,"../vo/EventStream.js":28,"../vo/Mpd.js":29,"../vo/Period.js":30,"../vo/Representation.js":31,"../vo/UTCTiming.js":33}],18:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function FragmentedTextBoxParser(){var instance=undefined,boxParser=undefined;function setConfig(config){if(!config)return;if(config.boxParser){boxParser=config.boxParser}}function getSamplesInfo(ab){var isoFile=boxParser.parse(ab);var tfhdBox=isoFile.getBox("tfhd");var tfdtBox=isoFile.getBox("tfdt");var trunBox=isoFile.getBox("trun");var moofBox=isoFile.getBox("moof");var mfhdBox=isoFile.getBox("mfhd");var sampleDuration,sampleCompositionTimeOffset,sampleCount,sampleSize,sampleDts,sampleList,sample,i,dataOffset,sequenceNumber,totalDuration;sequenceNumber=mfhdBox.sequence_number;sampleCount=trunBox.sample_count;sampleDts=tfdtBox.baseMediaDecodeTime;dataOffset=(tfhdBox.base_data_offset||0)+(trunBox.data_offset||0);sampleList=[];for(i=0;i<sampleCount;i++){sample=trunBox.samples[i];sampleDuration=sample.sample_duration!==undefined?sample.sample_duration:tfhdBox.default_sample_duration;sampleSize=sample.sample_size!==undefined?sample.sample_size:tfhdBox.default_sample_size;sampleCompositionTimeOffset=sample.sample_composition_time_offset!==undefined?sample.sample_composition_time_offset:0;sampleList.push({dts:sampleDts,cts:sampleDts+sampleCompositionTimeOffset,duration:sampleDuration,offset:moofBox.offset+dataOffset,size:sampleSize});dataOffset+=sampleSize;sampleDts+=sampleDuration}totalDuration=sampleDts-tfdtBox.baseMediaDecodeTime;return{sampleList:sampleList,sequenceNumber:sequenceNumber,totalDuration:totalDuration}}function getMediaTimescaleFromMoov(ab){var isoFile=boxParser.parse(ab);var mdhdBox=isoFile.getBox("mdhd");return mdhdBox?mdhdBox.timescale:NaN}instance={getSamplesInfo:getSamplesInfo,getMediaTimescaleFromMoov:getMediaTimescaleFromMoov,setConfig:setConfig};return instance}FragmentedTextBoxParser.__dashjs_factory_name="FragmentedTextBoxParser";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(FragmentedTextBoxParser);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],19:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _SegmentsUtilsJs=_dereq_("./SegmentsUtils.js");function ListSegmentsGetter(config,isDynamic){var timelineConverter=config.timelineConverter;var instance=undefined;function getSegmentsFromList(representation,requestedTime,index,availabilityUpperLimit){var list=representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentList;var baseURL=representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].BaseURL;var len=list.SegmentURL_asArray.length;var segments=[];var periodSegIdx,seg,s,range,startIdx,endIdx,start;start=representation.startNumber;range=(0,_SegmentsUtilsJs.decideSegmentListRangeForTemplate)(timelineConverter,isDynamic,representation,requestedTime,index,availabilityUpperLimit);startIdx=Math.max(range.start,0);endIdx=Math.min(range.end,list.SegmentURL_asArray.length-1);for(periodSegIdx=startIdx;periodSegIdx<=endIdx;periodSegIdx++){s=list.SegmentURL_asArray[periodSegIdx];seg=(0,_SegmentsUtilsJs.getIndexBasedSegment)(timelineConverter,isDynamic,representation,periodSegIdx);seg.replacementTime=(start+periodSegIdx-1)*representation.segmentDuration;seg.media=s.media?s.media:baseURL;seg.mediaRange=s.mediaRange;seg.index=s.index;seg.indexRange=s.indexRange;segments.push(seg);seg=null}representation.availableSegmentsNumber=len;return segments}instance={getSegments:getSegmentsFromList};return instance}ListSegmentsGetter.__dashjs_factory_name="ListSegmentsGetter";var factory=_coreFactoryMakerJs2["default"].getClassFactory(ListSegmentsGetter);exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"./SegmentsUtils.js":21}],20:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _TimelineSegmentsGetterJs=_dereq_("./TimelineSegmentsGetter.js");var _TimelineSegmentsGetterJs2=_interopRequireDefault(_TimelineSegmentsGetterJs);var _TemplateSegmentsGetterJs=_dereq_("./TemplateSegmentsGetter.js");var _TemplateSegmentsGetterJs2=_interopRequireDefault(_TemplateSegmentsGetterJs);var _ListSegmentsGetterJs=_dereq_("./ListSegmentsGetter.js");var _ListSegmentsGetterJs2=_interopRequireDefault(_ListSegmentsGetterJs);function SegmentsGetter(config,isDynamic){var context=this.context;var instance=undefined,timelineSegmentsGetter=undefined,templateSegmentsGetter=undefined,listSegmentsGetter=undefined;function setup(){timelineSegmentsGetter=(0,_TimelineSegmentsGetterJs2["default"])(context).create(config,isDynamic);templateSegmentsGetter=(0,_TemplateSegmentsGetterJs2["default"])(context).create(config,isDynamic);listSegmentsGetter=(0,_ListSegmentsGetterJs2["default"])(context).create(config,isDynamic)}function getSegments(representation,requestedTime,index,onSegmentListUpdatedCallback,availabilityUpperLimit){var segments;var type=representation.segmentInfoType;if(type==="SegmentBase"||type==="BaseURL"||!isSegmentListUpdateRequired(representation,index)){segments=representation.segments}else{if(type==="SegmentTimeline"){segments=timelineSegmentsGetter.getSegments(representation,requestedTime,index,availabilityUpperLimit)}else if(type==="SegmentTemplate"){segments=templateSegmentsGetter.getSegments(representation,requestedTime,index,availabilityUpperLimit)}else if(type==="SegmentList"){segments=listSegmentsGetter.getSegments(representation,requestedTime,index,availabilityUpperLimit)}if(onSegmentListUpdatedCallback){onSegmentListUpdatedCallback(representation,segments)}}return segments}function isSegmentListUpdateRequired(representation,index){var segments=representation.segments;var updateRequired=false;var upperIdx,lowerIdx;if(!segments||segments.length===0){updateRequired=true}else{lowerIdx=segments[0].availabilityIdx;upperIdx=segments[segments.length-1].availabilityIdx;updateRequired=index<lowerIdx||index>upperIdx}return updateRequired}instance={getSegments:getSegments};setup();return instance}SegmentsGetter.__dashjs_factory_name="SegmentsGetter";var factory=_coreFactoryMakerJs2["default"].getClassFactory(SegmentsGetter);exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"./ListSegmentsGetter.js":19,"./TemplateSegmentsGetter.js":22,"./TimelineSegmentsGetter.js":24}],21:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceTokenForTemplate=replaceTokenForTemplate;exports.getIndexBasedSegment=getIndexBasedSegment;exports.getTimeBasedSegment=getTimeBasedSegment;exports.getSegmentByIndex=getSegmentByIndex;exports.decideSegmentListRangeForTimeline=decideSegmentListRangeForTimeline;exports.decideSegmentListRangeForTemplate=decideSegmentListRangeForTemplate;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voSegmentJs=_dereq_("./../vo/Segment.js");var _voSegmentJs2=_interopRequireDefault(_voSegmentJs);function zeroPadToLength(numStr,minStrLength){while(numStr.length<minStrLength){numStr="0"+numStr}return numStr}function getNumberForSegment(segment,segmentIndex){return segment.representation.startNumber+segmentIndex}function replaceTokenForTemplate(url,token,value){var formatTag="%0";var startPos,endPos,formatTagPos,specifier,width,paddedValue;var tokenLen=token.length;var formatTagLen=formatTag.length;while(true){startPos=url.indexOf("$"+token);if(startPos<0){return url}endPos=url.indexOf("$",startPos+tokenLen);if(endPos<0){return url}formatTagPos=url.indexOf(formatTag,startPos+tokenLen);if(formatTagPos>startPos&&formatTagPos<endPos){specifier=url.charAt(endPos-1);width=parseInt(url.substring(formatTagPos+formatTagLen,endPos-1),10);switch(specifier){case"d":case"i":case"u":paddedValue=zeroPadToLength(value.toString(),width);break;case"x":paddedValue=zeroPadToLength(value.toString(16),width);break;case"X":paddedValue=zeroPadToLength(value.toString(16),width).toUpperCase();break;case"o":paddedValue=zeroPadToLength(value.toString(8),width);break;default:return url}}else{paddedValue=value}url=url.substring(0,startPos)+paddedValue+url.substring(endPos+1)}}function getIndexBasedSegment(timelineConverter,isDynamic,representation,index){var seg,duration,presentationStartTime,presentationEndTime;duration=representation.segmentDuration;if(isNaN(duration)){duration=representation.adaptation.period.duration}presentationStartTime=representation.adaptation.period.start+index*duration;presentationEndTime=presentationStartTime+duration;seg=new _voSegmentJs2["default"];seg.representation=representation;seg.duration=duration;seg.presentationStartTime=presentationStartTime;seg.mediaStartTime=timelineConverter.calcMediaTimeFromPresentationTime(seg.presentationStartTime,representation);seg.availabilityStartTime=timelineConverter.calcAvailabilityStartTimeFromPresentationTime(seg.presentationStartTime,representation.adaptation.period.mpd,isDynamic);seg.availabilityEndTime=timelineConverter.calcAvailabilityEndTimeFromPresentationTime(presentationEndTime,representation.adaptation.period.mpd,isDynamic);seg.wallStartTime=timelineConverter.calcWallTimeForSegment(seg,isDynamic);seg.replacementNumber=getNumberForSegment(seg,index);seg.availabilityIdx=index;return seg}function getTimeBasedSegment(timelineConverter,isDynamic,representation,time,duration,fTimescale,url,range,index){var scaledTime=time/fTimescale;var scaledDuration=Math.min(duration/fTimescale,representation.adaptation.period.mpd.maxSegmentDuration);var presentationStartTime,presentationEndTime,seg;presentationStartTime=timelineConverter.calcPresentationTimeFromMediaTime(scaledTime,representation);presentationEndTime=presentationStartTime+scaledDuration;seg=new _voSegmentJs2["default"];seg.representation=representation;seg.duration=scaledDuration;seg.mediaStartTime=scaledTime;seg.presentationStartTime=presentationStartTime;seg.availabilityStartTime=representation.adaptation.period.mpd.manifest.loadedTime;seg.availabilityEndTime=timelineConverter.calcAvailabilityEndTimeFromPresentationTime(presentationEndTime,representation.adaptation.period.mpd,isDynamic);seg.wallStartTime=timelineConverter.calcWallTimeForSegment(seg,isDynamic);seg.replacementTime=time;seg.replacementNumber=getNumberForSegment(seg,index);url=replaceTokenForTemplate(url,"Number",seg.replacementNumber);url=replaceTokenForTemplate(url,"Time",seg.replacementTime);seg.media=url;seg.mediaRange=range;seg.availabilityIdx=index;return seg}function getSegmentByIndex(index,representation){if(!representation||!representation.segments)return null;var ln=representation.segments.length;var seg,i;if(index<ln){seg=representation.segments[index];if(seg&&seg.availabilityIdx===index){return seg}}for(i=0;i<ln;i++){seg=representation.segments[i];if(seg&&seg.availabilityIdx===index){return seg}}return null}function decideSegmentListRangeForTimeline(timelineConverter,isDynamic,requestedTime,index,givenAvailabilityUpperLimit){var availabilityLowerLimit=2;var availabilityUpperLimit=givenAvailabilityUpperLimit||10;var firstIdx=0;var lastIdx=Number.POSITIVE_INFINITY;var start,end,range;if(isDynamic&&!timelineConverter.isTimeSyncCompleted()){range={start:firstIdx,end:lastIdx};return range}if(!isDynamic&&requestedTime||index<0)return null;start=Math.max(index-availabilityLowerLimit,firstIdx);end=Math.min(index+availabilityUpperLimit,lastIdx);range={start:start,end:end};return range}function decideSegmentListRangeForTemplate(timelineConverter,isDynamic,representation,requestedTime,index,givenAvailabilityUpperLimit){var duration=representation.segmentDuration;var minBufferTime=representation.adaptation.period.mpd.manifest.minBufferTime;var availabilityWindow=representation.segmentAvailabilityRange;var periodRelativeRange={start:timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(representation,availabilityWindow.start),end:timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(representation,availabilityWindow.end)};var currentSegmentList=representation.segments;var availabilityLowerLimit=2*duration;var availabilityUpperLimit=givenAvailabilityUpperLimit||Math.max(2*minBufferTime,10*duration);var originAvailabilityTime=NaN;var originSegment=null;var start,end,range;periodRelativeRange.start=Math.max(periodRelativeRange.start,0);if(isDynamic&&!timelineConverter.isTimeSyncCompleted()){start=Math.floor(periodRelativeRange.start/duration);end=Math.floor(periodRelativeRange.end/duration);range={start:start,end:end};return range}if(currentSegmentList&&currentSegmentList.length>0){originSegment=getSegmentByIndex(index,representation);if(originSegment){originAvailabilityTime=timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(representation,originSegment.presentationStartTime)}else{originAvailabilityTime=index>0?index*duration:timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(representation,requestedTime)}}else{originAvailabilityTime=index>0?index*duration:isDynamic?periodRelativeRange.end:periodRelativeRange.start}start=Math.floor(Math.max(originAvailabilityTime-availabilityLowerLimit,periodRelativeRange.start)/duration);end=Math.floor(Math.min(start+availabilityUpperLimit/duration,periodRelativeRange.end/duration));range={start:start,end:end};return range}},{"./../vo/Segment.js":32}],22:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _SegmentsUtilsJs=_dereq_("./SegmentsUtils.js");function TemplateSegmentsGetter(config,isDynamic){var timelineConverter=config.timelineConverter;var instance=undefined;function getSegmentsFromTemplate(representation,requestedTime,index,availabilityUpperLimit){var template=representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentTemplate;

var duration=representation.segmentDuration;var availabilityWindow=representation.segmentAvailabilityRange;var segments=[];var url=null;var seg=null;var segmentRange,periodSegIdx,startIdx,endIdx,start;start=representation.startNumber;if(isNaN(duration)&&!isDynamic){segmentRange={start:start,end:start}}else{segmentRange=(0,_SegmentsUtilsJs.decideSegmentListRangeForTemplate)(timelineConverter,isDynamic,representation,requestedTime,index,availabilityUpperLimit)}startIdx=segmentRange.start;endIdx=segmentRange.end;for(periodSegIdx=startIdx;periodSegIdx<=endIdx;periodSegIdx++){seg=(0,_SegmentsUtilsJs.getIndexBasedSegment)(timelineConverter,isDynamic,representation,periodSegIdx);seg.replacementTime=(start+periodSegIdx-1)*representation.segmentDuration;url=template.media;url=(0,_SegmentsUtilsJs.replaceTokenForTemplate)(url,"Number",seg.replacementNumber);url=(0,_SegmentsUtilsJs.replaceTokenForTemplate)(url,"Time",seg.replacementTime);seg.media=url;segments.push(seg);seg=null}if(isNaN(duration)){representation.availableSegmentsNumber=1}else{representation.availableSegmentsNumber=Math.ceil((availabilityWindow.end-availabilityWindow.start)/duration)}return segments}instance={getSegments:getSegmentsFromTemplate};return instance}TemplateSegmentsGetter.__dashjs_factory_name="TemplateSegmentsGetter";var factory=_coreFactoryMakerJs2["default"].getClassFactory(TemplateSegmentsGetter);exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"./SegmentsUtils.js":21}],23:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function TimelineConverter(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,clientServerTimeShift=undefined,isClientServerTimeSyncCompleted=undefined,expectedLiveEdge=undefined;function initialize(){clientServerTimeShift=0;isClientServerTimeSyncCompleted=false;expectedLiveEdge=NaN;eventBus.on(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncComplete,this)}function isTimeSyncCompleted(){return isClientServerTimeSyncCompleted}function setTimeSyncCompleted(value){isClientServerTimeSyncCompleted=value}function getClientTimeOffset(){return clientServerTimeShift}function getExpectedLiveEdge(){return expectedLiveEdge}function setExpectedLiveEdge(value){expectedLiveEdge=value}function calcAvailabilityTimeFromPresentationTime(presentationTime,mpd,isDynamic,calculateEnd){var availabilityTime=NaN;if(calculateEnd){if(isDynamic&&mpd.timeShiftBufferDepth!=Number.POSITIVE_INFINITY){availabilityTime=new Date(mpd.availabilityStartTime.getTime()+(presentationTime+mpd.timeShiftBufferDepth)*1e3)}else{availabilityTime=mpd.availabilityEndTime}}else{if(isDynamic){availabilityTime=new Date(mpd.availabilityStartTime.getTime()+(presentationTime-clientServerTimeShift)*1e3)}else{availabilityTime=mpd.availabilityStartTime}}return availabilityTime}function calcAvailabilityStartTimeFromPresentationTime(presentationTime,mpd,isDynamic){return calcAvailabilityTimeFromPresentationTime.call(this,presentationTime,mpd,isDynamic)}function calcAvailabilityEndTimeFromPresentationTime(presentationTime,mpd,isDynamic){return calcAvailabilityTimeFromPresentationTime.call(this,presentationTime,mpd,isDynamic,true)}function calcPresentationTimeFromWallTime(wallTime,period){return(wallTime.getTime()-period.mpd.availabilityStartTime.getTime()+clientServerTimeShift*1e3)/1e3}function calcPresentationTimeFromMediaTime(mediaTime,representation){var periodStart=representation.adaptation.period.start;var presentationOffset=representation.presentationTimeOffset;return mediaTime+(periodStart-presentationOffset)}function calcMediaTimeFromPresentationTime(presentationTime,representation){var periodStart=representation.adaptation.period.start;var presentationOffset=representation.presentationTimeOffset;return presentationTime-periodStart+presentationOffset}function calcWallTimeForSegment(segment,isDynamic){var suggestedPresentationDelay,displayStartTime,wallTime;if(isDynamic){suggestedPresentationDelay=segment.representation.adaptation.period.mpd.suggestedPresentationDelay;displayStartTime=segment.presentationStartTime+suggestedPresentationDelay;wallTime=new Date(segment.availabilityStartTime.getTime()+displayStartTime*1e3)}return wallTime}function calcSegmentAvailabilityRange(representation,isDynamic){var start=representation.adaptation.period.start;var end=start+representation.adaptation.period.duration;var range={start:start,end:end};var d=representation.segmentDuration||(representation.segments&&representation.segments.length?representation.segments[representation.segments.length-1].duration:0);var checkTime,now;if(!isDynamic)return range;if(!isClientServerTimeSyncCompleted&&representation.segmentAvailabilityRange){return representation.segmentAvailabilityRange}checkTime=representation.adaptation.period.mpd.checkTime;now=calcPresentationTimeFromWallTime(new Date,representation.adaptation.period);start=Math.max(now-representation.adaptation.period.mpd.timeShiftBufferDepth,representation.adaptation.period.start);var timeAnchor=isNaN(checkTime)?now:Math.min(checkTime,now);var periodEnd=representation.adaptation.period.start+representation.adaptation.period.duration;end=(timeAnchor>=periodEnd&&timeAnchor-d<periodEnd?periodEnd:timeAnchor)-d;range={start:start,end:end};return range}function calcPeriodRelativeTimeFromMpdRelativeTime(representation,mpdRelativeTime){var periodStartTime=representation.adaptation.period.start;return mpdRelativeTime-periodStartTime}function calcMpdRelativeTimeFromPeriodRelativeTime(representation,periodRelativeTime){var periodStartTime=representation.adaptation.period.start;return periodRelativeTime+periodStartTime}function onLiveEdgeSearchCompleted(e){if(isClientServerTimeSyncCompleted||e.error)return;clientServerTimeShift+=e.liveEdge-(expectedLiveEdge+e.searchTime);isClientServerTimeSyncCompleted=true}function onTimeSyncComplete(e){if(isClientServerTimeSyncCompleted||e.error){return}clientServerTimeShift=e.offset/1e3;isClientServerTimeSyncCompleted=true}function calcMSETimeOffset(representation){var presentationOffset=representation.presentationTimeOffset;var periodStart=representation.adaptation.period.start;return periodStart-presentationOffset}function reset(){eventBus.off(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncComplete,this);clientServerTimeShift=0;isClientServerTimeSyncCompleted=false;expectedLiveEdge=NaN}instance={initialize:initialize,isTimeSyncCompleted:isTimeSyncCompleted,setTimeSyncCompleted:setTimeSyncCompleted,getClientTimeOffset:getClientTimeOffset,getExpectedLiveEdge:getExpectedLiveEdge,setExpectedLiveEdge:setExpectedLiveEdge,calcAvailabilityStartTimeFromPresentationTime:calcAvailabilityStartTimeFromPresentationTime,calcAvailabilityEndTimeFromPresentationTime:calcAvailabilityEndTimeFromPresentationTime,calcPresentationTimeFromWallTime:calcPresentationTimeFromWallTime,calcPresentationTimeFromMediaTime:calcPresentationTimeFromMediaTime,calcPeriodRelativeTimeFromMpdRelativeTime:calcPeriodRelativeTimeFromMpdRelativeTime,calcMpdRelativeTimeFromPeriodRelativeTime:calcMpdRelativeTimeFromPeriodRelativeTime,calcMediaTimeFromPresentationTime:calcMediaTimeFromPresentationTime,calcSegmentAvailabilityRange:calcSegmentAvailabilityRange,calcWallTimeForSegment:calcWallTimeForSegment,calcMSETimeOffset:calcMSETimeOffset,reset:reset};return instance}TimelineConverter.__dashjs_factory_name="TimelineConverter";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(TimelineConverter);module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9}],24:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _SegmentsUtilsJs=_dereq_("./SegmentsUtils.js");function TimelineSegmentsGetter(config,isDynamic){var timelineConverter=config.timelineConverter;var instance=undefined;function getSegmentsFromTimeline(representation,requestedTime,index,availabilityUpperLimit){var template=representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentTemplate;var timeline=template.SegmentTimeline;var isAvailableSegmentNumberCalculated=representation.availableSegmentsNumber>0;var maxSegmentsAhead=10;var time=0;var scaledTime=0;var availabilityIdx=-1;var segments=[];var isStartSegmentForRequestedTimeFound=false;var fragments,frag,i,len,j,repeat,repeatEndTime,nextFrag,calculatedRange,hasEnoughSegments,requiredMediaTime,startIdx,endIdx,fTimescale;var createSegment=function createSegment(s){return(0,_SegmentsUtilsJs.getTimeBasedSegment)(timelineConverter,isDynamic,representation,time,s.d,fTimescale,template.media,s.mediaRange,availabilityIdx)};fTimescale=representation.timescale;fragments=timeline.S_asArray;calculatedRange=(0,_SegmentsUtilsJs.decideSegmentListRangeForTimeline)(timelineConverter,isDynamic,requestedTime,index,availabilityUpperLimit);if(calculatedRange){startIdx=calculatedRange.start;endIdx=calculatedRange.end}else{requiredMediaTime=timelineConverter.calcMediaTimeFromPresentationTime(requestedTime||0,representation)}for(i=0,len=fragments.length;i<len;i++){frag=fragments[i];repeat=0;if(frag.hasOwnProperty("r")){repeat=frag.r}if(frag.hasOwnProperty("t")){time=frag.t;scaledTime=time/fTimescale}if(repeat<0){nextFrag=fragments[i+1];if(nextFrag&&nextFrag.hasOwnProperty("t")){repeatEndTime=nextFrag.t/fTimescale}else{var availabilityEnd=representation.segmentAvailabilityRange?representation.segmentAvailabilityRange.end:timelineConverter.calcSegmentAvailabilityRange(representation,isDynamic).end;repeatEndTime=timelineConverter.calcMediaTimeFromPresentationTime(availabilityEnd,representation);representation.segmentDuration=frag.d/fTimescale}repeat=Math.ceil((repeatEndTime-scaledTime)/(frag.d/fTimescale))-1}if(hasEnoughSegments){if(isAvailableSegmentNumberCalculated)break;availabilityIdx+=repeat+1;continue}for(j=0;j<=repeat;j++){availabilityIdx++;if(calculatedRange){if(availabilityIdx>endIdx){hasEnoughSegments=true;if(isAvailableSegmentNumberCalculated)break;continue}if(availabilityIdx>=startIdx){segments.push(createSegment(frag))}}else{if(segments.length>maxSegmentsAhead){hasEnoughSegments=true;if(isAvailableSegmentNumberCalculated)break;continue}if(isStartSegmentForRequestedTimeFound){segments.push(createSegment(frag))}else if(scaledTime>=requiredMediaTime-frag.d/fTimescale*1.5){isStartSegmentForRequestedTimeFound=true;segments.push(createSegment(frag))}}time+=frag.d;scaledTime=time/fTimescale}}if(!isAvailableSegmentNumberCalculated){representation.availableSegmentsNumber=availabilityIdx+1}return segments}instance={getSegments:getSegmentsFromTimeline};return instance}TimelineSegmentsGetter.__dashjs_factory_name="TimelineSegmentsGetter";var factory=_coreFactoryMakerJs2["default"].getClassFactory(TimelineSegmentsGetter);exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"./SegmentsUtils.js":21}],25:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AdaptationSet=function AdaptationSet(){_classCallCheck(this,AdaptationSet);this.period=null;this.index=-1;this.type=null};exports["default"]=AdaptationSet;module.exports=exports["default"]},{}],26:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var DEFAULT_DVB_PRIORITY=1;var DEFAULT_DVB_WEIGHT=1;var BaseURL=function BaseURL(url,serviceLocation,priority,weight){_classCallCheck(this,BaseURL);this.url=url||"";this.serviceLocation=serviceLocation||url||"";this.dvb_priority=priority||DEFAULT_DVB_PRIORITY;this.dvb_weight=weight||DEFAULT_DVB_WEIGHT};BaseURL.DEFAULT_DVB_PRIORITY=DEFAULT_DVB_PRIORITY;BaseURL.DEFAULT_DVB_WEIGHT=DEFAULT_DVB_WEIGHT;exports["default"]=BaseURL;module.exports=exports["default"]},{}],27:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Event=function Event(){_classCallCheck(this,Event);this.duration=NaN;this.presentationTime=NaN;this.id=NaN;this.messageData="";this.eventStream=null;this.presentationTimeDelta=NaN};exports["default"]=Event;module.exports=exports["default"]},{}],28:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EventStream=function EventStream(){_classCallCheck(this,EventStream);this.adaptionSet=null;this.representation=null;this.period=null;this.timescale=1;this.value="";this.schemeIdUri=""};exports["default"]=EventStream;module.exports=exports["default"]},{}],29:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Mpd=function Mpd(){_classCallCheck(this,Mpd);this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=null;this.availabilityEndTime=Number.POSITIVE_INFINITY;this.timeShiftBufferDepth=Number.POSITIVE_INFINITY;this.maxSegmentDuration=Number.POSITIVE_INFINITY;this.checkTime=NaN;this.clientServerTimeShift=0;this.isClientServerTimeSyncCompleted=false};exports["default"]=Mpd;module.exports=exports["default"]},{}],30:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Period=function Period(){_classCallCheck(this,Period);this.id=null;this.index=-1;this.duration=NaN;this.start=NaN;this.mpd=null};Period.DEFAULT_ID="defaultId";exports["default"]=Period;module.exports=exports["default"]},{}],31:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Representation=function Representation(){_classCallCheck(this,Representation);this.id=null;this.index=-1;this.adaptation=null;this.segmentInfoType=null;this.initialization=null;this.segmentDuration=NaN;this.timescale=1;this.startNumber=1;this.indexRange=null;this.range=null;this.presentationTimeOffset=0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.bandwidth=NaN;this.maxPlayoutRate=NaN};exports["default"]=Representation;module.exports=exports["default"]},{}],32:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Segment=function Segment(){_classCallCheck(this,Segment);this.indexRange=null;this.index=null;this.mediaRange=null;this.media=null;this.duration=NaN;this.replacementTime=null;this.replacementNumber=NaN;this.mediaStartTime=NaN;this.presentationStartTime=NaN;this.availabilityStartTime=NaN;this.availabilityEndTime=NaN;this.availabilityIdx=NaN;this.wallStartTime=NaN;this.representation=null};exports["default"]=Segment;module.exports=exports["default"]},{}],33:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UTCTiming=function UTCTiming(){_classCallCheck(this,UTCTiming);this.schemeIdUri="";this.value=""};exports["default"]=UTCTiming;module.exports=exports["default"]},{}],34:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _XHRLoaderJs=_dereq_("./XHRLoader.js");var _XHRLoaderJs2=_interopRequireDefault(_XHRLoaderJs);var _voHeadRequestJs=_dereq_("./vo/HeadRequest.js");var _voHeadRequestJs2=_interopRequireDefault(_voHeadRequestJs);var _voErrorJs=_dereq_("./vo/Error.js");var _voErrorJs2=_interopRequireDefault(_voErrorJs);var _coreEventBusJs=_dereq_("./../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("./../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var FRAGMENT_LOADER_ERROR_LOADING_FAILURE=1;var FRAGMENT_LOADER_ERROR_NULL_REQUEST=2;var FRAGMENT_LOADER_MESSAGE_NULL_REQUEST="request is null";function FragmentLoader(config){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,xhrLoader=undefined;function setup(){xhrLoader=(0,_XHRLoaderJs2["default"])(context).create({errHandler:config.errHandler,metricsModel:config.metricsModel,requestModifier:config.requestModifier})}function checkForExistence(request){var report=function report(success){eventBus.trigger(_coreEventsEventsJs2["default"].CHECK_FOR_EXISTENCE_COMPLETED,{request:request,exists:success})};if(request){var headRequest=new _voHeadRequestJs2["default"](request.url);xhrLoader.load({request:headRequest,success:function success(){report(true)},error:function error(){report(false)}})}else{report(false)}}function load(request){var report=function report(data,error){eventBus.trigger(_coreEventsEventsJs2["default"].LOADING_COMPLETED,{request:request,response:data||null,error:error||null,sender:instance})};if(request){xhrLoader.load({request:request,progress:function progress(){eventBus.trigger(_coreEventsEventsJs2["default"].LOADING_PROGRESS,{request:request})},success:function success(data){report(data)},error:function error(xhr,statusText,errorText){report(undefined,new _voErrorJs2["default"](FRAGMENT_LOADER_ERROR_LOADING_FAILURE,errorText,statusText))}})}else{report(undefined,new _voErrorJs2["default"](FRAGMENT_LOADER_ERROR_NULL_REQUEST,FRAGMENT_LOADER_MESSAGE_NULL_REQUEST))}}function abort(){if(xhrLoader){xhrLoader.abort()}}function reset(){if(xhrLoader){xhrLoader.abort();xhrLoader=null}}instance={checkForExistence:checkForExistence,load:load,abort:abort,reset:reset};setup();return instance}FragmentLoader.__dashjs_factory_name="FragmentLoader";var factory=_coreFactoryMakerJs2["default"].getClassFactory(FragmentLoader);factory.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=FRAGMENT_LOADER_ERROR_LOADING_FAILURE;factory.FRAGMENT_LOADER_ERROR_NULL_REQUEST=FRAGMENT_LOADER_ERROR_NULL_REQUEST;exports["default"]=factory;module.exports=exports["default"]},{"../core/FactoryMaker.js":7,"./../core/EventBus.js":6,"./../core/events/Events.js":9,"./XHRLoader.js":44,"./vo/Error.js":100,"./vo/HeadRequest.js":102}],35:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _controllersXlinkControllerJs=_dereq_("./controllers/XlinkController.js");var _controllersXlinkControllerJs2=_interopRequireDefault(_controllersXlinkControllerJs);var _XHRLoaderJs=_dereq_("./XHRLoader.js");var _XHRLoaderJs2=_interopRequireDefault(_XHRLoaderJs);var _utilsURLUtilsJs=_dereq_("./utils/URLUtils.js");var _utilsURLUtilsJs2=_interopRequireDefault(_utilsURLUtilsJs);var _voTextRequestJs=_dereq_("./vo/TextRequest.js");var _voTextRequestJs2=_interopRequireDefault(_voTextRequestJs);var _voErrorJs=_dereq_("./vo/Error.js");var _voErrorJs2=_interopRequireDefault(_voErrorJs);var _voMetricsHTTPRequestJs=_dereq_("./vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var MANIFEST_LOADER_ERROR_PARSING_FAILURE=1;var MANIFEST_LOADER_ERROR_LOADING_FAILURE=2;var MANIFEST_LOADER_MESSAGE_PARSING_FAILURE="parsing failed";function ManifestLoader(config){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var urlUtils=(0,_utilsURLUtilsJs2["default"])(context).getInstance();var parser=config.parser;var instance=undefined,xhrLoader=undefined,xlinkController=undefined;function setup(){eventBus.on(_coreEventsEventsJs2["default"].XLINK_READY,onXlinkReady,instance);xhrLoader=(0,_XHRLoaderJs2["default"])(context).create({errHandler:config.errHandler,metricsModel:config.metricsModel,requestModifier:config.requestModifier});xlinkController=(0,_controllersXlinkControllerJs2["default"])(context).create({errHandler:config.errHandler,metricsModel:config.metricsModel,requestModifier:config.requestModifier})}function onXlinkReady(event){eventBus.trigger(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,{manifest:event.manifest})}function load(url){var request=new _voTextRequestJs2["default"](url,_voMetricsHTTPRequestJs2["default"].MPD_TYPE);xhrLoader.load({request:request,success:function success(data,textStatus,xhr){var actualUrl;var baseUri;if(xhr.responseURL&&xhr.responseURL!==url){baseUri=urlUtils.parseBaseUrl(xhr.responseURL);actualUrl=xhr.responseURL}else{if(urlUtils.isRelative(url)){url=urlUtils.parseBaseUrl(window.location.href)+url}baseUri=urlUtils.parseBaseUrl(url)}var manifest=parser.parse(data,xlinkController);if(manifest){manifest.url=actualUrl||url;if(!manifest.originalUrl){manifest.originalUrl=manifest.url}manifest.baseUri=baseUri;manifest.loadedTime=new Date;xlinkController.resolveManifestOnLoad(manifest)}else{eventBus.trigger(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new _voErrorJs2["default"](MANIFEST_LOADER_ERROR_PARSING_FAILURE,MANIFEST_LOADER_MESSAGE_PARSING_FAILURE)})}},error:function error(xhr,statusText,errorText){eventBus.trigger(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new _voErrorJs2["default"](MANIFEST_LOADER_ERROR_LOADING_FAILURE,"Failed loading manifest: "+url+", "+errorText)})}})}function reset(){eventBus.off(_coreEventsEventsJs2["default"].XLINK_READY,onXlinkReady,instance);if(xlinkController){xlinkController.reset();xlinkController=null}if(xhrLoader){xhrLoader.abort();xhrLoader=null}}instance={load:load,reset:reset};setup();return instance}ManifestLoader.__dashjs_factory_name="ManifestLoader";var factory=_coreFactoryMakerJs2["default"].getClassFactory(ManifestLoader);factory.MANIFEST_LOADER_ERROR_PARSING_FAILURE=MANIFEST_LOADER_ERROR_PARSING_FAILURE;factory.MANIFEST_LOADER_ERROR_LOADING_FAILURE=MANIFEST_LOADER_ERROR_LOADING_FAILURE;exports["default"]=factory;module.exports=exports["default"]},{"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9,"./XHRLoader.js":44,"./controllers/XlinkController.js":60,"./utils/URLUtils.js":96,"./vo/Error.js":100,"./vo/TextRequest.js":108,"./vo/metrics/HTTPRequest.js":117}],36:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function ManifestUpdater(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,refreshDelay=undefined,refreshTimer=undefined,isStopped=undefined,isUpdating=undefined,manifestLoader=undefined,manifestModel=undefined,dashManifestModel=undefined;function setConfig(config){if(!config)return;if(config.manifestModel){manifestModel=config.manifestModel}if(config.dashManifestModel){dashManifestModel=config.dashManifestModel}}function initialize(loader){manifestLoader=loader;refreshDelay=NaN;refreshTimer=null;isUpdating=false;isStopped=true;eventBus.on(_coreEventsEventsJs2["default"].STREAMS_COMPOSED,onStreamsComposed,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,onPlaybackStarted,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_PAUSED,onPlaybackPaused,this);eventBus.on(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,onManifestLoaded,this)}function setManifest(manifest){update(manifest)}function getManifestLoader(){return manifestLoader}function reset(){eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,onPlaybackStarted,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_PAUSED,onPlaybackPaused,this);eventBus.off(_coreEventsEventsJs2["default"].STREAMS_COMPOSED,onStreamsComposed,this);eventBus.off(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,onManifestLoaded,this);isStopped=true;isUpdating=false;clear();refreshDelay=NaN}function clear(){if(refreshTimer!==null){clearInterval(refreshTimer);refreshTimer=null}}function startManifestRefreshTimer(){clear();if(!isNaN(refreshDelay)){log("Refresh manifest in "+refreshDelay+" seconds.");refreshTimer=setTimeout(onRefreshTimer,Math.min(refreshDelay*1e3,Math.pow(2,31)-1),this)}}function update(manifest){var delay,timeSinceLastUpdate;var date=new Date;manifestModel.setValue(manifest);log("Manifest has been refreshed at "+date+"["+date.getTime()/1e3+"] ");delay=dashManifestModel.getRefreshDelay(manifest);timeSinceLastUpdate=((new Date).getTime()-manifest.loadedTime.getTime())/1e3;refreshDelay=Math.max(delay-timeSinceLastUpdate,0);eventBus.trigger(_coreEventsEventsJs2["default"].MANIFEST_UPDATED,{manifest:manifest});if(!isStopped){startManifestRefreshTimer()}}function onRefreshTimer(){var manifest,url;if(isStopped||isUpdating)return;isUpdating=true;manifest=manifestModel.getValue();url=manifest.url;if(manifest.hasOwnProperty("Location")){url=manifest.Location}manifestLoader.load(url)}function onManifestLoaded(e){if(!e.error){update(e.manifest)}}function onPlaybackStarted(){isStopped=false;startManifestRefreshTimer()}function onPlaybackPaused(){isStopped=true;clear()}function onStreamsComposed(){isUpdating=false}instance={initialize:initialize,setManifest:setManifest,getManifestLoader:getManifestLoader,setConfig:setConfig,reset:reset};return instance}ManifestUpdater.__dashjs_factory_name="ManifestUpdater";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(ManifestUpdater);module.exports=exports["default"]},{"../core/Debug.js":5,"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9}],37:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _dashVoUTCTimingJs=_dereq_("../dash/vo/UTCTiming.js");var _dashVoUTCTimingJs2=_interopRequireDefault(_dashVoUTCTimingJs);var _controllersPlaybackControllerJs=_dereq_("./controllers/PlaybackController.js");var _controllersPlaybackControllerJs2=_interopRequireDefault(_controllersPlaybackControllerJs);var _controllersStreamControllerJs=_dereq_("./controllers/StreamController.js");var _controllersStreamControllerJs2=_interopRequireDefault(_controllersStreamControllerJs);var _controllersMediaControllerJs=_dereq_("./controllers/MediaController.js");var _controllersMediaControllerJs2=_interopRequireDefault(_controllersMediaControllerJs);var _ManifestLoaderJs=_dereq_("./ManifestLoader.js");var _ManifestLoaderJs2=_interopRequireDefault(_ManifestLoaderJs);var _utilsLiveEdgeFinderJs=_dereq_("./utils/LiveEdgeFinder.js");var _utilsLiveEdgeFinderJs2=_interopRequireDefault(_utilsLiveEdgeFinderJs);var _utilsErrorHandlerJs=_dereq_("./utils/ErrorHandler.js");var _utilsErrorHandlerJs2=_interopRequireDefault(_utilsErrorHandlerJs);var _utilsCapabilitiesJs=_dereq_("./utils/Capabilities.js");var _utilsCapabilitiesJs2=_interopRequireDefault(_utilsCapabilitiesJs);var _TextTracksJs=_dereq_("./TextTracks.js");var _TextTracksJs2=_interopRequireDefault(_TextTracksJs);var _controllersSourceBufferControllerJs=_dereq_("./controllers/SourceBufferController.js");var _controllersSourceBufferControllerJs2=_interopRequireDefault(_controllersSourceBufferControllerJs);var _VirtualBufferJs=_dereq_("./VirtualBuffer.js");var _VirtualBufferJs2=_interopRequireDefault(_VirtualBufferJs);var _utilsRequestModifierJs=_dereq_("./utils/RequestModifier.js");var _utilsRequestModifierJs2=_interopRequireDefault(_utilsRequestModifierJs);var _TextSourceBufferJs=_dereq_("./TextSourceBuffer.js");var _TextSourceBufferJs2=_interopRequireDefault(_TextSourceBufferJs);var _modelsURIQueryAndFragmentModelJs=_dereq_("./models/URIQueryAndFragmentModel.js");var _modelsURIQueryAndFragmentModelJs2=_interopRequireDefault(_modelsURIQueryAndFragmentModelJs);var _modelsManifestModelJs=_dereq_("./models/ManifestModel.js");var _modelsManifestModelJs2=_interopRequireDefault(_modelsManifestModelJs);var _modelsMediaPlayerModelJs=_dereq_("./models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _modelsMetricsModelJs=_dereq_("./models/MetricsModel.js");var _modelsMetricsModelJs2=_interopRequireDefault(_modelsMetricsModelJs);var _controllersAbrControllerJs=_dereq_("./controllers/AbrController.js");var _controllersAbrControllerJs2=_interopRequireDefault(_controllersAbrControllerJs);var _controllersTimeSyncControllerJs=_dereq_("./controllers/TimeSyncController.js");var _controllersTimeSyncControllerJs2=_interopRequireDefault(_controllersTimeSyncControllerJs);var _rulesAbrABRRulesCollectionJs=_dereq_("./rules/abr/ABRRulesCollection.js");var _rulesAbrABRRulesCollectionJs2=_interopRequireDefault(_rulesAbrABRRulesCollectionJs);var _modelsVideoModelJs=_dereq_("./models/VideoModel.js");var _modelsVideoModelJs2=_interopRequireDefault(_modelsVideoModelJs);var _rulesRulesControllerJs=_dereq_("./rules/RulesController.js");

var _rulesRulesControllerJs2=_interopRequireDefault(_rulesRulesControllerJs);var _rulesSynchronizationSynchronizationRulesCollectionJs=_dereq_("./rules/synchronization/SynchronizationRulesCollection.js");var _rulesSynchronizationSynchronizationRulesCollectionJs2=_interopRequireDefault(_rulesSynchronizationSynchronizationRulesCollectionJs);var _controllersMediaSourceControllerJs=_dereq_("./controllers/MediaSourceController.js");var _controllersMediaSourceControllerJs2=_interopRequireDefault(_controllersMediaSourceControllerJs);var _controllersBaseURLControllerJs=_dereq_("./controllers/BaseURLController.js");var _controllersBaseURLControllerJs2=_interopRequireDefault(_controllersBaseURLControllerJs);var _coreDebugJs=_dereq_("./../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _coreEventBusJs=_dereq_("./../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("./../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _MediaPlayerEventsJs=_dereq_("./MediaPlayerEvents.js");var _MediaPlayerEventsJs2=_interopRequireDefault(_MediaPlayerEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _dashDashAdapterJs=_dereq_("../dash/DashAdapter.js");var _dashDashAdapterJs2=_interopRequireDefault(_dashDashAdapterJs);var _dashDashParserJs=_dereq_("../dash/DashParser.js");var _dashDashParserJs2=_interopRequireDefault(_dashDashParserJs);var _dashModelsDashManifestModelJs=_dereq_("../dash/models/DashManifestModel.js");var _dashModelsDashManifestModelJs2=_interopRequireDefault(_dashModelsDashManifestModelJs);var _dashDashMetricsJs=_dereq_("../dash/DashMetrics.js");var _dashDashMetricsJs2=_interopRequireDefault(_dashDashMetricsJs);var _dashUtilsTimelineConverterJs=_dereq_("../dash/utils/TimelineConverter.js");var _dashUtilsTimelineConverterJs2=_interopRequireDefault(_dashUtilsTimelineConverterJs);function MediaPlayer(){var VERSION="2.1.1";var PLAYBACK_NOT_INITIALIZED_ERROR="You must first call play() to init playback before calling this method";var ELEMENT_NOT_ATTACHED_ERROR="You must first call attachView() to set the video element before calling this method";var SOURCE_NOT_ATTACHED_ERROR="You must first call attachSource() with a valid source before calling this method";var MEDIA_PLAYER_NOT_INITIALIZED_ERROR="MediaPlayer not initialized!";var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var debug=(0,_coreDebugJs2["default"])(context).getInstance();var log=debug.log;var instance=undefined,source=undefined,protectionData=undefined,mediaPlayerInitialized=undefined,playbackInitialized=undefined,autoPlay=undefined,abrController=undefined,mediaController=undefined,protectionController=undefined,metricsReportingController=undefined,adapter=undefined,metricsModel=undefined,mediaPlayerModel=undefined,errHandler=undefined,capabilities=undefined,streamController=undefined,rulesController=undefined,playbackController=undefined,dashMetrics=undefined,dashManifestModel=undefined,videoModel=undefined,textSourceBuffer=undefined;function setup(){mediaPlayerInitialized=false;playbackInitialized=false;autoPlay=true;protectionController=null;protectionData=null;adapter=null;_coreEventsEventsJs2["default"].extend(_MediaPlayerEventsJs2["default"]);mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance()}function initialize(view,source,AutoPlay){capabilities=(0,_utilsCapabilitiesJs2["default"])(context).getInstance();errHandler=(0,_utilsErrorHandlerJs2["default"])(context).getInstance();if(!capabilities.supportsMediaSource()){errHandler.capabilityError("mediasource");return}if(mediaPlayerInitialized)return;mediaPlayerInitialized=true;abrController=(0,_controllersAbrControllerJs2["default"])(context).getInstance();playbackController=(0,_controllersPlaybackControllerJs2["default"])(context).getInstance();mediaController=(0,_controllersMediaControllerJs2["default"])(context).getInstance();mediaController.initialize();dashManifestModel=(0,_dashModelsDashManifestModelJs2["default"])(context).getInstance();dashMetrics=(0,_dashDashMetricsJs2["default"])(context).getInstance();metricsModel=(0,_modelsMetricsModelJs2["default"])(context).getInstance();metricsModel.setConfig({adapter:createAdaptor()});restoreDefaultUTCTimingSources();setAutoPlay(AutoPlay!==undefined?AutoPlay:true);if(view){attachView(view)}if(source){attachSource(source)}log("[dash.js "+VERSION+"] "+"MediaPlayer has been initialized")}function isReady(){return!!videoModel&&!!source}function play(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}if(!autoPlay||isPaused()&&playbackInitialized){playbackController.play()}}function pause(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}playbackController.pause()}function isPaused(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}return playbackController.isPaused()}function isSeeking(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}return playbackController.isSeeking()}function setMute(value){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}getVideoElement().muted=value}function isMuted(){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}return getVideoElement().muted}function setVolume(value){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}getVideoElement().volume=value}function getVolume(){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}return getVideoElement().volume}function getBufferLength(type){if(!type){var videoBuffer=getTracksFor("video").length>0?getDashMetrics().getCurrentBufferLevel(getMetricsFor("video")):Number.MAX_SAFE_INTEGER;var audioBuffer=getTracksFor("audio").length>0?getDashMetrics().getCurrentBufferLevel(getMetricsFor("audio")):Number.MAX_SAFE_INTEGER;var textBuffer=getTracksFor("fragmentedText").length>0?getDashMetrics().getCurrentBufferLevel(getMetricsFor("fragmentedText")):Number.MAX_SAFE_INTEGER;return Math.min(videoBuffer,audioBuffer,textBuffer).toPrecision(3)}else{if(type==="video"||type==="audio"||type==="fragmentedText"){var buffer=getDashMetrics().getCurrentBufferLevel(getMetricsFor(type));return buffer?buffer.toPrecision(3):NaN}else{log("Warning  - getBufferLength requested for invalid type");return NaN}}}function getDVRWindowSize(){var metric=getDVRInfoMetric();if(!metric){return 0}return metric.manifestInfo.DVRWindowSize}function getDVRSeekOffset(value){var metric=getDVRInfoMetric();if(!metric){return 0}var val=metric.range.start+value;if(val>metric.range.end){val=metric.range.end}return val}function seek(value){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var s=playbackController.getIsDynamic()?getDVRSeekOffset(value):value;playbackController.seek(s)}function time(streamId){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var t=getVideoElement().currentTime;if(streamId!==undefined){t=streamController.getTimeRelativeToStreamId(t,streamId)}if(playbackController.getIsDynamic()){var metric=getDVRInfoMetric();t=metric===null?0:duration()-(metric.range.end-metric.time)}return t}function duration(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var d=getVideoElement().duration;if(playbackController.getIsDynamic()){var metric=getDVRInfoMetric();var range;if(!metric){return 0}range=metric.range.end-metric.range.start;d=range<metric.manifestInfo.DVRWindowSize?range:metric.manifestInfo.DVRWindowSize}return d}function timeAsUTC(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}if(time()<0){return NaN}return getAsUTC(time())}function durationAsUTC(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}return getAsUTC(duration())}function formatUTC(time,locales,hour12){var dt=new Date(time*1e3);var d=dt.toLocaleDateString(locales);var t=dt.toLocaleTimeString(locales,{hour12:hour12});return t+" "+d}function convertToTimeCode(value){value=Math.max(value,0);var h=Math.floor(value/3600);var m=Math.floor(value%3600/60);var s=Math.floor(value%3600%60);return(h===0?"":h<10?"0"+h.toString()+":":h.toString()+":")+(m<10?"0"+m.toString():m.toString())+":"+(s<10?"0"+s.toString():s.toString())}function extend(parentNameString,childInstance,override){_coreFactoryMakerJs2["default"].extend(parentNameString,childInstance,override,context)}function on(type,listener,scope){eventBus.on(type,listener,scope)}function off(type,listener,scope){eventBus.off(type,listener,scope)}function getVersion(){return VERSION}function getDebug(){return debug}function getVideoModel(){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}return videoModel}function setLiveDelayFragmentCount(value){mediaPlayerModel.setLiveDelayFragmentCount(value)}function setLiveDelay(value){mediaPlayerModel.setLiveDelay(value)}function useSuggestedPresentationDelay(value){mediaPlayerModel.setUseSuggestedPresentationDelay(value)}function enableLastBitrateCaching(enable,ttl){mediaPlayerModel.setLastBitrateCachingInfo(enable,ttl)}function enableLastMediaSettingsCaching(enable,ttl){mediaPlayerModel.setLastMediaSettingsCachingInfo(enable,ttl)}function setMaxAllowedBitrateFor(type,value){abrController.setMaxAllowedBitrateFor(type,value)}function getMaxAllowedBitrateFor(type){return abrController.getMaxAllowedBitrateFor(type)}function setMaxAllowedRepresentationRatioFor(type,value){abrController.setMaxAllowedRepresentationRatioFor(type,value)}function getMaxAllowedRepresentationRatioFor(type){return abrController.getMaxAllowedRepresentationRatioFor(type)}function setAutoPlay(value){autoPlay=value}function getAutoPlay(){return autoPlay}function setScheduleWhilePaused(value){mediaPlayerModel.setScheduleWhilePaused(value)}function getScheduleWhilePaused(){return mediaPlayerModel.getScheduleWhilePaused()}function getDashMetrics(){return dashMetrics}function getMetricsFor(type){return metricsModel.getReadOnlyMetricsFor(type)}function getQualityFor(type){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}return abrController.getQualityFor(type,streamController.getActiveStreamInfo())}function setQualityFor(type,value){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}abrController.setPlaybackQuality(type,streamController.getActiveStreamInfo(),value)}function getLimitBitrateByPortal(){return abrController.getLimitBitrateByPortal()}function setLimitBitrateByPortal(value){abrController.setLimitBitrateByPortal(value)}function setTextTrack(idx){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}if(textSourceBuffer===undefined){textSourceBuffer=(0,_TextSourceBufferJs2["default"])(context).getInstance()}var tracks=getVideoElement().textTracks;var ln=tracks.length;for(var i=0;i<ln;i++){var track=tracks[i];var mode=idx===i?"showing":"hidden";if(track.mode!==mode){track.mode=mode}}textSourceBuffer.setTextTrack()}function getBitrateInfoListFor(type){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var stream=getActiveStream();return stream?stream.getBitrateListFor(type):[]}function setInitialBitrateFor(type,value){abrController.setInitialBitrateFor(type,value)}function getInitialBitrateFor(type){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}return abrController.getInitialBitrateFor(type)}function setInitialRepresentationRatioFor(type,value){abrController.setInitialRepresentationRatioFor(type,value)}function getInitialRepresentationRatioFor(type){return abrController.getInitialRepresentationRatioFor(type)}function getStreamsFromManifest(manifest){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}return adapter.getStreamsInfo(manifest)}function getTracksFor(type){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var streamInfo=streamController.getActiveStreamInfo();if(!streamInfo)return[];return mediaController.getTracksFor(type,streamInfo)}function getTracksForTypeFromManifest(type,manifest,streamInfo){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}streamInfo=streamInfo||adapter.getStreamsInfo(manifest)[0];return streamInfo?adapter.getAllMediaInfoForType(manifest,streamInfo,type):[]}function getCurrentTrackFor(type){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var streamInfo=streamController.getActiveStreamInfo();if(!streamInfo)return null;return mediaController.getCurrentTrackFor(type,streamInfo)}function setInitialMediaSettingsFor(type,value){mediaController.setInitialSettings(type,value)}function getInitialMediaSettingsFor(type){return mediaController.getInitialSettings(type)}function setCurrentTrack(track){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}mediaController.setTrack(track)}function getTrackSwitchModeFor(type){return mediaController.getSwitchMode(type)}function setTrackSwitchModeFor(type,mode){mediaController.setSwitchMode(type,mode)}function setSelectionModeForInitialTrack(mode){mediaController.setSelectionModeForInitialTrack(mode)}function getSelectionModeForInitialTrack(){return mediaController.getSelectionModeForInitialTrack()}function getAutoSwitchQuality(){return abrController.getAutoSwitchBitrateFor("video")||abrController.getAutoSwitchBitrateFor("audio")}function setAutoSwitchQuality(value){abrController.setAutoSwitchBitrateFor("video",value);abrController.setAutoSwitchBitrateFor("audio",value)}function getAutoSwitchQualityFor(type){return abrController.getAutoSwitchBitrateFor(type)}function setAutoSwitchQualityFor(type,value){abrController.setAutoSwitchBitrateFor(type,value)}function enableBufferOccupancyABR(value){mediaPlayerModel.setBufferOccupancyABREnabled(value)}function retrieveManifest(url,callback){var manifestLoader=createManifestLoader();var self=this;var handler=function handler(e){if(!e.error){callback(e.manifest)}else{callback(null,e.error)}eventBus.off(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,handler,self);manifestLoader.reset()};eventBus.on(_coreEventsEventsJs2["default"].INTERNAL_MANIFEST_LOADED,handler,self);var uriQueryFragModel=(0,_modelsURIQueryAndFragmentModelJs2["default"])(context).getInstance();uriQueryFragModel.initialize();manifestLoader.load(uriQueryFragModel.parseURI(url))}function addUTCTimingSource(schemeIdUri,value){removeUTCTimingSource(schemeIdUri,value);var vo=new _dashVoUTCTimingJs2["default"];vo.schemeIdUri=schemeIdUri;vo.value=value;mediaPlayerModel.getUTCTimingSources().push(vo)}function removeUTCTimingSource(schemeIdUri,value){var UTCTimingSources=mediaPlayerModel.getUTCTimingSources();UTCTimingSources.forEach(function(obj,idx){if(obj.schemeIdUri===schemeIdUri&&obj.value===value){UTCTimingSources.splice(idx,1)}})}function clearDefaultUTCTimingSources(){mediaPlayerModel.setUTCTimingSources([])}function restoreDefaultUTCTimingSources(){addUTCTimingSource(_modelsMediaPlayerModelJs2["default"].DEFAULT_UTC_TIMING_SOURCE.scheme,_modelsMediaPlayerModelJs2["default"].DEFAULT_UTC_TIMING_SOURCE.value)}function enableManifestDateHeaderTimeSource(value){mediaPlayerModel.setUseManifestDateHeaderTimeSource(value)}function setBufferToKeep(value){mediaPlayerModel.setBufferToKeep(value)}function setBufferPruningInterval(value){mediaPlayerModel.setBufferPruningInterval(value)}function setStableBufferTime(value){mediaPlayerModel.setStableBufferTime(value)}function setBufferTimeAtTopQuality(value){mediaPlayerModel.setBufferTimeAtTopQuality(value)}function setBufferTimeAtTopQualityLongForm(value){mediaPlayerModel.setBufferTimeAtTopQualityLongForm(value)}function setLongFormContentDurationThreshold(value){mediaPlayerModel.setLongFormContentDurationThreshold(value)}function setRichBufferThreshold(value){mediaPlayerModel.setRichBufferThreshold(value)}function setBandwidthSafetyFactor(value){mediaPlayerModel.setBandwidthSafetyFactor(value)}function getBandwidthSafetyFactor(){return mediaPlayerModel.getBandwidthSafetyFactor()}function setAbandonLoadTimeout(value){mediaPlayerModel.setAbandonLoadTimeout(value)}function setFragmentLoaderRetryAttempts(value){mediaPlayerModel.setFragmentRetryAttempts(value)}function setFragmentLoaderRetryInterval(value){mediaPlayerModel.setFragmentRetryInterval(value)}function getProtectionController(){return detectProtection()}function attachProtectionController(value){protectionController=value}function setProtectionData(value){protectionData=value}function displayCaptionsOnTop(value){var textTracks=(0,_TextTracksJs2["default"])(context).getInstance();textTracks.setConfig({videoModel:videoModel});textTracks.initialize();textTracks.displayCConTop(value)}function getVideoContainer(){return videoModel?videoModel.getVideoContainer():null}function attachVideoContainer(container){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}videoModel.setVideoContainer(container)}function getVideoElement(){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}return videoModel.getElement()}function attachView(element){if(!mediaPlayerInitialized){throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR}videoModel=null;if(element){videoModel=(0,_modelsVideoModelJs2["default"])(context).getInstance();videoModel.initialize();videoModel.setElement(element);detectProtection();detectMetricsReporting()}resetAndInitializePlayback()}function getTTMLRenderingDiv(){return videoModel?videoModel.getTTMLRenderingDiv():null}function attachTTMLRenderingDiv(div){if(!videoModel){throw ELEMENT_NOT_ATTACHED_ERROR}videoModel.setTTMLRenderingDiv(div)}function getSource(){if(!source){throw SOURCE_NOT_ATTACHED_ERROR}return source}function attachSource(urlOrManifest){if(!mediaPlayerInitialized){throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR}if(typeof urlOrManifest==="string"){var uriQueryFragModel=(0,_modelsURIQueryAndFragmentModelJs2["default"])(context).getInstance();uriQueryFragModel.initialize();source=uriQueryFragModel.parseURI(urlOrManifest)}else{source=urlOrManifest}resetAndInitializePlayback()}function reset(){attachSource(null);attachView(null);protectionData=null;protectionController=null}function resetAndInitializePlayback(){if(playbackInitialized){playbackInitialized=false;adapter.reset();streamController.reset();playbackController.reset();abrController.reset();rulesController.reset();mediaController.reset();streamController=null;metricsReportingController=null;if(isReady()){initializePlayback()}}else if(isReady()){initializePlayback()}}function createControllers(){var synchronizationRulesCollection=(0,_rulesSynchronizationSynchronizationRulesCollectionJs2["default"])(context).getInstance();synchronizationRulesCollection.initialize();var abrRulesCollection=(0,_rulesAbrABRRulesCollectionJs2["default"])(context).getInstance();abrRulesCollection.initialize();var sourceBufferController=(0,_controllersSourceBufferControllerJs2["default"])(context).getInstance();sourceBufferController.setConfig({dashManifestModel:dashManifestModel});var virtualBuffer=(0,_VirtualBufferJs2["default"])(context).getInstance();virtualBuffer.setConfig({sourceBufferController:sourceBufferController});mediaController.initialize();mediaController.setConfig({errHandler:errHandler});rulesController=(0,_rulesRulesControllerJs2["default"])(context).getInstance();rulesController.initialize();rulesController.setConfig({abrRulesCollection:abrRulesCollection,synchronizationRulesCollection:synchronizationRulesCollection});streamController=(0,_controllersStreamControllerJs2["default"])(context).getInstance();streamController.setConfig({capabilities:capabilities,manifestLoader:createManifestLoader(),manifestModel:(0,_modelsManifestModelJs2["default"])(context).getInstance(),dashManifestModel:dashManifestModel,protectionController:protectionController,adapter:adapter,metricsModel:metricsModel,dashMetrics:dashMetrics,liveEdgeFinder:(0,_utilsLiveEdgeFinderJs2["default"])(context).getInstance(),mediaSourceController:(0,_controllersMediaSourceControllerJs2["default"])(context).getInstance(),timeSyncController:(0,_controllersTimeSyncControllerJs2["default"])(context).getInstance(),baseURLController:(0,_controllersBaseURLControllerJs2["default"])(context).getInstance(),virtualBuffer:virtualBuffer,errHandler:errHandler,timelineConverter:(0,_dashUtilsTimelineConverterJs2["default"])(context).getInstance()});streamController.initialize(autoPlay,protectionData);abrController.setConfig({abrRulesCollection:abrRulesCollection,rulesController:rulesController,streamController:streamController})}function createManifestLoader(){return(0,_ManifestLoaderJs2["default"])(context).create({errHandler:errHandler,parser:createManifestParser(),metricsModel:metricsModel,requestModifier:(0,_utilsRequestModifierJs2["default"])(context).getInstance()})}function createManifestParser(){return(0,_dashDashParserJs2["default"])(context).create()}function createAdaptor(){adapter=(0,_dashDashAdapterJs2["default"])(context).getInstance();adapter.initialize();adapter.setConfig({dashManifestModel:dashManifestModel});return adapter}function detectProtection(){if(protectionController){return protectionController}var Protection=dashjs.Protection;if(typeof Protection=="function"){var protection=Protection(context).create();_coreEventsEventsJs2["default"].extend(Protection.events);_MediaPlayerEventsJs2["default"].extend(Protection.events,{publicOnly:true});protectionController=protection.createProtectionSystem({log:log,videoModel:videoModel,capabilities:capabilities,eventBus:eventBus,adapter:adapter});return protectionController}return null}function detectMetricsReporting(){if(metricsReportingController){return metricsReportingController}var MetricsReporting=dashjs.MetricsReporting;if(typeof MetricsReporting==="function"){var metricsReporting=MetricsReporting(context).create();metricsReportingController=metricsReporting.createMetricsReporting({log:log,eventBus:eventBus,mediaElement:getVideoElement(),dashManifestModel:dashManifestModel,metricsModel:metricsModel});return metricsReportingController}return null}function getDVRInfoMetric(){var metric=metricsModel.getReadOnlyMetricsFor("video")||metricsModel.getReadOnlyMetricsFor("audio");return dashMetrics.getCurrentDVRInfo(metric)}function getAsUTC(valToConvert){var metric=getDVRInfoMetric();var availableFrom,utcValue;if(!metric){return 0}availableFrom=metric.manifestInfo.availableFrom.getTime()/1e3;utcValue=valToConvert+(availableFrom+metric.range.start);return utcValue}function getActiveStream(){if(!playbackInitialized){throw PLAYBACK_NOT_INITIALIZED_ERROR}var streamInfo=streamController.getActiveStreamInfo();return streamInfo?streamController.getStreamById(streamInfo.id):null}function initializePlayback(){if(!playbackInitialized){playbackInitialized=true;log("Playback Initialized");createControllers();if(typeof source==="string"){streamController.load(source)}else{streamController.loadWithManifest(source)}}}instance={initialize:initialize,on:on,off:off,extend:extend,attachView:attachView,attachSource:attachSource,isReady:isReady,play:play,isPaused:isPaused,pause:pause,isSeeking:isSeeking,seek:seek,setMute:setMute,isMuted:isMuted,setVolume:setVolume,getVolume:getVolume,time:time,duration:duration,timeAsUTC:timeAsUTC,durationAsUTC:durationAsUTC,getActiveStream:getActiveStream,getDVRWindowSize:getDVRWindowSize,getDVRSeekOffset:getDVRSeekOffset,convertToTimeCode:convertToTimeCode,formatUTC:formatUTC,getVersion:getVersion,getDebug:getDebug,getBufferLength:getBufferLength,getVideoModel:getVideoModel,getVideoContainer:getVideoContainer,getTTMLRenderingDiv:getTTMLRenderingDiv,getVideoElement:getVideoElement,getSource:getSource,setLiveDelayFragmentCount:setLiveDelayFragmentCount,setLiveDelay:setLiveDelay,useSuggestedPresentationDelay:useSuggestedPresentationDelay,enableLastBitrateCaching:enableLastBitrateCaching,enableLastMediaSettingsCaching:enableLastMediaSettingsCaching,setMaxAllowedBitrateFor:setMaxAllowedBitrateFor,getMaxAllowedBitrateFor:getMaxAllowedBitrateFor,setMaxAllowedRepresentationRatioFor:setMaxAllowedRepresentationRatioFor,getMaxAllowedRepresentationRatioFor:getMaxAllowedRepresentationRatioFor,setAutoPlay:setAutoPlay,getAutoPlay:getAutoPlay,setScheduleWhilePaused:setScheduleWhilePaused,getScheduleWhilePaused:getScheduleWhilePaused,getDashMetrics:getDashMetrics,getMetricsFor:getMetricsFor,getQualityFor:getQualityFor,setQualityFor:setQualityFor,getLimitBitrateByPortal:getLimitBitrateByPortal,setLimitBitrateByPortal:setLimitBitrateByPortal,setTextTrack:setTextTrack,getBitrateInfoListFor:getBitrateInfoListFor,setInitialBitrateFor:setInitialBitrateFor,getInitialBitrateFor:getInitialBitrateFor,setInitialRepresentationRatioFor:setInitialRepresentationRatioFor,getInitialRepresentationRatioFor:getInitialRepresentationRatioFor,getStreamsFromManifest:getStreamsFromManifest,getTracksFor:getTracksFor,getTracksForTypeFromManifest:getTracksForTypeFromManifest,getCurrentTrackFor:getCurrentTrackFor,setInitialMediaSettingsFor:setInitialMediaSettingsFor,getInitialMediaSettingsFor:getInitialMediaSettingsFor,setCurrentTrack:setCurrentTrack,getTrackSwitchModeFor:getTrackSwitchModeFor,setTrackSwitchModeFor:setTrackSwitchModeFor,setSelectionModeForInitialTrack:setSelectionModeForInitialTrack,getSelectionModeForInitialTrack:getSelectionModeForInitialTrack,getAutoSwitchQuality:getAutoSwitchQuality,setAutoSwitchQuality:setAutoSwitchQuality,getAutoSwitchQualityFor:getAutoSwitchQualityFor,setAutoSwitchQualityFor:setAutoSwitchQualityFor,enableBufferOccupancyABR:enableBufferOccupancyABR,setBandwidthSafetyFactor:setBandwidthSafetyFactor,getBandwidthSafetyFactor:getBandwidthSafetyFactor,setAbandonLoadTimeout:setAbandonLoadTimeout,retrieveManifest:retrieveManifest,addUTCTimingSource:addUTCTimingSource,removeUTCTimingSource:removeUTCTimingSource,clearDefaultUTCTimingSources:clearDefaultUTCTimingSources,restoreDefaultUTCTimingSources:restoreDefaultUTCTimingSources,setBufferToKeep:setBufferToKeep,setBufferPruningInterval:setBufferPruningInterval,setStableBufferTime:setStableBufferTime,setBufferTimeAtTopQuality:setBufferTimeAtTopQuality,setFragmentLoaderRetryAttempts:setFragmentLoaderRetryAttempts,setFragmentLoaderRetryInterval:setFragmentLoaderRetryInterval,setBufferTimeAtTopQualityLongForm:setBufferTimeAtTopQualityLongForm,setLongFormContentDurationThreshold:setLongFormContentDurationThreshold,setRichBufferThreshold:setRichBufferThreshold,getProtectionController:getProtectionController,attachProtectionController:attachProtectionController,setProtectionData:setProtectionData,enableManifestDateHeaderTimeSource:enableManifestDateHeaderTimeSource,displayCaptionsOnTop:displayCaptionsOnTop,attachVideoContainer:attachVideoContainer,attachTTMLRenderingDiv:attachTTMLRenderingDiv,reset:reset};setup();return instance}MediaPlayer.__dashjs_factory_name="MediaPlayer";var factory=_coreFactoryMakerJs2["default"].getClassFactory(MediaPlayer);factory.events=_MediaPlayerEventsJs2["default"];exports["default"]=factory;module.exports=exports["default"]},{"../core/FactoryMaker.js":7,"../dash/DashAdapter.js":11,"../dash/DashMetrics.js":13,"../dash/DashParser.js":14,"../dash/models/DashManifestModel.js":17,"../dash/utils/TimelineConverter.js":23,"../dash/vo/UTCTiming.js":33,"./../core/Debug.js":5,"./../core/EventBus.js":6,"./../core/events/Events.js":9,"./ManifestLoader.js":35,"./MediaPlayerEvents.js":38,"./TextSourceBuffer.js":41,"./TextTracks.js":42,"./VirtualBuffer.js":43,"./controllers/AbrController.js":46,"./controllers/BaseURLController.js":47,"./controllers/MediaController.js":52,"./controllers/MediaSourceController.js":53,"./controllers/PlaybackController.js":54,"./controllers/SourceBufferController.js":56,"./controllers/StreamController.js":57,"./controllers/TimeSyncController.js":59,"./models/ManifestModel.js":63,"./models/MediaPlayerModel.js":64,"./models/MetricsModel.js":65,"./models/URIQueryAndFragmentModel.js":66,"./models/VideoModel.js":67,"./rules/RulesController.js":69,"./rules/abr/ABRRulesCollection.js":71,"./rules/synchronization/SynchronizationRulesCollection.js":84,"./utils/Capabilities.js":87,"./utils/ErrorHandler.js":90,"./utils/LiveEdgeFinder.js":92,"./utils/RequestModifier.js":94}],38:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _coreEventsEventsBaseJs=_dereq_("../core/events/EventsBase.js");var _coreEventsEventsBaseJs2=_interopRequireDefault(_coreEventsEventsBaseJs);var MediaPlayerEvents=function(_EventsBase){_inherits(MediaPlayerEvents,_EventsBase);function MediaPlayerEvents(){_classCallCheck(this,MediaPlayerEvents);_get(Object.getPrototypeOf(MediaPlayerEvents.prototype),"constructor",this).call(this);this.BUFFER_EMPTY="bufferstalled";this.BUFFER_LOADED="bufferloaded";this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged";this.ERROR="error";this.LOG="log";this.MANIFEST_LOADED="manifestloaded";this.METRICS_CHANGED="metricschanged";this.METRIC_CHANGED="metricchanged";this.METRIC_ADDED="metricadded";this.METRIC_UPDATED="metricupdated";this.PERIOD_SWITCH_COMPLETED="streamswitchcompleted";this.PERIOD_SWITCH_STARTED="streamswitchstarted";this.STREAM_INITIALIZED="streaminitialized";this.TEXT_TRACKS_ADDED="alltexttracksadded";this.TEXT_TRACK_ADDED="texttrackadded";this.CAN_PLAY="canPlay";this.PLAYBACK_ENDED="playbackEnded";this.PLAYBACK_ERROR="playbackError";this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded";this.PLAYBACK_PAUSED="playbackPaused";this.PLAYBACK_PLAYING="playbackPlaying";this.PLAYBACK_PROGRESS="playbackProgress";this.PLAYBACK_RATE_CHANGED="playbackRateChanged";this.PLAYBACK_SEEKED="playbackSeeked";this.PLAYBACK_SEEKING="playbackSeeking";this.PLAYBACK_STARTED="playbackStarted";this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return MediaPlayerEvents}(_coreEventsEventsBaseJs2["default"]);var mediaPlayerEvents=new MediaPlayerEvents;exports["default"]=mediaPlayerEvents;module.exports=exports["default"]},{"../core/events/EventsBase.js":10}],39:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _utilsLiveEdgeFinderJs=_dereq_("./utils/LiveEdgeFinder.js");var _utilsLiveEdgeFinderJs2=_interopRequireDefault(_utilsLiveEdgeFinderJs);var _StreamProcessorJs=_dereq_("./StreamProcessor.js");var _StreamProcessorJs2=_interopRequireDefault(_StreamProcessorJs);var _controllersMediaControllerJs=_dereq_("./controllers/MediaController.js");var _controllersMediaControllerJs2=_interopRequireDefault(_controllersMediaControllerJs);var _controllersEventControllerJs=_dereq_("./controllers/EventController.js");var _controllersEventControllerJs2=_interopRequireDefault(_controllersEventControllerJs);var _controllersFragmentControllerJs=_dereq_("./controllers/FragmentController.js");var _controllersFragmentControllerJs2=_interopRequireDefault(_controllersFragmentControllerJs);var _controllersAbrControllerJs=_dereq_("./controllers/AbrController.js");var _controllersAbrControllerJs2=_interopRequireDefault(_controllersAbrControllerJs);

var _modelsVideoModelJs=_dereq_("./models/VideoModel.js");var _modelsVideoModelJs2=_interopRequireDefault(_modelsVideoModelJs);var _modelsMetricsModelJs=_dereq_("./models/MetricsModel.js");var _modelsMetricsModelJs2=_interopRequireDefault(_modelsMetricsModelJs);var _controllersPlaybackControllerJs=_dereq_("./controllers/PlaybackController.js");var _controllersPlaybackControllerJs2=_interopRequireDefault(_controllersPlaybackControllerJs);var _dashDashHandlerJs=_dereq_("../dash/DashHandler.js");var _dashDashHandlerJs2=_interopRequireDefault(_dashDashHandlerJs);var _dashSegmentBaseLoaderJs=_dereq_("../dash/SegmentBaseLoader.js");var _dashSegmentBaseLoaderJs2=_interopRequireDefault(_dashSegmentBaseLoaderJs);var _dashDashMetricsJs=_dereq_("../dash/DashMetrics.js");var _dashDashMetricsJs2=_interopRequireDefault(_dashDashMetricsJs);var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _TextSourceBufferJs=_dereq_("./TextSourceBuffer.js");var _TextSourceBufferJs2=_interopRequireDefault(_TextSourceBufferJs);function Stream(config){var DATA_UPDATE_FAILED_ERROR_CODE=1;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var manifestModel=config.manifestModel;var manifestUpdater=config.manifestUpdater;var adapter=config.adapter;var capabilities=config.capabilities;var errHandler=config.errHandler;var timelineConverter=config.timelineConverter;var baseURLController=config.baseURLController;var instance=undefined,streamProcessors=undefined,isStreamActivated=undefined,isMediaInitialized=undefined,streamInfo=undefined,updateError=undefined,isUpdating=undefined,initialized=undefined,protectionController=undefined,liveEdgeFinder=undefined,playbackController=undefined,mediaController=undefined,fragmentController=undefined,eventController=undefined,abrController=undefined,textSourceBuffer=undefined;function setup(){streamProcessors=[];isStreamActivated=false;isMediaInitialized=false;streamInfo=null;updateError={};isUpdating=false;initialized=false;liveEdgeFinder=(0,_utilsLiveEdgeFinderJs2["default"])(context).getInstance();playbackController=(0,_controllersPlaybackControllerJs2["default"])(context).getInstance();abrController=(0,_controllersAbrControllerJs2["default"])(context).getInstance();mediaController=(0,_controllersMediaControllerJs2["default"])(context).getInstance();fragmentController=(0,_controllersFragmentControllerJs2["default"])(context).create();textSourceBuffer=(0,_TextSourceBufferJs2["default"])(context).getInstance();eventBus.on(_coreEventsEventsJs2["default"].BUFFERING_COMPLETED,onBufferingCompleted,instance);eventBus.on(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,instance)}function initialize(StreamInfo,ProtectionController){streamInfo=StreamInfo;protectionController=ProtectionController;if(protectionController){eventBus.on(_coreEventsEventsJs2["default"].KEY_ERROR,onProtectionError,instance);eventBus.on(_coreEventsEventsJs2["default"].SERVER_CERTIFICATE_UPDATED,onProtectionError,instance);eventBus.on(_coreEventsEventsJs2["default"].LICENSE_REQUEST_COMPLETE,onProtectionError,instance);eventBus.on(_coreEventsEventsJs2["default"].KEY_SYSTEM_SELECTED,onProtectionError,instance);eventBus.on(_coreEventsEventsJs2["default"].KEY_SESSION_CREATED,onProtectionError,instance)}}function activate(mediaSource){if(!isStreamActivated){eventBus.on(_coreEventsEventsJs2["default"].CURRENT_TRACK_CHANGED,onCurrentTrackChanged,instance);initializeMedia(mediaSource)}else{createBuffers()}}function deactivate(){var ln=streamProcessors.length;for(var i=0;i<ln;i++){streamProcessors[i].reset()}streamProcessors=[];isStreamActivated=false;isMediaInitialized=false;clearEventController();eventBus.off(_coreEventsEventsJs2["default"].CURRENT_TRACK_CHANGED,onCurrentTrackChanged,instance)}function reset(){if(playbackController){playbackController.pause();playbackController=null}if(fragmentController){fragmentController.reset();fragmentController=null}liveEdgeFinder.abortSearch();deactivate();mediaController=null;abrController=null;manifestUpdater=null;manifestModel=null;adapter=null;capabilities=null;log=null;errHandler=null;isUpdating=false;initialized=false;updateError={};eventBus.off(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,instance);eventBus.off(_coreEventsEventsJs2["default"].BUFFERING_COMPLETED,onBufferingCompleted,instance);eventBus.off(_coreEventsEventsJs2["default"].KEY_ERROR,onProtectionError,instance);eventBus.off(_coreEventsEventsJs2["default"].SERVER_CERTIFICATE_UPDATED,onProtectionError,instance);eventBus.off(_coreEventsEventsJs2["default"].LICENSE_REQUEST_COMPLETE,onProtectionError,instance);eventBus.off(_coreEventsEventsJs2["default"].KEY_SYSTEM_SELECTED,onProtectionError,instance);eventBus.off(_coreEventsEventsJs2["default"].KEY_SESSION_CREATED,onProtectionError,instance)}function getDuration(){return streamInfo.duration}function getStartTime(){return streamInfo.start}function getStreamIndex(){return streamInfo.index}function getId(){return streamInfo.id}function getStreamInfo(){return streamInfo}function hasMedia(type){return getMediaInfo(type)!==null}function getBitrateListFor(type){var mediaInfo=getMediaInfo(type);return abrController.getBitrateList(mediaInfo)}function startEventController(){if(eventController){eventController.start()}}function clearEventController(){if(eventController){eventController.clear()}}function isActivated(){return isStreamActivated}function isInitialized(){return initialized}function onProtectionError(event){if(event.error){errHandler.mediaKeySessionError(event.error);log(event.error);reset()}}function getMimeTypeOrType(mediaInfo){return mediaInfo.type==="text"?mediaInfo.mimeType:mediaInfo.type}function isMediaSupported(mediaInfo,mediaSource,manifest){var type=mediaInfo.type;var codec,msg;if(type==="muxed"&&mediaInfo){msg="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines";log(msg);errHandler.manifestError(msg,"multiplexedrep",manifestModel.getValue());return false}if(type==="text"||type==="fragmentedText"||type==="embeddedText")return true;codec=mediaInfo.codec;log(type+" codec: "+codec);if(!!mediaInfo.contentProtection&&!capabilities.supportsEncryptedMedia()){errHandler.capabilityError("encryptedmedia")}else if(!capabilities.supportsCodec((0,_modelsVideoModelJs2["default"])(context).getInstance().getElement(),codec)){msg=type+"Codec ("+codec+") is not supported.";errHandler.manifestError(msg,"codec",manifest);log(msg);return false}return true}function onCurrentTrackChanged(e){if(e.newMediaInfo.streamInfo.id!==streamInfo.id)return;var processor=getProcessorForMediaInfo(e.oldMediaInfo);if(!processor)return;var currentTime=playbackController.getTime();var buffer=processor.getBuffer();var mediaInfo=e.newMediaInfo;var manifest=manifestModel.getValue();var idx=streamProcessors.indexOf(processor);var mediaSource=processor.getMediaSource();if(mediaInfo.type!=="fragmentedText"){processor.reset(true);createStreamProcessor(mediaInfo,manifest,mediaSource,{buffer:buffer,replaceIdx:idx,currentTime:currentTime});playbackController.seek(playbackController.getTime())}else{processor.updateMediaInfo(manifest,mediaInfo)}}function createIndexHandler(){var segmentBaseLoader=(0,_dashSegmentBaseLoaderJs2["default"])(context).getInstance();segmentBaseLoader.setConfig({baseURLController:baseURLController});segmentBaseLoader.initialize();var handler=(0,_dashDashHandlerJs2["default"])(context).create({segmentBaseLoader:segmentBaseLoader,timelineConverter:timelineConverter,dashMetrics:(0,_dashDashMetricsJs2["default"])(context).getInstance(),metricsModel:(0,_modelsMetricsModelJs2["default"])(context).getInstance(),baseURLController:baseURLController});return handler}function createStreamProcessor(mediaInfo,manifest,mediaSource,optionalSettings){var streamProcessor=(0,_StreamProcessorJs2["default"])(context).create({indexHandler:createIndexHandler(),timelineConverter:timelineConverter,adapter:adapter,manifestModel:manifestModel});var allMediaForType=adapter.getAllMediaInfoForType(manifest,streamInfo,mediaInfo.type);streamProcessor.initialize(getMimeTypeOrType(mediaInfo),fragmentController,mediaSource,instance,eventController);abrController.updateTopQualityIndex(mediaInfo);if(optionalSettings){streamProcessor.setBuffer(optionalSettings.buffer);streamProcessors[optionalSettings.replaceIdx]=streamProcessor}else{streamProcessors.push(streamProcessor)}if(mediaInfo.type==="text"||mediaInfo.type==="fragmentedText"){var idx;for(var i=0;i<allMediaForType.length;i++){if(allMediaForType[i].index===mediaInfo.index){idx=i}streamProcessor.updateMediaInfo(manifest,allMediaForType[i])}if(mediaInfo.type==="fragmentedText"){streamProcessor.updateMediaInfo(manifest,allMediaForType[idx])}}else{streamProcessor.updateMediaInfo(manifest,mediaInfo)}return streamProcessor}function initializeMediaForType(type,mediaSource){var manifest=manifestModel.getValue();var allMediaForType=adapter.getAllMediaInfoForType(manifest,streamInfo,type);var mediaInfo=null;var initialMediaInfo;if(!allMediaForType||allMediaForType.length===0){log("No "+type+" data.");return}for(var i=0,ln=allMediaForType.length;i<ln;i++){mediaInfo=allMediaForType[i];if(type==="embeddedText"){textSourceBuffer.addEmbeddedTrack(mediaInfo)}else{if(!isMediaSupported(mediaInfo,mediaSource,manifest))continue;if(mediaController.isMultiTrackSupportedByType(mediaInfo.type)){mediaController.addTrack(mediaInfo,streamInfo)}}}if(type==="embeddedText"||mediaController.getTracksFor(type,streamInfo).length===0){return}mediaController.checkInitialMediaSettingsForType(type,streamInfo);initialMediaInfo=mediaController.getCurrentTrackFor(type,streamInfo);createStreamProcessor(initialMediaInfo,manifest,mediaSource)}function initializeMedia(mediaSource){var manifest=manifestModel.getValue();var events;eventController=(0,_controllersEventControllerJs2["default"])(context).getInstance();eventController.initialize();eventController.setConfig({manifestModel:manifestModel,manifestUpdater:manifestUpdater});events=adapter.getEventsFor(manifest,streamInfo);eventController.addInlineEvents(events);isUpdating=true;initializeMediaForType("video",mediaSource);initializeMediaForType("audio",mediaSource);initializeMediaForType("text",mediaSource);initializeMediaForType("fragmentedText",mediaSource);initializeMediaForType("embeddedText",mediaSource);initializeMediaForType("muxed",mediaSource);createBuffers();isMediaInitialized=true;isUpdating=false;if(streamProcessors.length===0){var msg="No streams to play.";errHandler.manifestError(msg,"nostreams",manifest);log(msg)}else{liveEdgeFinder.initialize(timelineConverter,streamProcessors[0]);checkIfInitializationCompleted()}}function checkIfInitializationCompleted(){var ln=streamProcessors.length;var hasError=!!updateError.audio||!!updateError.video;var error=hasError?new Error(DATA_UPDATE_FAILED_ERROR_CODE,"Data update failed",null):null;var i=0;for(i;i<ln;i++){if(streamProcessors[i].isUpdating()||isUpdating)return}initialized=true;isStreamActivated=true;if(!isMediaInitialized)return;if(protectionController){protectionController.initialize(manifestModel.getValue(),getMediaInfo("audio"),getMediaInfo("video"))}eventBus.trigger(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,{streamInfo:streamInfo,error:error})}function getMediaInfo(type){var ln=streamProcessors.length;var mediaCtrl=null;for(var i=0;i<ln;i++){mediaCtrl=streamProcessors[i];if(mediaCtrl.getType()===type)return mediaCtrl.getMediaInfo()}return null}function createBuffers(){for(var i=0,ln=streamProcessors.length;i<ln;i++){streamProcessors[i].createBuffer()}}function onBufferingCompleted(e){if(e.streamInfo!==streamInfo)return;var processors=getProcessors();var ln=processors.length;var i=0;for(i;i<ln;i++){if(!processors[i].isBufferingCompleted())return}eventBus.trigger(_coreEventsEventsJs2["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:streamInfo})}function onDataUpdateCompleted(e){var sp=e.sender.getStreamProcessor();if(sp.getStreamInfo()!==streamInfo)return;updateError[sp.getType()]=e.error;checkIfInitializationCompleted()}function getProcessorForMediaInfo(mediaInfo){if(!mediaInfo)return false;var processors=getProcessors();return processors.filter(function(processor){return processor.getType()===mediaInfo.type})[0]}function getProcessors(){var ln=streamProcessors.length;var arr=[];var i=0;var type,controller;for(i;i<ln;i++){controller=streamProcessors[i];type=controller.getType();if(type==="audio"||type==="video"||type==="fragmentedText"){arr.push(controller)}}return arr}function updateData(updatedStreamInfo){var ln=streamProcessors.length;var manifest=manifestModel.getValue();var i=0;var mediaInfo,events,controller;isStreamActivated=false;streamInfo=updatedStreamInfo;log("Manifest updated... set new data on buffers.");if(eventController){events=adapter.getEventsFor(manifest,streamInfo);eventController.addInlineEvents(events)}isUpdating=true;initialized=false;for(i;i<ln;i++){controller=streamProcessors[i];mediaInfo=adapter.getMediaInfoForType(manifest,streamInfo,controller.getType());abrController.updateTopQualityIndex(mediaInfo);controller.updateMediaInfo(manifest,mediaInfo)}isUpdating=false;checkIfInitializationCompleted()}instance={initialize:initialize,activate:activate,deactivate:deactivate,getDuration:getDuration,getStartTime:getStartTime,getStreamIndex:getStreamIndex,getId:getId,getStreamInfo:getStreamInfo,hasMedia:hasMedia,getBitrateListFor:getBitrateListFor,startEventController:startEventController,isActivated:isActivated,isInitialized:isInitialized,updateData:updateData,reset:reset,getProcessors:getProcessors};setup();return instance}Stream.__dashjs_factory_name="Stream";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(Stream);module.exports=exports["default"]},{"../core/Debug.js":5,"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9,"../dash/DashHandler.js":12,"../dash/DashMetrics.js":13,"../dash/SegmentBaseLoader.js":15,"./StreamProcessor.js":40,"./TextSourceBuffer.js":41,"./controllers/AbrController.js":46,"./controllers/EventController.js":50,"./controllers/FragmentController.js":51,"./controllers/MediaController.js":52,"./controllers/PlaybackController.js":54,"./models/MetricsModel.js":65,"./models/VideoModel.js":67,"./utils/LiveEdgeFinder.js":92}],40:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _controllersAbrControllerJs=_dereq_("./controllers/AbrController.js");var _controllersAbrControllerJs2=_interopRequireDefault(_controllersAbrControllerJs);var _controllersBufferControllerJs=_dereq_("./controllers/BufferController.js");var _controllersBufferControllerJs2=_interopRequireDefault(_controllersBufferControllerJs);var _controllersStreamControllerJs=_dereq_("./controllers/StreamController.js");var _controllersStreamControllerJs2=_interopRequireDefault(_controllersStreamControllerJs);var _controllersMediaControllerJs=_dereq_("./controllers/MediaController.js");var _controllersMediaControllerJs2=_interopRequireDefault(_controllersMediaControllerJs);var _controllersTextControllerJs=_dereq_("./controllers/TextController.js");var _controllersTextControllerJs2=_interopRequireDefault(_controllersTextControllerJs);var _controllersScheduleControllerJs=_dereq_("./controllers/ScheduleController.js");var _controllersScheduleControllerJs2=_interopRequireDefault(_controllersScheduleControllerJs);var _rulesRulesControllerJs=_dereq_("./rules/RulesController.js");var _rulesRulesControllerJs2=_interopRequireDefault(_rulesRulesControllerJs);var _modelsMediaPlayerModelJs=_dereq_("./models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _modelsMetricsModelJs=_dereq_("./models/MetricsModel.js");var _modelsMetricsModelJs2=_interopRequireDefault(_modelsMetricsModelJs);var _FragmentLoaderJs=_dereq_("./FragmentLoader.js");var _FragmentLoaderJs2=_interopRequireDefault(_FragmentLoaderJs);var _utilsRequestModifierJs=_dereq_("./utils/RequestModifier.js");var _utilsRequestModifierJs2=_interopRequireDefault(_utilsRequestModifierJs);var _controllersSourceBufferController=_dereq_("./controllers/SourceBufferController");var _controllersSourceBufferController2=_interopRequireDefault(_controllersSourceBufferController);var _TextSourceBufferJs=_dereq_("./TextSourceBuffer.js");var _TextSourceBufferJs2=_interopRequireDefault(_TextSourceBufferJs);var _VirtualBufferJs=_dereq_("./VirtualBuffer.js");var _VirtualBufferJs2=_interopRequireDefault(_VirtualBufferJs);var _controllersMediaSourceControllerJs=_dereq_("./controllers/MediaSourceController.js");var _controllersMediaSourceControllerJs2=_interopRequireDefault(_controllersMediaSourceControllerJs);var _dashModelsDashManifestModelJs=_dereq_("../dash/models/DashManifestModel.js");var _dashModelsDashManifestModelJs2=_interopRequireDefault(_dashModelsDashManifestModelJs);var _dashDashMetricsJs=_dereq_("../dash/DashMetrics.js");var _dashDashMetricsJs2=_interopRequireDefault(_dashDashMetricsJs);var _dashControllersRepresentationControllerJs=_dereq_("../dash/controllers/RepresentationController.js");var _dashControllersRepresentationControllerJs2=_interopRequireDefault(_dashControllersRepresentationControllerJs);var _utilsErrorHandlerJs=_dereq_("./utils/ErrorHandler.js");var _utilsErrorHandlerJs2=_interopRequireDefault(_utilsErrorHandlerJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function StreamProcessor(config){var context=this.context;var indexHandler=config.indexHandler;var timelineConverter=config.timelineConverter;var adapter=config.adapter;var manifestModel=config.manifestModel;var instance=undefined,dynamic=undefined,mediaInfo=undefined,type=undefined,mediaInfoArr=undefined,stream=undefined,eventController=undefined,abrController=undefined,bufferController=undefined,scheduleController=undefined,representationController=undefined,fragmentController=undefined,fragmentLoader=undefined,fragmentModel=undefined;function setup(){mediaInfoArr=[]}function initialize(Type,FragmentController,mediaSource,Stream,EventController){type=Type;stream=Stream;eventController=EventController;fragmentController=FragmentController;dynamic=stream.getStreamInfo().manifestInfo.isDynamic;indexHandler.initialize(this);abrController=(0,_controllersAbrControllerJs2["default"])(context).getInstance();abrController.initialize(type,this);bufferController=createBufferControllerForType(Type);bufferController.initialize(type,mediaSource,this);scheduleController=(0,_controllersScheduleControllerJs2["default"])(context).create({metricsModel:(0,_modelsMetricsModelJs2["default"])(context).getInstance(),manifestModel:manifestModel,adapter:adapter,dashMetrics:(0,_dashDashMetricsJs2["default"])(context).getInstance(),dashManifestModel:(0,_dashModelsDashManifestModelJs2["default"])(context).getInstance(),timelineConverter:timelineConverter,rulesController:(0,_rulesRulesControllerJs2["default"])(context).getInstance(),mediaPlayerModel:(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance()});scheduleController.initialize(type,this);fragmentLoader=(0,_FragmentLoaderJs2["default"])(context).create({metricsModel:(0,_modelsMetricsModelJs2["default"])(context).getInstance(),errHandler:(0,_utilsErrorHandlerJs2["default"])(context).getInstance(),requestModifier:(0,_utilsRequestModifierJs2["default"])(context).getInstance()});representationController=(0,_dashControllersRepresentationControllerJs2["default"])(context).create();representationController.initialize(this);fragmentModel=scheduleController.getFragmentModel();fragmentModel.setLoader(fragmentLoader)}function reset(errored){if(fragmentModel){fragmentModel.reset();fragmentModel=null}indexHandler.reset();if(bufferController){bufferController.reset(errored);bufferController=null}if(scheduleController){scheduleController.reset();scheduleController=null}if(representationController){representationController.reset();representationController=null}fragmentController=null;fragmentLoader=null;eventController=null;stream=null;dynamic=null;mediaInfo=null;mediaInfoArr=[];type=null}function isUpdating(){return representationController.isUpdating()}function getType(){return type}function getABRController(){return abrController}function getRepresentationController(){return representationController}function getFragmentLoader(){return fragmentLoader}function getIndexHandler(){return indexHandler}function getFragmentController(){return fragmentController}function getBuffer(){return bufferController.getBuffer()}function setBuffer(buffer){bufferController.setBuffer(buffer)}function getBufferController(){return bufferController}function getFragmentModel(){return fragmentModel}function getStreamInfo(){return stream.getStreamInfo()}function updateMediaInfo(manifest,newMediaInfo){if(newMediaInfo!==mediaInfo&&(!newMediaInfo||!mediaInfo||newMediaInfo.type===mediaInfo.type)){mediaInfo=newMediaInfo}if(mediaInfoArr.indexOf(newMediaInfo)===-1){mediaInfoArr.push(newMediaInfo)}adapter.updateData(manifest,this)}function getMediaInfoArr(){return mediaInfoArr}function getMediaInfo(){return mediaInfo}function getMediaSource(){return bufferController.getMediaSource()}function getScheduleController(){return scheduleController}function getEventController(){return eventController}function start(){scheduleController.start()}function stop(){scheduleController.stop()}function getCurrentRepresentationInfo(){return adapter.getCurrentRepresentationInfo(manifestModel.getValue(),representationController)}function getRepresentationInfoForQuality(quality){return adapter.getRepresentationInfoForQuality(manifestModel.getValue(),representationController,quality)}function isBufferingCompleted(){return bufferController.getIsBufferingCompleted()}function createBuffer(){return bufferController.getBuffer()||bufferController.createBuffer(mediaInfo)}function isDynamic(){return dynamic}function createBufferControllerForType(type){var controller=null;if(type==="video"||type==="audio"||type==="fragmentedText"){controller=(0,_controllersBufferControllerJs2["default"])(context).create({metricsModel:(0,_modelsMetricsModelJs2["default"])(context).getInstance(),manifestModel:manifestModel,sourceBufferController:(0,_controllersSourceBufferController2["default"])(context).getInstance(),errHandler:(0,_utilsErrorHandlerJs2["default"])(context).getInstance(),mediaSourceController:(0,_controllersMediaSourceControllerJs2["default"])(context).getInstance(),streamController:(0,_controllersStreamControllerJs2["default"])(context).getInstance(),mediaController:(0,_controllersMediaControllerJs2["default"])(context).getInstance(),adapter:adapter,virtualBuffer:(0,_VirtualBufferJs2["default"])(context).getInstance(),textSourceBuffer:(0,_TextSourceBufferJs2["default"])(context).getInstance()})}else{controller=(0,_controllersTextControllerJs2["default"])(context).create({errHandler:(0,_utilsErrorHandlerJs2["default"])(context).getInstance(),sourceBufferController:(0,_controllersSourceBufferController2["default"])(context).getInstance()})}return controller}instance={initialize:initialize,isUpdating:isUpdating,getType:getType,getBufferController:getBufferController,getABRController:getABRController,getFragmentLoader:getFragmentLoader,getFragmentModel:getFragmentModel,getScheduleController:getScheduleController,getEventController:getEventController,getFragmentController:getFragmentController,getRepresentationController:getRepresentationController,getIndexHandler:getIndexHandler,getCurrentRepresentationInfo:getCurrentRepresentationInfo,getRepresentationInfoForQuality:getRepresentationInfoForQuality,isBufferingCompleted:isBufferingCompleted,createBuffer:createBuffer,getStreamInfo:getStreamInfo,updateMediaInfo:updateMediaInfo,getMediaInfoArr:getMediaInfoArr,getMediaInfo:getMediaInfo,getMediaSource:getMediaSource,getBuffer:getBuffer,setBuffer:setBuffer,start:start,stop:stop,isDynamic:isDynamic,reset:reset};setup();return instance}StreamProcessor.__dashjs_factory_name="StreamProcessor";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(StreamProcessor);module.exports=exports["default"]},{"../core/FactoryMaker.js":7,"../dash/DashMetrics.js":13,"../dash/controllers/RepresentationController.js":16,"../dash/models/DashManifestModel.js":17,"./FragmentLoader.js":34,"./TextSourceBuffer.js":41,"./VirtualBuffer.js":43,"./controllers/AbrController.js":46,"./controllers/BufferController.js":49,"./controllers/MediaController.js":52,"./controllers/MediaSourceController.js":53,"./controllers/ScheduleController.js":55,"./controllers/SourceBufferController":56,"./controllers/StreamController.js":57,"./controllers/TextController.js":58,"./models/MediaPlayerModel.js":64,"./models/MetricsModel.js":65,"./rules/RulesController.js":69,"./utils/ErrorHandler.js":90,"./utils/RequestModifier.js":94}],41:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voTextTrackInfoJs=_dereq_("./vo/TextTrackInfo.js");var _voTextTrackInfoJs2=_interopRequireDefault(_voTextTrackInfoJs);var _dashUtilsFragmentedTextBoxParserJs=_dereq_("../dash/utils/FragmentedTextBoxParser.js");var _dashUtilsFragmentedTextBoxParserJs2=_interopRequireDefault(_dashUtilsFragmentedTextBoxParserJs);var _utilsBoxParserJs=_dereq_("./utils/BoxParser.js");var _utilsBoxParserJs2=_interopRequireDefault(_utilsBoxParserJs);var _utilsCustomTimeRangesJs=_dereq_("./utils/CustomTimeRanges.js");var _utilsCustomTimeRangesJs2=_interopRequireDefault(_utilsCustomTimeRangesJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _modelsVideoModelJs=_dereq_("./models/VideoModel.js");var _modelsVideoModelJs2=_interopRequireDefault(_modelsVideoModelJs);var _TextTracksJs=_dereq_("./TextTracks.js");var _TextTracksJs2=_interopRequireDefault(_TextTracksJs);var _codemIsoboxer=_dereq_("codem-isoboxer");var _codemIsoboxer2=_interopRequireDefault(_codemIsoboxer);var _externalsCea608ParserJs=_dereq_("../../externals/cea608-parser.js");var _externalsCea608ParserJs2=_interopRequireDefault(_externalsCea608ParserJs);function TextSourceBuffer(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var embeddedInitialized=false;var captionId=0;var instance=undefined,boxParser=undefined,errHandler=undefined,adapter=undefined,dashManifestModel=undefined,mediaController=undefined,allTracksAreDisabled=undefined,parser=undefined,VTTParser=undefined,TTMLParser=undefined,fragmentedTextBoxParser=undefined,mediaInfos=undefined,textTracks=undefined,isFragmented=undefined,fragmentModel=undefined,initializationSegmentReceived=undefined,timescale=undefined,fragmentedTracks=undefined,videoModel=undefined,streamController=undefined,firstSubtitleStart=undefined,currFragmentedTrackIdx=undefined,embeddedTracks=undefined,embeddedInitializationSegmentReceived=undefined,embeddedTimescale=undefined,embeddedLastSequenceNumber=undefined,embeddedSequenceNumbers=undefined,embeddedCea608FieldParsers=undefined;function initialize(type,bufferController){allTracksAreDisabled=false;parser=null;fragmentModel=null;initializationSegmentReceived=false;timescale=NaN;fragmentedTracks=[];firstSubtitleStart=null;if(!embeddedInitialized){initEmbedded()}var streamProcessor=bufferController.getStreamProcessor();mediaInfos=streamProcessor.getMediaInfoArr();textTracks.setConfig({videoModel:videoModel});textTracks.initialize();isFragmented=!dashManifestModel.getIsTextTrack(type);boxParser=(0,_utilsBoxParserJs2["default"])(context).getInstance();fragmentedTextBoxParser=(0,_dashUtilsFragmentedTextBoxParserJs2["default"])(context).getInstance();fragmentedTextBoxParser.setConfig({boxParser:boxParser});if(isFragmented){fragmentModel=streamProcessor.getFragmentModel();this.buffered=(0,_utilsCustomTimeRangesJs2["default"])(context).create();fragmentedTracks=mediaController.getTracksFor("fragmentedText",streamController.getActiveStreamInfo());var currFragTrack=mediaController.getCurrentTrackFor("fragmentedText",streamController.getActiveStreamInfo());for(var i=0;i<fragmentedTracks.length;i++){if(fragmentedTracks[i]===currFragTrack){currFragmentedTrackIdx=i;break}}}}function initEmbedded(){embeddedTracks=[];mediaInfos=[];videoModel=(0,_modelsVideoModelJs2["default"])(context).getInstance();textTracks=(0,_TextTracksJs2["default"])(context).getInstance();textTracks.setConfig({videoModel:videoModel});textTracks.initialize();boxParser=(0,_utilsBoxParserJs2["default"])(context).getInstance();fragmentedTextBoxParser=(0,_dashUtilsFragmentedTextBoxParserJs2["default"])(context).getInstance();fragmentedTextBoxParser.setConfig({boxParser:boxParser});isFragmented=false;currFragmentedTrackIdx=null;embeddedInitializationSegmentReceived=false;embeddedTimescale=0;embeddedCea608FieldParsers=[];embeddedSequenceNumbers=[];embeddedLastSequenceNumber=null;embeddedInitialized=true}function append(bytes,chunk){var result,sampleList,i,samplesInfo,ccContent;var mediaInfo=chunk.mediaInfo;var mediaType=mediaInfo.type;var mimeType=mediaInfo.mimeType;var codecType=mediaInfo.codec||mimeType;if(!codecType){log("No text type defined");return}function createTextTrackFromMediaInfo(captionData,mediaInfo){var textTrackInfo=new _voTextTrackInfoJs2["default"];var trackKindMap={subtitle:"subtitles",caption:"captions"};var getKind=function getKind(){var kind=mediaInfo.roles.length>0?trackKindMap[mediaInfo.roles[0]]:trackKindMap.caption;kind=kind===trackKindMap.caption||kind===trackKindMap.subtitle?kind:trackKindMap.caption;return kind};var checkTTML=function checkTTML(){var ttml=false;if(mediaInfo.codec&&mediaInfo.codec.search("stpp")>=0){ttml=true}if(mediaInfo.mimeType&&mediaInfo.mimeType.search("ttml")>=0){ttml=true}return ttml};textTrackInfo.captionData=captionData;textTrackInfo.lang=mediaInfo.lang;textTrackInfo.label=mediaInfo.id;textTrackInfo.index=mediaInfo.index;textTrackInfo.isTTML=checkTTML();textTrackInfo.video=videoModel.getElement();textTrackInfo.defaultTrack=getIsDefault(mediaInfo);textTrackInfo.isFragmented=isFragmented;textTrackInfo.isEmbedded=mediaInfo.isEmbedded?true:false;textTrackInfo.kind=getKind();var totalNrTracks=(mediaInfos?mediaInfos.length:0)+embeddedTracks.length;textTracks.addTextTrack(textTrackInfo,totalNrTracks)}if(mediaType==="fragmentedText"){if(!initializationSegmentReceived){initializationSegmentReceived=true;for(i=0;i<mediaInfos.length;i++){createTextTrackFromMediaInfo(null,mediaInfos[i])}timescale=fragmentedTextBoxParser.getMediaTimescaleFromMoov(bytes)}else{samplesInfo=fragmentedTextBoxParser.getSamplesInfo(bytes);sampleList=samplesInfo.sampleList;if(!firstSubtitleStart&&sampleList.length>0){firstSubtitleStart=sampleList[0].cts-chunk.start*timescale}if(codecType.search("stpp")>=0){parser=parser!==null?parser:getParser(codecType);for(i=0;i<sampleList.length;i++){var _sample=sampleList[i];var sampleStart=_sample.cts;var sampleRelStart=sampleStart-firstSubtitleStart;this.buffered.add(sampleRelStart/timescale,(sampleRelStart+_sample.duration)/timescale);var dataView=new DataView(bytes,_sample.offset,_sample.size);ccContent=_codemIsoboxer2["default"].Utils.dataViewToString(dataView,"utf-8");

try{result=parser.parse(ccContent,sampleStart/timescale,(sampleStart+_sample.duration)/timescale);textTracks.addCaptions(currFragmentedTrackIdx,firstSubtitleStart/timescale,result)}catch(e){log("TTML parser error: "+e.message)}}}else{var captionArray=[];for(i=0;i<sampleList.length;i++){var sample=sampleList[i];sample.cts-=firstSubtitleStart;this.buffered.add(sample.cts/timescale,(sample.cts+sample.duration)/timescale);var sampleData=bytes.slice(sample.offset,sample.offset+sample.size);var sampleBoxes=_codemIsoboxer2["default"].parseBuffer(sampleData);for(var j=0;j<sampleBoxes.boxes.length;j++){var box1=sampleBoxes.boxes[j];log("VTT box1: "+box1.type);if(box1.type==="vtte"){continue}if(box1.type==="vttc"){log("VTT vttc boxes.length = "+box1.boxes.length);for(var k=0;k<box1.boxes.length;k++){var box2=box1.boxes[k];log("VTT box2: "+box2.type);if(box2.type==="payl"){var cue_text=box2.cue_text;log("VTT cue_text = "+cue_text);var start_time=sample.cts/timescale;var end_time=(sample.cts+sample.duration)/timescale;captionArray.push({start:start_time,end:end_time,data:cue_text,styles:{}});log("VTT "+start_time+"-"+end_time+" : "+cue_text)}}}}}if(captionArray.length>0){textTracks.addCaptions(currFragmentedTrackIdx,0,captionArray)}}}}else if(mediaType==="text"){var dataView=new DataView(bytes,0,bytes.byteLength);ccContent=_codemIsoboxer2["default"].Utils.dataViewToString(dataView,"utf-8");try{result=getParser(codecType).parse(ccContent);createTextTrackFromMediaInfo(result,mediaInfo)}catch(e){errHandler.timedTextError(e,"parse",ccContent)}}else if(mediaType==="video"){if(chunk.segmentType==="InitializationSegment"){if(embeddedTimescale===0){embeddedTimescale=fragmentedTextBoxParser.getMediaTimescaleFromMoov(bytes);for(i=0;i<embeddedTracks.length;i++){createTextTrackFromMediaInfo(null,embeddedTracks[i])}}}else{if(embeddedTimescale===0){log("CEA-608: No timescale for embeddedTextTrack yet");return}var makeCueAdderForIndex=function makeCueAdderForIndex(self,trackIndex){function newCue(startTime,endTime,captionScreen){var captionsArray=null;if(videoModel.getTTMLRenderingDiv()){captionsArray=createHTMLCaptionsFromScreen(videoModel.getElement(),startTime,endTime,captionScreen)}else{var text=captionScreen.getDisplayText();captionsArray=[{start:startTime,end:endTime,data:text,styles:{}}]}if(captionsArray){textTracks.addCaptions(trackIndex,0,captionsArray)}}return newCue};samplesInfo=fragmentedTextBoxParser.getSamplesInfo(bytes);var sequenceNumber=samplesInfo.sequenceNumber;if(!embeddedCea608FieldParsers[0]&&!embeddedCea608FieldParsers[1]){var field=undefined,handler=undefined,trackIdx=undefined;for(i=0;i<embeddedTracks.length;i++){if(embeddedTracks[i].id==="CC1"){field=0;trackIdx=textTracks.getTrackIdxForId("CC1")}else if(embeddedTracks[i].id==="CC3"){field=1;trackIdx=textTracks.getTrackIdxForId("CC3")}if(trackIdx===-1){log("CEA-608: data before track is ready.");return}handler=makeCueAdderForIndex(this,trackIdx);embeddedCea608FieldParsers[i]=new _externalsCea608ParserJs2["default"].Cea608Parser(i,{newCue:handler},null)}}if(embeddedTimescale&&embeddedSequenceNumbers.indexOf(sequenceNumber)==-1){if(embeddedLastSequenceNumber!==null&&sequenceNumber!==embeddedLastSequenceNumber+1){for(i=0;i<embeddedCea608FieldParsers.length;i++){if(embeddedCea608FieldParsers[i]){embeddedCea608FieldParsers[i].reset()}}}var allCcData=extractCea608Data(bytes);for(var fieldNr=0;fieldNr<embeddedCea608FieldParsers.length;fieldNr++){var ccData=allCcData.fields[fieldNr];var fieldParser=embeddedCea608FieldParsers[fieldNr];if(fieldParser){for(i=0;i<ccData.length;i++){fieldParser.addData(ccData[i][0]/embeddedTimescale,ccData[i][1])}if(allCcData.endTime){fieldParser.cueSplitAtTime(allCcData.endTime/embeddedTimescale)}}}embeddedLastSequenceNumber=sequenceNumber;embeddedSequenceNumbers.push(sequenceNumber)}}}}function extractCea608Data(data){var insertInOrder=function insertInOrder(arr,time,data){var len=arr.length;if(len>0){if(time>=arr[len-1][0]){arr.push([time,data])}else{for(var pos=len-1;pos>=0;pos--){if(time<arr[pos][0]){arr.splice(pos,0,[time,data]);break}}}}else{arr.push([time,data])}};var isoFile=boxParser.parse(data);var moof=isoFile.getBox("moof");var tfdt=isoFile.getBox("tfdt");var truns=isoFile.getBoxes("trun");var trun=null;if(truns.length===0){return null}trun=truns[0];if(truns.length>1){log("Warning: Too many truns")}var baseOffset=moof.offset+trun.data_offset;var sampleCount=trun.sample_count;var startPos=baseOffset;var baseSampleTime=tfdt.baseMediaDecodeTime;var raw=new DataView(data);var allCcData={startTime:null,endTime:null,fields:[[],[]]};var accDuration=0;for(var i=0;i<sampleCount;i++){var sample=trun.samples[i];var sampleTime=baseSampleTime+accDuration+sample.sample_composition_time_offset;var cea608Ranges=_externalsCea608ParserJs2["default"].findCea608Nalus(raw,startPos,sample.sample_size);for(var j=0;j<cea608Ranges.length;j++){var ccData=_externalsCea608ParserJs2["default"].extractCea608DataFromRange(raw,cea608Ranges[j]);for(var k=0;k<2;k++){if(ccData[k].length>0){insertInOrder(allCcData.fields[k],sampleTime,ccData[k])}}}accDuration+=sample.sample_duration;startPos+=sample.sample_size}var endSampleTime=baseSampleTime+accDuration;allCcData.startTime=baseSampleTime;allCcData.endTime=endSampleTime;return allCcData}function checkIndent(chars){var line="";for(var c=0;c<chars.length;++c){var uc=chars[c];line+=uc.uchar}var l=line.length;var ll=line.replace(/^\s+/,"").length;return l-ll}function getRegionProperties(region){return"left: "+region.x*3.125+"%; top: "+region.y1*6.66+"%; width: "+(100-region.x*3.125)+"%; height: "+Math.max(region.y2-1-region.y1,1)*6.66+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function createRGB(color){if(color=="red"){return"rgb(255, 0, 0)"}else if(color=="green"){return"rgb(0, 255, 0)"}else if(color=="blue"){return"rgb(0, 0, 255)"}else if(color=="cyan"){return"rgb(0, 255, 255)"}else if(color=="magenta"){return"rgb(255, 0, 255)"}else if(color=="yellow"){return"rgb(255, 255, 0)"}else if(color=="white"){return"rgb(255, 255, 255)"}else if(color=="black"){return"rgb(0, 0, 0)"}return color}function getStyle(videoElement,style){var fontSize=videoElement.videoHeight/15;if(style){return"font-size: "+fontSize+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(style.foreground?createRGB(style.foreground):"rgb(255, 255, 255)")+"; font-style: "+(style.italics?"italic":"normal")+"; text-decoration: "+(style.underline?"underline":"none")+"; white-space: pre; background-color: "+(style.background?createRGB(style.background):"transparent")+";"}else{return"font-size: "+fontSize+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}}function ltrim(s){var trimmed=s.replace(/^\s+/g,"");return trimmed}function rtrim(s){var trimmed=s.replace(/\s+$/g,"");return trimmed}function createHTMLCaptionsFromScreen(videoElement,startTime,endTime,captionScreen){var currRegion=null;var existingRegion=null;var lastRowHasText=false;var lastRowIndentL=-1;var currP={start:startTime,end:endTime,spans:[]};var currentStyle="style_cea608_white_black";var seenRegions={};var styleStates={};var regions=[];var r=undefined,s=undefined;for(r=0;r<15;++r){var row=captionScreen.rows[r];var line="";var prevPenState=null;if(false===row.isEmpty()){var rowIndent=checkIndent(row.chars);if(currRegion===null){currRegion={x:rowIndent,y1:r,y2:r+1,p:[]}}if(rowIndent!==lastRowIndentL&&lastRowHasText){currRegion.p.push(currP);currP={start:startTime,end:endTime,spans:[]};currRegion.y2=r;currRegion.name="region_"+currRegion.x+"_"+currRegion.y1+"_"+currRegion.y2;if(false===seenRegions.hasOwnProperty(currRegion.name)){regions.push(currRegion);seenRegions[currRegion.name]=currRegion}else{existingRegion=seenRegions[currRegion.name];existingRegion.p.contat(currRegion.p)}currRegion={x:rowIndent,y1:r,y2:r+1,p:[]}}for(var c=0;c<row.chars.length;++c){var uc=row.chars[c];var currPenState=uc.penState;if(prevPenState===null||!currPenState.equals(prevPenState)){if(line.trim().length>0){currP.spans.push({name:currentStyle,line:line,row:r});line=""}var currPenStateString="style_cea608_"+currPenState.foreground+"_"+currPenState.background;if(currPenState.underline){currPenStateString+="_underline"}if(currPenState.italics){currPenStateString+="_italics"}if(!styleStates.hasOwnProperty(currPenStateString)){styleStates[currPenStateString]=JSON.parse(JSON.stringify(currPenState))}prevPenState=currPenState;currentStyle=currPenStateString}line+=uc.uchar}if(line.trim().length>0){currP.spans.push({name:currentStyle,line:line,row:r})}lastRowHasText=true;lastRowIndentL=rowIndent}else{lastRowHasText=false;lastRowIndentL=-1;if(currRegion){currRegion.p.push(currP);currP={start:startTime,end:endTime,spans:[]};currRegion.y2=r;currRegion.name="region_"+currRegion.x+"_"+currRegion.y1+"_"+currRegion.y2;if(false===seenRegions.hasOwnProperty(currRegion.name)){regions.push(currRegion);seenRegions[currRegion.name]=currRegion}else{existingRegion=seenRegions[currRegion.name];existingRegion.p.contat(currRegion.p)}currRegion=null}}}if(currRegion){currRegion.p.push(currP);currRegion.y2=r+1;currRegion.name="region_"+currRegion.x+"_"+currRegion.y1+"_"+currRegion.y2;if(false===seenRegions.hasOwnProperty(currRegion.name)){regions.push(currRegion);seenRegions[currRegion.name]=currRegion}else{existingRegion=seenRegions[currRegion.name];existingRegion.p.contat(currRegion.p)}currRegion=null}var captionsArray=[];for(r=0;r<regions.length;++r){var region=regions[r];var cueID="sub_"+captionId++;var finalDiv=document.createElement("div");finalDiv.id="subtitle_"+cueID;var cueRegionProperties=getRegionProperties(region);finalDiv.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+cueRegionProperties;var bodyDiv=document.createElement("div");bodyDiv.className="paragraph bodyStyle";bodyDiv.style.cssText=getStyle(videoElement);var cueUniWrapper=document.createElement("div");cueUniWrapper.className="cueUniWrapper";cueUniWrapper.style.cssText="unicode-bidi: normal; direction: ltr;";for(var p=0;p<region.p.length;++p){var ptag=region.p[p];var lastSpanRow=0;for(s=0;s<ptag.spans.length;++s){var span=ptag.spans[s];if(span.line.length>0){if(s!==0&&lastSpanRow!=span.row){var brElement=document.createElement("br");brElement.className="lineBreak";cueUniWrapper.appendChild(brElement)}var sameRow=false;if(lastSpanRow===span.row){sameRow=true}lastSpanRow=span.row;var spanStyle=styleStates[span.name];var spanElement=document.createElement("span");spanElement.className="spanPadding "+span.name+" customSpanColor";spanElement.style.cssText=getStyle(videoElement,spanStyle);if(s!==0&&sameRow){if(s===ptag.spans.length-1){spanElement.textContent=rtrim(span.line)}else{spanElement.textContent=span.line}}else{if(s===0){if(ptag.spans.length>1){if(span.row===ptag.spans[1].row){spanElement.textContent=ltrim(span.line)}else{spanElement.textContent=span.line.trim()}}else{spanElement.textContent=span.line.trim()}}else{spanElement.textContent=span.line.trim()}}cueUniWrapper.appendChild(spanElement)}}}bodyDiv.appendChild(cueUniWrapper);finalDiv.appendChild(bodyDiv);var fontSize={bodyStyle:90};for(s in styleStates){if(styleStates.hasOwnProperty(s)){fontSize[s]=90}}captionsArray.push({type:"html",start:startTime,end:endTime,cueHTMLElement:finalDiv,cueID:cueID,cellResolution:[32,15],isFromCEA608:true,regions:regions,regionID:region.name,videoHeight:videoElement.videoHeight,videoWidth:videoElement.videoWidth,fontSize:fontSize||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return captionsArray}function abort(){textTracks.deleteAllTextTracks();allTracksAreDisabled=false;parser=null;fragmentedTextBoxParser=null;mediaInfos=null;textTracks=null;isFragmented=false;fragmentModel=null;initializationSegmentReceived=false;timescale=NaN;fragmentedTracks=[];videoModel=null;streamController=null;embeddedInitialized=false;embeddedTracks=null}function addEmbeddedTrack(mediaInfo){if(!embeddedInitialized){initEmbedded()}if(mediaInfo.id==="CC1"||mediaInfo.id==="CC3"){embeddedTracks.push(mediaInfo)}else{log("Warning: Embedded track "+mediaInfo.id+" not supported!")}}function resetEmbedded(){embeddedInitialized=false;embeddedTracks=[];embeddedCea608FieldParsers=[null,null];embeddedSequenceNumbers=[];embeddedLastSequenceNumber=null}function getAllTracksAreDisabled(){return allTracksAreDisabled}function setConfig(config){if(!config)return;if(config.errHandler){errHandler=config.errHandler}if(config.adapter){adapter=config.adapter}if(config.dashManifestModel){dashManifestModel=config.dashManifestModel}if(config.mediaController){mediaController=config.mediaController}if(config.videoModel){videoModel=config.videoModel}if(config.streamController){streamController=config.streamController}if(config.textTracks){textTracks=config.textTracks}if(config.VTTParser){VTTParser=config.VTTParser}if(config.TTMLParser){TTMLParser=config.TTMLParser}}function setTextTrack(){var el=videoModel.getElement();var tracks=el.textTracks;var ln=tracks.length;var nrNonEmbeddedTracks=ln-embeddedTracks.length;var oldTrackIdx=textTracks.getCurrentTrackIdx();for(var i=0;i<ln;i++){var track=tracks[i];allTracksAreDisabled=track.mode!=="showing";if(track.mode==="showing"){if(oldTrackIdx!==i){textTracks.setCurrentTrackIdx(i);textTracks.addCaptions(i,0,null);if(isFragmented&&i<nrNonEmbeddedTracks){var currentFragTrack=mediaController.getCurrentTrackFor("fragmentedText",streamController.getActiveStreamInfo());var newFragTrack=fragmentedTracks[i];if(newFragTrack!==currentFragTrack){fragmentModel.abortRequests();textTracks.deleteTrackCues(currentFragTrack);mediaController.setTrack(newFragTrack);currFragmentedTrackIdx=i}}}break}}if(allTracksAreDisabled){textTracks.setCurrentTrackIdx(-1)}}function getIsDefault(mediaInfo){var isDefault=false;if(embeddedTracks.length>1){isDefault=mediaInfo.id&&mediaInfo.id==="CC1"}else if(embeddedTracks.length===1){if(mediaInfo.id&&mediaInfo.id.substring(0,2)==="CC"){isDefault=true}}else{isDefault=mediaInfo.index===mediaInfos[0].index}return isDefault}function getParser(codecType){var parser;if(codecType.search("vtt")>=0){parser=VTTParser}else if(codecType.search("ttml")>=0||codecType.search("stpp")>=0){parser=TTMLParser;parser.setConfig({videoModel:videoModel})}return parser}instance={initialize:initialize,append:append,abort:abort,getAllTracksAreDisabled:getAllTracksAreDisabled,setTextTrack:setTextTrack,setConfig:setConfig,addEmbeddedTrack:addEmbeddedTrack,resetEmbedded:resetEmbedded};return instance}TextSourceBuffer.__dashjs_factory_name="TextSourceBuffer";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(TextSourceBuffer);module.exports=exports["default"]},{"../../externals/cea608-parser.js":1,"../core/Debug.js":5,"../core/FactoryMaker.js":7,"../dash/utils/FragmentedTextBoxParser.js":18,"./TextTracks.js":42,"./models/VideoModel.js":67,"./utils/BoxParser.js":86,"./utils/CustomTimeRanges.js":88,"./vo/TextTrackInfo.js":109,"codem-isoboxer":4}],42:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function TextTracks(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var instance=undefined,Cue=undefined,videoModel=undefined,video=undefined,textTrackQueue=undefined,trackElementArr=undefined,currentTrackIdx=undefined,actualVideoLeft=undefined,actualVideoTop=undefined,actualVideoWidth=undefined,actualVideoHeight=undefined,captionContainer=undefined,videoSizeCheckInterval=undefined,isChrome=undefined,fullscreenAttribute=undefined,displayCCOnTop=undefined,topZIndex=undefined;function initialize(){Cue=window.VTTCue||window.TextTrackCue;textTrackQueue=[];trackElementArr=[];currentTrackIdx=-1;actualVideoLeft=0;actualVideoTop=0;actualVideoWidth=0;actualVideoHeight=0;captionContainer=null;videoSizeCheckInterval=null;displayCCOnTop=false;topZIndex=2147483647;isChrome=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/);if(document.fullscreenElement!==undefined){fullscreenAttribute="fullscreenElement"}else if(document.webkitIsFullScreen!==undefined){fullscreenAttribute="webkitIsFullScreen"}else if(document.msFullscreenElement){fullscreenAttribute="msFullscreenElement"}else if(document.mozFullScreen){fullscreenAttribute="mozFullScreen"}}function createTrackForUserAgent(i){var kind=textTrackQueue[i].kind;var label=textTrackQueue[i].label!==undefined?textTrackQueue[i].label:textTrackQueue[i].lang;var lang=textTrackQueue[i].lang;var track=isChrome?document.createElement("track"):video.addTextTrack(kind,label,lang);if(isChrome){track.kind=kind;track.label=label;track.srclang=lang}return track}function displayCConTop(value){displayCCOnTop=value;if(!captionContainer||document[fullscreenAttribute])return;captionContainer.style.zIndex=value?topZIndex:null}function addTextTrack(textTrackInfoVO,totalTextTracks){if(textTrackQueue.length===totalTextTracks){log("Trying to add too many tracks.");return}textTrackQueue.push(textTrackInfoVO);if(video===undefined){video=textTrackInfoVO.video}if(textTrackQueue.length===totalTextTracks){textTrackQueue.sort(function(a,b){return a.index-b.index});captionContainer=videoModel.getTTMLRenderingDiv();var defaultIndex=-1;for(var i=0;i<textTrackQueue.length;i++){var track=createTrackForUserAgent.call(this,i);trackElementArr.push(track);if(textTrackQueue[i].defaultTrack){track["default"]=true;defaultIndex=i}if(isChrome){video.appendChild(track)}var textTrack=video.textTracks[i];textTrack.nonAddedCues=[];if(captionContainer&&(textTrackQueue[i].isTTML||textTrackQueue[i].isEmbedded)){textTrack.renderingType="html"}else{textTrack.renderingType="default"}this.addCaptions(i,0,textTrackQueue[i].captionData);eventBus.trigger(_coreEventsEventsJs2["default"].TEXT_TRACK_ADDED)}setCurrentTrackIdx.call(this,defaultIndex);if(defaultIndex>=0){video.textTracks[defaultIndex].mode="showing";this.addCaptions(defaultIndex,0,null)}eventBus.trigger(_coreEventsEventsJs2["default"].TEXT_TRACKS_ADDED,{index:currentTrackIdx,tracks:textTrackQueue})}}function getVideoVisibleVideoSize(viewWidth,viewHeight,videoWidth,videoHeight,aspectRatio,use80Percent){var viewAspectRatio=viewWidth/viewHeight;var videoAspectRatio=videoWidth/videoHeight;var videoPictureX=0;var videoPictureY=0;var videoPictureWidth=0;var videoPictureHeight=0;if(viewAspectRatio>videoAspectRatio){videoPictureHeight=viewHeight;videoPictureWidth=videoPictureHeight/videoHeight*videoWidth;videoPictureX=(viewWidth-videoPictureWidth)/2;videoPictureY=0}else{videoPictureWidth=viewWidth;videoPictureHeight=videoPictureWidth/videoWidth*videoHeight;videoPictureX=0;videoPictureY=(viewHeight-videoPictureHeight)/2}var videoPictureXAspect=0;var videoPictureYAspect=0;var videoPictureWidthAspect=0;var videoPictureHeightAspect=0;var videoPictureAspect=videoPictureWidth/videoPictureHeight;if(videoPictureAspect>aspectRatio){videoPictureHeightAspect=videoPictureHeight;videoPictureWidthAspect=videoPictureHeight/(1/aspectRatio);videoPictureXAspect=(viewWidth-videoPictureWidthAspect)/2;videoPictureYAspect=0}else{videoPictureWidthAspect=videoPictureWidth;videoPictureHeightAspect=videoPictureWidth/aspectRatio;videoPictureXAspect=0;videoPictureYAspect=(viewHeight-videoPictureHeightAspect)/2}if(use80Percent){return{x:videoPictureXAspect+videoPictureWidthAspect*.1,y:videoPictureYAspect+videoPictureHeightAspect*.1,w:videoPictureWidthAspect*.8,h:videoPictureHeightAspect*.8}}else{return{x:videoPictureXAspect,y:videoPictureYAspect,w:videoPictureWidthAspect,h:videoPictureHeightAspect}}}function checkVideoSize(){var track=this.getCurrentTextTrack();if(track&&track.renderingType==="html"){var aspectRatio=1;if(track.cellResolution){aspectRatio=track.cellResolution[0]/track.cellResolution[1]}var use80Percent=false;if(track.isFromCEA608){aspectRatio=3.5/3;use80Percent=true}var realVideoSize=getVideoVisibleVideoSize.call(this,video.clientWidth,video.clientHeight,video.videoWidth,video.videoHeight,aspectRatio,use80Percent);var newVideoWidth=realVideoSize.w;var newVideoHeight=realVideoSize.h;if(newVideoWidth!=actualVideoWidth||newVideoHeight!=actualVideoHeight){actualVideoLeft=realVideoSize.x;actualVideoTop=realVideoSize.y;actualVideoWidth=newVideoWidth;actualVideoHeight=newVideoHeight;captionContainer.style.left=actualVideoLeft+"px";captionContainer.style.top=actualVideoTop+"px";captionContainer.style.width=actualVideoWidth+"px";captionContainer.style.height=actualVideoHeight+"px";for(var i=0;track.activeCues&&i<track.activeCues.length;++i){var cue=track.activeCues[i];cue.scaleCue(cue)}if(fullscreenAttribute&&document[fullscreenAttribute]||displayCCOnTop){captionContainer.style.zIndex=topZIndex}else{captionContainer.style.zIndex=null}}}}function scaleCue(activeCue){var videoWidth=actualVideoWidth;var videoHeight=actualVideoHeight;var key,replaceValue,elements;var cellUnit=[videoWidth/activeCue.cellResolution[0],videoHeight/activeCue.cellResolution[1]];if(activeCue.linePadding){for(key in activeCue.linePadding){if(activeCue.linePadding.hasOwnProperty(key)){var valueLinePadding=activeCue.linePadding[key];replaceValue=(valueLinePadding*cellUnit[0]).toString();var elementsSpan=document.getElementsByClassName("spanPadding");for(var i=0;i<elementsSpan.length;i++){elementsSpan[i].style.cssText=elementsSpan[i].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+replaceValue);elementsSpan[i].style.cssText=elementsSpan[i].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+replaceValue)}}}}if(activeCue.fontSize){for(key in activeCue.fontSize){if(activeCue.fontSize.hasOwnProperty(key)){var valueFontSize=activeCue.fontSize[key]/100;replaceValue=(valueFontSize*cellUnit[1]).toString();if(key!=="defaultFontSize"){elements=document.getElementsByClassName(key)}else{elements=document.getElementsByClassName("paragraph")}for(var j=0;j<elements.length;j++){elements[j].style.cssText=elements[j].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+replaceValue)}}}}if(activeCue.lineHeight){for(key in activeCue.lineHeight){if(activeCue.lineHeight.hasOwnProperty(key)){var valueLineHeight=activeCue.lineHeight[key]/100;replaceValue=(valueLineHeight*cellUnit[1]).toString();elements=document.getElementsByClassName(key);for(var k=0;k<elements.length;k++){elements[k].style.cssText=elements[k].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+replaceValue)}}}}}function addCaptions(trackIdx,timeOffset,captionData){var track=trackIdx>=0?video.textTracks[trackIdx]:null;var self=this;if(!track)return;if(track.mode!=="showing"){if(captionData&&captionData.length>0){track.nonAddedCues=track.nonAddedCues.concat(captionData)}return}if(!captionData){captionData=track.nonAddedCues;track.nonAddedCues=[]}if(!captionData||captionData.length===0){return}for(var item in captionData){var cue;var currentItem=captionData[item];track.cellResolution=currentItem.cellResolution;track.isFromCEA608=currentItem.isFromCEA608;if(!videoSizeCheckInterval&&currentItem.type=="html"){videoSizeCheckInterval=setInterval(checkVideoSize.bind(this),500)}if(currentItem.type=="image"){cue=new Cue(currentItem.start-timeOffset,currentItem.end-timeOffset,"");cue.image=currentItem.data;cue.id=currentItem.id;cue.size=0;cue.type="image";cue.onenter=function(){var img=new Image;img.id="ttmlImage_"+this.id;img.src=this.image;img.className="cue-image";if(captionContainer){captionContainer.appendChild(img)}else{video.parentNode.appendChild(img)}};cue.onexit=function(){var container,i,imgs;if(captionContainer){container=captionContainer}else{container=video.parentNode}imgs=container.childNodes;for(i=0;i<imgs.length;i++){if(imgs[i].id=="ttmlImage_"+this.id){container.removeChild(imgs[i])}}}}else if(currentItem.type==="html"){cue=new Cue(currentItem.start-timeOffset,currentItem.end-timeOffset,"");cue.cueHTMLElement=currentItem.cueHTMLElement;cue.regions=currentItem.regions;cue.regionID=currentItem.regionID;cue.cueID=currentItem.cueID;cue.videoWidth=currentItem.videoWidth;cue.videoHeight=currentItem.videoHeight;cue.cellResolution=currentItem.cellResolution;cue.fontSize=currentItem.fontSize;cue.lineHeight=currentItem.lineHeight;cue.linePadding=currentItem.linePadding;cue.scaleCue=scaleCue.bind(self);captionContainer.style.left=actualVideoLeft+"px";captionContainer.style.top=actualVideoTop+"px";captionContainer.style.width=actualVideoWidth+"px";captionContainer.style.height=actualVideoHeight+"px";cue.onenter=function(){if(track.mode=="showing"){captionContainer.appendChild(this.cueHTMLElement);scaleCue.call(self,this)}};cue.onexit=function(){var divs=captionContainer.childNodes;for(var i=0;i<divs.length;++i){if(divs[i].id=="subtitle_"+this.cueID){captionContainer.removeChild(divs[i])}}}}else{cue=new Cue(currentItem.start-timeOffset,currentItem.end-timeOffset,currentItem.data);if(currentItem.styles){if(currentItem.styles.align!==undefined&&cue.hasOwnProperty("align")){cue.align=currentItem.styles.align}if(currentItem.styles.line!==undefined&&cue.hasOwnProperty("line")){cue.line=currentItem.styles.line}if(currentItem.styles.position!==undefined&&cue.hasOwnProperty("position")){cue.position=currentItem.styles.position}if(currentItem.styles.size!==undefined&&cue.hasOwnProperty("size")){cue.size=currentItem.styles.size}}}track.addCue(cue)}}function getCurrentTextTrack(){return currentTrackIdx>=0?video.textTracks[currentTrackIdx]:null}function getCurrentTrackIdx(){return currentTrackIdx}function getTrackIdxForId(trackId){var idx=-1;for(var i=0;i<video.textTracks.length;i++){if(video.textTracks[i].label===trackId){idx=i;break}}return idx}function setCurrentTrackIdx(idx){currentTrackIdx=idx;clearCues.call(this);if(idx>=0){var track=video.textTracks[idx];if(track.renderingType==="html"){setNativeCueStyle.call(this)}else{removeNativeCueStyle.call(this)}}else{removeNativeCueStyle.call(this)}}function getTextTrack(idx){return video.textTracks[idx]}function deleteTrackCues(track){if(track.cues){var cues=track.cues;var lastIdx=cues.length-1;for(var r=lastIdx;r>=0;r--){track.removeCue(cues[r])}track.mode="disabled"}}function deleteAllTextTracks(){var ln=trackElementArr.length;for(var i=0;i<ln;i++){if(isChrome){video.removeChild(trackElementArr[i])}else{var track=getTextTrack.call(this,i);track.nonAddedCues=[];deleteTrackCues.call(this,track)}}trackElementArr=[];textTrackQueue=[];if(videoSizeCheckInterval){clearInterval(videoSizeCheckInterval);videoSizeCheckInterval=null}clearCues.call(this)}function deleteTextTrack(idx){video.removeChild(trackElementArr[idx]);trackElementArr.splice(idx,1)}function setNativeCueStyle(){if(!isChrome)return;var styleElement=document.getElementById("native-cue-style");if(styleElement)return;styleElement=document.createElement("style");styleElement.id="native-cue-style";document.head.appendChild(styleElement);var stylesheet=styleElement.sheet;if(video.id){stylesheet.insertRule("#"+video.id+"::cue {background: transparent}",0)}else if(video.classList.length!==0){stylesheet.insertRule("."+video.className+"::cue {background: transparent}",0)}else{stylesheet.insertRule("video::cue {background: transparent}",0)}}function removeNativeCueStyle(){if(!isChrome)return;var styleElement=document.getElementById("native-cue-style");if(styleElement){document.head.removeChild(styleElement)}}function clearCues(){if(captionContainer){while(captionContainer.firstChild){captionContainer.removeChild(captionContainer.firstChild)}}}function setConfig(config){if(!config)return;if(config.videoModel){videoModel=config.videoModel}}instance={initialize:initialize,displayCConTop:displayCConTop,addTextTrack:addTextTrack,addCaptions:addCaptions,getTextTrack:getTextTrack,getCurrentTextTrack:getCurrentTextTrack,getCurrentTrackIdx:getCurrentTrackIdx,setCurrentTrackIdx:setCurrentTrackIdx,getTrackIdxForId:getTrackIdxForId,deleteTrackCues:deleteTrackCues,deleteAllTextTracks:deleteAllTextTracks,deleteTextTrack:deleteTextTrack,setConfig:setConfig};return instance}TextTracks.__dashjs_factory_name="TextTracks";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(TextTracks);module.exports=exports["default"]},{"../core/Debug.js":5,"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9}],43:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _controllersMediaControllerJs=_dereq_("./controllers/MediaController.js");var _controllersMediaControllerJs2=_interopRequireDefault(_controllersMediaControllerJs);var _utilsCustomTimeRangesJs=_dereq_("./utils/CustomTimeRanges.js");var _utilsCustomTimeRangesJs2=_interopRequireDefault(_utilsCustomTimeRangesJs);var _voMetricsHTTPRequestJs=_dereq_("./vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function VirtualBuffer(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,data=undefined,sourceBufferController=undefined;function setup(){data={}}function append(chunk){var streamId=chunk.streamId;var mediaType=chunk.mediaInfo.type;var segmentType=chunk.segmentType;var start=chunk.start;var end=chunk.end;data[streamId]=data[streamId]||createDataStorage();data[streamId][mediaType][segmentType].push(chunk);sortArrayByProperty(data[streamId][mediaType][segmentType],"index");if(!isNaN(start)&&!isNaN(end)){data[streamId][mediaType].calculatedBufferedRanges.add(start,end);eventBus.trigger(_coreEventsEventsJs2["default"].CHUNK_APPENDED,{chunk:chunk,sender:this})}}function storeAppendedChunk(chunk,buffer){if(!chunk||!buffer)return;var streamId=chunk.streamId;var mediaType=chunk.mediaInfo.type;var bufferedRanges=data[streamId][mediaType].actualBufferedRanges;var oldChunk=getChunks({streamId:streamId,mediaType:mediaType,appended:true,start:chunk.start})[0];var diff,idx;if(oldChunk){idx=data[streamId][mediaType].appended.indexOf(oldChunk);data[streamId][mediaType].appended[idx]=chunk}else{data[streamId][mediaType].appended.push(chunk)}sortArrayByProperty(data[streamId][mediaType].appended,"start");diff=sourceBufferController.getRangeDifference(bufferedRanges,buffer);if(!diff){if(oldChunk){chunk.bufferedRange=oldChunk.bufferedRange}else{chunk.bufferedRange={start:chunk.start,end:chunk.end}}return}chunk.bufferedRange=diff;bufferedRanges.add(diff.start,diff.end);if(!oldChunk)return;chunk.bufferedRange.start=Math.min(oldChunk.bufferedRange.start,diff.start);chunk.bufferedRange.end=Math.max(oldChunk.bufferedRange.end,diff.end)}function updateBufferedRanges(filter,ranges){if(!filter)return;var streamId=filter.streamId;var mediaType=filter.mediaType;var appendedChunks=getChunks({streamId:streamId,mediaType:mediaType,appended:true});var remainingChunks=[];var start,end;data[streamId][mediaType].actualBufferedRanges=(0,
_utilsCustomTimeRangesJs2["default"])(context).create();if(!ranges||ranges.length===0){data[streamId][mediaType].appended=[];return}for(var i=0,ln=ranges.length;i<ln;i++){start=ranges.start(i);end=ranges.end(i);data[streamId][mediaType].actualBufferedRanges.add(start,end);remainingChunks=remainingChunks.concat(findChunksForRange(appendedChunks,{start:start,end:end},true))}data[streamId][mediaType].appended=remainingChunks}function getChunks(filter){var originData=findData(filter);var segmentType=filter.segmentType;var appended=filter.appended;var removeOrigin=filter.removeOrigin;var limit=filter.limit||Number.POSITIVE_INFINITY;var mediaController=(0,_controllersMediaControllerJs2["default"])(context).getInstance();var ln=0;var result=[];var sourceArr;if(!originData)return result;delete filter.streamId;delete filter.mediaType;delete filter.segmentType;delete filter.removeOrigin;delete filter.limit;delete filter.appended;sourceArr=appended?originData.appended:segmentType?originData[segmentType]:[];result=sourceArr.filter(function(item,idx,arr){if(ln>=limit)return false;for(var prop in filter){if(prop==="mediaInfo"){return mediaController.isTracksEqual(item[prop],filter[prop])}if(filter.hasOwnProperty(prop)&&item[prop]!=filter[prop])return false}if(removeOrigin){originData.calculatedBufferedRanges.remove(item.start,item.end);arr.splice(idx,1)}ln++;return true});if(filter.forRange){result=findChunksForRange(result,filter.forRange,false)}return result}function extract(filter){filter.removeOrigin=true;return getChunks(filter)}function getTotalBufferLevel(mediaInfo){var mediaType=mediaInfo.type;var level=0;for(var streamId in data){if(data.hasOwnProperty(streamId)){level+=sourceBufferController.getTotalBufferedTime({buffered:data[streamId][mediaType].calculatedBufferedRanges})}}return level}function setConfig(config){if(!config)return;if(config.sourceBufferController){sourceBufferController=config.sourceBufferController}}function reset(){data={}}function sortArrayByProperty(array,sortProp){var compare=function compare(obj1,obj2){if(obj1[sortProp]<obj2[sortProp])return-1;if(obj1[sortProp]>obj2[sortProp])return 1;return 0};array.sort(compare)}function findData(filter){var streamId=filter.streamId;var mediaType=filter.mediaType;if(!data[streamId])return null;return data[streamId][mediaType]}function findChunksForRange(chunks,range,truncateChunk){var rangeStart=range.start;var rangeEnd=range.end;var chunksForRange=[];var chunkStart,chunkEnd,isStartIncluded,isEndIncluded;chunks.forEach(function(chunk){chunkStart=chunk.bufferedRange.start;chunkEnd=chunk.bufferedRange.end;isStartIncluded=chunkStart>=rangeStart&&chunkStart<rangeEnd;isEndIncluded=chunkEnd>rangeStart&&chunkEnd<=rangeEnd;if(isStartIncluded||isEndIncluded){chunksForRange.push(chunk);if(truncateChunk){chunk.bufferedRange.start=isStartIncluded?chunkStart:rangeStart;chunk.bufferedRange.end=isEndIncluded?chunkEnd:rangeEnd}}});return chunksForRange}function createDataStorage(){var data={};data.audio={calculatedBufferedRanges:(0,_utilsCustomTimeRangesJs2["default"])(context).create(),actualBufferedRanges:(0,_utilsCustomTimeRangesJs2["default"])(context).create(),appended:[]};data.audio[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]=[];data.audio[_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE]=[];data.video={calculatedBufferedRanges:(0,_utilsCustomTimeRangesJs2["default"])(context).create(),actualBufferedRanges:(0,_utilsCustomTimeRangesJs2["default"])(context).create(),appended:[]};data.video[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]=[];data.video[_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE]=[];data.fragmentedText={calculatedBufferedRanges:(0,_utilsCustomTimeRangesJs2["default"])(context).create(),actualBufferedRanges:(0,_utilsCustomTimeRangesJs2["default"])(context).create(),appended:[]};data.fragmentedText[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]=[];data.fragmentedText[_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE]=[];return data}instance={append:append,extract:extract,getChunks:getChunks,storeAppendedChunk:storeAppendedChunk,updateBufferedRanges:updateBufferedRanges,getTotalBufferLevel:getTotalBufferLevel,setConfig:setConfig,reset:reset};setup();return instance}VirtualBuffer.__dashjs_factory_name="VirtualBuffer";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(VirtualBuffer);module.exports=exports["default"]},{"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9,"./controllers/MediaController.js":52,"./utils/CustomTimeRanges.js":88,"./vo/metrics/HTTPRequest.js":117}],44:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _voMetricsHTTPRequestJs=_dereq_("./vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _modelsMediaPlayerModelJs=_dereq_("./models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);function XHRLoader(cfg){var context=this.context;var mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();var errHandler=cfg.errHandler;var metricsModel=cfg.metricsModel;var requestModifier=cfg.requestModifier;var instance=undefined;var xhrs=undefined;var delayedXhrs=undefined;var retryTimers=undefined;var downloadErrorToRequestTypeMap=undefined;function setup(){var _downloadErrorToRequestTypeMap;xhrs=[];delayedXhrs=[];retryTimers=[];downloadErrorToRequestTypeMap=(_downloadErrorToRequestTypeMap={},_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].MPD_TYPE,errHandler.DOWNLOAD_ERROR_ID_MANIFEST),_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].XLINK_EXPANSION_TYPE,errHandler.DOWNLOAD_ERROR_ID_XLINK),_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE,errHandler.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE,errHandler.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].INDEX_SEGMENT_TYPE,errHandler.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].BITSTREAM_SWITCHING_SEGMENT_TYPE,errHandler.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(_downloadErrorToRequestTypeMap,_voMetricsHTTPRequestJs2["default"].OTHER_TYPE,errHandler.DOWNLOAD_ERROR_ID_CONTENT),_downloadErrorToRequestTypeMap)}function internalLoad(config,remainingAttempts){var request=config.request;var xhr=new XMLHttpRequest;var traces=[];var firstProgress=true;var needFailureReport=true;var requestStartTime=new Date;var lastTraceTime=requestStartTime;var lastTraceReceivedCount=0;var handleLoaded=function handleLoaded(success){needFailureReport=false;request.requestStartDate=requestStartTime;request.requestEndDate=new Date;request.firstByteDate=request.firstByteDate||requestStartTime;if(!request.checkExistenceOnly){metricsModel.addHttpRequest(request.mediaType,null,request.type,request.url,xhr.responseURL||null,request.serviceLocation||null,request.range||null,request.requestStartDate,request.firstByteDate,request.requestEndDate,xhr.status,request.duration,xhr.getAllResponseHeaders(),success?traces:null)}};var onloadend=function onloadend(){if(xhrs.indexOf(xhr)===-1){return}else{xhrs.splice(xhrs.indexOf(xhr),1)}if(needFailureReport){handleLoaded(false);if(remainingAttempts>0){remainingAttempts--;retryTimers.push(setTimeout(function(){internalLoad(config,remainingAttempts)},mediaPlayerModel.getRetryIntervalForType(request.type)))}else{errHandler.downloadError(downloadErrorToRequestTypeMap[request.type],request.url,request);if(config.error){config.error(request,"error",xhr.statusText)}if(config.complete){config.complete(request,xhr.statusText)}}}};var progress=function progress(event){var currentTime=new Date;if(firstProgress){firstProgress=false;if(!event.lengthComputable||event.lengthComputable&&event.total!==event.loaded){request.firstByteDate=currentTime}}if(event.lengthComputable){request.bytesLoaded=event.loaded;request.bytesTotal=event.total}traces.push({s:lastTraceTime,d:currentTime.getTime()-lastTraceTime.getTime(),b:[event.loaded?event.loaded-lastTraceReceivedCount:0]});lastTraceTime=currentTime;lastTraceReceivedCount=event.loaded;if(config.progress){config.progress()}};var onload=function onload(){if(xhr.status>=200&&xhr.status<=299){handleLoaded(true);if(config.success){config.success(xhr.response,xhr.statusText,xhr)}if(config.complete){config.complete(request,xhr.statusText)}}};try{var modifiedUrl=requestModifier.modifyRequestURL(request.url);var verb=request.checkExistenceOnly?"HEAD":"GET";xhr.open(verb,modifiedUrl,true);if(request.responseType){xhr.responseType=request.responseType}if(request.range){xhr.setRequestHeader("Range","bytes="+request.range)}if(!request.requestStartDate){request.requestStartDate=requestStartTime}xhr=requestModifier.modifyRequestHeader(xhr);xhr.onload=onload;xhr.onloadend=onloadend;xhr.onerror=onloadend;xhr.onprogress=progress;var now=(new Date).getTime();if(isNaN(request.delayLoadingTime)||now>=request.delayLoadingTime){xhrs.push(xhr);xhr.send()}else{(function(){var delayedXhr={xhr:xhr};delayedXhrs.push(delayedXhr);delayedXhr.delayTimeout=setTimeout(function(){if(delayedXhrs.indexOf(delayedXhr)===-1){return}else{delayedXhrs.splice(delayedXhrs.indexOf(delayedXhr),1)}try{xhrs.push(delayedXhr.xhr);delayedXhr.xhr.send()}catch(e){delayedXhr.xhr.onerror()}},request.delayLoadingTime-now)})()}}catch(e){xhr.onerror()}}function load(config){if(config.request){internalLoad(config,mediaPlayerModel.getRetryAttemptsForType(config.request.type))}}function abort(){retryTimers.forEach(function(t){return clearTimeout(t)});retryTimers=[];delayedXhrs.forEach(function(x){return clearTimeout(x.delayTimeout)});delayedXhrs=[];xhrs.forEach(function(x){x.onloadend=x.onerror=undefined;x.abort()});xhrs=[]}instance={load:load,abort:abort};setup();return instance}XHRLoader.__dashjs_factory_name="XHRLoader";var factory=_coreFactoryMakerJs2["default"].getClassFactory(XHRLoader);exports["default"]=factory;module.exports=exports["default"]},{"../core/FactoryMaker.js":7,"./models/MediaPlayerModel.js":64,"./vo/metrics/HTTPRequest.js":117}],45:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voErrorJs=_dereq_("./vo/Error.js");var _voErrorJs2=_interopRequireDefault(_voErrorJs);var _XHRLoaderJs=_dereq_("./XHRLoader.js");var _XHRLoaderJs2=_interopRequireDefault(_XHRLoaderJs);var _voMetricsHTTPRequestJs=_dereq_("./vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _voTextRequestJs=_dereq_("./vo/TextRequest.js");var _voTextRequestJs2=_interopRequireDefault(_voTextRequestJs);var _coreEventBusJs=_dereq_("../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var XLINK_LOADER_ERROR_LOADING_FAILURE=1;function XlinkLoader(config){var RESOLVE_TO_ZERO="urn:mpeg:dash:resolve-to-zero:2013";var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var xhrLoader=(0,_XHRLoaderJs2["default"])(context).create({errHandler:config.errHandler,metricsModel:config.metricsModel,requestModifier:config.requestModifier});var instance=undefined;function load(url,element,resolveObject){var report=function report(content,resolveToZero){element.resolved=true;element.resolvedContent=content?content:null;eventBus.trigger(_coreEventsEventsJs2["default"].XLINK_ELEMENT_LOADED,{element:element,resolveObject:resolveObject,error:content||resolveToZero?null:new _voErrorJs2["default"](XLINK_LOADER_ERROR_LOADING_FAILURE,"Failed loading Xlink element: "+url)})};if(url===RESOLVE_TO_ZERO){report(null,true)}else{var request=new _voTextRequestJs2["default"](url,_voMetricsHTTPRequestJs2["default"].XLINK_TYPE);xhrLoader.load({request:request,success:function success(data){report(data)},error:function error(){report(null)}})}}function reset(){if(xhrLoader){xhrLoader.abort();xhrLoader=null}}instance={load:load,reset:reset};return instance}XlinkLoader.__dashjs_factory_name="XlinkLoader";var factory=_coreFactoryMakerJs2["default"].getClassFactory(XlinkLoader);factory.XLINK_LOADER_ERROR_LOADING_FAILURE=XLINK_LOADER_ERROR_LOADING_FAILURE;exports["default"]=factory;module.exports=exports["default"]},{"../core/EventBus.js":6,"../core/FactoryMaker.js":7,"../core/events/Events.js":9,"./XHRLoader.js":44,"./vo/Error.js":100,"./vo/TextRequest.js":108,"./vo/metrics/HTTPRequest.js":117}],46:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _rulesSwitchRequest=_dereq_("../rules/SwitchRequest");var _rulesSwitchRequest2=_interopRequireDefault(_rulesSwitchRequest);var _voBitrateInfoJs=_dereq_("../vo/BitrateInfo.js");var _voBitrateInfoJs2=_interopRequireDefault(_voBitrateInfoJs);var _utilsDOMStorageJs=_dereq_("../utils/DOMStorage.js");var _utilsDOMStorageJs2=_interopRequireDefault(_utilsDOMStorageJs);var _rulesAbrABRRulesCollectionJs=_dereq_("../rules/abr/ABRRulesCollection.js");var _rulesAbrABRRulesCollectionJs2=_interopRequireDefault(_rulesAbrABRRulesCollectionJs);var _modelsMediaPlayerModelJs=_dereq_("../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _modelsFragmentModelJs=_dereq_("../models/FragmentModel.js");var _modelsFragmentModelJs2=_interopRequireDefault(_modelsFragmentModelJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _modelsManifestModelJs=_dereq_("../models/ManifestModel.js");var _modelsManifestModelJs2=_interopRequireDefault(_modelsManifestModelJs);var _dashModelsDashManifestModelJs=_dereq_("../../dash/models/DashManifestModel.js");var _dashModelsDashManifestModelJs2=_interopRequireDefault(_dashModelsDashManifestModelJs);var _modelsVideoModelJs=_dereq_("../models/VideoModel.js");var _modelsVideoModelJs2=_interopRequireDefault(_modelsVideoModelJs);var ABANDON_LOAD="abandonload";var ALLOW_LOAD="allowload";var DEFAULT_VIDEO_BITRATE=1e3;var DEFAULT_AUDIO_BITRATE=100;function AbrController(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,abrRulesCollection=undefined,rulesController=undefined,streamController=undefined,autoSwitchBitrate=undefined,topQualities=undefined,qualityDict=undefined,confidenceDict=undefined,bitrateDict=undefined,ratioDict=undefined,averageThroughputDict=undefined,streamProcessorDict=undefined,abandonmentStateDict=undefined,abandonmentTimeout=undefined,limitBitrateByPortal=undefined,manifestModel=undefined,dashManifestModel=undefined,videoModel=undefined,mediaPlayerModel=undefined,domStorage=undefined;function setup(){autoSwitchBitrate={video:true,audio:true};topQualities={};qualityDict={};confidenceDict={};bitrateDict={};ratioDict={};averageThroughputDict={};abandonmentStateDict={};streamProcessorDict={};limitBitrateByPortal=false;domStorage=(0,_utilsDOMStorageJs2["default"])(context).getInstance();mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();manifestModel=(0,_modelsManifestModelJs2["default"])(context).getInstance();dashManifestModel=(0,_dashModelsDashManifestModelJs2["default"])(context).getInstance();videoModel=(0,_modelsVideoModelJs2["default"])(context).getInstance()}function initialize(type,streamProcessor){streamProcessorDict[type]=streamProcessor;abandonmentStateDict[type]=abandonmentStateDict[type]||{};abandonmentStateDict[type].state=ALLOW_LOAD;eventBus.on(_coreEventsEventsJs2["default"].LOADING_PROGRESS,onFragmentLoadProgress,this)}function setConfig(config){if(!config)return;if(config.abrRulesCollection){abrRulesCollection=config.abrRulesCollection}if(config.rulesController){rulesController=config.rulesController}if(config.streamController){streamController=config.streamController}}function getTopQualityIndexFor(type,id){var idx;topQualities[id]=topQualities[id]||{};if(!topQualities[id].hasOwnProperty(type)){topQualities[id][type]=0}idx=checkMaxBitrate(topQualities[id][type],type);idx=checkMaxRepresentationRatio(idx,type,topQualities[id][type]);idx=checkPortalSize(idx,type);return idx}function getInitialBitrateFor(type){var savedBitrate=domStorage.getSavedBitrateSettings(type);if(!bitrateDict.hasOwnProperty(type)){if(ratioDict.hasOwnProperty(type)){var manifest=manifestModel.getValue();var representation=dashManifestModel.getAdaptationForType(manifest,0,type).Representation;if(Array.isArray(representation)){var repIdx=Math.max(Math.round(representation.length*ratioDict[type])-1,0);bitrateDict[type]=representation[repIdx].bandwidth}else{bitrateDict[type]=0}}else if(!isNaN(savedBitrate)){bitrateDict[type]=savedBitrate}else{bitrateDict[type]=type==="video"?DEFAULT_VIDEO_BITRATE:DEFAULT_AUDIO_BITRATE}}return bitrateDict[type]}function setInitialBitrateFor(type,value){bitrateDict[type]=value}function getInitialRepresentationRatioFor(type){if(!ratioDict.hasOwnProperty(type)){return null}return ratioDict[type]}function setInitialRepresentationRatioFor(type,value){ratioDict[type]=value}function getMaxAllowedBitrateFor(type){if(bitrateDict.hasOwnProperty("max")&&bitrateDict.max.hasOwnProperty(type)){return bitrateDict.max[type]}return NaN}function setMaxAllowedBitrateFor(type,value){bitrateDict.max=bitrateDict.max||{};bitrateDict.max[type]=value}function getMaxAllowedRepresentationRatioFor(type){if(ratioDict.hasOwnProperty("max")&&ratioDict.max.hasOwnProperty(type)){return ratioDict.max[type]}return 1}function setMaxAllowedRepresentationRatioFor(type,value){ratioDict.max=ratioDict.max||{};ratioDict.max[type]=value}function getAutoSwitchBitrateFor(type){return autoSwitchBitrate[type]}function setAutoSwitchBitrateFor(type,value){autoSwitchBitrate[type]=value}function getLimitBitrateByPortal(){return limitBitrateByPortal}function setLimitBitrateByPortal(value){limitBitrateByPortal=value}function getPlaybackQuality(streamProcessor,completedCallback){var type=streamProcessor.getType();var streamInfo=streamProcessor.getStreamInfo();var streamId=streamInfo.id;var quality,oldQuality,rules,confidence;var callback=function callback(res){var topQualityIdx=getTopQualityIndexFor(type,streamId);quality=res.value;confidence=res.confidence;if(quality<0){quality=0}if(quality>topQualityIdx){quality=topQualityIdx}oldQuality=getQualityFor(type,streamInfo);if(quality!==oldQuality&&(abandonmentStateDict[type].state===ALLOW_LOAD||quality>oldQuality)){setInternalQuality(type,streamId,quality);setConfidenceFor(type,streamId,confidence);eventBus.trigger(_coreEventsEventsJs2["default"].QUALITY_CHANGED,{mediaType:type,streamInfo:streamProcessor.getStreamInfo(),oldQuality:oldQuality,newQuality:quality})}if(completedCallback){completedCallback()}};quality=getQualityFor(type,streamInfo);confidence=getConfidenceFor(type,streamId);if(!getAutoSwitchBitrateFor(type)){if(completedCallback){completedCallback()}}else{rules=abrRulesCollection.getRules(_rulesAbrABRRulesCollectionJs2["default"].QUALITY_SWITCH_RULES);rulesController.applyRules(rules,streamProcessor,callback,quality,function(currentValue,newValue){currentValue=currentValue===_rulesSwitchRequest2["default"].NO_CHANGE?0:currentValue;return Math.max(currentValue,newValue)})}}function setPlaybackQuality(type,streamInfo,newPlaybackQuality){var id=streamInfo.id;var quality=getQualityFor(type,streamInfo);var isInt=newPlaybackQuality!==null&&!isNaN(newPlaybackQuality)&&newPlaybackQuality%1===0;if(!isInt)throw"argument is not an integer";if(newPlaybackQuality!==quality&&newPlaybackQuality>=0&&newPlaybackQuality<=getTopQualityIndexFor(type,id)){setInternalQuality(type,id,newPlaybackQuality);eventBus.trigger(_coreEventsEventsJs2["default"].QUALITY_CHANGED,{mediaType:type,streamInfo:streamInfo,oldQuality:quality,newQuality:newPlaybackQuality})}}function setAbandonmentStateFor(type,state){abandonmentStateDict[type].state=state}function getAbandonmentStateFor(type){return abandonmentStateDict[type].state}function getQualityForBitrate(mediaInfo,bitrate){var bitrateList=getBitrateList(mediaInfo);var bitrateInfo=undefined;if(!bitrateList||bitrateList.length===0){return-1}for(var i=bitrateList.length-1;i>=0;i--){bitrateInfo=bitrateList[i];if(bitrate*1e3>=bitrateInfo.bitrate){return i}}return 0}function getBitrateList(mediaInfo){if(!mediaInfo||!mediaInfo.bitrateList)return null;var bitrateList=mediaInfo.bitrateList;var type=mediaInfo.type;var infoList=[];var bitrateInfo;for(var i=0,ln=bitrateList.length;i<ln;i++){bitrateInfo=new _voBitrateInfoJs2["default"];bitrateInfo.mediaType=type;bitrateInfo.qualityIndex=i;bitrateInfo.bitrate=bitrateList[i].bandwidth;bitrateInfo.width=bitrateList[i].width;bitrateInfo.height=bitrateList[i].height;infoList.push(bitrateInfo)}return infoList}function setAverageThroughput(type,value){averageThroughputDict[type]=value}function getAverageThroughput(type){return averageThroughputDict[type]}function updateTopQualityIndex(mediaInfo){var type=mediaInfo.type;var streamId=mediaInfo.streamInfo.id;var max=mediaInfo.representationCount-1;setTopQualityIndex(type,streamId,max);return max}function isPlayingAtTopQuality(streamInfo){var isAtTop;var streamId=streamInfo.id;var audioQuality=getQualityFor("audio",streamInfo);var videoQuality=getQualityFor("video",streamInfo);isAtTop=audioQuality===getTopQualityIndexFor("audio",streamId)&&videoQuality===getTopQualityIndexFor("video",streamId);return isAtTop}function reset(){eventBus.off(_coreEventsEventsJs2["default"].LOADING_PROGRESS,onFragmentLoadProgress,this);clearTimeout(abandonmentTimeout);abandonmentTimeout=null;setup()}function getQualityFor(type,streamInfo){var id=streamInfo.id;var quality;qualityDict[id]=qualityDict[id]||{};if(!qualityDict[id].hasOwnProperty(type)){qualityDict[id][type]=0}quality=qualityDict[id][type];return quality}function setInternalQuality(type,id,value){qualityDict[id]=qualityDict[id]||{};qualityDict[id][type]=value}function getConfidenceFor(type,id){var confidence;confidenceDict[id]=confidenceDict[id]||{};if(!confidenceDict[id].hasOwnProperty(type)){confidenceDict[id][type]=0}confidence=confidenceDict[id][type];return confidence}function setConfidenceFor(type,id,value){confidenceDict[id]=confidenceDict[id]||{};confidenceDict[id][type]=value}function setTopQualityIndex(type,id,value){topQualities[id]=topQualities[id]||{};topQualities[id][type]=value}function checkMaxBitrate(idx,type){var maxBitrate=getMaxAllowedBitrateFor(type);if(isNaN(maxBitrate)||!streamProcessorDict[type]){return idx}var maxIdx=getQualityForBitrate(streamProcessorDict[type].getMediaInfo(),maxBitrate);return Math.min(idx,maxIdx)}function checkMaxRepresentationRatio(idx,type,maxIdx){var maxRepresentationRatio=getMaxAllowedRepresentationRatioFor(type);if(isNaN(maxRepresentationRatio)||maxRepresentationRatio>=1||maxRepresentationRatio<0){return idx}return Math.min(idx,Math.round(maxIdx*maxRepresentationRatio))}function checkPortalSize(idx,type){if(type!=="video"||!limitBitrateByPortal||!streamProcessorDict[type]){return idx}var element=videoModel.getElement();var elementWidth=element.clientWidth;var elementHeight=element.clientHeight;var manifest=manifestModel.getValue();var representation=dashManifestModel.getAdaptationForType(manifest,0,type).Representation;var newIdx=idx;if(elementWidth>0&&elementHeight>0){while(newIdx>0&&representation[newIdx]&&elementWidth<representation[newIdx].width&&elementWidth-representation[newIdx-1].width<representation[newIdx].width-elementWidth){newIdx=newIdx-1}if(representation.length-2>=newIdx&&representation[newIdx].width===representation[newIdx+1].width){newIdx=Math.min(idx,newIdx+1)}}return newIdx}function onFragmentLoadProgress(e){var type=e.request.mediaType;if(getAutoSwitchBitrateFor(type)){var rules=abrRulesCollection.getRules(_rulesAbrABRRulesCollectionJs2["default"].ABANDON_FRAGMENT_RULES);var scheduleController=streamProcessorDict[type].getScheduleController();if(!scheduleController)return;var fragmentModel=scheduleController.getFragmentModel();var callback=function callback(switchRequest){function setupTimeout(type){abandonmentTimeout=setTimeout(function(){setAbandonmentStateFor(type,ALLOW_LOAD)},mediaPlayerModel.getAbandonLoadTimeout())}if(switchRequest.confidence===_rulesSwitchRequest2["default"].STRONG){var requests=fragmentModel.getRequests({state:_modelsFragmentModelJs2["default"].FRAGMENT_MODEL_LOADING});var newQuality=switchRequest.value;var currentQuality=getQualityFor(type,streamController.getActiveStreamInfo());if(newQuality<currentQuality){fragmentModel.abortRequests();setAbandonmentStateFor(type,ABANDON_LOAD);setPlaybackQuality(type,streamController.getActiveStreamInfo(),newQuality);scheduleController.replaceCanceledRequests(requests);setupTimeout(type)}}};rulesController.applyRules(rules,streamProcessorDict[type],callback,e,function(currentValue,newValue){return newValue})}}instance={isPlayingAtTopQuality:isPlayingAtTopQuality,updateTopQualityIndex:updateTopQualityIndex,getAverageThroughput:getAverageThroughput,getBitrateList:getBitrateList,getQualityForBitrate:getQualityForBitrate,getMaxAllowedBitrateFor:getMaxAllowedBitrateFor,setMaxAllowedBitrateFor:setMaxAllowedBitrateFor,getMaxAllowedRepresentationRatioFor:getMaxAllowedRepresentationRatioFor,setMaxAllowedRepresentationRatioFor:setMaxAllowedRepresentationRatioFor,getInitialBitrateFor:getInitialBitrateFor,setInitialBitrateFor:setInitialBitrateFor,getInitialRepresentationRatioFor:getInitialRepresentationRatioFor,setInitialRepresentationRatioFor:setInitialRepresentationRatioFor,setAutoSwitchBitrateFor:setAutoSwitchBitrateFor,getAutoSwitchBitrateFor:getAutoSwitchBitrateFor,setLimitBitrateByPortal:setLimitBitrateByPortal,getLimitBitrateByPortal:getLimitBitrateByPortal,getConfidenceFor:getConfidenceFor,getQualityFor:getQualityFor,getAbandonmentStateFor:getAbandonmentStateFor,setAbandonmentStateFor:setAbandonmentStateFor,setPlaybackQuality:setPlaybackQuality,getPlaybackQuality:getPlaybackQuality,setAverageThroughput:setAverageThroughput,getTopQualityIndexFor:getTopQualityIndexFor,initialize:initialize,setConfig:setConfig,reset:reset};setup();return instance}AbrController.__dashjs_factory_name="AbrController";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(AbrController);factory.ABANDON_LOAD=ABANDON_LOAD;exports["default"]=factory;module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../dash/models/DashManifestModel.js":17,"../models/FragmentModel.js":62,"../models/ManifestModel.js":63,"../models/MediaPlayerModel.js":64,"../models/VideoModel.js":67,"../rules/SwitchRequest":70,"../rules/abr/ABRRulesCollection.js":71,"../utils/DOMStorage.js":89,"../vo/BitrateInfo.js":98}],47:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modelsBaseURLTreeModelJs=_dereq_("../models/BaseURLTreeModel.js");var _modelsBaseURLTreeModelJs2=_interopRequireDefault(_modelsBaseURLTreeModelJs);var _utilsBaseURLSelectorJs=_dereq_("../utils/BaseURLSelector.js");var _utilsBaseURLSelectorJs2=_interopRequireDefault(_utilsBaseURLSelectorJs);var _utilsURLUtilsJs=_dereq_("../utils/URLUtils.js");var _utilsURLUtilsJs2=_interopRequireDefault(_utilsURLUtilsJs);var _dashVoBaseURLJs=_dereq_("../../dash/vo/BaseURL.js");var _dashVoBaseURLJs2=_interopRequireDefault(_dashVoBaseURLJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);function BaseURLController(){var instance=undefined;var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var urlUtils=(0,_utilsURLUtilsJs2["default"])(context).getInstance();var baseURLTreeModel=undefined,baseURLSelector=undefined;function onBlackListChanged(e){baseURLTreeModel.invalidateSelectedIndexes(e.entry)}function setup(){baseURLTreeModel=(0,_modelsBaseURLTreeModelJs2["default"])(context).create();baseURLSelector=(0,_utilsBaseURLSelectorJs2["default"])(context).create();eventBus.on(_coreEventsEventsJs2["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,onBlackListChanged,instance)}function update(manifest){baseURLTreeModel.update(manifest);baseURLSelector.chooseSelectorFromManifest(manifest)}function resolve(path){var baseUrls=baseURLTreeModel.getForPath(path);var baseUrl=baseUrls.reduce(function(p,c){var b=baseURLSelector.select(c);if(b){if(!urlUtils.isRelative(b.url)){p.url=b.url;p.serviceLocation=b.serviceLocation}else{p.url+=b.url}}return p},new _dashVoBaseURLJs2["default"]);if(!urlUtils.isRelative(baseUrl.url)){return baseUrl}}function reset(){baseURLTreeModel.reset();baseURLSelector.reset()}function initialize(data){update(data)}instance={reset:reset,initialize:initialize,resolve:resolve};setup();return instance}BaseURLController.__dashjs_factory_name="BaseURLController";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(BaseURLController);module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../dash/vo/BaseURL.js":26,"../models/BaseURLTreeModel.js":61,"../utils/BaseURLSelector.js":85,"../utils/URLUtils.js":96}],48:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);function BlackListController(config){var blacklist=[];var eventBus=(0,_coreEventBusJs2["default"])(this.context).getInstance();var updateEventName=config.updateEventName;var loadFailedEventName=config.loadFailedEventName;function contains(query){if(!blacklist.length||!query||!query.length){return false}return blacklist.indexOf(query)!==-1}function add(entry){if(blacklist.indexOf(entry)!==-1){return}blacklist.push(entry);eventBus.trigger(updateEventName,{entry:entry})}function onLoadFailed(e){if(e.error){add(e.request.serviceLocation)}}function setup(){if(loadFailedEventName){eventBus.on(loadFailedEventName,onLoadFailed,this)}}function reset(){blacklist=[]}setup();return{add:add,contains:contains,reset:reset}}BlackListController.__dashjs_factory_name="BlackListController";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(BlackListController);

module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7}],49:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modelsFragmentModelJs=_dereq_("../models/FragmentModel.js");var _modelsFragmentModelJs2=_interopRequireDefault(_modelsFragmentModelJs);var _modelsMediaPlayerModelJs=_dereq_("../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _voMetricsHTTPRequestJs=_dereq_("../vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _SourceBufferControllerJs=_dereq_("./SourceBufferController.js");var _SourceBufferControllerJs2=_interopRequireDefault(_SourceBufferControllerJs);var _AbrControllerJs=_dereq_("./AbrController.js");var _AbrControllerJs2=_interopRequireDefault(_AbrControllerJs);var _PlaybackControllerJs=_dereq_("./PlaybackController.js");var _PlaybackControllerJs2=_interopRequireDefault(_PlaybackControllerJs);var _MediaControllerJs=_dereq_("./MediaController.js");var _MediaControllerJs2=_interopRequireDefault(_MediaControllerJs);var _utilsCustomTimeRangesJs=_dereq_("../utils/CustomTimeRanges.js");var _utilsCustomTimeRangesJs2=_interopRequireDefault(_utilsCustomTimeRangesJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _utilsBoxParserJs=_dereq_("../utils/BoxParser.js");var _utilsBoxParserJs2=_interopRequireDefault(_utilsBoxParserJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var BUFFER_LOADED="bufferLoaded";var BUFFER_EMPTY="bufferStalled";var STALL_THRESHOLD=.5;function BufferController(config){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var metricsModel=config.metricsModel;var manifestModel=config.manifestModel;var sourceBufferController=config.sourceBufferController;var errHandler=config.errHandler;var mediaSourceController=config.mediaSourceController;var streamController=config.streamController;var mediaController=config.mediaController;var adapter=config.adapter;var virtualBuffer=config.virtualBuffer;var textSourceBuffer=config.textSourceBuffer;var instance=undefined,requiredQuality=undefined,currentQuality=undefined,isBufferingCompleted=undefined,bufferLevel=undefined,bufferTarget=undefined,criticalBufferLevel=undefined,mediaSource=undefined,maxAppendedIndex=undefined,lastIndex=undefined,type=undefined,buffer=undefined,bufferState=undefined,appendedBytesInfo=undefined,wallclockTicked=undefined,appendingMediaChunk=undefined,isAppendingInProgress=undefined,isPruningInProgress=undefined,inbandEventFound=undefined,playbackController=undefined,streamProcessor=undefined,abrController=undefined,fragmentController=undefined,scheduleController=undefined,mediaPlayerModel=undefined,clearBufferTimeout=undefined;function setup(){requiredQuality=-1;currentQuality=-1;isBufferingCompleted=false;bufferLevel=0;bufferTarget=0;criticalBufferLevel=Number.POSITIVE_INFINITY;maxAppendedIndex=-1;lastIndex=-1;buffer=null;bufferState=BUFFER_EMPTY;wallclockTicked=0;appendingMediaChunk=false;isAppendingInProgress=false;isPruningInProgress=false;inbandEventFound=false;clearBufferTimeout=null}function initialize(Type,Source,StreamProcessor){type=Type;setMediaSource(Source);streamProcessor=StreamProcessor;mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();playbackController=(0,_PlaybackControllerJs2["default"])(context).getInstance();abrController=(0,_AbrControllerJs2["default"])(context).getInstance();fragmentController=streamProcessor.getFragmentController();scheduleController=streamProcessor.getScheduleController();requiredQuality=abrController.getQualityFor(type,streamProcessor.getStreamInfo());eventBus.on(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].INIT_FRAGMENT_LOADED,onInitFragmentLoaded,this);eventBus.on(_coreEventsEventsJs2["default"].MEDIA_FRAGMENT_LOADED,onMediaFragmentLoaded,this);eventBus.on(_coreEventsEventsJs2["default"].QUALITY_CHANGED,onQualityChanged,this);eventBus.on(_coreEventsEventsJs2["default"].STREAM_COMPLETED,onStreamCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_PROGRESS,onPlaybackProgression,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_TIME_UPDATED,onPlaybackProgression,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,this);eventBus.on(_coreEventsEventsJs2["default"].WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,this);eventBus.on(_coreEventsEventsJs2["default"].CURRENT_TRACK_CHANGED,onCurrentTrackChanged,this);eventBus.on(_coreEventsEventsJs2["default"].SOURCEBUFFER_APPEND_COMPLETED,onAppended,this);eventBus.on(_coreEventsEventsJs2["default"].SOURCEBUFFER_REMOVE_COMPLETED,onRemoved,this);eventBus.on(_coreEventsEventsJs2["default"].CHUNK_APPENDED,onChunkAppended,this)}function createBuffer(mediaInfo){if(!mediaInfo||!mediaSource||!streamProcessor)return null;var sourceBuffer=null;try{sourceBuffer=sourceBufferController.createSourceBuffer(mediaSource,mediaInfo);if(sourceBuffer&&sourceBuffer.hasOwnProperty("initialize")){sourceBuffer.initialize(type,this)}}catch(e){errHandler.mediaSourceError("Error creating "+type+" source buffer.")}setBuffer(sourceBuffer);updateBufferTimestampOffset(streamProcessor.getRepresentationInfoForQuality(requiredQuality).MSETimeOffset);appendNext();return sourceBuffer}function isActive(){var thisStreamId=streamProcessor.getStreamInfo().id;var activeStreamId=streamController.getActiveStreamInfo().id;return thisStreamId===activeStreamId}function onInitFragmentLoaded(e){var chunk;if(e.fragmentModel!==streamProcessor.getFragmentModel())return;log("Initialization finished loading");chunk=e.chunk;virtualBuffer.append(chunk);switchInitData(getStreamId(),requiredQuality)}function onMediaFragmentLoaded(e){if(e.fragmentModel!==streamProcessor.getFragmentModel())return;var events;var chunk=e.chunk;var bytes=chunk.bytes;var quality=chunk.quality;var index=chunk.index;var request=streamProcessor.getFragmentModel().getRequests({state:_modelsFragmentModelJs2["default"].FRAGMENT_MODEL_EXECUTED,quality:quality,index:index})[0];var currentRepresentation=streamProcessor.getRepresentationInfoForQuality(quality);var manifest=manifestModel.getValue();var eventStreamMedia=adapter.getEventsFor(manifest,currentRepresentation.mediaInfo,streamProcessor);var eventStreamTrack=adapter.getEventsFor(manifest,currentRepresentation,streamProcessor);if(eventStreamMedia.length>0||eventStreamTrack.length>0){events=handleInbandEvents(bytes,request,eventStreamMedia,eventStreamTrack);streamProcessor.getEventController().addInbandEvents(events)}chunk.bytes=deleteInbandEvents(bytes);virtualBuffer.append(chunk);appendNext()}function appendNext(){if(!buffer||isAppendingInProgress||!hasEnoughSpaceToAppend())return;var streamId=getStreamId();var chunk;if(appendingMediaChunk){chunk=appendingMediaChunk}else{chunk=virtualBuffer.extract({streamId:streamId,mediaType:type,segmentType:_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE,limit:1})[0];if(!chunk){return}appendingMediaChunk=chunk}if(chunk.quality===currentQuality){appendingMediaChunk=false;appendToBuffer(chunk)}else{switchInitData(streamId,appendingMediaChunk.quality)}}function switchInitData(streamId,quality){var filter={streamId:streamId,mediaType:type,segmentType:_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE,quality:quality};var chunk=virtualBuffer.getChunks(filter)[0];if(chunk){if(!buffer)return;appendToBuffer(chunk)}else{eventBus.trigger(_coreEventsEventsJs2["default"].INIT_REQUESTED,{sender:instance,requiredQuality:quality})}}function appendToBuffer(chunk){isAppendingInProgress=true;appendedBytesInfo=chunk;sourceBufferController.append(buffer,chunk);if(chunk.mediaInfo.type==="video"){if(chunk.mediaInfo.embeddedCaptions){textSourceBuffer.append(chunk.bytes,chunk)}}}function onAppended(e){if(buffer!==e.buffer)return;onPlaybackProgression();if(isBufferingCompleted&&streamProcessor.getStreamInfo().isLast){mediaSourceController.signalEndOfStream(mediaSource)}var ranges;if(e.error){if(e.error.code===_SourceBufferControllerJs2["default"].QUOTA_EXCEEDED_ERROR_CODE){virtualBuffer.append(appendedBytesInfo);criticalBufferLevel=sourceBufferController.getTotalBufferedTime(buffer)*.8;eventBus.trigger(_coreEventsEventsJs2["default"].QUOTA_EXCEEDED,{sender:instance,criticalBufferLevel:criticalBufferLevel});clearBuffer(getClearRange())}isAppendingInProgress=false;return}if(!hasEnoughSpaceToAppend()){eventBus.trigger(_coreEventsEventsJs2["default"].QUOTA_EXCEEDED,{sender:instance,criticalBufferLevel:criticalBufferLevel});clearBuffer(getClearRange())}ranges=sourceBufferController.getAllRanges(buffer);if(ranges){if(ranges.length>0){var i,len;for(i=0,len=ranges.length;i<len;i++){log("Buffered Range: "+ranges.start(i)+" - "+ranges.end(i))}}}isAppendingInProgress=false;if(!isNaN(appendedBytesInfo.index)){virtualBuffer.storeAppendedChunk(appendedBytesInfo,buffer);removeOldTrackData();maxAppendedIndex=Math.max(appendedBytesInfo.index,maxAppendedIndex);checkIfBufferingCompleted()}else{currentQuality=appendedBytesInfo.quality;if(!streamProcessor.isDynamic()){appendNext()}}eventBus.trigger(_coreEventsEventsJs2["default"].BYTES_APPENDED,{sender:instance,quality:appendedBytesInfo.quality,startTime:appendedBytesInfo.start,index:appendedBytesInfo.index,bufferedRanges:ranges})}function onQualityChanged(e){var newQuality=e.newQuality;if(requiredQuality===newQuality||type!==e.mediaType||streamProcessor.getStreamInfo().id!==e.streamInfo.id)return;updateBufferTimestampOffset(streamProcessor.getRepresentationInfoForQuality(newQuality).MSETimeOffset);requiredQuality=newQuality}function onPlaybackSeeking(){isAppendingInProgress=false;onPlaybackProgression()}function onPlaybackProgression(){updateBufferLevel();addBufferMetrics()}function updateBufferLevel(){var currentTime=playbackController.getTime();bufferLevel=sourceBufferController.getBufferLength(buffer,currentTime);eventBus.trigger(_coreEventsEventsJs2["default"].BUFFER_LEVEL_UPDATED,{sender:instance,bufferLevel:bufferLevel});checkIfSufficientBuffer()}function addBufferMetrics(){if(!isActive())return;metricsModel.addBufferState(type,bufferState,bufferTarget);metricsModel.addBufferLevel(type,new Date,bufferLevel*1e3)}function checkIfBufferingCompleted(){var isLastIdxAppended=maxAppendedIndex===lastIndex-1;if(!isLastIdxAppended||isBufferingCompleted)return;isBufferingCompleted=true;eventBus.trigger(_coreEventsEventsJs2["default"].BUFFERING_COMPLETED,{sender:instance,streamInfo:streamProcessor.getStreamInfo()})}function checkIfSufficientBuffer(){if(bufferLevel<STALL_THRESHOLD&&!isBufferingCompleted){notifyBufferStateChanged(BUFFER_EMPTY)}else{notifyBufferStateChanged(BUFFER_LOADED)}}function notifyBufferStateChanged(state){if(bufferState===state||type==="fragmentedText"&&textSourceBuffer.getAllTracksAreDisabled())return;bufferState=state;addBufferMetrics();eventBus.trigger(_coreEventsEventsJs2["default"].BUFFER_LEVEL_STATE_CHANGED,{sender:instance,state:state,mediaType:type,streamInfo:streamProcessor.getStreamInfo()});var eventType=state===BUFFER_LOADED?_coreEventsEventsJs2["default"].BUFFER_LOADED:_coreEventsEventsJs2["default"].BUFFER_EMPTY;eventBus.trigger(eventType,{mediaType:type});log(state===BUFFER_LOADED?"Got enough buffer to start.":"Waiting for more buffer before starting playback.")}function handleInbandEvents(data,request,mediaInbandEvents,trackInbandEvents){var fragmentStarttime=Math.max(isNaN(request.startTime)?0:request.startTime,0);var eventStreams=[];var events=[];var eventBoxes,event,isoFile,inbandEvents;inbandEventFound=false;inbandEvents=mediaInbandEvents.concat(trackInbandEvents);for(var loop=0;loop<inbandEvents.length;loop++){eventStreams[inbandEvents[loop].schemeIdUri]=inbandEvents[loop]}isoFile=(0,_utilsBoxParserJs2["default"])(context).getInstance().parse(data);eventBoxes=isoFile.getBoxes("emsg");for(var i=0,ln=eventBoxes.length;i<ln;i++){event=adapter.getEvent(eventBoxes[i],eventStreams,fragmentStarttime);if(event){events.push(event)}}return events}function deleteInbandEvents(data){if(!inbandEventFound){return data}var length=data.length;var expTwo=Math.pow(256,2);var expThree=Math.pow(256,3);var modData=new Uint8Array(data.length);var identifier,size;var i=0;var j=0;while(i<length){identifier=String.fromCharCode(data[i+4],data[i+5],data[i+6],data[i+7]);size=data[i]*expThree+data[i+1]*expTwo+data[i+2]*256+data[i+3]*1;if(identifier!="emsg"){for(var l=i;l<i+size;l++){modData[j]=data[l];j++}}i+=size}return modData.subarray(0,j)}function hasEnoughSpaceToAppend(){var totalBufferedTime=sourceBufferController.getTotalBufferedTime(buffer);return totalBufferedTime<criticalBufferLevel}function pruneBuffer(){if(type==="fragmentedText")return;log("try to prune buffer");var start=buffer.buffered.length?buffer.buffered.start(0):0;var currentTime=playbackController.getTime();var bufferToPrune=currentTime-start-mediaPlayerModel.getBufferToKeep();if(bufferToPrune>0){log("pruning buffer: "+bufferToPrune+" seconds.");isPruningInProgress=true;sourceBufferController.remove(buffer,0,Math.round(start+bufferToPrune),mediaSource)}}function getClearRange(){var currentTime,removeStart,removeEnd,range,req;if(!buffer)return null;currentTime=playbackController.getTime();req=streamProcessor.getFragmentModel().getRequests({state:_modelsFragmentModelJs2["default"].FRAGMENT_MODEL_EXECUTED,time:currentTime})[0];removeEnd=req&&!isNaN(req.startTime)?req.startTime:Math.floor(currentTime);range=sourceBufferController.getBufferRange(buffer,currentTime);if(range===null&&buffer.buffered.length>0){removeEnd=buffer.buffered.end(buffer.buffered.length-1)}removeStart=buffer.buffered.start(0);return{start:removeStart,end:removeEnd}}function clearBuffer(range){if(!range||!buffer)return;var removeStart=range.start;var removeEnd=range.end;sourceBufferController.remove(buffer,removeStart,removeEnd,mediaSource)}function onRemoved(e){if(buffer!==e.buffer)return;if(isPruningInProgress){isPruningInProgress=false}virtualBuffer.updateBufferedRanges({streamId:getStreamId(),mediaType:type},sourceBufferController.getAllRanges(buffer));updateBufferLevel();eventBus.trigger(_coreEventsEventsJs2["default"].BUFFER_CLEARED,{sender:instance,from:e.from,to:e.to,hasEnoughSpaceToAppend:hasEnoughSpaceToAppend()});if(hasEnoughSpaceToAppend())return;if(clearBufferTimeout===null){clearBufferTimeout=setTimeout(function(){clearBufferTimeout=null;clearBuffer(getClearRange())},streamProcessor.getStreamInfo().manifestInfo.minBufferTime*1e3)}}function updateBufferTimestampOffset(MSETimeOffset){if(buffer&&buffer.timestampOffset!==MSETimeOffset&&!isNaN(MSETimeOffset)){buffer.timestampOffset=MSETimeOffset}}function getStreamId(){return streamProcessor.getStreamInfo().id}function removeOldTrackData(){var allAppendedChunks=virtualBuffer.getChunks({streamId:getStreamId(),mediaType:type,segmentType:_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE,appended:true});var customTimeRangesFactory=(0,_utilsCustomTimeRangesJs2["default"])(context);var rangesToClear=customTimeRangesFactory.create();var rangesToLeave=customTimeRangesFactory.create();var currentTime=playbackController.getTime();var safeBufferLength=streamProcessor.getCurrentRepresentationInfo().fragmentDuration*2;var currentTrackBufferLength,ranges,range;allAppendedChunks.forEach(function(chunk){ranges=mediaController.isCurrentTrack(chunk.mediaInfo)?rangesToLeave:rangesToClear;ranges.add(chunk.bufferedRange.start,chunk.bufferedRange.end)});if(rangesToClear.length===0||rangesToLeave.length===0)return;currentTrackBufferLength=sourceBufferController.getBufferLength({buffered:rangesToLeave},currentTime);if(currentTrackBufferLength<safeBufferLength)return;for(var i=0,ln=rangesToClear.length;i<ln;i++){range={start:rangesToClear.start(i),end:rangesToClear.end(i)};if(mediaController.getSwitchMode(type)===_MediaControllerJs2["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE||range.start>currentTime){clearBuffer(range)}}}function onDataUpdateCompleted(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;if(e.error)return;updateBufferTimestampOffset(e.currentRepresentation.MSETimeOffset)}function onStreamCompleted(e){if(e.fragmentModel!==streamProcessor.getFragmentModel())return;lastIndex=e.request.index;checkIfBufferingCompleted()}function onChunkAppended(e){if(e.sender!==virtualBuffer)return;addBufferMetrics()}function onCurrentTrackChanged(e){if(!buffer||e.newMediaInfo.type!==type||e.newMediaInfo.streamInfo.id!==streamProcessor.getStreamInfo().id)return;var newMediaInfo=e.newMediaInfo;var mediaType=newMediaInfo.type;var switchMode=e.switchMode;var currentTime=playbackController.getTime();var range={start:0,end:currentTime};if(type!==mediaType)return;switch(switchMode){case _MediaControllerJs2["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE:clearBuffer(range);break;case _MediaControllerJs2["default"].TRACK_SWITCH_MODE_NEVER_REPLACE:break;default:log("track switch mode is not supported: "+switchMode)}}function onWallclockTimeUpdated(){var secondsElapsed;wallclockTicked++;secondsElapsed=wallclockTicked*(mediaPlayerModel.getWallclockTimeUpdateInterval()/1e3);if(secondsElapsed>=mediaPlayerModel.getBufferPruningInterval()&&!isAppendingInProgress){wallclockTicked=0;pruneBuffer()}}function onPlaybackRateChanged(){checkIfSufficientBuffer()}function getType(){return type}function getStreamProcessor(){return streamProcessor}function setStreamProcessor(value){streamProcessor=value}function getBuffer(){return buffer}function setBuffer(value){buffer=value}function getBufferLevel(){return bufferLevel}function getCriticalBufferLevel(){return criticalBufferLevel}function setMediaSource(value){mediaSource=value}function getMediaSource(){return mediaSource}function getIsBufferingCompleted(){return isBufferingCompleted}function getIsAppendingInProgress(){return isAppendingInProgress}function reset(errored){eventBus.off(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].QUALITY_CHANGED,onQualityChanged,this);eventBus.off(_coreEventsEventsJs2["default"].INIT_FRAGMENT_LOADED,onInitFragmentLoaded,this);eventBus.off(_coreEventsEventsJs2["default"].MEDIA_FRAGMENT_LOADED,onMediaFragmentLoaded,this);eventBus.off(_coreEventsEventsJs2["default"].STREAM_COMPLETED,onStreamCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].CURRENT_TRACK_CHANGED,onCurrentTrackChanged,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_PROGRESS,onPlaybackProgression,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_TIME_UPDATED,onPlaybackProgression,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,this);eventBus.off(_coreEventsEventsJs2["default"].WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,this);eventBus.off(_coreEventsEventsJs2["default"].SOURCEBUFFER_APPEND_COMPLETED,onAppended,this);eventBus.off(_coreEventsEventsJs2["default"].SOURCEBUFFER_REMOVE_COMPLETED,onRemoved,this);eventBus.off(_coreEventsEventsJs2["default"].CHUNK_APPENDED,onChunkAppended,this);clearTimeout(clearBufferTimeout);clearBufferTimeout=null;criticalBufferLevel=Number.POSITIVE_INFINITY;bufferState=BUFFER_EMPTY;currentQuality=-1;lastIndex=-1;maxAppendedIndex=-1;requiredQuality=0;appendedBytesInfo=null;appendingMediaChunk=false;isBufferingCompleted=false;isAppendingInProgress=false;isPruningInProgress=false;playbackController=null;streamProcessor=null;abrController=null;fragmentController=null;scheduleController=null;if(!errored){sourceBufferController.abort(mediaSource,buffer);sourceBufferController.removeSourceBuffer(mediaSource,buffer)}buffer=null}instance={initialize:initialize,createBuffer:createBuffer,getType:getType,getStreamProcessor:getStreamProcessor,setStreamProcessor:setStreamProcessor,getBuffer:getBuffer,setBuffer:setBuffer,getBufferLevel:getBufferLevel,getCriticalBufferLevel:getCriticalBufferLevel,setMediaSource:setMediaSource,getMediaSource:getMediaSource,getIsBufferingCompleted:getIsBufferingCompleted,getIsAppendingInProgress:getIsAppendingInProgress,reset:reset};setup();return instance}BufferController.__dashjs_factory_name="BufferController";var factory=_coreFactoryMakerJs2["default"].getClassFactory(BufferController);factory.BUFFER_LOADED=BUFFER_LOADED;factory.BUFFER_EMPTY=BUFFER_EMPTY;exports["default"]=factory;module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../models/FragmentModel.js":62,"../models/MediaPlayerModel.js":64,"../utils/BoxParser.js":86,"../utils/CustomTimeRanges.js":88,"../vo/metrics/HTTPRequest.js":117,"./AbrController.js":46,"./MediaController.js":52,"./PlaybackController.js":54,"./SourceBufferController.js":56}],50:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _controllersPlaybackControllerJs=_dereq_("../controllers/PlaybackController.js");var _controllersPlaybackControllerJs2=_interopRequireDefault(_controllersPlaybackControllerJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);function EventController(){var MPD_RELOAD_SCHEME="urn:mpeg:dash:event:2012";var MPD_RELOAD_VALUE=1;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,inlineEvents=undefined,inbandEvents=undefined,activeEvents=undefined,eventInterval=undefined,refreshDelay=undefined,presentationTimeThreshold=undefined,manifestModel=undefined,manifestUpdater=undefined,playbackController=undefined,isStarted=undefined;function initialize(){isStarted=false;inlineEvents={};inbandEvents={};activeEvents={};eventInterval=null;refreshDelay=100;presentationTimeThreshold=refreshDelay/1e3;playbackController=(0,_controllersPlaybackControllerJs2["default"])(context).getInstance()}function clear(){if(eventInterval!==null&&isStarted){clearInterval(eventInterval);eventInterval=null;isStarted=false}}function start(){log("Start Event Controller");if(!isStarted&&!isNaN(refreshDelay)){isStarted=true;eventInterval=setInterval(onEventTimer,refreshDelay)}}function addInlineEvents(values){inlineEvents={};if(values){for(var i=0;i<values.length;i++){var event=values[i];inlineEvents[event.id]=event;log("Add inline event with id "+event.id)}}log("Added "+values.length+" inline events")}function addInbandEvents(values){for(var i=0;i<values.length;i++){var event=values[i];if(!(event.id in inbandEvents)){inbandEvents[event.id]=event;log("Add inband event with id "+event.id)}else{log("Repeated event with id "+event.id)}}}function removeEvents(){if(activeEvents){var currentVideoTime=playbackController.getTime();var eventIds=Object.keys(activeEvents);for(var i=0;i<eventIds.length;i++){var eventId=eventIds[i];var curr=activeEvents[eventId];if(curr!==null&&(curr.duration+curr.presentationTime)/curr.eventStream.timescale<currentVideoTime){log("Remove Event "+eventId+" at time "+currentVideoTime);curr=null;delete activeEvents[eventId]}}}}function onEventTimer(){triggerEvents(inbandEvents);triggerEvents(inlineEvents);removeEvents()}function refreshManifest(){var manifest=manifestModel.getValue();var url=manifest.url;if(manifest.hasOwnProperty("Location")){url=manifest.Location}log("Refresh manifest @ "+url);manifestUpdater.getManifestLoader().load(url)}function triggerEvents(events){var currentVideoTime=playbackController.getTime();var presentationTime;if(events){var eventIds=Object.keys(events);for(var i=0;i<eventIds.length;i++){var eventId=eventIds[i];var curr=events[eventId];if(curr!==undefined){presentationTime=curr.presentationTime/curr.eventStream.timescale;if(presentationTime===0||presentationTime<=currentVideoTime&&presentationTime+presentationTimeThreshold>currentVideoTime){log("Start Event "+eventId+" at "+currentVideoTime);if(curr.duration>0){activeEvents[eventId]=curr}if(curr.eventStream.schemeIdUri==MPD_RELOAD_SCHEME&&curr.eventStream.value==MPD_RELOAD_VALUE){refreshManifest()}else{eventBus.trigger(curr.eventStream.schemeIdUri,{event:curr})}delete events[eventId]}}}}}function setConfig(config){if(!config)return;if(config.manifestModel){manifestModel=config.manifestModel}if(config.manifestUpdater){manifestUpdater=config.manifestUpdater}}function reset(){clear();inlineEvents=null;inbandEvents=null;activeEvents=null;playbackController=null}instance={initialize:initialize,addInlineEvents:addInlineEvents,addInbandEvents:addInbandEvents,clear:clear,start:start,setConfig:setConfig,reset:reset};return instance}EventController.__dashjs_factory_name="EventController";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(EventController);module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../controllers/PlaybackController.js":54}],51:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voMetricsHTTPRequestJs=_dereq_("../vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _voDataChunkJs=_dereq_("../vo/DataChunk.js");var _voDataChunkJs2=_interopRequireDefault(_voDataChunkJs);var _modelsFragmentModelJs=_dereq_("../models/FragmentModel.js");var _modelsFragmentModelJs2=_interopRequireDefault(_modelsFragmentModelJs);var _modelsMetricsModelJs=_dereq_("../models/MetricsModel.js");var _modelsMetricsModelJs2=_interopRequireDefault(_modelsMetricsModelJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function FragmentController(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,fragmentModels=undefined;function setup(){fragmentModels=[];eventBus.on(_coreEventsEventsJs2["default"].FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,instance)}function process(bytes){var result=null;if(bytes!==null&&bytes!==undefined&&bytes.byteLength>0){result=new Uint8Array(bytes)}return result}function getModel(scheduleController){if(!scheduleController)return null;var model=findModel(scheduleController);if(!model){model=(0,_modelsFragmentModelJs2["default"])(context).create({metricsModel:(0,_modelsMetricsModelJs2["default"])(context).getInstance()});model.setScheduleController(scheduleController);fragmentModels.push(model)}return model}function detachModel(model){var idx=fragmentModels.indexOf(model);if(idx>-1){fragmentModels.splice(idx,1)}}function isInitializationRequest(request){return request&&request.type&&request.type===_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE}function reset(){eventBus.off(_coreEventsEventsJs2["default"].FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,this);fragmentModels=[]}function findModel(scheduleController){var ln=fragmentModels.length;for(var i=0;i<ln;i++){if(fragmentModels[i].getScheduleController()==scheduleController){return fragmentModels[i]}}return null}function createDataChunk(bytes,request,streamId){var chunk=new _voDataChunkJs2["default"];chunk.streamId=streamId;chunk.mediaInfo=request.mediaInfo;chunk.segmentType=request.type;chunk.start=request.startTime;chunk.duration=request.duration;chunk.end=chunk.start+chunk.duration;chunk.bytes=bytes;chunk.index=request.index;chunk.quality=request.quality;return chunk}function onFragmentLoadingCompleted(e){var scheduleController=e.sender.getScheduleController();if(!findModel(scheduleController))return;var request=e.request;var bytes=e.response;var isInit=isInitializationRequest(request);var streamId=scheduleController.getStreamProcessor().getStreamInfo().id;var chunk=undefined;if(!bytes){log("No "+request.mediaType+" bytes to push.");return}chunk=createDataChunk(bytes,request,streamId);eventBus.trigger(isInit?_coreEventsEventsJs2["default"].INIT_FRAGMENT_LOADED:_coreEventsEventsJs2["default"].MEDIA_FRAGMENT_LOADED,{chunk:chunk,fragmentModel:e.sender})}instance={process:process,getModel:getModel,detachModel:detachModel,isInitializationRequest:isInitializationRequest,reset:reset};setup();return instance}FragmentController.__dashjs_factory_name="FragmentController";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(FragmentController);module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../models/FragmentModel.js":62,"../models/MetricsModel.js":65,"../vo/DataChunk.js":99,"../vo/metrics/HTTPRequest.js":117}],52:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _TextSourceBufferJs=_dereq_("../TextSourceBuffer.js");var _TextSourceBufferJs2=_interopRequireDefault(_TextSourceBufferJs);var _utilsDOMStorageJs=_dereq_("../utils/DOMStorage.js");var _utilsDOMStorageJs2=_interopRequireDefault(_utilsDOMStorageJs);var TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace";var TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace";var TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate";var TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange";var DEFAULT_INIT_TRACK_SELECTION_MODE=TRACK_SELECTION_MODE_HIGHEST_BITRATE;function MediaController(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var textSourceBuffer=(0,_TextSourceBufferJs2["default"])(context).getInstance();var domStorage=(0,_utilsDOMStorageJs2["default"])(context).getInstance();var instance=undefined,tracks=undefined,initialSettings=undefined,selectionMode=undefined,switchMode=undefined,errHandler=undefined;var validTrackSwitchModes=[TRACK_SWITCH_MODE_ALWAYS_REPLACE,TRACK_SWITCH_MODE_NEVER_REPLACE];var validTrackSelectionModes=[TRACK_SELECTION_MODE_HIGHEST_BITRATE,TRACK_SELECTION_MODE_WIDEST_RANGE];

function initialize(){tracks={};resetInitialSettings();resetSwitchMode()}function checkInitialMediaSettingsForType(type,streamInfo){var settings=getInitialSettings(type);var tracksForType=getTracksFor(type,streamInfo);var tracks=[];if(type==="fragmentedText"){setTrack(tracksForType[0]);return}if(!settings){settings=domStorage.getSavedMediaSettings(type);setInitialSettings(type,settings)}if(!tracksForType||tracksForType.length===0)return;if(settings){tracksForType.forEach(function(track){if(matchSettings(settings,track)){tracks.push(track)}})}if(tracks.length===0){setTrack(selectInitialTrack(tracksForType))}else{if(tracks.length>1){setTrack(selectInitialTrack(tracks))}else{setTrack(tracks[0])}}}function addTrack(track){var mediaType=track?track.type:null;var streamId=track?track.streamInfo.id:null;var initSettings=getInitialSettings(mediaType);if(!track||!isMultiTrackSupportedByType(mediaType))return false;tracks[streamId]=tracks[streamId]||createTrackInfo();if(tracks[streamId][mediaType].list.indexOf(track)>=0)return false;tracks[streamId][mediaType].list.push(track);if(initSettings&&matchSettings(initSettings,track)&&!getCurrentTrackFor(mediaType,track.streamInfo)){setTrack(track)}return true}function getTracksFor(type,streamInfo){if(!type||!streamInfo)return[];var id=streamInfo.id;if(!tracks[id]||!tracks[id][type])return[];return tracks[id][type].list}function getCurrentTrackFor(type,streamInfo){if(!type||!streamInfo)return null;return tracks[streamInfo.id][type].current}function isCurrentTrack(track){var type=track.type;var id=track.streamInfo.id;return tracks[id]&&tracks[id][type]&&isTracksEqual(tracks[id][type].current,track)}function setTrack(track){if(!track)return;var type=track.type;var streamInfo=track.streamInfo;var id=streamInfo.id;var current=getCurrentTrackFor(type,streamInfo);if(!tracks[id]||!tracks[id][type]||current&&isTracksEqual(track,current))return;tracks[id][type].current=track;if(current){eventBus.trigger(_coreEventsEventsJs2["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:current,newMediaInfo:track,switchMode:switchMode[type]})}var settings=extractSettings(track);if(!settings||!tracks[id][type].storeLastSettings)return;if(settings.roles){settings.role=settings.roles[0];delete settings.roles}if(settings.accessibility){settings.accessibility=settings.accessibility[0]}if(settings.audioChannelConfiguration){settings.audioChannelConfiguration=settings.audioChannelConfiguration[0]}domStorage.setSavedMediaSettings(type,settings)}function setInitialSettings(type,value){if(!type||!value)return;initialSettings[type]=value}function getInitialSettings(type){if(!type)return null;return initialSettings[type]}function setSwitchMode(type,mode){var isModeSupported=validTrackSwitchModes.indexOf(mode)!==-1;if(!isModeSupported){log("track switch mode is not supported: "+mode);return}switchMode[type]=mode}function getSwitchMode(type){return switchMode[type]}function setSelectionModeForInitialTrack(mode){var isModeSupported=validTrackSelectionModes.indexOf(mode)!==-1;if(!isModeSupported){log("track selection mode is not supported: "+mode);return}selectionMode=mode}function getSelectionModeForInitialTrack(){return selectionMode||DEFAULT_INIT_TRACK_SELECTION_MODE}function isMultiTrackSupportedByType(type){return type==="audio"||type==="video"||type==="text"||type==="fragmentedText"}function isTracksEqual(t1,t2){var sameId=t1.id===t2.id;var sameViewpoint=t1.viewpoint===t2.viewpoint;var sameLang=t1.lang===t2.lang;var sameRoles=t1.roles.toString()==t2.roles.toString();var sameAccessibility=t1.accessibility.toString()==t2.accessibility.toString();var sameAudioChannelConfiguration=t1.audioChannelConfiguration.toString()==t2.audioChannelConfiguration.toString();return sameId&&sameViewpoint&&sameLang&&sameRoles&&sameAccessibility&&sameAudioChannelConfiguration}function setConfig(config){if(!config)return;if(config.errHandler){errHandler=config.errHandler}}function reset(){initialize();textSourceBuffer.resetEmbedded()}function extractSettings(mediaInfo){var settings={lang:mediaInfo.lang,viewpoint:mediaInfo.viewpoint,roles:mediaInfo.roles,accessibility:mediaInfo.accessibility,audioChannelConfiguration:mediaInfo.audioChannelConfiguration};var notEmpty=settings.lang||settings.viewpoint||settings.role&&settings.role.length>0||settings.accessibility&&settings.accessibility.length>0||settings.audioChannelConfiguration&&settings.audioChannelConfiguration.length>0;return notEmpty?settings:null}function matchSettings(settings,track){var matchLang=!settings.lang||settings.lang===track.lang;var matchViewPoint=!settings.viewpoint||settings.viewpoint===track.viewpoint;var matchRole=!settings.role||!!track.roles.filter(function(item){return item===settings.role})[0];var matchAccessibility=!settings.accessibility||!!track.accessibility.filter(function(item){return item===settings.accessibility})[0];var matchAudioChannelConfiguration=!settings.audioChannelConfiguration||!!track.audioChannelConfiguration.filter(function(item){return item===settings.audioChannelConfiguration})[0];return matchLang&&matchViewPoint&&matchRole&&matchAccessibility&&matchAudioChannelConfiguration}function resetSwitchMode(){switchMode={audio:TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:TRACK_SWITCH_MODE_NEVER_REPLACE}}function resetInitialSettings(){initialSettings={audio:null,video:null}}function selectInitialTrack(tracks){var mode=getSelectionModeForInitialTrack();var tmpArr=[];var getTracksWithHighestBitrate=function getTracksWithHighestBitrate(trackArr){var max=0;var result=[];var tmp;trackArr.forEach(function(track){tmp=Math.max.apply(Math,track.bitrateList.map(function(obj){return obj.bandwidth}));if(tmp>max){max=tmp;result=[track]}else if(tmp===max){result.push(track)}});return result};var getTracksWithWidestRange=function getTracksWithWidestRange(trackArr){var max=0;var result=[];var tmp;trackArr.forEach(function(track){tmp=track.representationCount;if(tmp>max){max=tmp;result=[track]}else if(tmp===max){result.push(track)}});return result};switch(mode){case TRACK_SELECTION_MODE_HIGHEST_BITRATE:tmpArr=getTracksWithHighestBitrate(tracks);if(tmpArr.length>1){tmpArr=getTracksWithWidestRange(tmpArr)}break;case TRACK_SELECTION_MODE_WIDEST_RANGE:tmpArr=getTracksWithWidestRange(tracks);if(tmpArr.length>1){tmpArr=getTracksWithHighestBitrate(tracks)}break;default:log("track selection mode is not supported: "+mode);break}return tmpArr[0]}function createTrackInfo(){return{audio:{list:[],storeLastSettings:true,current:null},video:{list:[],storeLastSettings:true,current:null},text:{list:[],storeLastSettings:true,current:null},fragmentedText:{list:[],storeLastSettings:true,current:null}}}instance={initialize:initialize,checkInitialMediaSettingsForType:checkInitialMediaSettingsForType,addTrack:addTrack,getTracksFor:getTracksFor,getCurrentTrackFor:getCurrentTrackFor,isCurrentTrack:isCurrentTrack,setTrack:setTrack,setInitialSettings:setInitialSettings,getInitialSettings:getInitialSettings,setSwitchMode:setSwitchMode,getSwitchMode:getSwitchMode,setSelectionModeForInitialTrack:setSelectionModeForInitialTrack,getSelectionModeForInitialTrack:getSelectionModeForInitialTrack,isMultiTrackSupportedByType:isMultiTrackSupportedByType,isTracksEqual:isTracksEqual,setConfig:setConfig,reset:reset};return instance}MediaController.__dashjs_factory_name="MediaController";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(MediaController);factory.TRACK_SWITCH_MODE_NEVER_REPLACE=TRACK_SWITCH_MODE_NEVER_REPLACE;factory.TRACK_SWITCH_MODE_ALWAYS_REPLACE=TRACK_SWITCH_MODE_ALWAYS_REPLACE;factory.TRACK_SELECTION_MODE_HIGHEST_BITRATE=TRACK_SELECTION_MODE_HIGHEST_BITRATE;factory.TRACK_SELECTION_MODE_WIDEST_RANGE=TRACK_SELECTION_MODE_WIDEST_RANGE;factory.DEFAULT_INIT_TRACK_SELECTION_MODE=DEFAULT_INIT_TRACK_SELECTION_MODE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../TextSourceBuffer.js":41,"../utils/DOMStorage.js":89}],53:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function MediaSourceController(){var instance=undefined;function createMediaSource(){var hasWebKit="WebKitMediaSource"in window;var hasMediaSource="MediaSource"in window;if(hasMediaSource){return new MediaSource}else if(hasWebKit){return new WebKitMediaSource}return null}function attachMediaSource(source,videoModel){var objectURL=window.URL.createObjectURL(source);videoModel.setSource(objectURL);return objectURL}function detachMediaSource(videoModel){videoModel.setSource(null)}function setDuration(source,value){if(source.duration!=value)source.duration=value;return source.duration}function signalEndOfStream(source){var buffers=source.sourceBuffers;var ln=buffers.length;var i=0;if(source.readyState!=="open")return;for(i;i<ln;i++){if(buffers[i].updating)return;if(buffers[i].buffered.length===0)return}source.endOfStream()}instance={createMediaSource:createMediaSource,attachMediaSource:attachMediaSource,detachMediaSource:detachMediaSource,setDuration:setDuration,signalEndOfStream:signalEndOfStream};return instance}MediaSourceController.__dashjs_factory_name="MediaSourceController";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(MediaSourceController);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],54:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _BufferControllerJs=_dereq_("./BufferController.js");var _BufferControllerJs2=_interopRequireDefault(_BufferControllerJs);var _modelsURIQueryAndFragmentModelJs=_dereq_("../models/URIQueryAndFragmentModel.js");var _modelsURIQueryAndFragmentModelJs2=_interopRequireDefault(_modelsURIQueryAndFragmentModelJs);var _streamingModelsMediaPlayerModelJs=_dereq_("../../streaming/models/MediaPlayerModel.js");var _streamingModelsMediaPlayerModelJs2=_interopRequireDefault(_streamingModelsMediaPlayerModelJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function PlaybackController(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,element=undefined,streamController=undefined,timelineConverter=undefined,metricsModel=undefined,dashMetrics=undefined,manifestModel=undefined,dashManifestModel=undefined,adapter=undefined,videoModel=undefined,currentTime=undefined,liveStartTime=undefined,wallclockTimeIntervalId=undefined,commonEarliestTime=undefined,streamInfo=undefined,isDynamic=undefined,mediaPlayerModel=undefined,playOnceInitialized=undefined;function setup(){currentTime=0;liveStartTime=NaN;wallclockTimeIntervalId=null;isDynamic=null;playOnceInitialized=false;commonEarliestTime={};mediaPlayerModel=(0,_streamingModelsMediaPlayerModelJs2["default"])(context).getInstance()}function initialize(StreamInfo){streamInfo=StreamInfo;element=videoModel.getElement();addAllListeners();isDynamic=streamInfo.manifestInfo.isDynamic;liveStartTime=streamInfo.start;eventBus.on(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].BYTES_APPENDED,onBytesAppended,this);eventBus.on(_coreEventsEventsJs2["default"].BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this);eventBus.on(_coreEventsEventsJs2["default"].PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,this);if(playOnceInitialized){playOnceInitialized=false;play()}}function onPeriodSwitchStarted(e){if(e.fromStreamInfo&&commonEarliestTime[e.fromStreamInfo.id]){delete commonEarliestTime[e.fromStreamInfo.id]}}function getTimeToStreamEnd(){return getStreamStartTime(true)+streamInfo.duration-getTime()}function isPlaybackStarted(){return getTime()>0}function getStreamId(){return streamInfo.id}function getStreamDuration(){return streamInfo.duration}function play(){if(element){element.autoplay=true;element.play()}else{playOnceInitialized=true}}function isPaused(){if(!element)return;return element.paused}function pause(){if(!element)return;element.pause();element.autoplay=false}function isSeeking(){if(!element)return;return element.seeking}function seek(time){if(!videoModel)return;log("Requesting seek to time: "+time);videoModel.setCurrentTime(time)}function getTime(){if(!element)return;return element.currentTime}function getPlaybackRate(){if(!element)return;return element.playbackRate}function getPlayedRanges(){if(!element)return;return element.played}function getEnded(){if(!element)return;return element.ended}function getIsDynamic(){return isDynamic}function setLiveStartTime(value){liveStartTime=value}function getLiveStartTime(){return liveStartTime}function computeLiveDelay(fragmentDuration,dvrWindowSize){var mpd=dashManifestModel.getMpd(manifestModel.getValue());var delay=undefined;var END_OF_PLAYLIST_PADDING=10;if(mediaPlayerModel.getUseSuggestedPresentationDelay()&&mpd.hasOwnProperty("suggestedPresentationDelay")){delay=mpd.suggestedPresentationDelay}else if(mediaPlayerModel.getLiveDelay()){delay=mediaPlayerModel.getLiveDelay()}else if(!isNaN(fragmentDuration)){delay=fragmentDuration*mediaPlayerModel.getLiveDelayFragmentCount()}else{delay=streamInfo.manifestInfo.minBufferTime*2}var targetDelayCapping=Math.max(dvrWindowSize-END_OF_PLAYLIST_PADDING,dvrWindowSize/2);return Math.min(delay,targetDelayCapping)}function reset(){if(videoModel&&element){eventBus.off(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this);eventBus.off(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].BYTES_APPENDED,onBytesAppended,this);stopUpdatingWallclockTime();removeAllListeners()}videoModel=null;streamInfo=null;element=null;isDynamic=null;setup()}function setConfig(config){if(!config)return;if(config.streamController){streamController=config.streamController}if(config.timelineConverter){timelineConverter=config.timelineConverter}if(config.metricsModel){metricsModel=config.metricsModel}if(config.dashMetrics){dashMetrics=config.dashMetrics}if(config.manifestModel){manifestModel=config.manifestModel}if(config.dashManifestModel){dashManifestModel=config.dashManifestModel}if(config.adapter){adapter=config.adapter}if(config.videoModel){videoModel=config.videoModel}}function getStreamStartTime(ignoreStartOffset){var presentationStartTime=undefined;var startTimeOffset=!ignoreStartOffset?parseInt((0,_modelsURIQueryAndFragmentModelJs2["default"])(context).getInstance().getURIFragmentData().s,10):NaN;if(isDynamic){if(!isNaN(startTimeOffset)&&startTimeOffset>1262304e3){presentationStartTime=startTimeOffset-streamInfo.manifestInfo.availableFrom.getTime()/1e3;if(presentationStartTime>liveStartTime||presentationStartTime<liveStartTime-streamInfo.manifestInfo.DVRWindowSize){presentationStartTime=null}}presentationStartTime=presentationStartTime||liveStartTime}else{if(!isNaN(startTimeOffset)&&startTimeOffset<Math.max(streamInfo.manifestInfo.duration,streamInfo.duration)&&startTimeOffset>=0){presentationStartTime=startTimeOffset}else{var earliestTime=commonEarliestTime[streamInfo.id];if(earliestTime===undefined){earliestTime=streamController.getActiveStreamCommonEarliestTime()}presentationStartTime=Math.max(earliestTime,streamInfo.start)}}return presentationStartTime}function getActualPresentationTime(currentTime){var metrics=metricsModel.getReadOnlyMetricsFor("video")||metricsModel.getReadOnlyMetricsFor("audio");var DVRMetrics=dashMetrics.getCurrentDVRInfo(metrics);var DVRWindow=DVRMetrics?DVRMetrics.range:null;var actualTime;if(!DVRWindow)return NaN;if(currentTime>=DVRWindow.start&&currentTime<=DVRWindow.end){return currentTime}actualTime=Math.max(DVRWindow.end-streamInfo.manifestInfo.minBufferTime*2,DVRWindow.start);return actualTime}function startUpdatingWallclockTime(){if(wallclockTimeIntervalId!==null)return;var tick=function tick(){onWallclockTime()};wallclockTimeIntervalId=setInterval(tick,mediaPlayerModel.getWallclockTimeUpdateInterval())}function stopUpdatingWallclockTime(){clearInterval(wallclockTimeIntervalId);wallclockTimeIntervalId=null}function seekToStartTimeOffset(){var initialSeekTime=getStreamStartTime(false);if(initialSeekTime>0){seek(initialSeekTime);log("Starting playback at offset: "+initialSeekTime)}}function updateCurrentTime(){if(isPaused()||!isDynamic||element.readyState===0)return;var currentTime=getTime();var actualTime=getActualPresentationTime(currentTime);var timeChanged=!isNaN(actualTime)&&actualTime!==currentTime;if(timeChanged){seek(actualTime)}}function onDataUpdateCompleted(e){if(e.error)return;var representationInfo=adapter.convertDataToTrack(manifestModel.getValue(),e.currentRepresentation);var info=representationInfo.mediaInfo.streamInfo;if(streamInfo.id!==info.id)return;streamInfo=info;updateCurrentTime()}function onLiveEdgeSearchCompleted(e){if(e.error||element.readyState===0)return;seekToStartTimeOffset()}function onCanPlay(){eventBus.trigger(_coreEventsEventsJs2["default"].CAN_PLAY)}function onPlaybackStart(){log("Native video element event: play");updateCurrentTime();startUpdatingWallclockTime();eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,{startTime:getTime()})}function onPlaybackPlaying(){log("Native video element event: playing");eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_PLAYING,{playingTime:getTime()})}function onPlaybackPaused(){log("Native video element event: pause");eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_PAUSED,{ended:getEnded()})}function onPlaybackSeeking(){var seekTime=getTime();log("Seeking to: "+seekTime);startUpdatingWallclockTime();eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,{seekTime:seekTime})}function onPlaybackSeeked(){log("Native video element event: seeked");eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_SEEKED)}function onPlaybackTimeUpdated(){var time=getTime();if(time===currentTime)return;currentTime=time;eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:getTimeToStreamEnd(),time:time})}function onPlaybackProgress(){eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_PROGRESS)}function onPlaybackRateChanged(){var rate=getPlaybackRate();log("Native video element event: ratechange: ",rate);eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_RATE_CHANGED,{playbackRate:rate})}function onPlaybackMetaDataLoaded(){log("Native video element event: loadedmetadata");if(!isDynamic&&streamInfo.isFirst||timelineConverter.isTimeSyncCompleted()){seekToStartTimeOffset()}eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_METADATA_LOADED);startUpdatingWallclockTime()}function onPlaybackEnded(){log("Native video element event: ended");pause();stopUpdatingWallclockTime();eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_ENDED)}function onPlaybackError(event){var target=event.target||event.srcElement;eventBus.trigger(_coreEventsEventsJs2["default"].PLAYBACK_ERROR,{error:target.error})}function onWallclockTime(){eventBus.trigger(_coreEventsEventsJs2["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:isDynamic,time:new Date})}function onBytesAppended(e){var ranges=e.bufferedRanges;if(!ranges||!ranges.length)return;var bufferedStart=Math.max(ranges.start(0),streamInfo.start);var earliestTime=commonEarliestTime[streamInfo.id]===undefined?bufferedStart:Math.max(commonEarliestTime[streamInfo.id],bufferedStart);if(earliestTime===commonEarliestTime[streamInfo.id])return;if(!isDynamic&&getStreamStartTime(true)<earliestTime&&getTime()<earliestTime){seek(earliestTime)}commonEarliestTime[streamInfo.id]=earliestTime}function onBufferLevelStateChanged(e){if(e.streamInfo.id!==streamInfo.id)return;videoModel.setStallState(e.mediaType,e.state===_BufferControllerJs2["default"].BUFFER_EMPTY)}function addAllListeners(){element.addEventListener("canplay",onCanPlay);element.addEventListener("play",onPlaybackStart);element.addEventListener("playing",onPlaybackPlaying);element.addEventListener("pause",onPlaybackPaused);element.addEventListener("error",onPlaybackError);element.addEventListener("seeking",onPlaybackSeeking);element.addEventListener("seeked",onPlaybackSeeked);element.addEventListener("timeupdate",onPlaybackTimeUpdated);element.addEventListener("progress",onPlaybackProgress);element.addEventListener("ratechange",onPlaybackRateChanged);element.addEventListener("loadedmetadata",onPlaybackMetaDataLoaded);element.addEventListener("ended",onPlaybackEnded)}function removeAllListeners(){element.removeEventListener("canplay",onCanPlay);element.removeEventListener("play",onPlaybackStart);element.removeEventListener("playing",onPlaybackPlaying);element.removeEventListener("pause",onPlaybackPaused);element.removeEventListener("error",onPlaybackError);element.removeEventListener("seeking",onPlaybackSeeking);element.removeEventListener("seeked",onPlaybackSeeked);element.removeEventListener("timeupdate",onPlaybackTimeUpdated);element.removeEventListener("progress",onPlaybackProgress);element.removeEventListener("ratechange",onPlaybackRateChanged);element.removeEventListener("loadedmetadata",onPlaybackMetaDataLoaded);element.removeEventListener("ended",onPlaybackEnded)}instance={initialize:initialize,setConfig:setConfig,getStreamStartTime:getStreamStartTime,getTimeToStreamEnd:getTimeToStreamEnd,isPlaybackStarted:isPlaybackStarted,getStreamId:getStreamId,getStreamDuration:getStreamDuration,getTime:getTime,getPlaybackRate:getPlaybackRate,getPlayedRanges:getPlayedRanges,getEnded:getEnded,getIsDynamic:getIsDynamic,setLiveStartTime:setLiveStartTime,getLiveStartTime:getLiveStartTime,computeLiveDelay:computeLiveDelay,play:play,isPaused:isPaused,pause:pause,isSeeking:isSeeking,seek:seek,reset:reset};setup();return instance}PlaybackController.__dashjs_factory_name="PlaybackController";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(PlaybackController);module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../streaming/models/MediaPlayerModel.js":64,"../models/URIQueryAndFragmentModel.js":66,"./BufferController.js":49}],55:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voMetricsPlayListJs=_dereq_("../vo/metrics/PlayList.js");var _voMetricsPlayListJs2=_interopRequireDefault(_voMetricsPlayListJs);var _PlaybackControllerJs=_dereq_("./PlaybackController.js");var _PlaybackControllerJs2=_interopRequireDefault(_PlaybackControllerJs);var _AbrControllerJs=_dereq_("./AbrController.js");var _AbrControllerJs2=_interopRequireDefault(_AbrControllerJs);var _BufferControllerJs=_dereq_("./BufferController.js");var _BufferControllerJs2=_interopRequireDefault(_BufferControllerJs);var _rulesSchedulingBufferLevelRuleJs=_dereq_("../rules/scheduling/BufferLevelRule.js");var _rulesSchedulingBufferLevelRuleJs2=_interopRequireDefault(_rulesSchedulingBufferLevelRuleJs);var _rulesSchedulingNextFragmentRequestRuleJs=_dereq_("../rules/scheduling/NextFragmentRequestRule.js");var _rulesSchedulingNextFragmentRequestRuleJs2=_interopRequireDefault(_rulesSchedulingNextFragmentRequestRuleJs);var _TextSourceBufferJs=_dereq_("../TextSourceBuffer.js");var _TextSourceBufferJs2=_interopRequireDefault(_TextSourceBufferJs);var _modelsMetricsModelJs=_dereq_("../models/MetricsModel.js");var _modelsMetricsModelJs2=_interopRequireDefault(_modelsMetricsModelJs);var _dashDashMetricsJs=_dereq_("../../dash/DashMetrics.js");var _dashDashMetricsJs2=_interopRequireDefault(_dashDashMetricsJs);var _dashDashAdapterJs=_dereq_("../../dash/DashAdapter.js");var _dashDashAdapterJs2=_interopRequireDefault(_dashDashAdapterJs);var _controllersSourceBufferControllerJs=_dereq_("../controllers/SourceBufferController.js");var _controllersSourceBufferControllerJs2=_interopRequireDefault(_controllersSourceBufferControllerJs);var _VirtualBufferJs=_dereq_("../VirtualBuffer.js");var _VirtualBufferJs2=_interopRequireDefault(_VirtualBufferJs);var _utilsLiveEdgeFinderJs=_dereq_("../utils/LiveEdgeFinder.js");var _utilsLiveEdgeFinderJs2=_interopRequireDefault(_utilsLiveEdgeFinderJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function ScheduleController(config){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var metricsModel=config.metricsModel;var manifestModel=config.manifestModel;var adapter=config.adapter;var dashMetrics=config.dashMetrics;var dashManifestModel=config.dashManifestModel;var timelineConverter=config.timelineConverter;var mediaPlayerModel=config.mediaPlayerModel;var instance=undefined,type=undefined,ready=undefined,fragmentModel=undefined,isDynamic=undefined,currentRepresentationInfo=undefined,initialPlayback=undefined,isStopped=undefined,playListMetrics=undefined,playListTraceMetrics=undefined,playListTraceMetricsClosed=undefined,isFragmentLoading=undefined,timeToLoadDelay=undefined,validateTimeout=undefined,seekTarget=undefined,playbackController=undefined,abrController=undefined,streamProcessor=undefined,fragmentController=undefined,liveEdgeFinder=undefined,bufferController=undefined,bufferLevelRule=undefined,nextFragmentRequestRule=undefined,scheduleWhilePaused=undefined;function setup(){initialPlayback=true;isStopped=false;playListMetrics=null;playListTraceMetrics=null;playListTraceMetricsClosed=true;isFragmentLoading=false;timeToLoadDelay=0;seekTarget=NaN}function initialize(Type,StreamProcessor){type=Type;streamProcessor=StreamProcessor;liveEdgeFinder=(0,_utilsLiveEdgeFinderJs2["default"])(context).getInstance();playbackController=(0,_PlaybackControllerJs2["default"])(context).getInstance();abrController=(0,_AbrControllerJs2["default"])(context).getInstance();fragmentController=streamProcessor.getFragmentController();bufferController=streamProcessor.getBufferController();fragmentModel=fragmentController.getModel(this);isDynamic=streamProcessor.isDynamic();scheduleWhilePaused=mediaPlayerModel.getScheduleWhilePaused();bufferLevelRule=(0,_rulesSchedulingBufferLevelRuleJs2["default"])(context).create({dashMetrics:(0,_dashDashMetricsJs2["default"])(context).getInstance(),metricsModel:(0,_modelsMetricsModelJs2["default"])(context).getInstance(),textSourceBuffer:(0,_TextSourceBufferJs2["default"])(context).getInstance()});nextFragmentRequestRule=(0,_rulesSchedulingNextFragmentRequestRuleJs2["default"])(context).create({adapter:(0,_dashDashAdapterJs2["default"])(context).getInstance(),sourceBufferController:(0,_controllersSourceBufferControllerJs2["default"])(context).getInstance(),virtualBuffer:(0,_VirtualBufferJs2["default"])(context).getInstance(),textSourceBuffer:(0,_TextSourceBufferJs2["default"])(context).getInstance()});if(dashManifestModel.getIsTextTrack(type)){eventBus.on(_coreEventsEventsJs2["default"].TIMED_TEXT_REQUESTED,onTimedTextRequested,this)}eventBus.on(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].QUALITY_CHANGED,onQualityChanged,this);eventBus.on(_coreEventsEventsJs2["default"].DATA_UPDATE_STARTED,onDataUpdateStarted,this);eventBus.on(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].STREAM_COMPLETED,onStreamCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,onStreamInitialized,this);eventBus.on(_coreEventsEventsJs2["default"].BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this);eventBus.on(_coreEventsEventsJs2["default"].BUFFER_CLEARED,onBufferCleared,this);eventBus.on(_coreEventsEventsJs2["default"].BYTES_APPENDED,onBytesAppended,this);eventBus.on(_coreEventsEventsJs2["default"].INIT_REQUESTED,onInitRequested,this);eventBus.on(_coreEventsEventsJs2["default"].QUOTA_EXCEEDED,onQuotaExceeded,this);eventBus.on(_coreEventsEventsJs2["default"].BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,onPlaybackStarted,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this);eventBus.on(_coreEventsEventsJs2["default"].URL_RESOLUTION_FAILED,onURLResolutionFailed,this)}function clearPlayListTraceMetrics(endTime,stopreason){var duration=0;var startTime=null;if(playListMetrics&&playListTraceMetricsClosed===false){startTime=playListTraceMetrics.start;duration=endTime.getTime()-startTime.getTime();playListTraceMetrics.duration=duration;playListTraceMetrics.stopreason=stopreason;playListMetrics.trace.push(playListTraceMetrics);playListTraceMetricsClosed=true}}function start(){if(!ready)return;addPlaylistTraceMetrics();isStopped=false;if(initialPlayback){getInitRequest(currentRepresentationInfo.quality)}else{validate()}if(initialPlayback){initialPlayback=false}log("Schedule controller starting for "+type)}function stop(){if(isStopped)return;isStopped=true;clearInterval(validateTimeout);log("Schedule controller stopping for "+type)}function getInitRequest(quality){var request=adapter.getInitRequest(streamProcessor,quality);if(request!==null){fragmentModel.executeRequest(request)}return request}function replaceCanceledRequests(canceledRequests){var ln=canceledRequests.length;var EPSILON=.1;var request,time,i;for(i=0;i<ln;i++){request=canceledRequests[i];time=request.startTime+request.duration/2+EPSILON;request=adapter.getFragmentRequestForTime(streamProcessor,currentRepresentationInfo,time,{timeThreshold:0,ignoreIsFinished:true});if(request){fragmentModel.executeRequest(request)}}}function validate(){if(isStopped||playbackController.isPaused()&&!scheduleWhilePaused)return;var readyToLoad=bufferLevelRule.execute(streamProcessor);if(readyToLoad&&!isFragmentLoading&&(dashManifestModel.getIsTextTrack(type)||!bufferController.getIsAppendingInProgress())){isFragmentLoading=true;var getNextFragment=function getNextFragment(){var request=nextFragmentRequestRule.execute(streamProcessor);if(request){fragmentModel.executeRequest(request)}else{isFragmentLoading=false;startValidateTimer(1e3)}};abrController.getPlaybackQuality(streamProcessor,getNextFragment)}else{startValidateTimer(1e3)}}function startValidateTimer(value){validateTimeout=setTimeout(validate,value)}function onQualityChanged(e){if(type!==e.mediaType||streamProcessor.getStreamInfo().id!==e.streamInfo.id)return;

currentRepresentationInfo=streamProcessor.getRepresentationInfoForQuality(e.newQuality);if(currentRepresentationInfo===null||currentRepresentationInfo===undefined){throw"Unexpected error! - currentRepresentationInfo is null or undefined"}clearPlayListTraceMetrics(new Date,_voMetricsPlayListJs2["default"].Trace.REPRESENTATION_SWITCH_STOP_REASON);addPlaylistTraceMetrics()}function onDataUpdateCompleted(e){if(e.error)return;currentRepresentationInfo=adapter.convertDataToTrack(manifestModel.getValue(),e.currentRepresentation)}function onStreamInitialized(e){if(e.error)return;currentRepresentationInfo=streamProcessor.getCurrentRepresentationInfo();if(!isDynamic||liveEdgeFinder.getLiveEdge()!==null){ready=true}start()}function onStreamCompleted(e){if(e.fragmentModel!==fragmentModel)return;stop();log("Stream is complete")}function onFragmentLoadingCompleted(e){if(e.sender!==fragmentModel)return;if(!isNaN(e.request.index)){isFragmentLoading=false}if(e.error&&e.serviceLocation&&!isStopped){replaceCanceledRequests([e.request])}}function onBytesAppended(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;validate()}function onDataUpdateStarted(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;stop()}function onInitRequested(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;getInitRequest(e.requiredQuality)}function onBufferCleared(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;fragmentModel.removeExecutedRequestsBeforeTime(e.to);if(e.hasEnoughSpaceToAppend&&!bufferController.getIsBufferingCompleted()){start()}}function onBufferLevelStateChanged(e){if(e.sender.getStreamProcessor()===streamProcessor&&e.state===_BufferControllerJs2["default"].BUFFER_EMPTY&&!playbackController.isSeeking()){log("Stalling Buffer");clearPlayListTraceMetrics(new Date,_voMetricsPlayListJs2["default"].Trace.REBUFFERING_REASON)}}function onQuotaExceeded(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;stop()}function onURLResolutionFailed(){fragmentModel.abortRequests();stop()}function addPlaylistTraceMetrics(){if(playListMetrics&&playListTraceMetricsClosed===true&&currentRepresentationInfo){playListTraceMetricsClosed=false;playListTraceMetrics=new _voMetricsPlayListJs2["default"].Trace;playListTraceMetrics.representationid=currentRepresentationInfo.id;playListTraceMetrics.start=new Date;playListTraceMetrics.mstart=playbackController.getTime()*1e3;playListTraceMetrics.playbackspeed=playbackController.getPlaybackRate().toString()}}function onTimedTextRequested(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;getInitRequest(e.index)}function onPlaybackStarted(){start()}function onPlaybackSeeking(e){seekTarget=e.seekTime;if(!initialPlayback){isFragmentLoading=false}if(isStopped){start()}var metrics=metricsModel.getMetricsFor("stream");var manifestUpdateInfo=dashMetrics.getCurrentManifestUpdate(metrics);var latency=currentRepresentationInfo.DVRWindow?currentRepresentationInfo.DVRWindow.end-playbackController.getTime():NaN;metricsModel.updateManifestUpdateInfo(manifestUpdateInfo,{latency:latency})}function onPlaybackRateChanged(e){if(playListTraceMetrics){playListTraceMetrics.playbackspeed=e.playbackRate.toString()}}function onLiveEdgeSearchCompleted(e){if(e.error)return;var liveEdgeTime=e.liveEdge;var manifestInfo=currentRepresentationInfo.mediaInfo.streamInfo.manifestInfo;var startTime=liveEdgeTime-playbackController.computeLiveDelay(currentRepresentationInfo.fragmentDuration,manifestInfo.DVRWindowSize/2);var metrics=metricsModel.getMetricsFor("stream");var manifestUpdateInfo=dashMetrics.getCurrentManifestUpdate(metrics);var currentLiveStart=playbackController.getLiveStartTime();var request=undefined,actualStartTime=undefined;request=adapter.getFragmentRequestForTime(streamProcessor,currentRepresentationInfo,startTime,{ignoreIsFinished:true});actualStartTime=request.startTime;seekTarget=actualStartTime;if(isNaN(currentLiveStart)||actualStartTime>currentLiveStart){playbackController.setLiveStartTime(actualStartTime)}metricsModel.updateManifestUpdateInfo(manifestUpdateInfo,{currentTime:actualStartTime,presentationStartTime:liveEdgeTime,latency:liveEdgeTime-actualStartTime,clientTimeOffset:timelineConverter.getClientTimeOffset()});ready=true;start()}function getSeekTarget(){return seekTarget}function setSeekTarget(value){seekTarget=value}function getFragmentModel(){return fragmentModel}function setTimeToLoadDelay(value){timeToLoadDelay=value}function getTimeToLoadDelay(){return timeToLoadDelay}function getStreamProcessor(){return streamProcessor}function setPlayList(playList){playListMetrics=playList}function finalisePlayList(time,reason){clearPlayListTraceMetrics(time,reason);playListMetrics=null}function reset(){eventBus.off(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,onLiveEdgeSearchCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].DATA_UPDATE_STARTED,onDataUpdateStarted,this);eventBus.off(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this);eventBus.off(_coreEventsEventsJs2["default"].QUALITY_CHANGED,onQualityChanged,this);eventBus.off(_coreEventsEventsJs2["default"].FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].STREAM_COMPLETED,onStreamCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,onStreamInitialized,this);eventBus.off(_coreEventsEventsJs2["default"].QUOTA_EXCEEDED,onQuotaExceeded,this);eventBus.off(_coreEventsEventsJs2["default"].BYTES_APPENDED,onBytesAppended,this);eventBus.off(_coreEventsEventsJs2["default"].BUFFER_CLEARED,onBufferCleared,this);eventBus.off(_coreEventsEventsJs2["default"].INIT_REQUESTED,onInitRequested,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,onPlaybackStarted,this);eventBus.off(_coreEventsEventsJs2["default"].URL_RESOLUTION_FAILED,onURLResolutionFailed,this);if(dashManifestModel.getIsTextTrack(type)){eventBus.off(_coreEventsEventsJs2["default"].TIMED_TEXT_REQUESTED,onTimedTextRequested,this)}stop();fragmentController.detachModel(fragmentModel);isFragmentLoading=false;timeToLoadDelay=0;seekTarget=NaN;playbackController=null;playListMetrics=null}instance={initialize:initialize,getStreamProcessor:getStreamProcessor,getSeekTarget:getSeekTarget,setSeekTarget:setSeekTarget,getFragmentModel:getFragmentModel,setTimeToLoadDelay:setTimeToLoadDelay,getTimeToLoadDelay:getTimeToLoadDelay,replaceCanceledRequests:replaceCanceledRequests,start:start,stop:stop,reset:reset,setPlayList:setPlayList,finalisePlayList:finalisePlayList};setup();return instance}ScheduleController.__dashjs_factory_name="ScheduleController";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(ScheduleController);module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../dash/DashAdapter.js":11,"../../dash/DashMetrics.js":13,"../TextSourceBuffer.js":41,"../VirtualBuffer.js":43,"../controllers/SourceBufferController.js":56,"../models/MetricsModel.js":65,"../rules/scheduling/BufferLevelRule.js":80,"../rules/scheduling/NextFragmentRequestRule.js":81,"../utils/LiveEdgeFinder.js":92,"../vo/metrics/PlayList.js":119,"./AbrController.js":46,"./BufferController.js":49,"./PlaybackController.js":54}],56:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _TextSourceBufferJs=_dereq_("../TextSourceBuffer.js");var _TextSourceBufferJs2=_interopRequireDefault(_TextSourceBufferJs);var _MediaControllerJs=_dereq_("./MediaController.js");var _MediaControllerJs2=_interopRequireDefault(_MediaControllerJs);var _dashDashAdapterJs=_dereq_("../../dash/DashAdapter.js");var _dashDashAdapterJs2=_interopRequireDefault(_dashDashAdapterJs);var _utilsErrorHandlerJs=_dereq_("../utils/ErrorHandler.js");var _utilsErrorHandlerJs2=_interopRequireDefault(_utilsErrorHandlerJs);var _StreamControllerJs=_dereq_("./StreamController.js");var _StreamControllerJs2=_interopRequireDefault(_StreamControllerJs);var _TextTracksJs=_dereq_("../TextTracks.js");var _TextTracksJs2=_interopRequireDefault(_TextTracksJs);var _utilsVTTParserJs=_dereq_("../utils/VTTParser.js");var _utilsVTTParserJs2=_interopRequireDefault(_utilsVTTParserJs);var _utilsTTMLParserJs=_dereq_("../utils/TTMLParser.js");var _utilsTTMLParserJs2=_interopRequireDefault(_utilsTTMLParserJs);var _modelsVideoModelJs=_dereq_("../models/VideoModel.js");var _modelsVideoModelJs2=_interopRequireDefault(_modelsVideoModelJs);var _voErrorJs=_dereq_("../vo/Error.js");var _voErrorJs2=_interopRequireDefault(_voErrorJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var QUOTA_EXCEEDED_ERROR_CODE=22;function SourceBufferController(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,dashManifestModel=undefined;function createSourceBuffer(mediaSource,mediaInfo){var codec=mediaInfo.codec;var buffer=null;try{if(codec.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i)){throw new _voErrorJs2["default"]("not really supported")}buffer=mediaSource.addSourceBuffer(codec)}catch(ex){if(mediaInfo.isText||codec.indexOf('codecs="stpp"')!==-1||codec.indexOf('codecs="wvtt"')!==-1){buffer=(0,_TextSourceBufferJs2["default"])(context).getInstance();buffer.setConfig({errHandler:(0,_utilsErrorHandlerJs2["default"])(context).getInstance(),adapter:(0,_dashDashAdapterJs2["default"])(context).getInstance(),dashManifestModel:dashManifestModel,mediaController:(0,_MediaControllerJs2["default"])(context).getInstance(),videoModel:(0,_modelsVideoModelJs2["default"])(context).getInstance(),streamController:(0,_StreamControllerJs2["default"])(context).getInstance(),textTracks:(0,_TextTracksJs2["default"])(context).getInstance(),VTTParser:(0,_utilsVTTParserJs2["default"])(context).getInstance(),TTMLParser:(0,_utilsTTMLParserJs2["default"])(context).getInstance()})}else{throw ex}}return buffer}function removeSourceBuffer(mediaSource,buffer){try{mediaSource.removeSourceBuffer(buffer)}catch(ex){}}function getBufferRange(buffer,time,tolerance){var ranges=null;var start=0;var end=0;var firstStart=null;var lastEnd=null;var gap=0;var len,i;var toler=tolerance||.15;try{ranges=buffer.buffered}catch(ex){return null}if(ranges!==null&&ranges!==undefined){for(i=0,len=ranges.length;i<len;i++){start=ranges.start(i);end=ranges.end(i);if(firstStart===null){gap=Math.abs(start-time);if(time>=start&&time<end){firstStart=start;lastEnd=end}else if(gap<=toler){firstStart=start;lastEnd=end}}else{gap=start-lastEnd;if(gap<=toler){lastEnd=end}else{break}}}if(firstStart!==null){return{start:firstStart,end:lastEnd}}}return null}function getAllRanges(buffer){var ranges=null;try{ranges=buffer.buffered;return ranges}catch(ex){return null}}function getTotalBufferedTime(buffer){var ranges=getAllRanges(buffer);var totalBufferedTime=0;var ln,i;if(!ranges)return totalBufferedTime;for(i=0,ln=ranges.length;i<ln;i++){totalBufferedTime+=ranges.end(i)-ranges.start(i)}return totalBufferedTime}function getBufferLength(buffer,time,tolerance){var range,length;range=getBufferRange(buffer,time,tolerance);if(range===null){length=0}else{length=range.end-time}return length}function getRangeDifference(currentRanges,buffer){if(!buffer)return null;var newRanges=getAllRanges(buffer);var newStart,newEnd,equalStart,equalEnd,currentRange,nextCurrentRange,nextNewRange,hasRange,diff;if(!newRanges)return null;for(var i=0,ln=newRanges.length;i<ln;i++){hasRange=currentRanges.length>i;currentRange=hasRange?{start:currentRanges.start(i),end:currentRanges.end(i)}:null;newStart=newRanges.start(i);newEnd=newRanges.end(i);if(!currentRange){diff={start:newStart,end:newEnd};return diff}equalStart=currentRange.start===newStart;equalEnd=currentRange.end===newEnd;if(equalStart&&equalEnd)continue;if(equalStart){diff={start:currentRange.end,end:newEnd}}else if(equalEnd){diff={start:newStart,end:currentRange.start}}else{diff={start:newStart,end:newEnd};return diff}nextCurrentRange=currentRanges.length>i+1?{start:currentRanges.start(i+1),end:currentRanges.end(i+1)}:null;nextNewRange=i+1<ln?{start:newRanges.start(i+1),end:newRanges.end(i+1)}:null;if(nextCurrentRange&&(!nextNewRange||nextNewRange.start!==nextCurrentRange.start||nextNewRange.end!==nextCurrentRange.end)){diff.end=nextCurrentRange.start}return diff}return null}function append(buffer,chunk){var bytes=chunk.bytes;var appendMethod="append"in buffer?"append":"appendBuffer"in buffer?"appendBuffer":null;var acceptsChunk=Object.prototype.toString.call(buffer).slice(8,-1)==="Object";if(!appendMethod)return;try{waitForUpdateEnd(buffer,function(){if(acceptsChunk){buffer[appendMethod](bytes,chunk)}else{buffer[appendMethod](bytes)}waitForUpdateEnd(buffer,function(){eventBus.trigger(_coreEventsEventsJs2["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:buffer,bytes:bytes})})})}catch(err){eventBus.trigger(_coreEventsEventsJs2["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:buffer,bytes:bytes,error:new _voErrorJs2["default"](err.code,err.message,null)})}}function remove(buffer,start,end,mediaSource){try{waitForUpdateEnd(buffer,function(){if(start>=0&&end>start&&mediaSource.readyState!=="ended"){buffer.remove(start,end)}waitForUpdateEnd(buffer,function(){eventBus.trigger(_coreEventsEventsJs2["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:buffer,from:start,to:end})})})}catch(err){eventBus.trigger(_coreEventsEventsJs2["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:buffer,from:start,to:end,error:new _voErrorJs2["default"](err.code,err.message,null)})}}function abort(mediaSource,buffer){try{if(mediaSource.readyState==="open"){buffer.abort()}}catch(ex){}}function setConfig(config){if(!config)return;if(config.dashManifestModel){dashManifestModel=config.dashManifestModel}}function waitForUpdateEnd(buffer,callback){var intervalId;var CHECK_INTERVAL=50;var checkIsUpdateEnded=function checkIsUpdateEnded(){if(buffer.updating)return;clearInterval(intervalId);callback()};var updateEndHandler=function updateEndHandler(){if(buffer.updating)return;buffer.removeEventListener("updateend",updateEndHandler,false);callback()};if(!buffer.updating){callback();return}if(typeof buffer.addEventListener==="function"){try{buffer.addEventListener("updateend",updateEndHandler,false)}catch(err){intervalId=setInterval(checkIsUpdateEnded,CHECK_INTERVAL)}}else{intervalId=setInterval(checkIsUpdateEnded,CHECK_INTERVAL)}}instance={append:append,remove:remove,abort:abort,createSourceBuffer:createSourceBuffer,removeSourceBuffer:removeSourceBuffer,getBufferRange:getBufferRange,getAllRanges:getAllRanges,getTotalBufferedTime:getTotalBufferedTime,getBufferLength:getBufferLength,getRangeDifference:getRangeDifference,setConfig:setConfig};return instance}SourceBufferController.__dashjs_factory_name="SourceBufferController";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(SourceBufferController);factory.QUOTA_EXCEEDED_ERROR_CODE=QUOTA_EXCEEDED_ERROR_CODE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../dash/DashAdapter.js":11,"../TextSourceBuffer.js":41,"../TextTracks.js":42,"../models/VideoModel.js":67,"../utils/ErrorHandler.js":90,"../utils/TTMLParser.js":95,"../utils/VTTParser.js":97,"../vo/Error.js":100,"./MediaController.js":52,"./StreamController.js":57}],57:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _PlaybackControllerJs=_dereq_("./PlaybackController.js");var _PlaybackControllerJs2=_interopRequireDefault(_PlaybackControllerJs);var _StreamJs=_dereq_("../Stream.js");var _StreamJs2=_interopRequireDefault(_StreamJs);var _ManifestUpdaterJs=_dereq_("../ManifestUpdater.js");var _ManifestUpdaterJs2=_interopRequireDefault(_ManifestUpdaterJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _modelsURIQueryAndFragmentModelJs=_dereq_("../models/URIQueryAndFragmentModel.js");var _modelsURIQueryAndFragmentModelJs2=_interopRequireDefault(_modelsURIQueryAndFragmentModelJs);var _modelsVideoModelJs=_dereq_("../models/VideoModel.js");var _modelsVideoModelJs2=_interopRequireDefault(_modelsVideoModelJs);var _modelsMediaPlayerModelJs=_dereq_("../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _voMetricsPlayListJs=_dereq_("../vo/metrics/PlayList.js");var _voMetricsPlayListJs2=_interopRequireDefault(_voMetricsPlayListJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function StreamController(){var STREAM_END_THRESHOLD=1;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,capabilities=undefined,manifestUpdater=undefined,manifestLoader=undefined,manifestModel=undefined,dashManifestModel=undefined,adapter=undefined,metricsModel=undefined,dashMetrics=undefined,liveEdgeFinder=undefined,mediaSourceController=undefined,timeSyncController=undefined,baseURLController=undefined,virtualBuffer=undefined,errHandler=undefined,timelineConverter=undefined,streams=undefined,activeStream=undefined,protectionController=undefined,protectionData=undefined,autoPlay=undefined,isStreamSwitchingInProgress=undefined,isUpdating=undefined,hasMediaError=undefined,hasInitialisationError=undefined,mediaSource=undefined,videoModel=undefined,playbackController=undefined,mediaPlayerModel=undefined,isPaused=undefined,initialPlayback=undefined,playListMetrics=undefined;function setup(){protectionController=null;streams=[];mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();autoPlay=true;isStreamSwitchingInProgress=false;isUpdating=false;isPaused=false;initialPlayback=true;playListMetrics=null;hasMediaError=false;hasInitialisationError=false}function initialize(autoPl,protData){autoPlay=autoPl;protectionData=protData;timelineConverter.initialize();manifestUpdater=(0,_ManifestUpdaterJs2["default"])(context).getInstance();manifestUpdater.setConfig({log:log,manifestModel:manifestModel,dashManifestModel:dashManifestModel});manifestUpdater.initialize(manifestLoader);videoModel=(0,_modelsVideoModelJs2["default"])(context).getInstance();playbackController=(0,_PlaybackControllerJs2["default"])(context).getInstance();playbackController.setConfig({streamController:instance,timelineConverter:timelineConverter,metricsModel:metricsModel,dashMetrics:dashMetrics,manifestModel:manifestModel,dashManifestModel:dashManifestModel,adapter:adapter,videoModel:videoModel});eventBus.on(_coreEventsEventsJs2["default"].TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_TIME_UPDATED,onPlaybackTimeUpdated,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_ENDED,onEnded,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_ERROR,onPlaybackError,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,onPlaybackStarted,this);eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_PAUSED,onPlaybackPaused,this);eventBus.on(_coreEventsEventsJs2["default"].MANIFEST_UPDATED,onManifestUpdated,this);eventBus.on(_coreEventsEventsJs2["default"].STREAM_BUFFERING_COMPLETED,onStreamBufferingCompleted,this)}function flushPlaylistMetrics(reason,time){time=time||new Date;if(playListMetrics){if(activeStream){activeStream.getProcessors().forEach(function(p){var ctrlr=p.getScheduleController();if(ctrlr){ctrlr.finalisePlayList(time,reason)}})}metricsModel.addPlayList(playListMetrics);playListMetrics=null}}function addPlaylistMetrics(startReason){playListMetrics=new _voMetricsPlayListJs2["default"];playListMetrics.start=new Date;playListMetrics.mstart=playbackController.getTime()*1e3;playListMetrics.starttype=startReason;if(activeStream){activeStream.getProcessors().forEach(function(p){var ctrlr=p.getScheduleController();if(ctrlr){ctrlr.setPlayList(playListMetrics)}})}}function fireSwitchEvent(eventType,fromStream,toStream){eventBus.trigger(eventType,{fromStreamInfo:fromStream?fromStream.getStreamInfo():null,toStreamInfo:toStream.getStreamInfo()})}function startAutoPlay(){if(!activeStream.isActivated()||!initialPlayback)return;if(activeStream.getStreamInfo().index===0){activeStream.startEventController();if(autoPlay){playbackController.play()}}}function onPlaybackError(e){var code=e.error?e.error.code:0;var msg="";if(code===-1){return}switch(code){case 1:msg="MEDIA_ERR_ABORTED";break;case 2:msg="MEDIA_ERR_NETWORK";break;case 3:msg="MEDIA_ERR_DECODE";break;case 4:msg="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:msg="MEDIA_ERR_ENCRYPTED";break;default:msg="UNKNOWN";break}hasMediaError=true;if(e.error.msExtendedCode){msg+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"}log("Video Element Error: "+msg);if(e.error){log(e.error)}errHandler.mediaSourceError(msg);reset()}function onPlaybackTimeUpdated(e){var playbackQuality=videoModel.getPlaybackQuality();if(playbackQuality){metricsModel.addDroppedFrames("video",playbackQuality)}if(playbackController.isSeeking())return;if(e.timeToEnd<STREAM_END_THRESHOLD){mediaSourceController.signalEndOfStream(mediaSource)}}function onEnded(){var nextStream=getNextStream();if(nextStream){switchStream(activeStream,nextStream,NaN)}flushPlaylistMetrics(nextStream?_voMetricsPlayListJs2["default"].Trace.END_OF_PERIOD_STOP_REASON:_voMetricsPlayListJs2["default"].Trace.END_OF_CONTENT_STOP_REASON)}function onPlaybackSeeking(e){var seekingStream=getStreamForTime(e.seekTime);if(seekingStream&&seekingStream!==activeStream){flushPlaylistMetrics(_voMetricsPlayListJs2["default"].Trace.END_OF_PERIOD_STOP_REASON);switchStream(activeStream,seekingStream,e.seekTime)}else{flushPlaylistMetrics(_voMetricsPlayListJs2["default"].Trace.USER_REQUEST_STOP_REASON)}addPlaylistMetrics(_voMetricsPlayListJs2["default"].SEEK_START_REASON)}function onPlaybackStarted(){if(initialPlayback){initialPlayback=false;addPlaylistMetrics(_voMetricsPlayListJs2["default"].INITIAL_PLAYOUT_START_REASON)}else{if(isPaused){isPaused=false;addPlaylistMetrics(_voMetricsPlayListJs2["default"].RESUME_FROM_PAUSE_START_REASON)}}}function onPlaybackPaused(e){if(!e.ended){isPaused=true;flushPlaylistMetrics(_voMetricsPlayListJs2["default"].Trace.USER_REQUEST_STOP_REASON)}}function onStreamBufferingCompleted(e){var isLast=e.streamInfo.isLast;if(mediaSource&&isLast){mediaSourceController.signalEndOfStream(mediaSource)}}function getNextStream(){var start=activeStream.getStreamInfo().start;var duration=activeStream.getStreamInfo().duration;return streams.filter(function(stream){return stream.getStreamInfo().start===start+duration})[0]}function getStreamForTime(time){var duration=0;var stream=null;var ln=streams.length;if(ln>0){duration+=streams[0].getStartTime()}for(var i=0;i<ln;i++){stream=streams[i];duration+=stream.getDuration();if(time<duration){return stream}}return null}function getTimeRelativeToStreamId(time,id){var stream=null;var baseStart=0;var streamStart=0;var streamDur=null;var ln=streams.length;for(var i=0;i<ln;i++){stream=streams[i];streamStart=stream.getStartTime();streamDur=stream.getDuration();if(Number.isFinite(streamStart)){baseStart=streamStart}if(stream.getId()===id){return time-baseStart}else{if(Number.isFinite(streamDur)){baseStart+=streamDur}}}return null}function getActiveStreamCommonEarliestTime(){var commonEarliestTime=[];activeStream.getProcessors().forEach(function(p){commonEarliestTime.push(p.getIndexHandler().getEarliestTime())});return Math.min.apply(Math,commonEarliestTime)}function switchStream(from,to,seekTime){if(isStreamSwitchingInProgress||!from||!to||from===to)return;isStreamSwitchingInProgress=true;fireSwitchEvent(_coreEventsEventsJs2["default"].PERIOD_SWITCH_STARTED,from,to);function onMediaSourceReady(){if(!isNaN(seekTime)){playbackController.seek(seekTime)}else{(function(){var startTime=playbackController.getStreamStartTime(true);activeStream.getProcessors().forEach(function(p){adapter.setIndexHandlerTime(p,startTime)});playbackController.seek(startTime)})()}playbackController.play();activeStream.startEventController();isStreamSwitchingInProgress=false;fireSwitchEvent(_coreEventsEventsJs2["default"].PERIOD_SWITCH_COMPLETED,from,to)}from.deactivate();activeStream=to;playbackController.initialize(activeStream.getStreamInfo());setupMediaSource(onMediaSourceReady)}function setupMediaSource(callback){var sourceUrl=undefined;function onMediaSourceOpen(){log("MediaSource is open!");window.URL.revokeObjectURL(sourceUrl);mediaSource.removeEventListener("sourceopen",onMediaSourceOpen);mediaSource.removeEventListener("webkitsourceopen",onMediaSourceOpen);setMediaDuration();activeStream.activate(mediaSource);if(callback){callback()}}if(!mediaSource){mediaSource=mediaSourceController.createMediaSource()}else{mediaSourceController.detachMediaSource(videoModel)}mediaSource.addEventListener("sourceopen",onMediaSourceOpen,false);mediaSource.addEventListener("webkitsourceopen",onMediaSourceOpen,false);sourceUrl=mediaSourceController.attachMediaSource(mediaSource,videoModel);log("MediaSource attached to element.  Waiting on open...")}function setMediaDuration(){var manifestDuration,mediaDuration;manifestDuration=activeStream.getStreamInfo().manifestInfo.duration;mediaDuration=mediaSourceController.setDuration(mediaSource,manifestDuration);log("Duration successfully set to: "+mediaDuration)}function composeStreams(){var manifest=manifestModel.getValue();var metrics=metricsModel.getMetricsFor("stream");var manifestUpdateInfo=dashMetrics.getCurrentManifestUpdate(metrics);var remainingStreams=[];var streamInfo,pLen,sLen,pIdx,sIdx,streamsInfo,stream;if(!manifest)return;streamsInfo=adapter.getStreamsInfo(manifest);if(protectionController){eventBus.trigger(_coreEventsEventsJs2["default"].PROTECTION_CREATED,{controller:protectionController,manifest:manifest});protectionController.setMediaElement(videoModel.getElement());if(protectionData){protectionController.setProtectionData(protectionData)}}try{if(streamsInfo.length===0){throw new Error("There are no streams")}metricsModel.updateManifestUpdateInfo(manifestUpdateInfo,{currentTime:playbackController.getTime(),buffered:videoModel.getElement().buffered,presentationStartTime:streamsInfo[0].start,clientTimeOffset:timelineConverter.getClientTimeOffset()});isUpdating=true;for(pIdx=0,pLen=streamsInfo.length;pIdx<pLen;pIdx++){streamInfo=streamsInfo[pIdx];for(sIdx=0,sLen=streams.length;sIdx<sLen;sIdx++){if(streams[sIdx].getId()===streamInfo.id){stream=streams[sIdx];remainingStreams.push(stream);stream.updateData(streamInfo)}}if(!stream){stream=(0,_StreamJs2["default"])(context).create({manifestModel:manifestModel,manifestUpdater:manifestUpdater,adapter:adapter,timelineConverter:timelineConverter,capabilities:capabilities,errHandler:errHandler,baseURLController:baseURLController});stream.initialize(streamInfo,protectionController);eventBus.on(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,onStreamInitialized,this);remainingStreams.push(stream);if(activeStream){stream.updateData(streamInfo)}}metricsModel.addManifestUpdateStreamInfo(manifestUpdateInfo,streamInfo.id,streamInfo.index,streamInfo.start,streamInfo.duration);stream=null}streams=remainingStreams;if(!activeStream){activeStream=streams[0];fireSwitchEvent(_coreEventsEventsJs2["default"].PERIOD_SWITCH_STARTED,null,activeStream);playbackController.initialize(activeStream.getStreamInfo());fireSwitchEvent(_coreEventsEventsJs2["default"].PERIOD_SWITCH_COMPLETED,null,activeStream)}if(!mediaSource){setupMediaSource()}isUpdating=false;checkIfUpdateCompleted()}catch(e){errHandler.manifestError(e.message,"nostreamscomposed",manifest);hasInitialisationError=true;reset()}}function checkIfUpdateCompleted(){if(isUpdating)return;var ln=streams.length;var i=0;startAutoPlay();for(i;i<ln;i++){if(!streams[i].isInitialized())return}eventBus.trigger(_coreEventsEventsJs2["default"].STREAMS_COMPOSED)}function onStreamInitialized(){checkIfUpdateCompleted()}function onTimeSyncCompleted(){composeStreams()}function onManifestUpdated(e){if(!e.error){var manifest=e.manifest;var streamInfo=adapter.getStreamsInfo(manifest)[0];var mediaInfo=adapter.getMediaInfoForType(manifest,streamInfo,"video")||adapter.getMediaInfoForType(manifest,streamInfo,"audio");var adaptation,useCalculatedLiveEdgeTime;if(mediaInfo){adaptation=adapter.getDataForMedia(mediaInfo);useCalculatedLiveEdgeTime=dashManifestModel.getRepresentationsForAdaptation(manifest,adaptation)[0].useCalculatedLiveEdgeTime;if(useCalculatedLiveEdgeTime){log("SegmentTimeline detected using calculated Live Edge Time");mediaPlayerModel.setUseManifestDateHeaderTimeSource(false)}}var manifestUTCTimingSources=dashManifestModel.getUTCTimingSources(e.manifest);var allUTCTimingSources=!dashManifestModel.getIsDynamic(manifest)||useCalculatedLiveEdgeTime?manifestUTCTimingSources:manifestUTCTimingSources.concat(mediaPlayerModel.getUTCTimingSources());var isHTTPS=(0,_modelsURIQueryAndFragmentModelJs2["default"])(context).getInstance().isManifestHTTPS();allUTCTimingSources.forEach(function(item){if(item.value.replace(/.*?:\/\//g,"")===_modelsMediaPlayerModelJs2["default"].DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")){item.value=item.value.replace(isHTTPS?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),isHTTPS?"https://":"http://");log("Matching default timing source protocol to manifest protocol: ",item.value)}});baseURLController.initialize(manifest);timeSyncController.setConfig({metricsModel:metricsModel,dashMetrics:dashMetrics});timeSyncController.initialize(allUTCTimingSources,mediaPlayerModel.getUseManifestDateHeaderTimeSource())}else{hasInitialisationError=true;reset()}}function getAutoPlay(){return autoPlay}function getActiveStreamInfo(){return activeStream?activeStream.getStreamInfo():null}function isStreamActive(streamInfo){return activeStream.getId()===streamInfo.id}function getStreamById(id){return streams.filter(function(item){return item.getId()===id})[0]}function load(url){manifestLoader.load(url)}function loadWithManifest(manifest){manifestUpdater.setManifest(manifest)}function setConfig(config){if(!config)return;if(config.capabilities){capabilities=config.capabilities}if(config.manifestLoader){manifestLoader=config.manifestLoader}if(config.manifestModel){manifestModel=config.manifestModel}if(config.dashManifestModel){dashManifestModel=config.dashManifestModel}if(config.protectionController){protectionController=config.protectionController}if(config.adapter){adapter=config.adapter}if(config.metricsModel){metricsModel=config.metricsModel}if(config.dashMetrics){dashMetrics=config.dashMetrics}if(config.liveEdgeFinder){liveEdgeFinder=config.liveEdgeFinder}if(config.mediaSourceController){mediaSourceController=config.mediaSourceController;

}if(config.timeSyncController){timeSyncController=config.timeSyncController}if(config.baseURLController){baseURLController=config.baseURLController}if(config.virtualBuffer){virtualBuffer=config.virtualBuffer}if(config.errHandler){errHandler=config.errHandler}if(config.timelineConverter){timelineConverter=config.timelineConverter}}function reset(){timeSyncController.reset();flushPlaylistMetrics(hasMediaError||hasInitialisationError?_voMetricsPlayListJs2["default"].Trace.FAILURE_STOP_REASON:_voMetricsPlayListJs2["default"].Trace.USER_REQUEST_STOP_REASON);for(var i=0,ln=streams.length;i<ln;i++){var stream=streams[i];eventBus.off(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,onStreamInitialized,this);stream.reset(hasMediaError)}streams=[];eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_TIME_UPDATED,onPlaybackTimeUpdated,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_ERROR,onPlaybackError,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_STARTED,onPlaybackStarted,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_PAUSED,onPlaybackPaused,this);eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_ENDED,onEnded,this);eventBus.off(_coreEventsEventsJs2["default"].MANIFEST_UPDATED,onManifestUpdated,this);eventBus.off(_coreEventsEventsJs2["default"].STREAM_BUFFERING_COMPLETED,onStreamBufferingCompleted,this);baseURLController.reset();manifestUpdater.reset();metricsModel.clearAllCurrentMetrics();manifestModel.setValue(null);manifestLoader.reset();timelineConverter.reset();liveEdgeFinder.reset();adapter.reset();virtualBuffer.reset();isStreamSwitchingInProgress=false;isUpdating=false;activeStream=null;hasMediaError=false;hasInitialisationError=false;initialPlayback=true;isPaused=false;if(mediaSource){mediaSourceController.detachMediaSource(videoModel);mediaSource=null}videoModel=null;if(protectionController){protectionController.setMediaElement(null);protectionController=null;protectionData=null;if(manifestModel.getValue()){eventBus.trigger(_coreEventsEventsJs2["default"].PROTECTION_DESTROYED,{data:manifestModel.getValue().url})}}eventBus.trigger(_coreEventsEventsJs2["default"].STREAM_TEARDOWN_COMPLETE)}instance={initialize:initialize,getAutoPlay:getAutoPlay,getActiveStreamInfo:getActiveStreamInfo,isStreamActive:isStreamActive,getStreamById:getStreamById,getTimeRelativeToStreamId:getTimeRelativeToStreamId,load:load,loadWithManifest:loadWithManifest,getActiveStreamCommonEarliestTime:getActiveStreamCommonEarliestTime,setConfig:setConfig,reset:reset};setup();return instance}StreamController.__dashjs_factory_name="StreamController";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(StreamController);module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../ManifestUpdater.js":36,"../Stream.js":39,"../models/MediaPlayerModel.js":64,"../models/URIQueryAndFragmentModel.js":66,"../models/VideoModel.js":67,"../vo/metrics/PlayList.js":119,"./PlaybackController.js":54}],58:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function TextController(config){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var sourceBufferController=config.sourceBufferController;var errHandler=config.errHandler;var instance=undefined,initialized=undefined,mediaSource=undefined,buffer=undefined,type=undefined,streamProcessor=undefined,representationController=undefined;function setup(){initialized=false;mediaSource=null;buffer=null;type=null;streamProcessor=null;representationController=null;eventBus.on(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.on(_coreEventsEventsJs2["default"].INIT_FRAGMENT_LOADED,onInitFragmentLoaded,this)}function initialize(Type,source,StreamProcessor){type=Type;setMediaSource(source);streamProcessor=StreamProcessor;representationController=streamProcessor.getRepresentationController()}function createBuffer(mediaInfo){try{buffer=sourceBufferController.createSourceBuffer(mediaSource,mediaInfo);if(!initialized){if(buffer.hasOwnProperty("initialize")){buffer.initialize(type,this)}initialized=true}}catch(e){errHandler.mediaSourceError("Error creating "+type+" source buffer.")}return buffer}function getBuffer(){return buffer}function setBuffer(value){buffer=value}function setMediaSource(value){mediaSource=value}function getStreamProcessor(){return streamProcessor}function reset(errored){eventBus.off(_coreEventsEventsJs2["default"].DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this);eventBus.off(_coreEventsEventsJs2["default"].INIT_FRAGMENT_LOADED,onInitFragmentLoaded,this);if(!errored){sourceBufferController.abort(mediaSource,buffer);sourceBufferController.removeSourceBuffer(mediaSource,buffer)}}function onDataUpdateCompleted(e){if(e.sender.getStreamProcessor()!==streamProcessor)return;eventBus.trigger(_coreEventsEventsJs2["default"].TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function onInitFragmentLoaded(e){if(e.fragmentModel!==streamProcessor.getFragmentModel()||!e.chunk.bytes)return;sourceBufferController.append(buffer,e.chunk)}instance={initialize:initialize,createBuffer:createBuffer,getBuffer:getBuffer,setBuffer:setBuffer,getStreamProcessor:getStreamProcessor,setMediaSource:setMediaSource,reset:reset};setup();return instance}TextController.__dashjs_factory_name="TextController";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(TextController);module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9}],59:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voErrorJs=_dereq_("./../vo/Error.js");var _voErrorJs2=_interopRequireDefault(_voErrorJs);var _coreEventBusJs=_dereq_("./../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("./../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var TIME_SYNC_FAILED_ERROR_CODE=1;var HTTP_TIMEOUT_MS=5e3;function TimeSyncController(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,offsetToDeviceTimeMs=undefined,isSynchronizing=undefined,isInitialised=undefined,useManifestDateHeaderTimeSource=undefined,handlers=undefined,metricsModel=undefined,dashMetrics=undefined;function initialize(timingSources,useManifestDateHeader){useManifestDateHeaderTimeSource=useManifestDateHeader;offsetToDeviceTimeMs=0;isSynchronizing=false;isInitialised=false;handlers={"urn:mpeg:dash:utc:http-head:2014":httpHeadHandler,"urn:mpeg:dash:utc:http-xsdate:2014":httpHandler.bind(null,xsdatetimeDecoder),"urn:mpeg:dash:utc:http-iso:2014":httpHandler.bind(null,iso8601Decoder),"urn:mpeg:dash:utc:direct:2014":directHandler,"urn:mpeg:dash:utc:http-head:2012":httpHeadHandler,"urn:mpeg:dash:utc:http-xsdate:2012":httpHandler.bind(null,xsdatetimeDecoder),"urn:mpeg:dash:utc:http-iso:2012":httpHandler.bind(null,iso8601Decoder),"urn:mpeg:dash:utc:direct:2012":directHandler,"urn:mpeg:dash:utc:http-ntp:2014":notSupportedHandler,"urn:mpeg:dash:utc:ntp:2014":notSupportedHandler,"urn:mpeg:dash:utc:sntp:2014":notSupportedHandler};if(!getIsSynchronizing()){attemptSync(timingSources);setIsInitialised(true)}}function setConfig(config){if(!config)return;if(config.metricsModel){metricsModel=config.metricsModel}if(config.dashMetrics){dashMetrics=config.dashMetrics}}function getOffsetToDeviceTimeMs(){return getOffsetMs()}function setIsSynchronizing(value){isSynchronizing=value}function getIsSynchronizing(){return isSynchronizing}function setIsInitialised(value){isInitialised=value}function setOffsetMs(value){offsetToDeviceTimeMs=value}function getOffsetMs(){return offsetToDeviceTimeMs}function alternateXsdatetimeDecoder(xsdatetimeStr){var SECONDS_IN_MIN=60;var MINUTES_IN_HOUR=60;var MILLISECONDS_IN_SECONDS=1e3;var datetimeRegex=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/;var utcDate,timezoneOffset;var match=datetimeRegex.exec(xsdatetimeStr);utcDate=Date.UTC(parseInt(match[1],10),parseInt(match[2],10)-1,parseInt(match[3],10),parseInt(match[4],10),parseInt(match[5],10),match[6]&&(parseInt(match[6],10)||0),match[7]&&parseFloat(match[7])*MILLISECONDS_IN_SECONDS||0);if(match[9]&&match[10]){timezoneOffset=parseInt(match[9],10)*MINUTES_IN_HOUR+parseInt(match[10],10);utcDate+=(match[8]==="+"?-1:+1)*timezoneOffset*SECONDS_IN_MIN*MILLISECONDS_IN_SECONDS}return new Date(utcDate).getTime()}function xsdatetimeDecoder(xsdatetimeStr){var parsedDate=Date.parse(xsdatetimeStr);if(isNaN(parsedDate)){parsedDate=alternateXsdatetimeDecoder(xsdatetimeStr)}return parsedDate}function iso8601Decoder(isoStr){return Date.parse(isoStr)}function rfc1123Decoder(dateStr){return Date.parse(dateStr)}function notSupportedHandler(url,onSuccessCB,onFailureCB){onFailureCB()}function directHandler(xsdatetimeStr,onSuccessCB,onFailureCB){var time=xsdatetimeDecoder(xsdatetimeStr);if(!isNaN(time)){onSuccessCB(time);return}onFailureCB()}function httpHandler(decoder,url,onSuccessCB,onFailureCB,isHeadRequest){var oncomplete,onload;var complete=false;var req=new XMLHttpRequest;var verb=isHeadRequest?"HEAD":"GET";var urls=url.match(/\S+/g);url=urls.shift();oncomplete=function(){if(complete){return}complete=true;if(urls.length){httpHandler(decoder,urls.join(" "),onSuccessCB,onFailureCB,isHeadRequest)}else{onFailureCB()}};onload=function(){var time,result;if(req.status===200){time=isHeadRequest?req.getResponseHeader("Date"):req.response;result=decoder(time);if(!isNaN(result)){onSuccessCB(result);complete=true}}};req.open(verb,url);req.timeout=HTTP_TIMEOUT_MS||0;req.onload=onload;req.onloadend=oncomplete;req.send()}function httpHeadHandler(url,onSuccessCB,onFailureCB){httpHandler(rfc1123Decoder,url,onSuccessCB,onFailureCB,true)}function checkForDateHeader(){var metrics=metricsModel.getReadOnlyMetricsFor("stream");var dateHeaderValue=dashMetrics.getLatestMPDRequestHeaderValueByID(metrics,"Date");var dateHeaderTime=dateHeaderValue!==null?new Date(dateHeaderValue).getTime():Number.NaN;if(!isNaN(dateHeaderTime)){setOffsetMs(dateHeaderTime-(new Date).getTime());completeTimeSyncSequence(false,dateHeaderTime/1e3,offsetToDeviceTimeMs)}else{completeTimeSyncSequence(true)}}function completeTimeSyncSequence(failed,time,offset){setIsSynchronizing(false);eventBus.trigger(_coreEventsEventsJs2["default"].TIME_SYNCHRONIZATION_COMPLETED,{time:time,offset:offset,error:failed?new _voErrorJs2["default"](TIME_SYNC_FAILED_ERROR_CODE):null})}function attemptSync(sources,sourceIndex){var index=sourceIndex||0;var source=sources[index];var onComplete=function onComplete(time,offset){var failed=!time||!offset;if(failed&&useManifestDateHeaderTimeSource){checkForDateHeader()}else{completeTimeSyncSequence(failed,time,offset)}};setIsSynchronizing(true);if(source){if(handlers.hasOwnProperty(source.schemeIdUri)){handlers[source.schemeIdUri](source.value,function(serverTime){var deviceTime=(new Date).getTime();var offset=serverTime-deviceTime;setOffsetMs(offset);log("Local time:      "+new Date(deviceTime));log("Server time:     "+new Date(serverTime));log("Difference (ms): "+offset);onComplete(serverTime,offset)},function(){attemptSync(sources,index+1)})}else{attemptSync(sources,index+1)}}else{setOffsetMs(0);onComplete()}}function reset(){setIsInitialised(false);setIsSynchronizing(false)}instance={initialize:initialize,getOffsetToDeviceTimeMs:getOffsetToDeviceTimeMs,setConfig:setConfig,reset:reset};return instance}TimeSyncController.__dashjs_factory_name="TimeSyncController";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(TimeSyncController);factory.TIME_SYNC_FAILED_ERROR_CODE=TIME_SYNC_FAILED_ERROR_CODE;factory.HTTP_TIMEOUT_MS=HTTP_TIMEOUT_MS;exports["default"]=factory;module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/FactoryMaker.js":7,"./../../core/EventBus.js":6,"./../../core/events/Events.js":9,"./../vo/Error.js":100}],60:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _XlinkLoaderJs=_dereq_("../XlinkLoader.js");var _XlinkLoaderJs2=_interopRequireDefault(_XlinkLoaderJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _externalsXml2jsonJs=_dereq_("../../../externals/xml2json.js");var _externalsXml2jsonJs2=_interopRequireDefault(_externalsXml2jsonJs);var RESOLVE_TYPE_ONLOAD="onLoad";var RESOLVE_TYPE_ONACTUATE="onActuate";var ELEMENT_TYPE_PERIOD="Period";var ELEMENT_TYPE_ADAPTATIONSET="AdaptationSet";var ELEMENT_TYPE_EVENTSTREAM="EventStream";var RESOLVE_TO_ZERO="urn:mpeg:dash:resolve-to-zero:2013";function XlinkController(config){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,matchers=undefined,iron=undefined,manifest=undefined,converter=undefined,xlinkLoader=undefined;function setup(){eventBus.on(_coreEventsEventsJs2["default"].XLINK_ELEMENT_LOADED,onXlinkElementLoaded,instance);xlinkLoader=(0,_XlinkLoaderJs2["default"])(context).create({errHandler:config.errHandler,metricsModel:config.metricsModel,requestModifier:config.requestModifier})}function setMatchers(value){matchers=value}function setIron(value){iron=value}function resolveManifestOnLoad(mpd){var elements;converter=new _externalsXml2jsonJs2["default"](matchers,"",true);manifest=mpd;elements=getElementsToResolve(manifest.Period_asArray,manifest,ELEMENT_TYPE_PERIOD,RESOLVE_TYPE_ONLOAD);resolve(elements,ELEMENT_TYPE_PERIOD,RESOLVE_TYPE_ONLOAD)}function reset(){eventBus.off(_coreEventsEventsJs2["default"].XLINK_ELEMENT_LOADED,onXlinkElementLoaded,instance);if(xlinkLoader){xlinkLoader.reset();xlinkLoader=null}}function resolve(elements,type,resolveType){var resolveObject={};var element,url,i;resolveObject.elements=elements;resolveObject.type=type;resolveObject.resolveType=resolveType;if(resolveObject.elements.length===0){onXlinkAllElementsLoaded(resolveObject)}for(i=0;i<resolveObject.elements.length;i++){element=resolveObject.elements[i];if(element.url.indexOf("http://")!==-1){url=element.url}else{url=element.originalContent.BaseURL+element.url}xlinkLoader.load(url,element,resolveObject)}}function onXlinkElementLoaded(event){var element,resolveObject,index;var openingTag="<response>";var closingTag="</response>";var mergedContent="";element=event.element;resolveObject=event.resolveObject;if(element.resolvedContent){index=element.resolvedContent.indexOf(">")+1;mergedContent=element.resolvedContent.substr(0,index)+openingTag+element.resolvedContent.substr(index)+closingTag;element.resolvedContent=converter.xml_str2json(mergedContent)}if(isResolvingFinished(resolveObject)){onXlinkAllElementsLoaded(resolveObject)}}function onXlinkAllElementsLoaded(resolveObject){var elements=[];var i,obj;mergeElementsBack(resolveObject);if(resolveObject.resolveType===RESOLVE_TYPE_ONACTUATE){eventBus.trigger(_coreEventsEventsJs2["default"].XLINK_READY,{manifest:manifest})}if(resolveObject.resolveType===RESOLVE_TYPE_ONLOAD){switch(resolveObject.type){case ELEMENT_TYPE_PERIOD:for(i=0;i<manifest[ELEMENT_TYPE_PERIOD+"_asArray"].length;i++){obj=manifest[ELEMENT_TYPE_PERIOD+"_asArray"][i];if(obj.hasOwnProperty(ELEMENT_TYPE_ADAPTATIONSET+"_asArray")){elements=elements.concat(getElementsToResolve(obj[ELEMENT_TYPE_ADAPTATIONSET+"_asArray"],obj,ELEMENT_TYPE_ADAPTATIONSET,RESOLVE_TYPE_ONLOAD))}if(obj.hasOwnProperty(ELEMENT_TYPE_EVENTSTREAM+"_asArray")){elements=elements.concat(getElementsToResolve(obj[ELEMENT_TYPE_EVENTSTREAM+"_asArray"],obj,ELEMENT_TYPE_EVENTSTREAM,RESOLVE_TYPE_ONLOAD))}}resolve(elements,ELEMENT_TYPE_ADAPTATIONSET,RESOLVE_TYPE_ONLOAD);break;case ELEMENT_TYPE_ADAPTATIONSET:eventBus.trigger(_coreEventsEventsJs2["default"].XLINK_READY,{manifest:manifest});break}}}function getElementsToResolve(elements,parentElement,type,resolveType){var toResolve=[];var element,i,xlinkObject;for(i=elements.length-1;i>=0;i--){element=elements[i];if(element.hasOwnProperty("xlink:href")&&element["xlink:href"]===RESOLVE_TO_ZERO){elements.splice(i,1)}}for(i=0;i<elements.length;i++){element=elements[i];if(element.hasOwnProperty("xlink:href")&&element.hasOwnProperty("xlink:actuate")&&element["xlink:actuate"]===resolveType){xlinkObject=createXlinkObject(element["xlink:href"],parentElement,type,i,resolveType,element);toResolve.push(xlinkObject)}}return toResolve}function mergeElementsBack(resolveObject){var resolvedElements=[];var element,type,obj,i,j,k;for(i=resolveObject.elements.length-1;i>=0;i--){element=resolveObject.elements[i];type=element.type+"_asArray";if(!element.resolvedContent||isInappropriateTarget()){delete element.originalContent["xlink:actuate"];delete element.originalContent["xlink:href"];resolvedElements.push(element.originalContent)}else if(element.resolvedContent){for(j=0;j<element.resolvedContent[type].length;j++){obj=element.resolvedContent[type][j];resolvedElements.push(obj)}}element.parentElement[type].splice(element.index,1);for(k=0;k<resolvedElements.length;k++){element.parentElement[type].splice(element.index+k,0,resolvedElements[k])}resolvedElements=[]}if(resolveObject.elements.length>0){iron.run(manifest)}}function createXlinkObject(url,parentElement,type,index,resolveType,originalContent){return{url:url,parentElement:parentElement,type:type,index:index,resolveType:resolveType,originalContent:originalContent,resolvedContent:null,resolved:false}}function isResolvingFinished(elementsToResolve){var i,obj;for(i=0;i<elementsToResolve.elements.length;i++){obj=elementsToResolve.elements[i];if(obj.resolved===false){return false}}return true}function isInappropriateTarget(){return false}instance={resolveManifestOnLoad:resolveManifestOnLoad,setMatchers:setMatchers,setIron:setIron,reset:reset};setup();return instance}XlinkController.__dashjs_factory_name="XlinkController";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(XlinkController);module.exports=exports["default"]},{"../../../externals/xml2json.js":3,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../XlinkLoader.js":45}],61:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _dashModelsDashManifestModelJs=_dereq_("../../dash/models/DashManifestModel.js");var _dashModelsDashManifestModelJs2=_interopRequireDefault(_dashModelsDashManifestModelJs);var _utilsObjectUtilsJs=_dereq_("../utils/ObjectUtils.js");var _utilsObjectUtilsJs2=_interopRequireDefault(_utilsObjectUtilsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var DEFAULT_INDEX=NaN;var Node=function Node(_baseUrls,_selectedIdx){_classCallCheck(this,Node);this.data={baseUrls:_baseUrls||null,selectedIdx:_selectedIdx||DEFAULT_INDEX};this.children=[]};function BaseURLTreeModel(){var instance=undefined;var root=undefined;var context=this.context;var dashManifestModel=(0,_dashModelsDashManifestModelJs2["default"])(context).getInstance();var objectUtils=(0,_utilsObjectUtilsJs2["default"])(context).getInstance();function setup(){root=new Node}function updateChildData(node,index,element){var baseUrls=dashManifestModel.getBaseURLsFromElement(element);if(!node[index]){node[index]=new Node(baseUrls)}else{if(!objectUtils.areSimpleEquivalent(baseUrls,node[index].data.baseUrls)){node[index].data.baseUrls=baseUrls;node[index].data.selectedIdx=DEFAULT_INDEX}}}function getBaseURLCollectionsFromManifest(manifest){var baseUrls=dashManifestModel.getBaseURLsFromElement(manifest);if(!objectUtils.areSimpleEquivalent(baseUrls,root.data.baseUrls)){root.data.baseUrls=baseUrls;root.data.selectedIdx=DEFAULT_INDEX}if(manifest.Period_asArray){manifest.Period_asArray.forEach(function(p,pi){updateChildData(root.children,pi,p);if(p.AdaptationSet_asArray){p.AdaptationSet_asArray.forEach(function(a,ai){updateChildData(root.children[pi].children,ai,a);if(a.Representation_asArray){a.Representation_asArray.sort(dashManifestModel.getRepresentationSortFunction()).forEach(function(r,ri){updateChildData(root.children[pi].children[ai].children,ri,r)})}})}})}}function walk(callback,node){var target=node||root;callback(target.data);if(target.children){target.children.forEach(function(child){return walk(callback,child)})}}function invalidateSelectedIndexes(serviceLocation){walk(function(data){if(!isNaN(data.selectedIdx)){if(serviceLocation===data.baseUrls[data.selectedIdx].serviceLocation){data.selectedIdx=DEFAULT_INDEX}}})}function update(manifest){getBaseURLCollectionsFromManifest(manifest)}function reset(){root=new Node}function getForPath(path){var target=root;var nodes=[target.data];path.forEach(function(p){target=target.children[p];if(target){nodes.push(target.data)}});return nodes.filter(function(n){return n.baseUrls.length})}instance={reset:reset,update:update,getForPath:getForPath,invalidateSelectedIndexes:invalidateSelectedIndexes};setup();return instance}BaseURLTreeModel.__dashjs_factory_name="BaseURLTreeModel";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(BaseURLTreeModel);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"../../dash/models/DashManifestModel.js":17,"../utils/ObjectUtils.js":93}],62:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _voFragmentRequestJs=_dereq_("../vo/FragmentRequest.js");var _voFragmentRequestJs2=_interopRequireDefault(_voFragmentRequestJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var FRAGMENT_MODEL_LOADING="loading";var FRAGMENT_MODEL_EXECUTED="executed";var FRAGMENT_MODEL_CANCELED="canceled";var FRAGMENT_MODEL_FAILED="failed";function FragmentModel(config){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var metricsModel=config.metricsModel;var instance=undefined,scheduleController=undefined,executedRequests=undefined,loadingRequests=undefined,fragmentLoader=undefined;function setup(){scheduleController=null;fragmentLoader=null;executedRequests=[];loadingRequests=[];eventBus.on(_coreEventsEventsJs2["default"].LOADING_COMPLETED,onLoadingCompleted,instance)}function setLoader(value){fragmentLoader=value}function setScheduleController(value){scheduleController=value}function getScheduleController(){return scheduleController}function isFragmentLoaded(request){var isEqualComplete=function isEqualComplete(req1,req2){return req1.action===_voFragmentRequestJs2["default"].ACTION_COMPLETE&&req1.action===req2.action};var isEqualMedia=function isEqualMedia(req1,req2){return!isNaN(req1.index)&&req1.index===req2.index&&req1.startTime===req2.startTime&&req1.adaptationIndex===req2.adaptationIndex};var isEqualInit=function isEqualInit(req1,req2){return isNaN(req1.index)&&isNaN(req2.index)&&req1.quality===req2.quality};var check=function check(arr){var req,i;var isLoaded=false;var ln=arr.length;for(i=0;i<ln;i++){req=arr[i];if(isEqualMedia(request,req)||isEqualInit(request,req)||isEqualComplete(request,req)){isLoaded=true;break}}return isLoaded};return check(loadingRequests)||check(executedRequests)}function getRequests(filter){var requests=[];var filteredRequests=[];var ln=1;var states;if(!filter||!filter.state)return requests;if(filter.state instanceof Array){ln=filter.state.length;states=filter.state}else{states=[filter.state]}for(var i=0;i<ln;i++){requests=getRequestsForState(states[i]);filteredRequests=filteredRequests.concat(filterRequests(requests,filter))}return filteredRequests}function removeExecutedRequestsBeforeTime(time){var lastIdx=executedRequests.length-1;var start=NaN;var req=null;var i;for(i=lastIdx;i>=0;i--){req=executedRequests[i];start=req.startTime;if(!isNaN(start)&&start<time){removeRequest(executedRequests,req)}}}function abortRequests(){var reqs=[];fragmentLoader.abort();while(loadingRequests.length>0){reqs.push(loadingRequests[0]);removeRequest(loadingRequests,loadingRequests[0])}loadingRequests=[];return reqs}function executeRequest(request){if(!request)return;switch(request.action){case _voFragmentRequestJs2["default"].ACTION_COMPLETE:executedRequests.push(request);addSchedulingInfoMetrics(request,FRAGMENT_MODEL_EXECUTED);eventBus.trigger(_coreEventsEventsJs2["default"].STREAM_COMPLETED,{request:request,fragmentModel:this});break;case _voFragmentRequestJs2["default"].ACTION_DOWNLOAD:addSchedulingInfoMetrics(request,FRAGMENT_MODEL_LOADING);loadingRequests.push(request);loadCurrentFragment(request);break;default:log("Unknown request action.")}}function reset(){eventBus.off(_coreEventsEventsJs2["default"].LOADING_COMPLETED,onLoadingCompleted,this);if(fragmentLoader){fragmentLoader.reset();fragmentLoader=null}context=null;executedRequests=[];loadingRequests=[]}function loadCurrentFragment(request){eventBus.trigger(_coreEventsEventsJs2["default"].FRAGMENT_LOADING_STARTED,{sender:instance,request:request});fragmentLoader.load(request)}function removeRequest(arr,request){var idx=arr.indexOf(request);if(idx!==-1){arr.splice(idx,1)}}function getRequestForTime(arr,time,threshold){var lastIdx=arr.length-1;var start=NaN;var end=NaN;var req=null;var i;for(i=lastIdx;i>=0;i--){req=arr[i];start=req.startTime;end=start+req.duration;threshold=threshold||req.duration/2;if(!isNaN(start)&&!isNaN(end)&&time+threshold>=start&&time-threshold<end||isNaN(start)&&isNaN(time)){return req}}return null}function filterRequests(arr,filter){if(!filter)return arr;if(filter.hasOwnProperty("time")){return[getRequestForTime(arr,filter.time,filter.threshold)]}return arr.filter(function(request){for(var prop in filter){if(prop==="state")continue;if(filter.hasOwnProperty(prop)&&request[prop]!=filter[prop])return false}return true})}function getRequestsForState(state){var requests;switch(state){case FRAGMENT_MODEL_LOADING:requests=loadingRequests;break;case FRAGMENT_MODEL_EXECUTED:requests=executedRequests;break;default:requests=[]}return requests}function addSchedulingInfoMetrics(request,state){if(!request)return;var mediaType=request.mediaType;var now=new Date;var type=request.type;var startTime=request.startTime;var availabilityStartTime=request.availabilityStartTime;var duration=request.duration;var quality=request.quality;var range=request.range;metricsModel.addSchedulingInfo(mediaType,now,type,startTime,availabilityStartTime,duration,quality,range,state);metricsModel.addRequestsQueue(mediaType,loadingRequests,executedRequests)}function onLoadingCompleted(e){if(e.sender!==fragmentLoader)return;var request=e.request;var response=e.response;var error=e.error;loadingRequests.splice(loadingRequests.indexOf(request),1);if(response&&!error){executedRequests.push(request)}addSchedulingInfoMetrics(request,error?FRAGMENT_MODEL_FAILED:FRAGMENT_MODEL_EXECUTED);eventBus.trigger(_coreEventsEventsJs2["default"].FRAGMENT_LOADING_COMPLETED,{request:request,response:response,error:error,sender:this})}instance={setLoader:setLoader,setScheduleController:setScheduleController,getScheduleController:getScheduleController,getRequests:getRequests,isFragmentLoaded:isFragmentLoaded,removeExecutedRequestsBeforeTime:removeExecutedRequestsBeforeTime,abortRequests:abortRequests,executeRequest:executeRequest,reset:reset};setup();return instance}FragmentModel.__dashjs_factory_name="FragmentModel";var factory=_coreFactoryMakerJs2["default"].getClassFactory(FragmentModel);factory.FRAGMENT_MODEL_LOADING=FRAGMENT_MODEL_LOADING;factory.FRAGMENT_MODEL_EXECUTED=FRAGMENT_MODEL_EXECUTED;factory.FRAGMENT_MODEL_CANCELED=FRAGMENT_MODEL_CANCELED;factory.FRAGMENT_MODEL_FAILED=FRAGMENT_MODEL_FAILED;exports["default"]=factory;module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../vo/FragmentRequest.js":101}],63:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function ManifestModel(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,manifest=undefined;function getValue(){return manifest}function setValue(value){manifest=value;eventBus.trigger(_coreEventsEventsJs2["default"].MANIFEST_LOADED,{data:value})}instance={getValue:getValue,setValue:setValue};return instance}ManifestModel.__dashjs_factory_name="ManifestModel";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(ManifestModel);module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9}],64:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _voMetricsHTTPRequestJs=_dereq_("../vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var DEFAULT_UTC_TIMING_SOURCE={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"
};var LIVE_DELAY_FRAGMENT_COUNT=4;var DEFAULT_LOCAL_STORAGE_BITRATE_EXPIRATION=36e4;var DEFAULT_LOCAL_STORAGE_MEDIA_SETTINGS_EXPIRATION=36e4;var BANDWIDTH_SAFETY_FACTOR=.9;var ABANDON_LOAD_TIMEOUT=1e4;var BUFFER_TO_KEEP=30;var BUFFER_PRUNING_INTERVAL=30;var DEFAULT_MIN_BUFFER_TIME=12;var BUFFER_TIME_AT_TOP_QUALITY=30;var BUFFER_TIME_AT_TOP_QUALITY_LONG_FORM=60;var LONG_FORM_CONTENT_DURATION_THRESHOLD=600;var RICH_BUFFER_THRESHOLD=20;var FRAGMENT_RETRY_ATTEMPTS=3;var FRAGMENT_RETRY_INTERVAL=1e3;var MANIFEST_RETRY_ATTEMPTS=3;var MANIFEST_RETRY_INTERVAL=500;var XLINK_RETRY_ATTEMPTS=1;var XLINK_RETRY_INTERVAL=500;var WALLCLOCK_TIME_UPDATE_INTERVAL=50;function MediaPlayerModel(){var instance=undefined,useManifestDateHeaderTimeSource=undefined,useSuggestedPresentationDelay=undefined,UTCTimingSources=undefined,liveDelayFragmentCount=undefined,liveDelay=undefined,scheduleWhilePaused=undefined,bufferToKeep=undefined,bufferPruningInterval=undefined,lastBitrateCachingInfo=undefined,lastMediaSettingsCachingInfo=undefined,stableBufferTime=undefined,bufferTimeAtTopQuality=undefined,bufferTimeAtTopQualityLongForm=undefined,longFormContentDurationThreshold=undefined,richBufferThreshold=undefined,bandwidthSafetyFactor=undefined,abandonLoadTimeout=undefined,retryAttempts=undefined,retryIntervals=undefined,wallclockTimeUpdateInterval=undefined,bufferOccupancyABREnabled=undefined;function setup(){var _retryAttempts,_retryIntervals;UTCTimingSources=[];useSuggestedPresentationDelay=false;useManifestDateHeaderTimeSource=true;scheduleWhilePaused=true;bufferOccupancyABREnabled=false;lastBitrateCachingInfo={enabled:true,ttl:DEFAULT_LOCAL_STORAGE_BITRATE_EXPIRATION};lastMediaSettingsCachingInfo={enabled:true,ttl:DEFAULT_LOCAL_STORAGE_MEDIA_SETTINGS_EXPIRATION};liveDelayFragmentCount=LIVE_DELAY_FRAGMENT_COUNT;liveDelay=undefined;bufferToKeep=BUFFER_TO_KEEP;bufferPruningInterval=BUFFER_PRUNING_INTERVAL;stableBufferTime=DEFAULT_MIN_BUFFER_TIME;bufferTimeAtTopQuality=BUFFER_TIME_AT_TOP_QUALITY;bufferTimeAtTopQualityLongForm=BUFFER_TIME_AT_TOP_QUALITY_LONG_FORM;longFormContentDurationThreshold=LONG_FORM_CONTENT_DURATION_THRESHOLD;richBufferThreshold=RICH_BUFFER_THRESHOLD;bandwidthSafetyFactor=BANDWIDTH_SAFETY_FACTOR;abandonLoadTimeout=ABANDON_LOAD_TIMEOUT;wallclockTimeUpdateInterval=WALLCLOCK_TIME_UPDATE_INTERVAL;retryAttempts=(_retryAttempts={},_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].MPD_TYPE,MANIFEST_RETRY_ATTEMPTS),_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].XLINK_EXPANSION_TYPE,XLINK_RETRY_ATTEMPTS),_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE,FRAGMENT_RETRY_ATTEMPTS),_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE,FRAGMENT_RETRY_ATTEMPTS),_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].BITSTREAM_SWITCHING_SEGMENT_TYPE,FRAGMENT_RETRY_ATTEMPTS),_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].INDEX_SEGMENT_TYPE,FRAGMENT_RETRY_ATTEMPTS),_defineProperty(_retryAttempts,_voMetricsHTTPRequestJs2["default"].OTHER_TYPE,FRAGMENT_RETRY_ATTEMPTS),_retryAttempts);retryIntervals=(_retryIntervals={},_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].MPD_TYPE,MANIFEST_RETRY_INTERVAL),_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].XLINK_EXPANSION_TYPE,XLINK_RETRY_INTERVAL),_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE,FRAGMENT_RETRY_INTERVAL),_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].INIT_SEGMENT_TYPE,FRAGMENT_RETRY_INTERVAL),_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].BITSTREAM_SWITCHING_SEGMENT_TYPE,FRAGMENT_RETRY_INTERVAL),_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].INDEX_SEGMENT_TYPE,FRAGMENT_RETRY_INTERVAL),_defineProperty(_retryIntervals,_voMetricsHTTPRequestJs2["default"].OTHER_TYPE,FRAGMENT_RETRY_INTERVAL),_retryIntervals)}function setBufferOccupancyABREnabled(value){bufferOccupancyABREnabled=value}function getBufferOccupancyABREnabled(){return bufferOccupancyABREnabled}function setBandwidthSafetyFactor(value){bandwidthSafetyFactor=value}function getBandwidthSafetyFactor(){return bandwidthSafetyFactor}function setAbandonLoadTimeout(value){abandonLoadTimeout=value}function getAbandonLoadTimeout(){return abandonLoadTimeout}function setStableBufferTime(value){stableBufferTime=value}function getStableBufferTime(){return stableBufferTime}function setBufferTimeAtTopQuality(value){bufferTimeAtTopQuality=value}function getBufferTimeAtTopQuality(){return bufferTimeAtTopQuality}function setBufferTimeAtTopQualityLongForm(value){bufferTimeAtTopQualityLongForm=value}function getBufferTimeAtTopQualityLongForm(){return bufferTimeAtTopQualityLongForm}function setLongFormContentDurationThreshold(value){longFormContentDurationThreshold=value}function getLongFormContentDurationThreshold(){return longFormContentDurationThreshold}function setRichBufferThreshold(value){richBufferThreshold=value}function getRichBufferThreshold(){return richBufferThreshold}function setBufferToKeep(value){bufferToKeep=value}function getBufferToKeep(){return bufferToKeep}function setLastBitrateCachingInfo(enable,ttl){lastBitrateCachingInfo.enabled=enable;if(ttl!==undefined&&!isNaN(ttl)&&typeof ttl==="number"){lastBitrateCachingInfo.ttl=ttl}}function getLastBitrateCachingInfo(){return lastBitrateCachingInfo}function setLastMediaSettingsCachingInfo(enable,ttl){lastMediaSettingsCachingInfo.enabled=enable;if(ttl!==undefined&&!isNaN(ttl)&&typeof ttl==="number"){lastMediaSettingsCachingInfo.ttl=ttl}}function getLastMediaSettingsCachingInfo(){return lastMediaSettingsCachingInfo}function setBufferPruningInterval(value){bufferPruningInterval=value}function getBufferPruningInterval(){return bufferPruningInterval}function setFragmentRetryAttempts(value){retryAttempts[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]=value}function setRetryAttemptsForType(type,value){retryAttempts[type]=value}function getFragmentRetryAttempts(){return retryAttempts[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]}function getRetryAttemptsForType(type){return retryAttempts[type]}function setFragmentRetryInterval(value){retryIntervals[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]=value}function setRetryIntervalForType(type,value){retryIntervals[type]=value}function getFragmentRetryInterval(){return retryIntervals[_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE]}function getRetryIntervalForType(type){return retryIntervals[type]}function setWallclockTimeUpdateInterval(value){wallclockTimeUpdateInterval=value}function getWallclockTimeUpdateInterval(){return wallclockTimeUpdateInterval}function setScheduleWhilePaused(value){scheduleWhilePaused=value}function getScheduleWhilePaused(){return scheduleWhilePaused}function setLiveDelayFragmentCount(value){liveDelayFragmentCount=value}function setLiveDelay(value){liveDelay=value}function getLiveDelayFragmentCount(){return liveDelayFragmentCount}function getLiveDelay(){return liveDelay}function setUseManifestDateHeaderTimeSource(value){useManifestDateHeaderTimeSource=value}function getUseManifestDateHeaderTimeSource(){return useManifestDateHeaderTimeSource}function setUseSuggestedPresentationDelay(value){useSuggestedPresentationDelay=value}function getUseSuggestedPresentationDelay(){return useSuggestedPresentationDelay}function setUTCTimingSources(value){UTCTimingSources=value}function getUTCTimingSources(){return UTCTimingSources}function reset(){}instance={setBufferOccupancyABREnabled:setBufferOccupancyABREnabled,getBufferOccupancyABREnabled:getBufferOccupancyABREnabled,setBandwidthSafetyFactor:setBandwidthSafetyFactor,getBandwidthSafetyFactor:getBandwidthSafetyFactor,setAbandonLoadTimeout:setAbandonLoadTimeout,getAbandonLoadTimeout:getAbandonLoadTimeout,setLastBitrateCachingInfo:setLastBitrateCachingInfo,getLastBitrateCachingInfo:getLastBitrateCachingInfo,setLastMediaSettingsCachingInfo:setLastMediaSettingsCachingInfo,getLastMediaSettingsCachingInfo:getLastMediaSettingsCachingInfo,setStableBufferTime:setStableBufferTime,getStableBufferTime:getStableBufferTime,setBufferTimeAtTopQuality:setBufferTimeAtTopQuality,getBufferTimeAtTopQuality:getBufferTimeAtTopQuality,setBufferTimeAtTopQualityLongForm:setBufferTimeAtTopQualityLongForm,getBufferTimeAtTopQualityLongForm:getBufferTimeAtTopQualityLongForm,setLongFormContentDurationThreshold:setLongFormContentDurationThreshold,getLongFormContentDurationThreshold:getLongFormContentDurationThreshold,setRichBufferThreshold:setRichBufferThreshold,getRichBufferThreshold:getRichBufferThreshold,setBufferToKeep:setBufferToKeep,getBufferToKeep:getBufferToKeep,setBufferPruningInterval:setBufferPruningInterval,getBufferPruningInterval:getBufferPruningInterval,setFragmentRetryAttempts:setFragmentRetryAttempts,getFragmentRetryAttempts:getFragmentRetryAttempts,setRetryAttemptsForType:setRetryAttemptsForType,getRetryAttemptsForType:getRetryAttemptsForType,setFragmentRetryInterval:setFragmentRetryInterval,getFragmentRetryInterval:getFragmentRetryInterval,setRetryIntervalForType:setRetryIntervalForType,getRetryIntervalForType:getRetryIntervalForType,setWallclockTimeUpdateInterval:setWallclockTimeUpdateInterval,getWallclockTimeUpdateInterval:getWallclockTimeUpdateInterval,setScheduleWhilePaused:setScheduleWhilePaused,getScheduleWhilePaused:getScheduleWhilePaused,getUseSuggestedPresentationDelay:getUseSuggestedPresentationDelay,setUseSuggestedPresentationDelay:setUseSuggestedPresentationDelay,setLiveDelayFragmentCount:setLiveDelayFragmentCount,getLiveDelayFragmentCount:getLiveDelayFragmentCount,getLiveDelay:getLiveDelay,setLiveDelay:setLiveDelay,setUseManifestDateHeaderTimeSource:setUseManifestDateHeaderTimeSource,getUseManifestDateHeaderTimeSource:getUseManifestDateHeaderTimeSource,setUTCTimingSources:setUTCTimingSources,getUTCTimingSources:getUTCTimingSources,reset:reset};setup();return instance}MediaPlayerModel.__dashjs_factory_name="MediaPlayerModel";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(MediaPlayerModel);factory.DEFAULT_UTC_TIMING_SOURCE=DEFAULT_UTC_TIMING_SOURCE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"../vo/metrics/HTTPRequest.js":117}],65:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voMetricsListJs=_dereq_("../vo/MetricsList.js");var _voMetricsListJs2=_interopRequireDefault(_voMetricsListJs);var _voMetricsTCPConnectionJs=_dereq_("../vo/metrics/TCPConnection.js");var _voMetricsTCPConnectionJs2=_interopRequireDefault(_voMetricsTCPConnectionJs);var _voMetricsHTTPRequestJs=_dereq_("../vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _voMetricsRepresentationSwitchJs=_dereq_("../vo/metrics/RepresentationSwitch.js");var _voMetricsRepresentationSwitchJs2=_interopRequireDefault(_voMetricsRepresentationSwitchJs);var _voMetricsBufferLevelJs=_dereq_("../vo/metrics/BufferLevel.js");var _voMetricsBufferLevelJs2=_interopRequireDefault(_voMetricsBufferLevelJs);var _voMetricsBufferStateJs=_dereq_("../vo/metrics/BufferState.js");var _voMetricsBufferStateJs2=_interopRequireDefault(_voMetricsBufferStateJs);var _voMetricsDVRInfoJs=_dereq_("../vo/metrics/DVRInfo.js");var _voMetricsDVRInfoJs2=_interopRequireDefault(_voMetricsDVRInfoJs);var _voMetricsDroppedFramesJs=_dereq_("../vo/metrics/DroppedFrames.js");var _voMetricsDroppedFramesJs2=_interopRequireDefault(_voMetricsDroppedFramesJs);var _voMetricsManifestUpdateJs=_dereq_("../vo/metrics/ManifestUpdate.js");var _voMetricsManifestUpdateJs2=_interopRequireDefault(_voMetricsManifestUpdateJs);var _voMetricsSchedulingInfoJs=_dereq_("../vo/metrics/SchedulingInfo.js");var _voMetricsSchedulingInfoJs2=_interopRequireDefault(_voMetricsSchedulingInfoJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _voMetricsRequestsQueueJs=_dereq_("../vo/metrics/RequestsQueue.js");var _voMetricsRequestsQueueJs2=_interopRequireDefault(_voMetricsRequestsQueueJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _voMetricsBolaStateJs=_dereq_("../vo/metrics/BolaState.js");var _voMetricsBolaStateJs2=_interopRequireDefault(_voMetricsBolaStateJs);function MetricsModel(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,adapter=undefined,streamMetrics=undefined;function setup(){streamMetrics={}}function setConfig(config){if(!config)return;if(config.adapter){adapter=config.adapter}}function metricsChanged(){eventBus.trigger(_coreEventsEventsJs2["default"].METRICS_CHANGED)}function metricChanged(mediaType){eventBus.trigger(_coreEventsEventsJs2["default"].METRIC_CHANGED,{mediaType:mediaType});metricsChanged()}function metricUpdated(mediaType,metricType,vo){eventBus.trigger(_coreEventsEventsJs2["default"].METRIC_UPDATED,{mediaType:mediaType,metric:metricType,value:vo});metricChanged(mediaType)}function metricAdded(mediaType,metricType,vo){eventBus.trigger(_coreEventsEventsJs2["default"].METRIC_ADDED,{mediaType:mediaType,metric:metricType,value:vo});metricChanged(mediaType)}function clearCurrentMetricsForType(type){delete streamMetrics[type];metricChanged(type)}function clearAllCurrentMetrics(){streamMetrics={};metricsChanged()}function getReadOnlyMetricsFor(type){if(streamMetrics.hasOwnProperty(type)){return streamMetrics[type]}return null}function getMetricsFor(type){var metrics;if(streamMetrics.hasOwnProperty(type)){metrics=streamMetrics[type]}else{metrics=new _voMetricsListJs2["default"];streamMetrics[type]=metrics}return metrics}function addTcpConnection(mediaType,tcpid,dest,topen,tclose,tconnect){var vo=new _voMetricsTCPConnectionJs2["default"];vo.tcpid=tcpid;vo.dest=dest;vo.topen=topen;vo.tclose=tclose;vo.tconnect=tconnect;getMetricsFor(mediaType).TcpList.push(vo);metricAdded(mediaType,adapter.metricsList.TCP_CONNECTION,vo);return vo}function appendHttpTrace(httpRequest,s,d,b){var vo=new _voMetricsHTTPRequestJs2["default"].Trace;vo.s=s;vo.d=d;vo.b=b;httpRequest.trace.push(vo);if(!httpRequest.interval){httpRequest.interval=0}httpRequest.interval+=d;return vo}function addHttpRequest(mediaType,tcpid,type,url,actualurl,serviceLocation,range,trequest,tresponse,tfinish,responsecode,mediaduration,responseHeaders,traces){var vo=new _voMetricsHTTPRequestJs2["default"];if(actualurl&&actualurl!==url){addHttpRequest(mediaType,null,type,url,null,null,range,trequest,null,null,null,mediaduration,null,null);vo.actualurl=actualurl}vo.tcpid=tcpid;vo.type=type;vo.url=url;vo.range=range;vo.trequest=trequest;vo.tresponse=tresponse;vo.responsecode=responsecode;vo._tfinish=tfinish;vo._stream=mediaType;vo._mediaduration=mediaduration;vo._responseHeaders=responseHeaders;vo._serviceLocation=serviceLocation;if(traces){traces.forEach(function(trace){appendHttpTrace(vo,trace.s,trace.d,trace.b)})}else{delete vo.interval;delete vo.trace}getMetricsFor(mediaType).HttpList.push(vo);metricAdded(mediaType,adapter.metricsList.HTTP_REQUEST,vo);return vo}function addRepresentationSwitch(mediaType,t,mt,to,lto){var vo=new _voMetricsRepresentationSwitchJs2["default"];vo.t=t;vo.mt=mt;vo.to=to;if(lto){vo.lto=lto}else{delete vo.lto}getMetricsFor(mediaType).RepSwitchList.push(vo);metricAdded(mediaType,adapter.metricsList.TRACK_SWITCH,vo);return vo}function addBufferLevel(mediaType,t,level){var vo=new _voMetricsBufferLevelJs2["default"];vo.t=t;vo.level=level;getMetricsFor(mediaType).BufferLevel.push(vo);metricAdded(mediaType,adapter.metricsList.BUFFER_LEVEL,vo);return vo}function addBufferState(mediaType,state,target){var vo=new _voMetricsBufferStateJs2["default"];vo.target=target;vo.state=state;getMetricsFor(mediaType).BufferState.push(vo);metricAdded(mediaType,adapter.metricsList.BUFFER_STATE,vo);return vo}function addDVRInfo(mediaType,currentTime,mpd,range){var vo=new _voMetricsDVRInfoJs2["default"];vo.time=currentTime;vo.range=range;vo.manifestInfo=mpd;getMetricsFor(mediaType).DVRInfo.push(vo);metricAdded(mediaType,adapter.metricsList.DVR_INFO,vo);return vo}function addDroppedFrames(mediaType,quality){var vo=new _voMetricsDroppedFramesJs2["default"];var list=getMetricsFor(mediaType).DroppedFrames;vo.time=quality.creationTime;vo.droppedFrames=quality.droppedVideoFrames;if(list.length>0&&list[list.length-1]==vo){return list[list.length-1]}list.push(vo);metricAdded(mediaType,adapter.metricsList.DROPPED_FRAMES,vo);return vo}function addSchedulingInfo(mediaType,t,type,startTime,availabilityStartTime,duration,quality,range,state){var vo=new _voMetricsSchedulingInfoJs2["default"];vo.mediaType=mediaType;vo.t=t;vo.type=type;vo.startTime=startTime;vo.availabilityStartTime=availabilityStartTime;vo.duration=duration;vo.quality=quality;vo.range=range;vo.state=state;getMetricsFor(mediaType).SchedulingInfo.push(vo);metricAdded(mediaType,adapter.metricsList.SCHEDULING_INFO,vo);return vo}function addRequestsQueue(mediaType,loadingRequests,executedRequests){var vo=new _voMetricsRequestsQueueJs2["default"];vo.loadingRequests=loadingRequests;vo.executedRequests=executedRequests;getMetricsFor(mediaType).RequestsQueue=vo;metricAdded(mediaType,adapter.metricsList.REQUESTS_QUEUE,vo)}function addManifestUpdate(mediaType,type,requestTime,fetchTime,availabilityStartTime,presentationStartTime,clientTimeOffset,currentTime,buffered,latency){var vo=new _voMetricsManifestUpdateJs2["default"];var metrics=getMetricsFor("stream");vo.mediaType=mediaType;vo.type=type;vo.requestTime=requestTime;vo.fetchTime=fetchTime;vo.availabilityStartTime=availabilityStartTime;vo.presentationStartTime=presentationStartTime;vo.clientTimeOffset=clientTimeOffset;vo.currentTime=currentTime;vo.buffered=buffered;vo.latency=latency;metrics.ManifestUpdate.push(vo);metricAdded(mediaType,adapter.metricsList.MANIFEST_UPDATE,vo);return vo}function updateManifestUpdateInfo(manifestUpdate,updatedFields){if(manifestUpdate){for(var field in updatedFields){manifestUpdate[field]=updatedFields[field]}metricUpdated(manifestUpdate.mediaType,adapter.metricsList.MANIFEST_UPDATE,manifestUpdate)}}function addManifestUpdateStreamInfo(manifestUpdate,id,index,start,duration){if(manifestUpdate){var vo=new _voMetricsManifestUpdateJs2["default"].StreamInfo;vo.id=id;vo.index=index;vo.start=start;vo.duration=duration;manifestUpdate.streamInfo.push(vo);metricUpdated(manifestUpdate.mediaType,adapter.metricsList.MANIFEST_UPDATE_STREAM_INFO,manifestUpdate);return vo}return null}function addManifestUpdateRepresentationInfo(manifestUpdate,id,index,streamIndex,mediaType,presentationTimeOffset,startNumber,fragmentInfoType){if(manifestUpdate){var vo=new _voMetricsManifestUpdateJs2["default"].TrackInfo;vo.id=id;vo.index=index;vo.streamIndex=streamIndex;vo.mediaType=mediaType;vo.startNumber=startNumber;vo.fragmentInfoType=fragmentInfoType;vo.presentationTimeOffset=presentationTimeOffset;manifestUpdate.trackInfo.push(vo);metricUpdated(manifestUpdate.mediaType,adapter.metricsList.MANIFEST_UPDATE_TRACK_INFO,manifestUpdate);return vo}return null}function addPlayList(vo){var type="stream";if(vo.trace&&Array.isArray(vo.trace)){vo.trace.forEach(function(trace){if(trace.hasOwnProperty("subreplevel")&&!trace.subreplevel){delete trace.subreplevel}})}else{delete vo.trace}getMetricsFor(type).PlayList.push(vo);metricAdded(type,adapter.metricsList.PLAY_LIST,vo);return vo}function addDVBErrors(vo){var type="stream";getMetricsFor(type).DVBErrors.push(vo);metricAdded(type,adapter.metricsList.DVB_ERRORS,vo);return vo}function updateBolaState(mediaType,_s){var vo=new _voMetricsBolaStateJs2["default"];vo._s=_s;getMetricsFor(mediaType).BolaState=[vo];metricAdded(mediaType,"BolaState",vo);return vo}instance={metricsChanged:metricsChanged,metricChanged:metricChanged,metricUpdated:metricUpdated,metricAdded:metricAdded,clearCurrentMetricsForType:clearCurrentMetricsForType,clearAllCurrentMetrics:clearAllCurrentMetrics,getReadOnlyMetricsFor:getReadOnlyMetricsFor,getMetricsFor:getMetricsFor,addTcpConnection:addTcpConnection,addHttpRequest:addHttpRequest,addRepresentationSwitch:addRepresentationSwitch,addBufferLevel:addBufferLevel,addBufferState:addBufferState,addDVRInfo:addDVRInfo,addDroppedFrames:addDroppedFrames,addSchedulingInfo:addSchedulingInfo,addRequestsQueue:addRequestsQueue,addManifestUpdate:addManifestUpdate,updateManifestUpdateInfo:updateManifestUpdateInfo,addManifestUpdateStreamInfo:addManifestUpdateStreamInfo,addManifestUpdateRepresentationInfo:addManifestUpdateRepresentationInfo,addPlayList:addPlayList,addDVBErrors:addDVBErrors,updateBolaState:updateBolaState,setConfig:setConfig};setup();return instance}MetricsModel.__dashjs_factory_name="MetricsModel";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(MetricsModel);module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../vo/MetricsList.js":106,"../vo/metrics/BolaState.js":112,"../vo/metrics/BufferLevel.js":113,"../vo/metrics/BufferState.js":114,"../vo/metrics/DVRInfo.js":115,"../vo/metrics/DroppedFrames.js":116,"../vo/metrics/HTTPRequest.js":117,"../vo/metrics/ManifestUpdate.js":118,"../vo/metrics/RepresentationSwitch.js":120,"../vo/metrics/RequestsQueue.js":121,"../vo/metrics/SchedulingInfo.js":122,"../vo/metrics/TCPConnection.js":123}],66:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voURIFragmentDataJs=_dereq_("../vo/URIFragmentData.js");var _voURIFragmentDataJs2=_interopRequireDefault(_voURIFragmentDataJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function URIQueryAndFragmentModel(){var instance=undefined,URIFragmentDataVO=undefined,URIQueryData=undefined,isHTTPS=undefined;function initialize(){URIFragmentDataVO=new _voURIFragmentDataJs2["default"];URIQueryData=[];isHTTPS=false}function getURIFragmentData(){return URIFragmentDataVO}function getURIQueryData(){return URIQueryData}function isManifestHTTPS(){return isHTTPS}function parseURI(uri){if(!uri)return null;var URIFragmentData=[];var mappedArr;var testQuery=new RegExp(/[?]/);var testFragment=new RegExp(/[#]/);var testHTTPS=new RegExp(/^(https:)?\/\//i);var isQuery=testQuery.test(uri);var isFragment=testFragment.test(uri);isHTTPS=testHTTPS.test(uri);function reduceArray(previousValue,currentValue,index,array){var arr=array[0].split(/[=]/);array.push({key:arr[0],value:arr[1]});array.shift();return array}function mapArray(currentValue,index,array){if(index>0){if(isQuery&&URIQueryData.length===0){URIQueryData=array[index].split(/[&]/)}else if(isFragment){URIFragmentData=array[index].split(/[&]/)}}return array}mappedArr=uri.split(/[?#]/).map(mapArray);if(URIQueryData.length>0){URIQueryData=URIQueryData.reduce(reduceArray,null)}if(URIFragmentData.length>0){URIFragmentData=URIFragmentData.reduce(reduceArray,null);URIFragmentData.forEach(function(object){URIFragmentDataVO[object.key]=object.value})}return uri}instance={initialize:initialize,parseURI:parseURI,getURIFragmentData:getURIFragmentData,getURIQueryData:getURIQueryData,isManifestHTTPS:isManifestHTTPS};return instance}URIQueryAndFragmentModel.__dashjs_factory_name="URIQueryAndFragmentModel";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(URIQueryAndFragmentModel);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"../vo/URIFragmentData.js":111}],67:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function VideoModel(){var instance=undefined,element=undefined,TTMLRenderingDiv=undefined,videoContainer=undefined,stalledStreams=undefined,previousPlaybackRate=undefined;function initialize(){stalledStreams=[]}function setPlaybackRate(value){if(!element||element.readyState<2)return;element.playbackRate=value}function setCurrentTime(currentTime){if(element.currentTime==currentTime)return;try{element.currentTime=currentTime}catch(e){if(element.readyState===0&&e.code===e.INVALID_STATE_ERR){setTimeout(function(){element.currentTime=currentTime},400)}}}function getElement(){return element}function setElement(value){element=value;element.preload="auto"}function setSource(source){if(source){element.src=source}else{element.removeAttribute("src");element.load()}}function getSource(){return element.src}function getVideoContainer(){return videoContainer}function setVideoContainer(value){videoContainer=value}function getTTMLRenderingDiv(){return TTMLRenderingDiv}function setTTMLRenderingDiv(div){TTMLRenderingDiv=div;TTMLRenderingDiv.style.position="absolute";TTMLRenderingDiv.style.display="flex";TTMLRenderingDiv.style.overflow="hidden";TTMLRenderingDiv.style.pointerEvents="none";TTMLRenderingDiv.style.top=0;TTMLRenderingDiv.style.left=0}function setStallState(type,state){stallStream(type,state)}function isStalled(){return stalledStreams.length>0}function addStalledStream(type){var event=undefined;if(type===null||element.seeking||stalledStreams.indexOf(type)!==-1){return}stalledStreams.push(type);if(stalledStreams.length===1){event=document.createEvent("Event");event.initEvent("waiting",true,false);previousPlaybackRate=element.playbackRate;setPlaybackRate(0);element.dispatchEvent(event)}}function removeStalledStream(type){var index=stalledStreams.indexOf(type);var event=undefined;if(type===null){return}if(index!==-1){stalledStreams.splice(index,1)}if(isStalled()===false&&element.playbackRate===0){event=document.createEvent("Event");event.initEvent("playing",true,false);setPlaybackRate(previousPlaybackRate||1);element.dispatchEvent(event)}}function stallStream(type,isStalled){if(isStalled){addStalledStream(type)}else{removeStalledStream(type)}}function getPlaybackQuality(){var hasWebKit="webkitDroppedFrameCount"in element;var hasQuality="getVideoPlaybackQuality"in element;var result=null;if(hasQuality){result=element.getVideoPlaybackQuality()}else if(hasWebKit){result={droppedVideoFrames:element.webkitDroppedFrameCount,creationTime:new Date}}return result}instance={initialize:initialize,setCurrentTime:setCurrentTime,setStallState:setStallState,getElement:getElement,setElement:setElement,setSource:setSource,getSource:getSource,getVideoContainer:getVideoContainer,setVideoContainer:setVideoContainer,getTTMLRenderingDiv:getTTMLRenderingDiv,setTTMLRenderingDiv:setTTMLRenderingDiv,getPlaybackQuality:getPlaybackQuality};return instance}VideoModel.__dashjs_factory_name="VideoModel";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(VideoModel);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],68:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function RulesContext(config){var instance=undefined;var representationInfo=config.streamProcessor.getCurrentRepresentationInfo();var sp=config.streamProcessor;var currentValue=config.currentValue;function getStreamInfo(){return representationInfo.mediaInfo.streamInfo}function getMediaInfo(){return representationInfo.mediaInfo}function getTrackInfo(){return representationInfo}function getCurrentValue(){return currentValue}function getManifestInfo(){return representationInfo.mediaInfo.streamInfo.manifestInfo}function getStreamProcessor(){return sp}instance={getStreamInfo:getStreamInfo,getMediaInfo:getMediaInfo,getTrackInfo:getTrackInfo,getCurrentValue:getCurrentValue,getManifestInfo:getManifestInfo,getStreamProcessor:getStreamProcessor};return instance}RulesContext.__dashjs_factory_name="RulesContext";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(RulesContext);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],69:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _RulesContextJs=_dereq_("./RulesContext.js");var _RulesContextJs2=_interopRequireDefault(_RulesContextJs);var _SwitchRequestJs=_dereq_("./SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _abrABRRulesCollectionJs=_dereq_("./abr/ABRRulesCollection.js");var _abrABRRulesCollectionJs2=_interopRequireDefault(_abrABRRulesCollectionJs);var _synchronizationSynchronizationRulesCollectionJs=_dereq_("./synchronization/SynchronizationRulesCollection.js");var _synchronizationSynchronizationRulesCollectionJs2=_interopRequireDefault(_synchronizationSynchronizationRulesCollectionJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var ABR_RULE=0;var SYNC_RULE=1;function RulesController(){var context=this.context;var instance=undefined,rules=undefined;function initialize(){rules={}}function setConfig(config){if(!config)return;if(config.abrRulesCollection){rules[ABR_RULE]=config.abrRulesCollection}if(config.synchronizationRulesCollection){rules[SYNC_RULE]=config.synchronizationRulesCollection}}function applyRules(rulesArr,streamProcessor,callback,current,overrideFunc){var values={};var rule,i;var rulesCount=rulesArr.length;var ln=rulesCount;var rulesContext=getRulesContext(streamProcessor,current);var callbackFunc=function callbackFunc(result){var value,confidence;if(result.value!==_SwitchRequestJs2["default"].NO_CHANGE){values[result.priority]=overrideFunc(values[result.priority],result.value)}if(--rulesCount)return;if(values[_SwitchRequestJs2["default"].WEAK]!==_SwitchRequestJs2["default"].NO_CHANGE){confidence=_SwitchRequestJs2["default"].WEAK;value=values[_SwitchRequestJs2["default"].WEAK]}if(values[_SwitchRequestJs2["default"].DEFAULT]!==_SwitchRequestJs2["default"].NO_CHANGE){confidence=_SwitchRequestJs2["default"].DEFAULT;value=values[_SwitchRequestJs2["default"].DEFAULT]}if(values[_SwitchRequestJs2["default"].STRONG]!==_SwitchRequestJs2["default"].NO_CHANGE){confidence=_SwitchRequestJs2["default"].STRONG;value=values[_SwitchRequestJs2["default"].STRONG]}if(confidence!=_SwitchRequestJs2["default"].STRONG&&confidence!=_SwitchRequestJs2["default"].WEAK){confidence=_SwitchRequestJs2["default"].DEFAULT}callback({value:value!==undefined?value:current,confidence:confidence})};values[_SwitchRequestJs2["default"].STRONG]=_SwitchRequestJs2["default"].NO_CHANGE;values[_SwitchRequestJs2["default"].WEAK]=_SwitchRequestJs2["default"].NO_CHANGE;values[_SwitchRequestJs2["default"].DEFAULT]=_SwitchRequestJs2["default"].NO_CHANGE;for(i=0;i<ln;i++){rule=rulesArr[i];rule.execute(rulesContext,callbackFunc)}}function reset(){var abrRules=rules[ABR_RULE];var synchronizationRules=rules[SYNC_RULE];var allRules=(abrRules.getRules(_abrABRRulesCollectionJs2["default"].QUALITY_SWITCH_RULES)||[]).concat(abrRules.getRules(_abrABRRulesCollectionJs2["default"].ABANDON_FRAGMENT_RULES)||[]).concat(synchronizationRules.getRules(_synchronizationSynchronizationRulesCollectionJs2["default"].TIME_SYNCHRONIZED_RULES)||[]).concat(synchronizationRules.getRules(_synchronizationSynchronizationRulesCollectionJs2["default"].BEST_GUESS_RULES)||[]);var ln=allRules.length;var rule,i;for(i=0;i<ln;i++){rule=allRules[i];

if(typeof rule.reset!=="function")continue;rule.reset()}rules={}}function getRulesContext(streamProcessor,currentValue){return(0,_RulesContextJs2["default"])(context).create({streamProcessor:streamProcessor,currentValue:currentValue})}instance={initialize:initialize,setConfig:setConfig,applyRules:applyRules,reset:reset};return instance}RulesController.__dashjs_factory_name="RulesController";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(RulesController);factory.ABR_RULE=ABR_RULE;factory.SYNC_RULE=SYNC_RULE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"./RulesContext.js":68,"./SwitchRequest.js":70,"./abr/ABRRulesCollection.js":71,"./synchronization/SynchronizationRulesCollection.js":84}],70:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var NO_CHANGE=999;var DEFAULT=.5;var STRONG=1;var WEAK=0;function SwitchRequest(v,p){var value=v===undefined?NO_CHANGE:v;var priority=p===undefined?DEFAULT:p;var instance={value:value,priority:priority};return instance}SwitchRequest.__dashjs_factory_name="SwitchRequest";var factory=_coreFactoryMakerJs2["default"].getClassFactory(SwitchRequest);factory.NO_CHANGE=NO_CHANGE;factory.DEFAULT=DEFAULT;factory.STRONG=STRONG;factory.WEAK=WEAK;exports["default"]=factory;module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],71:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _ThroughputRuleJs=_dereq_("./ThroughputRule.js");var _ThroughputRuleJs2=_interopRequireDefault(_ThroughputRuleJs);var _BufferOccupancyRuleJs=_dereq_("./BufferOccupancyRule.js");var _BufferOccupancyRuleJs2=_interopRequireDefault(_BufferOccupancyRuleJs);var _InsufficientBufferRuleJs=_dereq_("./InsufficientBufferRule.js");var _InsufficientBufferRuleJs2=_interopRequireDefault(_InsufficientBufferRuleJs);var _AbandonRequestsRuleJs=_dereq_("./AbandonRequestsRule.js");var _AbandonRequestsRuleJs2=_interopRequireDefault(_AbandonRequestsRuleJs);var _BolaRuleJs=_dereq_("./BolaRule.js");var _BolaRuleJs2=_interopRequireDefault(_BolaRuleJs);var _BolaAbandonRuleJs=_dereq_("./BolaAbandonRule.js");var _BolaAbandonRuleJs2=_interopRequireDefault(_BolaAbandonRuleJs);var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _modelsMetricsModelJs=_dereq_("../../models/MetricsModel.js");var _modelsMetricsModelJs2=_interopRequireDefault(_modelsMetricsModelJs);var _dashDashMetricsJs=_dereq_("../../../dash/DashMetrics.js");var _dashDashMetricsJs2=_interopRequireDefault(_dashDashMetricsJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var QUALITY_SWITCH_RULES="qualitySwitchRules";var ABANDON_FRAGMENT_RULES="abandonFragmentRules";function ABRRulesCollection(){var context=this.context;var instance=undefined,qualitySwitchRules=undefined,abandonFragmentRules=undefined;function initialize(){qualitySwitchRules=[];abandonFragmentRules=[];var metricsModel=(0,_modelsMetricsModelJs2["default"])(context).getInstance();var dashMetrics=(0,_dashDashMetricsJs2["default"])(context).getInstance();var mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();if(mediaPlayerModel.getBufferOccupancyABREnabled()){qualitySwitchRules.push((0,_BolaRuleJs2["default"])(context).create({metricsModel:metricsModel,dashMetrics:(0,_dashDashMetricsJs2["default"])(context).getInstance()}));abandonFragmentRules.push((0,_BolaAbandonRuleJs2["default"])(context).create({metricsModel:metricsModel,dashMetrics:(0,_dashDashMetricsJs2["default"])(context).getInstance()}))}else{qualitySwitchRules.push((0,_ThroughputRuleJs2["default"])(context).create({metricsModel:metricsModel,dashMetrics:dashMetrics}));qualitySwitchRules.push((0,_BufferOccupancyRuleJs2["default"])(context).create({metricsModel:metricsModel,dashMetrics:dashMetrics}));qualitySwitchRules.push((0,_InsufficientBufferRuleJs2["default"])(context).create({metricsModel:metricsModel}));abandonFragmentRules.push((0,_AbandonRequestsRuleJs2["default"])(context).create())}}function getRules(type){switch(type){case QUALITY_SWITCH_RULES:return qualitySwitchRules;case ABANDON_FRAGMENT_RULES:return abandonFragmentRules;default:return null}}instance={initialize:initialize,getRules:getRules};return instance}ABRRulesCollection.__dashjs_factory_name="ABRRulesCollection";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(ABRRulesCollection);factory.QUALITY_SWITCH_RULES=QUALITY_SWITCH_RULES;factory.ABANDON_FRAGMENT_RULES=ABANDON_FRAGMENT_RULES;exports["default"]=factory;module.exports=exports["default"]},{"../../../core/FactoryMaker.js":7,"../../../dash/DashMetrics.js":13,"../../models/MediaPlayerModel.js":64,"../../models/MetricsModel.js":65,"./AbandonRequestsRule.js":72,"./BolaAbandonRule.js":73,"./BolaRule.js":74,"./BufferOccupancyRule.js":75,"./InsufficientBufferRule.js":76,"./ThroughputRule.js":77}],72:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var GRACE_TIME_THRESHOLD=500;var ABANDON_MULTIPLIER=1.5;function AbandonRequestsRule(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var instance=undefined,fragmentDict=undefined,abandonDict=undefined,mediaPlayerModel=undefined;function setup(){fragmentDict={};abandonDict={};mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance()}function setFragmentRequestDict(type,id){fragmentDict[type]=fragmentDict[type]||{};fragmentDict[type][id]=fragmentDict[type][id]||{}}function execute(rulesContext,callback){var fragmentInfo;var now=(new Date).getTime();var mediaInfo=rulesContext.getMediaInfo();var mediaType=mediaInfo.type;var progressEvent=rulesContext.getCurrentValue();var representationInfo=rulesContext.getTrackInfo();var req=progressEvent.request;var abrController=rulesContext.getStreamProcessor().getABRController();var switchRequest=(0,_SwitchRequestJs2["default"])(context).create(_SwitchRequestJs2["default"].NO_CHANGE,_SwitchRequestJs2["default"].WEAK);if(!isNaN(req.index)){setFragmentRequestDict(mediaType,req.index);fragmentInfo=fragmentDict[mediaType][req.index];if(fragmentInfo===null||req.firstByteDate===null||abandonDict.hasOwnProperty(fragmentInfo.id)){callback(switchRequest);return}if(fragmentInfo.firstByteTime===undefined){fragmentInfo.firstByteTime=req.firstByteDate.getTime();fragmentInfo.segmentDuration=req.duration;fragmentInfo.bytesTotal=req.bytesTotal;fragmentInfo.id=req.index}fragmentInfo.bytesLoaded=req.bytesLoaded;fragmentInfo.elapsedTime=now-fragmentInfo.firstByteTime;if(fragmentInfo.bytesLoaded<fragmentInfo.bytesTotal&&fragmentInfo.elapsedTime>=GRACE_TIME_THRESHOLD){fragmentInfo.measuredBandwidthInKbps=Math.round(fragmentInfo.bytesLoaded*8/fragmentInfo.elapsedTime);fragmentInfo.estimatedTimeOfDownload=(fragmentInfo.bytesTotal*8*.001/fragmentInfo.measuredBandwidthInKbps).toFixed(2);if(fragmentInfo.estimatedTimeOfDownload<fragmentInfo.segmentDuration*ABANDON_MULTIPLIER||representationInfo.quality===0){callback(switchRequest);return}else if(!abandonDict.hasOwnProperty(fragmentInfo.id)){var newQuality=abrController.getQualityForBitrate(mediaInfo,fragmentInfo.measuredBandwidthInKbps*mediaPlayerModel.getBandwidthSafetyFactor());switchRequest=(0,_SwitchRequestJs2["default"])(context).create(newQuality,_SwitchRequestJs2["default"].STRONG);abandonDict[fragmentInfo.id]=fragmentInfo;log("AbandonRequestsRule ( ",mediaType,"frag id",fragmentInfo.id,") is asking to abandon and switch to quality to ",newQuality," measured bandwidth was",fragmentInfo.measuredBandwidthInKbps);delete fragmentDict[mediaType][fragmentInfo.id]}}else if(fragmentInfo.bytesLoaded===fragmentInfo.bytesTotal){delete fragmentDict[mediaType][fragmentInfo.id]}}callback(switchRequest)}function reset(){fragmentDict={};abandonDict={}}instance={execute:execute,reset:reset};setup();return instance}AbandonRequestsRule.__dashjs_factory_name="AbandonRequestsRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(AbandonRequestsRule);module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/FactoryMaker.js":7,"../../models/MediaPlayerModel.js":64,"../SwitchRequest.js":70}],73:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _BolaRuleJs=_dereq_("./BolaRule.js");var _BolaRuleJs2=_interopRequireDefault(_BolaRuleJs);function BolaAbandonRule(config){var GRACE_PERIOD_MS=500;var POOR_RTT_MS=200;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var dashMetrics=config.dashMetrics;var metricsModel=config.metricsModel;var instance=undefined,abandonDict=undefined,mediaPlayerModel=undefined;function setup(){abandonDict={};mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance()}function rememberAbandon(mediaType,index,quality){abandonDict[mediaType]={index:index,quality:quality}}function canStillAbandon(mediaType,index,quality){var adm=abandonDict[mediaType];if(!adm)return true;return index>adm.index||index==adm.index&&quality<adm.quality}function execute(rulesContext,callback){var mediaInfo=rulesContext.getMediaInfo();var mediaType=mediaInfo.type;var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);var progressEvent=rulesContext.getCurrentValue();var request=progressEvent.request;var switchRequest=(0,_SwitchRequestJs2["default"])(context).create(_SwitchRequestJs2["default"].NO_CHANGE,_SwitchRequestJs2["default"].WEAK);if(metrics.BolaState.length===0||metrics.BolaState[0]._s.state!==_BolaRuleJs2["default"].BOLA_STATE_STEADY){abandonDict={};callback(switchRequest);return}var bolaState=metrics.BolaState[0]._s;var index=request.index;var quality=request.quality;if(isNaN(index)||quality===0||!canStillAbandon(mediaType,index,quality)||!request.firstByteDate){callback(switchRequest);return}var nowMilliSeconds=(new Date).getTime();var elapsedTimeMilliSeconds=nowMilliSeconds-request.firstByteDate.getTime();var bytesLoaded=request.bytesLoaded;var bytesTotal=request.bytesTotal;var bytesRemaining=bytesTotal-bytesLoaded;var duration=request.duration;var bufferLevel=dashMetrics.getCurrentBufferLevel(metrics)?dashMetrics.getCurrentBufferLevel(metrics):0;var estimateThroughputBSF=bolaState.bandwidthSafetyFactor*8e3*bytesLoaded/elapsedTimeMilliSeconds;var rttSeconds=.001*(request.firstByteDate.getTime()-request.requestStartDate.getTime());if(rttSeconds<.001*POOR_RTT_MS)rttSeconds=.001*POOR_RTT_MS;var diagnosticMessage="index="+index+" quality="+quality+" bytesLoaded/bytesTotal="+bytesLoaded+"/"+bytesTotal+" bufferLevel="+bufferLevel+" timeSince1stByte="+(elapsedTimeMilliSeconds/1e3).toFixed(3)+" estThroughput="+(estimateThroughputBSF/1e6).toFixed(3)+" latency="+rttSeconds.toFixed(3);var estimateOtherBytesTotal=bytesTotal*bolaState.bitrate[0]/bolaState.bitrate[quality];var estimateBytesRemainingAfterRtt=bytesRemaining-rttSeconds*estimateThroughputBSF/8;if(estimateBytesRemainingAfterRtt<1){estimateBytesRemainingAfterRtt=1}if(elapsedTimeMilliSeconds<GRACE_PERIOD_MS||bytesRemaining<=estimateOtherBytesTotal||bufferLevel>bolaState.bufferTarget||estimateBytesRemainingAfterRtt<=estimateOtherBytesTotal||8*bytesTotal/estimateThroughputBSF<=duration){callback(switchRequest);return}if(bolaState.safetyGuarantee&&bufferLevel<=bolaState.fragmentDuration&&bolaState.state===_BolaRuleJs2["default"].BOLA_STATE_STEADY){bolaState.lastQuality=0;metricsModel.updateBolaState(mediaType,bolaState);rememberAbandon(mediaType,index,quality);switchRequest=(0,_SwitchRequestJs2["default"])(context).create(0,_SwitchRequestJs2["default"].STRONG);if(_BolaRuleJs2["default"].BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaAbandonRule to 0 for safety guarantee"+" - "+diagnosticMessage);callback(switchRequest);return}var estimateTimeRemainSeconds=8*bytesRemaining/estimateThroughputBSF;var maxQualityAllowed=quality;if(estimateTimeRemainSeconds>bufferLevel){--maxQualityAllowed;while(maxQualityAllowed>0){estimateOtherBytesTotal=bytesTotal*bolaState.bitrate[maxQualityAllowed]/bolaState.bitrate[quality];estimateTimeRemainSeconds=rttSeconds+8*estimateOtherBytesTotal/estimateThroughputBSF;if(estimateTimeRemainSeconds<=bufferLevel){break}--maxQualityAllowed}}var bufferAfterRtt=bufferLevel+bolaState.virtualBuffer-rttSeconds;var newQuality=quality;var score=(bolaState.utility[quality]+bolaState.gp-bufferAfterRtt/bolaState.Vp)/estimateBytesRemainingAfterRtt;for(var i=0;i<quality;++i){estimateOtherBytesTotal=bytesTotal*bolaState.bitrate[i]/bolaState.bitrate[quality];if(estimateOtherBytesTotal>estimateBytesRemainingAfterRtt){break}var s=(bolaState.utility[i]+bolaState.gp-bufferAfterRtt/bolaState.Vp)/estimateOtherBytesTotal;if(s>score){newQuality=i;score=s}}if(newQuality>maxQualityAllowed){newQuality=maxQualityAllowed}if(newQuality===quality){callback(switchRequest);return}while(newQuality>0&&bolaState.bitrate[newQuality]>estimateThroughputBSF){--newQuality}bolaState.lastQuality=newQuality;metricsModel.updateBolaState(mediaType,bolaState);rememberAbandon(mediaType,index,quality);switchRequest=(0,_SwitchRequestJs2["default"])(context).create(newQuality,_SwitchRequestJs2["default"].STRONG);if(_BolaRuleJs2["default"].BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaAbandonRule abandon to "+newQuality+" - "+diagnosticMessage);callback(switchRequest)}function reset(){abandonDict={}}instance={execute:execute,reset:reset};setup();return instance}BolaAbandonRule.__dashjs_factory_name="BolaAbandonRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(BolaAbandonRule);module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/FactoryMaker.js":7,"../../models/MediaPlayerModel.js":64,"../SwitchRequest.js":70,"./BolaRule.js":74}],74:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _controllersPlaybackControllerJs=_dereq_("../../controllers/PlaybackController.js");var _controllersPlaybackControllerJs2=_interopRequireDefault(_controllersPlaybackControllerJs);var _voMetricsHTTPRequestJs=_dereq_("../../vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _dashDashAdapterJs=_dereq_("../../../dash/DashAdapter.js");var _dashDashAdapterJs2=_interopRequireDefault(_dashDashAdapterJs);var _coreEventBusJs=_dereq_("../../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var BOLA_STATE_ONE_BITRATE=0;var BOLA_STATE_STARTUP=1;var BOLA_STATE_STARTUP_NO_INC=2;var BOLA_STATE_STEADY=3;var BOLA_DEBUG=false;function BolaRule(config){var MINIMUM_BUFFER_LEVEL_SPACING=5;var AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_LIVE=2;var AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_VOD=3;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var dashMetrics=config.dashMetrics;var metricsModel=config.metricsModel;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,lastCallTimeDict=undefined,seekMediaTypes=undefined,mediaPlayerModel=undefined,playbackController=undefined,adapter=undefined;function setup(){lastCallTimeDict={};seekMediaTypes=[];mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();playbackController=(0,_controllersPlaybackControllerJs2["default"])(context).getInstance();adapter=(0,_dashDashAdapterJs2["default"])(context).getInstance();eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,instance);eventBus.on(_coreEventsEventsJs2["default"].PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,instance)}function calculateInitialState(rulesContext){var initialState={};var mediaInfo=rulesContext.getMediaInfo();var bitrate=mediaInfo.bitrateList.map(function(b){return b.bandwidth});var bitrateCount=bitrate.length;if(bitrateCount<2||bitrate[0]>=bitrate[1]||bitrate[bitrateCount-2]>=bitrate[bitrateCount-1]){initialState.state=BOLA_STATE_ONE_BITRATE;return initialState}var streamProcessor=rulesContext.getStreamProcessor();var streamInfo=rulesContext.getStreamInfo();var trackInfo=rulesContext.getTrackInfo();var isDynamic=streamProcessor.isDynamic();var duration=streamInfo.manifestInfo.duration;var fragmentDuration=trackInfo.fragmentDuration;var bufferTarget=undefined;var bufferMax=undefined;bufferTarget=mediaPlayerModel.getStableBufferTime();if(duration>=mediaPlayerModel.getLongFormContentDurationThreshold()){bufferMax=mediaPlayerModel.getBufferTimeAtTopQualityLongForm()}else{bufferMax=mediaPlayerModel.getBufferTimeAtTopQuality()}var bolaBufferTarget=bufferTarget;if(bolaBufferTarget<fragmentDuration+MINIMUM_BUFFER_LEVEL_SPACING){bolaBufferTarget=fragmentDuration+MINIMUM_BUFFER_LEVEL_SPACING}var utility=[];for(var i=0;i<bitrateCount;++i){utility.push(Math.log(bitrate[i]/bitrate[0]))}var Vp=(bolaBufferTarget-fragmentDuration)/utility[bitrateCount-1];var gp=1+utility[bitrateCount-1]/(bolaBufferTarget/fragmentDuration-1);var maxRtt=.2;var safetyGuarantee=!isDynamic&&bolaBufferTarget===bufferTarget;if(safetyGuarantee){var VpNew=Vp;var gpNew=gp;for(var i=1;i<bitrateCount;++i){var threshold=VpNew*(gpNew-bitrate[0]*utility[i]/(bitrate[i]-bitrate[0]));var minThreshold=fragmentDuration*(2-bitrate[0]/bitrate[i])+maxRtt;if(minThreshold>=bufferTarget){safetyGuarantee=false;break}if(threshold<minThreshold){VpNew*=(bufferTarget-minThreshold)/(bufferTarget-threshold);gpNew=minThreshold/VpNew+utility[i]*bitrate[0]/(bitrate[i]-bitrate[0])}}if(safetyGuarantee&&(bufferTarget-fragmentDuration)*VpNew/Vp<MINIMUM_BUFFER_LEVEL_SPACING){safetyGuarantee=false}if(safetyGuarantee){Vp=VpNew;gp=gpNew}}var bolaBufferMax=Vp*(utility[bitrateCount-1]+gp);initialState.state=BOLA_STATE_STARTUP;initialState.bitrate=bitrate;initialState.utility=utility;initialState.Vp=Vp;initialState.gp=gp;initialState.fragmentDuration=fragmentDuration;initialState.bandwidthSafetyFactor=mediaPlayerModel.getBandwidthSafetyFactor();initialState.bufferTarget=bufferTarget;initialState.bufferMax=bufferMax;initialState.bolaBufferTarget=bolaBufferTarget;initialState.bolaBufferMax=bolaBufferMax;initialState.isDynamic=isDynamic;initialState.safetyGuarantee=safetyGuarantee;initialState.lastQuality=0;initialState.virtualBuffer=0;initialState.throughputCount=isDynamic?AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_LIVE:AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_VOD;if(BOLA_DEBUG){var info="";for(var i=0;i<bitrate.length-1;++i){var ui=utility[i];var ui1=utility[i+1];var ri=bitrate[i];var ri1=bitrate[i+1];var th=Vp*((ui*ri1-ui1*ri)/(ri1-ri)+gp);var z=Vp*(ui+gp);info+=i+":"+(bitrate[i]/1e6).toFixed(3)+" "+th.toFixed(3)+"/"+z.toFixed(3)+" "}info+=" "+(bitrate.length-1)+":"+(bitrate[bitrate.length-1]/1e6).toFixed(3)+" -/"+(Vp*(utility[bitrate.length-1]+gp)).toFixed(3);log("BolaDebug "+mediaInfo.type+" bitrates "+info)}return initialState}function getQualityFromBufferLevel(bolaState,bufferLevel){var bitrateCount=bolaState.bitrate.length;var quality=bitrateCount-1;var score=0;for(var i=0;i<bitrateCount;++i){var s=(bolaState.utility[i]+bolaState.gp-bufferLevel/bolaState.Vp)/bolaState.bitrate[i];if(s>score){score=s;quality=i}}return quality}function getLastHttpRequests(metrics,count){var allHttpRequests=dashMetrics.getHttpRequests(metrics);var httpRequests=[];for(var i=allHttpRequests.length-1;i>=0;--i){var request=allHttpRequests[i];if(request.type===_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE&&request._tfinish&&request.tresponse&&request.trace){httpRequests.push(request);if(httpRequests.length===count){break}}}return httpRequests}function getLastThroughput(metrics,count,mediaType){var lastRequests=getLastHttpRequests(metrics,count);if(lastRequests.length===0){return 0}var totalInverse=0;var msg="";for(var i=0;i<lastRequests.length;++i){var downloadSeconds=.001*(lastRequests[i]._tfinish.getTime()-lastRequests[i].trequest.getTime());var downloadBits=8*lastRequests[i].trace.reduce(function(a,b){return a+b.b[0]},0);msg+=" "+(downloadBits/1e6).toFixed(3)+"/"+downloadSeconds.toFixed(3)+"="+(downloadBits/downloadSeconds/1e6).toFixed(3);totalInverse+=downloadSeconds/downloadBits}if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule last throughput = "+(lastRequests.length/totalInverse/1e6).toFixed(3)+" :"+msg);return lastRequests.length/totalInverse}function getQualityFromThroughput(bolaState,throughput){var q=0;for(var i=1;i<bolaState.bitrate.length;++i){if(bolaState.bitrate[i]>throughput){break}q=i}return q}function getDelayFromLastFragmentInSeconds(metrics,mediaType){var lastRequests=getLastHttpRequests(metrics,1);if(lastRequests.length===0){return 0}var lastRequest=lastRequests[0];var nowMilliSeconds=(new Date).getTime();var lastRequestFinishMilliSeconds=lastRequest._tfinish.getTime();if(lastRequestFinishMilliSeconds>nowMilliSeconds){lastRequestFinishMilliSeconds=nowMilliSeconds}var lct=lastCallTimeDict[mediaType];lastCallTimeDict[mediaType]=nowMilliSeconds;var delayMilliSeconds=0;if(lct&&lct>lastRequestFinishMilliSeconds){delayMilliSeconds=nowMilliSeconds-lct}else{delayMilliSeconds=nowMilliSeconds-lastRequestFinishMilliSeconds}if(delayMilliSeconds<0)return 0;return.001*delayMilliSeconds}function onPlaybackSeeking(){for(var i=0;i<seekMediaTypes.length;++i){var mediaType=seekMediaTypes[i];var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);if(metrics.BolaState.length!==0){var bolaState=metrics.BolaState[0]._s;if(bolaState.state!==BOLA_STATE_ONE_BITRATE){bolaState.state=BOLA_STATE_STARTUP}metricsModel.updateBolaState(mediaType,bolaState)}}}function onPeriodSwitchStarted(){}function execute(rulesContext,callback){var streamProcessor=rulesContext.getStreamProcessor();streamProcessor.getScheduleController().setTimeToLoadDelay(0);var switchRequest=(0,_SwitchRequestJs2["default"])(context).create(_SwitchRequestJs2["default"].NO_CHANGE,_SwitchRequestJs2["default"].WEAK);var mediaInfo=rulesContext.getMediaInfo();var mediaType=mediaInfo.type;var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);if(metrics.BolaState.length===0){if(BOLA_DEBUG)log("BolaDebug "+mediaType+"\nBolaDebug "+mediaType+" BolaRule for state=- fragmentStart="+adapter.getIndexHandlerTime(rulesContext.getStreamProcessor()).toFixed(3));var initState=calculateInitialState(rulesContext);metricsModel.updateBolaState(mediaType,initState);var q=0;if(initState.state!==BOLA_STATE_ONE_BITRATE){seekMediaTypes.push(mediaType);var initThroughput=getLastThroughput(metrics,initState.throughputCount,mediaType);if(initThroughput===0){if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule quality unchanged for INITIALIZE");callback(switchRequest);return}q=getQualityFromThroughput(initState,initThroughput*initState.bandwidthSafetyFactor);initState.lastQuality=q;switchRequest=(0,_SwitchRequestJs2["default"])(context).create(q,_SwitchRequestJs2["default"].DEFAULT)}if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule quality "+q+" for INITIALIZE");callback(switchRequest);return}var bolaState=metrics.BolaState[0]._s;if(bolaState.state===BOLA_STATE_ONE_BITRATE){if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule quality 0 for ONE_BITRATE");callback(switchRequest);return}if(BOLA_DEBUG)log("BolaDebug "+mediaType+"\nBolaDebug "+mediaType+" EXECUTE BolaRule for state="+bolaState.state+" fragmentStart="+adapter.getIndexHandlerTime(rulesContext.getStreamProcessor()).toFixed(3));var bufferLevel=dashMetrics.getCurrentBufferLevel(metrics)?dashMetrics.getCurrentBufferLevel(metrics):0;var bolaQuality=getQualityFromBufferLevel(bolaState,bufferLevel);var lastThroughput=getLastThroughput(metrics,bolaState.throughputCount,mediaType);if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule bufferLevel="+bufferLevel.toFixed(3)+"(+"+bolaState.virtualBuffer.toFixed(3)+") lastThroughput="+(lastThroughput/1e6).toFixed(3)+" tentativeQuality="+bolaQuality+","+getQualityFromBufferLevel(bolaState,bufferLevel+bolaState.virtualBuffer));if(bufferLevel<=.1){bolaState.virtualBuffer=0}if(!bolaState.safetyGuarantee){var timeSinceLastDownload=getDelayFromLastFragmentInSeconds(metrics,mediaType);if(timeSinceLastDownload>0){bolaState.virtualBuffer+=timeSinceLastDownload}if(bufferLevel+bolaState.virtualBuffer>bolaState.bolaBufferMax){bolaState.virtualBuffer=bolaState.bolaBufferMax-bufferLevel}if(bolaState.virtualBuffer<0){bolaState.virtualBuffer=0}var bolaQualityVirtual=getQualityFromBufferLevel(bolaState,bufferLevel+bolaState.virtualBuffer);if(bolaQualityVirtual>bolaQuality){var maxQuality=bolaQuality;while(maxQuality<bolaQualityVirtual&&bolaState.bitrate[maxQuality+1]*bolaState.fragmentDuration/(lastThroughput*bolaState.bandwidthSafetyFactor)<bufferLevel){++maxQuality}if(maxQuality>bolaQuality){if(bolaQualityVirtual<=maxQuality){bolaQuality=bolaQualityVirtual}else{bolaQuality=maxQuality;var targetBufferLevel=bolaState.Vp*(bolaState.gp+bolaState.utility[bolaQuality]);if(bufferLevel+bolaState.virtualBuffer>targetBufferLevel){bolaState.virtualBuffer=targetBufferLevel-bufferLevel;if(bolaState.virtualBuffer<0){bolaState.virtualBuffer=0}}}}}}if(bolaState.state===BOLA_STATE_STARTUP||bolaState.state===BOLA_STATE_STARTUP_NO_INC){var q=getQualityFromThroughput(bolaState,lastThroughput*bolaState.bandwidthSafetyFactor);if(lastThroughput<=0){bolaState.state=BOLA_STATE_STEADY}if(bolaState.state===BOLA_STATE_STARTUP&&q<bolaState.lastQuality){bolaState.state=BOLA_STATE_STARTUP_NO_INC}if(bolaState.state===BOLA_STATE_STARTUP_NO_INC&&q>bolaState.lastQuality){q=bolaState.lastQuality}if(q<=bolaQuality){bolaState.state=BOLA_STATE_STEADY}if(bolaState.state!==BOLA_STATE_STEADY){if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule quality "+q+">"+bolaQuality+" for STARTUP");bolaState.lastQuality=q;metricsModel.updateBolaState(mediaType,bolaState);switchRequest=(0,_SwitchRequestJs2["default"])(context).create(q,_SwitchRequestJs2["default"].DEFAULT);callback(switchRequest);return}}var delaySeconds=0;if(bolaQuality>bolaState.lastQuality){var q=getQualityFromThroughput(bolaState,lastThroughput);if(bolaQuality>q){if(q<bolaState.lastQuality){q=bolaState.lastQuality}else{var wantBufferLevel=bolaState.Vp*(bolaState.utility[q]+bolaState.gp);delaySeconds=bufferLevel-wantBufferLevel}bolaQuality=q}}if(delaySeconds>0){if(delaySeconds>bolaState.virtualBuffer){delaySeconds-=bolaState.virtualBuffer;bolaState.virtualBuffer=0}else{bolaState.virtualBuffer-=delaySeconds;delaySeconds=0}}if(delaySeconds>0){streamProcessor.getScheduleController().setTimeToLoadDelay(1e3*delaySeconds)}bolaState.lastQuality=bolaQuality;metricsModel.updateBolaState(mediaType,bolaState);switchRequest=(0,_SwitchRequestJs2["default"])(context).create(bolaQuality,_SwitchRequestJs2["default"].DEFAULT);if(BOLA_DEBUG)log("BolaDebug "+mediaType+" BolaRule quality "+bolaQuality+" delay="+delaySeconds.toFixed(3)+" for STEADY");callback(switchRequest)}function reset(){eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,instance);eventBus.off(_coreEventsEventsJs2["default"].PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,instance);setup()}instance={execute:execute,reset:reset};setup();return instance}BolaRule.__dashjs_factory_name="BolaRule";var factory=_coreFactoryMakerJs2["default"].getClassFactory(BolaRule);factory.BOLA_STATE_ONE_BITRATE=BOLA_STATE_ONE_BITRATE;factory.BOLA_STATE_STARTUP=BOLA_STATE_STARTUP;factory.BOLA_STATE_STARTUP_NO_INC=BOLA_STATE_STARTUP_NO_INC;factory.BOLA_STATE_STEADY=BOLA_STATE_STEADY;factory.BOLA_DEBUG=BOLA_DEBUG;exports["default"]=factory;module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/EventBus.js":6,"../../../core/FactoryMaker.js":7,"../../../core/events/Events.js":9,"../../../dash/DashAdapter.js":11,"../../controllers/PlaybackController.js":54,"../../models/MediaPlayerModel.js":64,"../../vo/metrics/HTTPRequest.js":117,"../SwitchRequest.js":70}],75:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _controllersAbrControllerJs=_dereq_("../../controllers/AbrController.js");var _controllersAbrControllerJs2=_interopRequireDefault(_controllersAbrControllerJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function BufferOccupancyRule(config){var instance=undefined;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var metricsModel=config.metricsModel;var dashMetrics=config.dashMetrics;var lastSwitchTime=undefined,mediaPlayerModel=undefined;function setup(){lastSwitchTime=0;mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance()}function execute(rulesContext,callback){var now=(new Date).getTime()/1e3;var mediaInfo=rulesContext.getMediaInfo();var representationInfo=rulesContext.getTrackInfo();var mediaType=mediaInfo.type;var waitToSwitchTime=!isNaN(representationInfo.fragmentDuration)?representationInfo.fragmentDuration/2:2;var current=rulesContext.getCurrentValue();var streamProcessor=rulesContext.getStreamProcessor();var abrController=streamProcessor.getABRController();var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);var lastBufferLevel=dashMetrics.getCurrentBufferLevel(metrics);var lastBufferStateVO=metrics.BufferState.length>0?metrics.BufferState[metrics.BufferState.length-1]:null;var isBufferRich=false;var maxIndex=mediaInfo.representationCount-1;

var switchRequest=(0,_SwitchRequestJs2["default"])(context).create(_SwitchRequestJs2["default"].NO_CHANGE,_SwitchRequestJs2["default"].WEAK);if(now-lastSwitchTime<waitToSwitchTime||abrController.getAbandonmentStateFor(mediaType)===_controllersAbrControllerJs2["default"].ABANDON_LOAD){callback(switchRequest);return}if(lastBufferStateVO!==null){if(lastBufferLevel>lastBufferStateVO.target){isBufferRich=lastBufferLevel-lastBufferStateVO.target>mediaPlayerModel.getRichBufferThreshold();if(isBufferRich&&mediaInfo.representationCount>1){switchRequest=(0,_SwitchRequestJs2["default"])(context).create(maxIndex,_SwitchRequestJs2["default"].STRONG)}}}if(switchRequest.value!==_SwitchRequestJs2["default"].NO_CHANGE&&switchRequest.value!==current){log("BufferOccupancyRule requesting switch to index: ",switchRequest.value,"type: ",mediaType," Priority: ",switchRequest.priority===_SwitchRequestJs2["default"].DEFAULT?"Default":switchRequest.priority===_SwitchRequestJs2["default"].STRONG?"Strong":"Weak")}callback(switchRequest)}function reset(){lastSwitchTime=0}instance={execute:execute,reset:reset};setup();return instance}BufferOccupancyRule.__dashjs_factory_name="BufferOccupancyRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(BufferOccupancyRule);module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/FactoryMaker.js":7,"../../controllers/AbrController.js":46,"../../models/MediaPlayerModel.js":64,"../SwitchRequest.js":70}],76:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _controllersBufferControllerJs=_dereq_("../../controllers/BufferController.js");var _controllersBufferControllerJs2=_interopRequireDefault(_controllersBufferControllerJs);var _coreEventBusJs=_dereq_("../../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function InsufficientBufferRule(config){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var metricsModel=config.metricsModel;var instance=undefined,bufferStateDict=undefined,lastSwitchTime=undefined,waitToSwitchTime=undefined;function setup(){bufferStateDict={};lastSwitchTime=0;waitToSwitchTime=1e3;eventBus.on(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,instance)}function execute(rulesContext,callback){var now=(new Date).getTime();var mediaType=rulesContext.getMediaInfo().type;var current=rulesContext.getCurrentValue();var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);var lastBufferStateVO=metrics.BufferState.length>0?metrics.BufferState[metrics.BufferState.length-1]:null;var switchRequest=(0,_SwitchRequestJs2["default"])(context).create(_SwitchRequestJs2["default"].NO_CHANGE,_SwitchRequestJs2["default"].WEAK);if(now-lastSwitchTime<waitToSwitchTime||lastBufferStateVO===null){callback(switchRequest);return}setBufferInfo(mediaType,lastBufferStateVO.state);if(lastBufferStateVO.state===_controllersBufferControllerJs2["default"].BUFFER_EMPTY&&bufferStateDict[mediaType].firstBufferLoadedEvent!==undefined){switchRequest=(0,_SwitchRequestJs2["default"])(context).create(0,_SwitchRequestJs2["default"].STRONG)}if(switchRequest.value!==_SwitchRequestJs2["default"].NO_CHANGE&&switchRequest.value!==current){log("InsufficientBufferRule requesting switch to index: ",switchRequest.value,"type: ",mediaType," Priority: ",switchRequest.priority===_SwitchRequestJs2["default"].DEFAULT?"Default":switchRequest.priority===_SwitchRequestJs2["default"].STRONG?"Strong":"Weak")}lastSwitchTime=now;callback(switchRequest)}function setBufferInfo(type,state){bufferStateDict[type]=bufferStateDict[type]||{};bufferStateDict[type].state=state;if(state===_controllersBufferControllerJs2["default"].BUFFER_LOADED&&!bufferStateDict[type].firstBufferLoadedEvent){bufferStateDict[type].firstBufferLoadedEvent=true}}function onPlaybackSeeking(){bufferStateDict={}}function reset(){eventBus.off(_coreEventsEventsJs2["default"].PLAYBACK_SEEKING,onPlaybackSeeking,instance);bufferStateDict={};lastSwitchTime=0}instance={execute:execute,reset:reset};setup();return instance}InsufficientBufferRule.__dashjs_factory_name="InsufficientBufferRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(InsufficientBufferRule);module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/EventBus.js":6,"../../../core/FactoryMaker.js":7,"../../../core/events/Events.js":9,"../../controllers/BufferController.js":49,"../SwitchRequest.js":70}],77:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _controllersBufferControllerJs=_dereq_("../../controllers/BufferController.js");var _controllersBufferControllerJs2=_interopRequireDefault(_controllersBufferControllerJs);var _controllersAbrControllerJs=_dereq_("../../controllers/AbrController.js");var _controllersAbrControllerJs2=_interopRequireDefault(_controllersAbrControllerJs);var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _voMetricsHTTPRequestJs=_dereq_("../../vo/metrics/HTTPRequest.js");var _voMetricsHTTPRequestJs2=_interopRequireDefault(_voMetricsHTTPRequestJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function ThroughputRule(config){var AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_LIVE=2;var AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_VOD=3;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var dashMetrics=config.dashMetrics;var metricsModel=config.metricsModel;var instance=undefined,throughputArray=undefined,mediaPlayerModel=undefined;function setup(){throughputArray=[];mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance()}function storeLastRequestThroughputByType(type,lastRequestThroughput){throughputArray[type]=throughputArray[type]||[];if(lastRequestThroughput!==Infinity&&lastRequestThroughput!==throughputArray[type][throughputArray[type].length-1]){throughputArray[type].push(lastRequestThroughput)}}function getAverageThroughput(type,isDynamic){var averageThroughput=0;var sampleAmount=isDynamic?AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_LIVE:AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_VOD;var arr=throughputArray[type];var len=arr.length;sampleAmount=len<sampleAmount?len:sampleAmount;if(len>0){var startValue=len-sampleAmount;var totalSampledValue=0;for(var i=startValue;i<len;i++){totalSampledValue+=arr[i]}averageThroughput=totalSampledValue/sampleAmount}if(arr.length>sampleAmount){arr.shift()}return averageThroughput/1e3*mediaPlayerModel.getBandwidthSafetyFactor()}function execute(rulesContext,callback){var downloadTime;var bytes;var averageThroughput;var lastRequestThroughput;var mediaInfo=rulesContext.getMediaInfo();var mediaType=mediaInfo.type;var current=rulesContext.getCurrentValue();var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);var streamProcessor=rulesContext.getStreamProcessor();var abrController=streamProcessor.getABRController();var isDynamic=streamProcessor.isDynamic();var lastRequest=dashMetrics.getCurrentHttpRequest(metrics);var bufferStateVO=metrics.BufferState.length>0?metrics.BufferState[metrics.BufferState.length-1]:null;var bufferLevelVO=metrics.BufferLevel.length>0?metrics.BufferLevel[metrics.BufferLevel.length-1]:null;var switchRequest=(0,_SwitchRequestJs2["default"])(context).create(_SwitchRequestJs2["default"].NO_CHANGE,_SwitchRequestJs2["default"].WEAK);if(!metrics||!lastRequest||lastRequest.type!==_voMetricsHTTPRequestJs2["default"].MEDIA_SEGMENT_TYPE||!bufferStateVO||!bufferLevelVO){callback(switchRequest);return}if(lastRequest.trace&&lastRequest.trace.length){downloadTime=(lastRequest._tfinish.getTime()-lastRequest.tresponse.getTime())/1e3;bytes=lastRequest.trace.reduce(function(a,b){return a+b.b[0]},0);lastRequestThroughput=Math.round(bytes*8)/downloadTime;storeLastRequestThroughputByType(mediaType,lastRequestThroughput)}averageThroughput=Math.round(getAverageThroughput(mediaType,isDynamic));abrController.setAverageThroughput(mediaType,averageThroughput);if(abrController.getAbandonmentStateFor(mediaType)!==_controllersAbrControllerJs2["default"].ABANDON_LOAD){if(bufferStateVO.state===_controllersBufferControllerJs2["default"].BUFFER_LOADED||isDynamic){var newQuality=abrController.getQualityForBitrate(mediaInfo,averageThroughput);streamProcessor.getScheduleController().setTimeToLoadDelay(0);switchRequest=(0,_SwitchRequestJs2["default"])(context).create(newQuality,_SwitchRequestJs2["default"].DEFAULT)}if(switchRequest.value!==_SwitchRequestJs2["default"].NO_CHANGE&&switchRequest.value!==current){log("ThroughputRule requesting switch to index: ",switchRequest.value,"type: ",mediaType," Priority: ",switchRequest.priority===_SwitchRequestJs2["default"].DEFAULT?"Default":switchRequest.priority===_SwitchRequestJs2["default"].STRONG?"Strong":"Weak","Average throughput",Math.round(averageThroughput),"kbps")}}callback(switchRequest)}function reset(){setup()}instance={execute:execute,reset:reset};setup();return instance}ThroughputRule.__dashjs_factory_name="ThroughputRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(ThroughputRule);module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/FactoryMaker.js":7,"../../controllers/AbrController.js":46,"../../controllers/BufferController.js":49,"../../models/MediaPlayerModel.js":64,"../../vo/metrics/HTTPRequest.js":117,"../SwitchRequest.js":70}],78:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function BasicSelector(config){var instance=undefined;var blacklistController=config.blacklistController;function select(baseUrls){var index=0;var selectedBaseUrl;if(baseUrls&&baseUrls.some(function(baseUrl,idx){index=idx;return!blacklistController.contains(baseUrl.serviceLocation)})){selectedBaseUrl=baseUrls[index]}return selectedBaseUrl}instance={select:select};return instance}BasicSelector.__dashjs_factory_name="BasicSelector";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(BasicSelector);module.exports=exports["default"]},{"../../../core/FactoryMaker.js":7}],79:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function DVBSelector(config){var instance=undefined;var blacklistController=config.blacklistController;function getNonBlacklistedBaseUrls(urls){var removedPriorities=[];var samePrioritiesFilter=function samePrioritiesFilter(el){if(removedPriorities.length){if(el.dvb_priority&&removedPriorities.indexOf(el.dvb_priority)!==-1){return false}}return true};var serviceLocationFilter=function serviceLocationFilter(baseUrl){if(blacklistController.contains(baseUrl.serviceLocation)){if(baseUrl.dvb_priority){removedPriorities.push(baseUrl.dvb_priority)}return false}return true};return urls.filter(serviceLocationFilter).filter(samePrioritiesFilter)}function selectByWeight(availableUrls){var prioritySorter=function prioritySorter(a,b){var diff=a.dvb_priority-b.dvb_priority;return isNaN(diff)?0:diff};var topPriorityFilter=function topPriorityFilter(baseUrl,idx,arr){return!idx||arr[0].dvb_priority&&baseUrl.dvb_priority&&arr[0].dvb_priority===baseUrl.dvb_priority};var totalWeight=0;var cumulWeights=[];var idx=0;var rn;var urls;urls=availableUrls.sort(prioritySorter).filter(topPriorityFilter);if(urls.length){if(urls.length>1){urls.forEach(function(baseUrl){totalWeight+=baseUrl.dvb_weight;cumulWeights.push(totalWeight)});rn=Math.floor(Math.random()*(totalWeight-1));cumulWeights.every(function(limit,index){idx=index;if(rn<limit){return false}return true})}return urls[idx]}}function select(baseUrls){return baseUrls&&selectByWeight(getNonBlacklistedBaseUrls(baseUrls))}instance={select:select};return instance}DVBSelector.__dashjs_factory_name="DVBSelector";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(DVBSelector);module.exports=exports["default"]},{"../../../core/FactoryMaker.js":7}],80:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _modelsMediaPlayerModelJs=_dereq_("../../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _controllersPlaybackControllerJs=_dereq_("../../controllers/PlaybackController.js");var _controllersPlaybackControllerJs2=_interopRequireDefault(_controllersPlaybackControllerJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function BufferLevelRule(config){var instance=undefined;var context=this.context;var dashMetrics=config.dashMetrics;var metricsModel=config.metricsModel;var textSourceBuffer=config.textSourceBuffer;var mediaPlayerModel=undefined,playbackController=undefined;function setup(){mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();playbackController=(0,_controllersPlaybackControllerJs2["default"])(context).getInstance()}function execute(streamProcessor){var representationInfo=streamProcessor.getCurrentRepresentationInfo();var mediaInfo=representationInfo.mediaInfo;var mediaType=mediaInfo.type;var metrics=metricsModel.getReadOnlyMetricsFor(mediaType);var bufferLevel=dashMetrics.getCurrentBufferLevel(metrics);return bufferLevel<getBufferTarget(streamProcessor,mediaType)}function reset(){}function getBufferTarget(streamProcessor,type){var representationInfo=streamProcessor.getCurrentRepresentationInfo();var mediaInfo=representationInfo.mediaInfo;var streamInfo=mediaInfo.streamInfo;var abrController=streamProcessor.getABRController();var duration=streamInfo.manifestInfo.duration;var isLongFormContent=duration>=mediaPlayerModel.getLongFormContentDurationThreshold();var bufferTarget=NaN;if(type==="fragmentedText"){bufferTarget=textSourceBuffer.getAllTracksAreDisabled()?0:representationInfo.fragmentDuration}else{if(abrController.isPlayingAtTopQuality(streamInfo)){bufferTarget=isLongFormContent?mediaPlayerModel.getBufferTimeAtTopQualityLongForm():mediaPlayerModel.getBufferTimeAtTopQuality()}else{bufferTarget=mediaPlayerModel.getStableBufferTime()}}return bufferTarget}instance={execute:execute,reset:reset};setup();return instance}BufferLevelRule.__dashjs_factory_name="BufferLevelRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(BufferLevelRule);module.exports=exports["default"]},{"../../../core/FactoryMaker.js":7,"../../controllers/PlaybackController.js":54,"../../models/MediaPlayerModel.js":64}],81:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreDebugJs=_dereq_("../../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function NextFragmentRequestRule(config){var instance=undefined;var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var adapter=config.adapter;var sourceBufferController=config.sourceBufferController;var virtualBuffer=config.virtualBuffer;var textSourceBuffer=config.textSourceBuffer;function execute(streamProcessor){var representationInfo=streamProcessor.getCurrentRepresentationInfo();var mediaInfo=representationInfo.mediaInfo;var mediaType=mediaInfo.type;var streamId=mediaInfo.streamInfo.id;var scheduleController=streamProcessor.getScheduleController();var seekTarget=scheduleController.getSeekTarget();var hasSeekTarget=!isNaN(seekTarget);var keepIdx=!hasSeekTarget;var time=hasSeekTarget?seekTarget:adapter.getIndexHandlerTime(streamProcessor);var buffer=streamProcessor.getBuffer();var range=null;var appendedChunks=undefined;var request=undefined;if(isNaN(time)||mediaType==="fragmentedText"&&textSourceBuffer.getAllTracksAreDisabled()){return null}if(hasSeekTarget){scheduleController.setSeekTarget(NaN)}if(buffer){range=sourceBufferController.getBufferRange(streamProcessor.getBuffer(),time);if(range!==null){appendedChunks=virtualBuffer.getChunks({streamId:streamId,mediaType:mediaType,appended:true,mediaInfo:mediaInfo,forRange:range});if(appendedChunks&&appendedChunks.length>0){var t=time;time=appendedChunks[appendedChunks.length-1].bufferedRange.end;log("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",t," was changed to ",time)}}}request=adapter.getFragmentRequestForTime(streamProcessor,representationInfo,time,{keepIdx:keepIdx});if(request&&streamProcessor.getFragmentModel().isFragmentLoaded(request)){request=adapter.getNextFragmentRequest(streamProcessor,representationInfo)}if(request){adapter.setIndexHandlerTime(streamProcessor,request.startTime+request.duration);request.delayLoadingTime=(new Date).getTime()+scheduleController.getTimeToLoadDelay();scheduleController.setTimeToLoadDelay(0)}return request}instance={execute:execute};return instance}NextFragmentRequestRule.__dashjs_factory_name="NextFragmentRequestRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(NextFragmentRequestRule);module.exports=exports["default"]},{"../../../core/Debug.js":5,"../../../core/FactoryMaker.js":7}],82:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _coreEventBusJs=_dereq_("../../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var SEARCH_TIME_SPAN=12*60*60;function LiveEdgeBinarySearchRule(config){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var adapter=config.adapter;var timelineConverter=config.timelineConverter;var instance=undefined,liveEdgeInitialSearchPosition=undefined,liveEdgeSearchRange=undefined,liveEdgeSearchStep=undefined,representationInfo=undefined,useBinarySearch=undefined,fragmentDuration=undefined,p=undefined,callback=undefined,fragmentLoader=undefined,streamProcessor=undefined;function setup(){liveEdgeInitialSearchPosition=NaN;liveEdgeSearchRange=null;liveEdgeSearchStep=NaN;representationInfo=null;useBinarySearch=false;fragmentDuration=NaN;p=_SwitchRequestJs2["default"].DEFAULT}function execute(rulesContext,callbackFunc){var request,DVRWindow;callback=callbackFunc;streamProcessor=rulesContext.getStreamProcessor();fragmentLoader=streamProcessor.getFragmentLoader();representationInfo=rulesContext.getTrackInfo();fragmentDuration=representationInfo.fragmentDuration;DVRWindow=representationInfo.DVRWindow;liveEdgeInitialSearchPosition=DVRWindow.end;if(representationInfo.useCalculatedLiveEdgeTime){var actualLiveEdge=timelineConverter.getExpectedLiveEdge();timelineConverter.setExpectedLiveEdge(liveEdgeInitialSearchPosition);callback((0,_SwitchRequestJs2["default"])(context).create(actualLiveEdge,p));return}liveEdgeSearchRange={start:Math.max(0,liveEdgeInitialSearchPosition-SEARCH_TIME_SPAN),end:liveEdgeInitialSearchPosition+SEARCH_TIME_SPAN};liveEdgeSearchStep=Math.floor((DVRWindow.end-DVRWindow.start)/2);request=adapter.getFragmentRequestForTime(streamProcessor,representationInfo,liveEdgeInitialSearchPosition,{ignoreIsFinished:true});findLiveEdge(liveEdgeInitialSearchPosition,onSearchForFragmentSucceeded,onSearchForFragmentFailed,request)}function reset(){liveEdgeInitialSearchPosition=NaN;liveEdgeSearchRange=null;liveEdgeSearchStep=NaN;representationInfo=null;useBinarySearch=false;fragmentDuration=NaN;streamProcessor=null;fragmentLoader=null}function findLiveEdge(searchTime,onSuccess,onError,request){var req;if(request===null){req=adapter.generateFragmentRequestForTime(streamProcessor,representationInfo,searchTime);findLiveEdge(searchTime,onSuccess,onError,req)}else{var handler=function handler(e){eventBus.off(_coreEventsEventsJs2["default"].CHECK_FOR_EXISTENCE_COMPLETED,handler,this);if(e.exists){onSuccess(e.request,searchTime)}else{onError(e.request,searchTime)}};eventBus.on(_coreEventsEventsJs2["default"].CHECK_FOR_EXISTENCE_COMPLETED,handler,this);fragmentLoader.checkForExistence(request)}}function onSearchForFragmentFailed(request,lastSearchTime){var searchTime,req,searchInterval;if(useBinarySearch){binarySearch(false,lastSearchTime);return}searchInterval=lastSearchTime-liveEdgeInitialSearchPosition;searchTime=searchInterval>0?liveEdgeInitialSearchPosition-searchInterval:liveEdgeInitialSearchPosition+Math.abs(searchInterval)+liveEdgeSearchStep;if(searchTime<liveEdgeSearchRange.start&&searchTime>liveEdgeSearchRange.end){callback((0,_SwitchRequestJs2["default"])(context).create(null,p))}else{req=adapter.getFragmentRequestForTime(streamProcessor,representationInfo,searchTime,{ignoreIsFinished:true});findLiveEdge(searchTime,onSearchForFragmentSucceeded,onSearchForFragmentFailed,req)}}function onSearchForFragmentSucceeded(request,lastSearchTime){var startTime=request.startTime;var req,searchTime;if(!useBinarySearch){if(!representationInfo.fragmentDuration){callback((0,_SwitchRequestJs2["default"])(context).create(startTime,p));return}useBinarySearch=true;liveEdgeSearchRange.end=startTime+2*liveEdgeSearchStep;if(lastSearchTime===liveEdgeInitialSearchPosition){searchTime=lastSearchTime+fragmentDuration;req=adapter.getFragmentRequestForTime(streamProcessor,representationInfo,searchTime,{ignoreIsFinished:true});findLiveEdge(searchTime,function(){binarySearch(true,searchTime)},function(){callback((0,_SwitchRequestJs2["default"])(context).create(searchTime,p))},req);return}}binarySearch(true,lastSearchTime)}function binarySearch(lastSearchSucceeded,lastSearchTime){var isSearchCompleted,req,searchTime;if(lastSearchSucceeded){liveEdgeSearchRange.start=lastSearchTime}else{liveEdgeSearchRange.end=lastSearchTime}isSearchCompleted=Math.floor(liveEdgeSearchRange.end-liveEdgeSearchRange.start)<=fragmentDuration;if(isSearchCompleted){callback((0,_SwitchRequestJs2["default"])(context).create(lastSearchSucceeded?lastSearchTime:lastSearchTime-fragmentDuration,p))}else{searchTime=(liveEdgeSearchRange.start+liveEdgeSearchRange.end)/2;req=adapter.getFragmentRequestForTime(streamProcessor,representationInfo,searchTime,{ignoreIsFinished:true});findLiveEdge(searchTime,onSearchForFragmentSucceeded,onSearchForFragmentFailed,req)}}instance={execute:execute,reset:reset};setup();return instance}LiveEdgeBinarySearchRule.__dashjs_factory_name="LiveEdgeBinarySearchRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(LiveEdgeBinarySearchRule);module.exports=exports["default"]},{"../../../core/EventBus.js":6,"../../../core/FactoryMaker.js":7,"../../../core/events/Events.js":9,"../SwitchRequest.js":70}],83:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _SwitchRequestJs=_dereq_("../SwitchRequest.js");var _SwitchRequestJs2=_interopRequireDefault(_SwitchRequestJs);var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function LiveEdgeWithTimeSynchronizationRule(config){var instance=undefined;var context=this.context;var timelineConverter=config.timelineConverter;function execute(rulesContext,callback){var representationInfo=rulesContext.getTrackInfo();var liveEdgeInitialSearchPosition=representationInfo.DVRWindow.end;var p=_SwitchRequestJs2["default"].DEFAULT;if(representationInfo.useCalculatedLiveEdgeTime){var actualLiveEdge=timelineConverter.getExpectedLiveEdge();timelineConverter.setExpectedLiveEdge(liveEdgeInitialSearchPosition);callback((0,_SwitchRequestJs2["default"])(context).create(actualLiveEdge,p))}else{callback((0,_SwitchRequestJs2["default"])(context).create(liveEdgeInitialSearchPosition,p))}}instance={execute:execute};return instance}LiveEdgeWithTimeSynchronizationRule.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(LiveEdgeWithTimeSynchronizationRule);module.exports=exports["default"]},{"../../../core/FactoryMaker.js":7,"../SwitchRequest.js":70}],84:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _dashUtilsTimelineConverterJs=_dereq_("../../../dash/utils/TimelineConverter.js");var _dashUtilsTimelineConverterJs2=_interopRequireDefault(_dashUtilsTimelineConverterJs);var _LiveEdgeBinarySearchRuleJs=_dereq_("./LiveEdgeBinarySearchRule.js");var _LiveEdgeBinarySearchRuleJs2=_interopRequireDefault(_LiveEdgeBinarySearchRuleJs);var _LiveEdgeWithTimeSynchronizationRuleJs=_dereq_("./LiveEdgeWithTimeSynchronizationRule.js");var _LiveEdgeWithTimeSynchronizationRuleJs2=_interopRequireDefault(_LiveEdgeWithTimeSynchronizationRuleJs);var _dashDashAdapterJs=_dereq_("../../../dash/DashAdapter.js");var _dashDashAdapterJs2=_interopRequireDefault(_dashDashAdapterJs);var TIME_SYNCHRONIZED_RULES="withAccurateTimeSourceRules";var BEST_GUESS_RULES="bestGuestRules";function SynchronizationRulesCollection(){var context=this.context;var instance=undefined,withAccurateTimeSourceRules=undefined,bestGuestRules=undefined;function initialize(){withAccurateTimeSourceRules=[];bestGuestRules=[];withAccurateTimeSourceRules.push((0,_LiveEdgeWithTimeSynchronizationRuleJs2["default"])(context).create({timelineConverter:(0,_dashUtilsTimelineConverterJs2["default"])(context).getInstance()}));bestGuestRules.push((0,_LiveEdgeBinarySearchRuleJs2["default"])(context).create({timelineConverter:(0,_dashUtilsTimelineConverterJs2["default"])(context).getInstance(),adapter:(0,_dashDashAdapterJs2["default"])(context).getInstance()}))}function getRules(type){switch(type){case TIME_SYNCHRONIZED_RULES:return withAccurateTimeSourceRules;case BEST_GUESS_RULES:return bestGuestRules;default:return null}}instance={initialize:initialize,getRules:getRules};return instance}SynchronizationRulesCollection.__dashjs_factory_name="SynchronizationRulesCollection";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(SynchronizationRulesCollection);factory.TIME_SYNCHRONIZED_RULES=TIME_SYNCHRONIZED_RULES;factory.BEST_GUESS_RULES=BEST_GUESS_RULES;exports["default"]=factory;module.exports=exports["default"]},{"../../../core/FactoryMaker.js":7,"../../../dash/DashAdapter.js":11,"../../../dash/utils/TimelineConverter.js":23,"./LiveEdgeBinarySearchRule.js":82,"./LiveEdgeWithTimeSynchronizationRule.js":83}],85:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _dashModelsDashManifestModelJs=_dereq_("../../dash/models/DashManifestModel.js");var _dashModelsDashManifestModelJs2=_interopRequireDefault(_dashModelsDashManifestModelJs);var _controllersBlacklistControllerJs=_dereq_("../controllers/BlacklistController.js");var _controllersBlacklistControllerJs2=_interopRequireDefault(_controllersBlacklistControllerJs);var _rulesBaseUrlResolutionDVBSelectorJs=_dereq_("../rules/baseUrlResolution/DVBSelector.js");var _rulesBaseUrlResolutionDVBSelectorJs2=_interopRequireDefault(_rulesBaseUrlResolutionDVBSelectorJs);var _rulesBaseUrlResolutionBasicSelectorJs=_dereq_("../rules/baseUrlResolution/BasicSelector.js");var _rulesBaseUrlResolutionBasicSelectorJs2=_interopRequireDefault(_rulesBaseUrlResolutionBasicSelectorJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=1;var URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL";function BaseURLSelector(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var dashManifestModel=(0,_dashModelsDashManifestModelJs2["default"])(context).getInstance();var instance=undefined,serviceLocationBlacklistController=undefined,basicSelector=undefined,dvbSelector=undefined,selector=undefined;function setup(){serviceLocationBlacklistController=(0,_controllersBlacklistControllerJs2["default"])(context).create({updateEventName:_coreEventsEventsJs2["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:_coreEventsEventsJs2["default"].FRAGMENT_LOADING_COMPLETED});basicSelector=(0,_rulesBaseUrlResolutionBasicSelectorJs2["default"])(context).create({blacklistController:serviceLocationBlacklistController});dvbSelector=(0,_rulesBaseUrlResolutionDVBSelectorJs2["default"])(context).create({blacklistController:serviceLocationBlacklistController});selector=basicSelector}function chooseSelectorFromManifest(manifest){if(dashManifestModel.getIsDVB(manifest)){selector=dvbSelector}else{selector=basicSelector}}function select(data){var baseUrls=data.baseUrls;var selectedIdx=data.selectedIdx;if(!isNaN(selectedIdx)){return baseUrls[selectedIdx]}var selectedBaseUrl=selector.select(baseUrls);if(!selectedBaseUrl){eventBus.trigger(_coreEventsEventsJs2["default"].URL_RESOLUTION_FAILED,{error:new Error(URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)});return}data.selectedIdx=baseUrls.indexOf(selectedBaseUrl);return selectedBaseUrl}function reset(){serviceLocationBlacklistController.reset()}instance={chooseSelectorFromManifest:chooseSelectorFromManifest,select:select,reset:reset};setup();return instance}BaseURLSelector.__dashjs_factory_name="BaseURLSelector";var factory=_coreFactoryMakerJs2["default"].getClassFactory(BaseURLSelector);factory.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE;

factory.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../../dash/models/DashManifestModel.js":17,"../controllers/BlacklistController.js":48,"../rules/baseUrlResolution/BasicSelector.js":78,"../rules/baseUrlResolution/DVBSelector.js":79}],86:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _IsoFileJs=_dereq_("./IsoFile.js");var _IsoFileJs2=_interopRequireDefault(_IsoFileJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _codemIsoboxer=_dereq_("codem-isoboxer");var _codemIsoboxer2=_interopRequireDefault(_codemIsoboxer);function BoxParser(){var instance=undefined;var context=this.context;function parse(data){if(!data)return null;if(data.fileStart===undefined){data.fileStart=0}var parsedFile=_codemIsoboxer2["default"].parseBuffer(data);var dashIsoFile=(0,_IsoFileJs2["default"])(context).create();dashIsoFile.setData(parsedFile);return dashIsoFile}instance={parse:parse};return instance}BoxParser.__dashjs_factory_name="BoxParser";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(BoxParser);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"./IsoFile.js":91,"codem-isoboxer":4}],87:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function Capabilities(){var instance=undefined,encryptedMediaSupported=undefined;function setup(){encryptedMediaSupported=false}function supportsMediaSource(){var hasWebKit="WebKitMediaSource"in window;var hasMediaSource="MediaSource"in window;return hasWebKit||hasMediaSource}function supportsEncryptedMedia(){return encryptedMediaSupported}function setEncryptedMediaSupported(value){encryptedMediaSupported=value}function supportsCodec(element,codec){var canPlay=element.canPlayType(codec);return canPlay==="probably"||canPlay==="maybe"}instance={supportsMediaSource:supportsMediaSource,supportsEncryptedMedia:supportsEncryptedMedia,supportsCodec:supportsCodec,setEncryptedMediaSupported:setEncryptedMediaSupported};setup();return instance}Capabilities.__dashjs_factory_name="Capabilities";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(Capabilities);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],88:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function CustomTimeRanges(){var customTimeRangeArray=[];var length=0;function add(start,end){var i=0;for(i=0;i<this.customTimeRangeArray.length&&start>this.customTimeRangeArray[i].start;i++);this.customTimeRangeArray.splice(i,0,{start:start,end:end});for(i=0;i<this.customTimeRangeArray.length-1;i++){if(this.mergeRanges(i,i+1)){i--}}this.length=this.customTimeRangeArray.length}function clear(){this.customTimeRangeArray=[];this.length=0}function remove(start,end){for(var i=0;i<this.customTimeRangeArray.length;i++){if(start<=this.customTimeRangeArray[i].start&&end>=this.customTimeRangeArray[i].end){this.customTimeRangeArray.splice(i,1);i--}else if(start>this.customTimeRangeArray[i].start&&end<this.customTimeRangeArray[i].end){this.customTimeRangeArray.splice(i+1,0,{start:end,end:this.customTimeRangeArray[i].end});this.customTimeRangeArray[i].end=start;break}else if(start>this.customTimeRangeArray[i].start&&start<this.customTimeRangeArray[i].end){this.customTimeRangeArray[i].end=start}else if(end>this.customTimeRangeArray[i].start&&end<this.customTimeRangeArray[i].end){this.customTimeRangeArray[i].start=end}}this.length=this.customTimeRangeArray.length}function mergeRanges(rangeIndex1,rangeIndex2){var range1=this.customTimeRangeArray[rangeIndex1];var range2=this.customTimeRangeArray[rangeIndex2];if(range1.start<=range2.start&&range2.start<=range1.end&&range1.end<=range2.end){range1.end=range2.end;this.customTimeRangeArray.splice(rangeIndex2,1);return true}else if(range2.start<=range1.start&&range1.start<=range2.end&&range2.end<=range1.end){range1.start=range2.start;this.customTimeRangeArray.splice(rangeIndex2,1);return true}else if(range2.start<=range1.start&&range1.start<=range2.end&&range1.end<=range2.end){this.customTimeRangeArray.splice(rangeIndex1,1);return true}else if(range1.start<=range2.start&&range2.start<=range1.end&&range2.end<=range1.end){this.customTimeRangeArray.splice(rangeIndex2,1);return true}return false}function start(index){return this.customTimeRangeArray[index].start}function end(index){return this.customTimeRangeArray[index].end}return{customTimeRangeArray:customTimeRangeArray,length:length,add:add,clear:clear,remove:remove,mergeRanges:mergeRanges,start:start,end:end}}CustomTimeRanges.__dashjs_factory_name="CustomTimeRanges";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(CustomTimeRanges);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],89:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _modelsMediaPlayerModelJs=_dereq_("../models/MediaPlayerModel.js");var _modelsMediaPlayerModelJs2=_interopRequireDefault(_modelsMediaPlayerModelJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var legacyKeysAndReplacements=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];var LOCAL_STORAGE_BITRATE_KEY_TEMPLATE="dashjs_?_bitrate";var LOCAL_STORAGE_SETTINGS_KEY_TEMPLATE="dashjs_?_settings";var STORAGE_TYPE_LOCAL="localStorage";var STORAGE_TYPE_SESSION="sessionStorage";function DOMStorage(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var instance=undefined,supported=undefined,mediaPlayerModel=undefined;function isSupported(type){if(supported!==undefined)return supported;supported=false;var testKey="1";var testValue="1";var storage;try{if(typeof window!=="undefined"){storage=window[type]}}catch(error){log("Warning: DOMStorage access denied: "+error.message);return supported}if(!storage||type!==STORAGE_TYPE_LOCAL&&type!==STORAGE_TYPE_SESSION){return supported}try{storage.setItem(testKey,testValue);storage.removeItem(testKey);supported=true}catch(error){log("Warning: DOMStorage is supported, but cannot be used: "+error.message)}return supported}function translateLegacyKeys(){if(isSupported(STORAGE_TYPE_LOCAL)){legacyKeysAndReplacements.forEach(function(entry){var value=localStorage.getItem(entry.oldKey);if(value){localStorage.removeItem(entry.oldKey);try{localStorage.setItem(entry.newKey,value)}catch(e){log(e.message)}}})}}function setup(){mediaPlayerModel=(0,_modelsMediaPlayerModelJs2["default"])(context).getInstance();translateLegacyKeys()}function getTimestamp(){var ten_minutes_ms=60*1e3*10;return Math.round((new Date).getTime()/ten_minutes_ms)*ten_minutes_ms}function canStore(storageType,key){return isSupported(storageType)&&mediaPlayerModel["get"+key+"CachingInfo"]().enabled}function getSavedMediaSettings(type){if(!canStore(STORAGE_TYPE_LOCAL,"LastMediaSettings"))return null;var key=LOCAL_STORAGE_SETTINGS_KEY_TEMPLATE.replace(/\?/,type);var obj=JSON.parse(localStorage.getItem(key))||{};var isExpired=(new Date).getTime()-parseInt(obj.timestamp,10)>=mediaPlayerModel.getLastMediaSettingsCachingInfo().ttl||false;var settings=obj.settings;if(isExpired){localStorage.removeItem(key);settings=null}return settings}function getSavedBitrateSettings(type){var savedBitrate=NaN;if(canStore(STORAGE_TYPE_LOCAL,"LastBitrate")){var key=LOCAL_STORAGE_BITRATE_KEY_TEMPLATE.replace(/\?/,type);var obj=JSON.parse(localStorage.getItem(key))||{};var isExpired=(new Date).getTime()-parseInt(obj.timestamp,10)>=mediaPlayerModel.getLastBitrateCachingInfo().ttl||false;var bitrate=parseInt(obj.bitrate,10);if(!isNaN(bitrate)&&!isExpired){savedBitrate=bitrate;log("Last saved bitrate for "+type+" was "+bitrate)}else if(isExpired){localStorage.removeItem(key)}}return savedBitrate}function setSavedMediaSettings(type,value){if(canStore(STORAGE_TYPE_LOCAL,"LastMediaSettings")){var key=LOCAL_STORAGE_SETTINGS_KEY_TEMPLATE.replace(/\?/,type);try{localStorage.setItem(key,JSON.stringify({settings:value,timestamp:getTimestamp()}))}catch(e){log(e.message)}}}function setSavedBitrateSettings(type,bitrate){if(canStore(STORAGE_TYPE_LOCAL,"LastBitrate")&&bitrate){var key=LOCAL_STORAGE_BITRATE_KEY_TEMPLATE.replace(/\?/,type);try{localStorage.setItem(key,JSON.stringify({bitrate:bitrate/1e3,timestamp:getTimestamp()}))}catch(e){log(e.message)}}}instance={getSavedBitrateSettings:getSavedBitrateSettings,setSavedBitrateSettings:setSavedBitrateSettings,getSavedMediaSettings:getSavedMediaSettings,setSavedMediaSettings:setSavedMediaSettings,isSupported:isSupported};setup();return instance}DOMStorage.__dashjs_factory_name="DOMStorage";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(DOMStorage);exports["default"]=factory;module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/FactoryMaker.js":7,"../models/MediaPlayerModel.js":64}],90:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var CAPABILITY_ERROR_MEDIASOURCE="mediasource";var CAPABILITY_ERROR_MEDIAKEYS="mediakeys";var DOWNLOAD_ERROR_ID_MANIFEST="manifest";var DOWNLOAD_ERROR_ID_SIDX="SIDX";var DOWNLOAD_ERROR_ID_CONTENT="content";var DOWNLOAD_ERROR_ID_INITIALIZATION="initialization";var DOWNLOAD_ERROR_ID_XLINK="xlink";var MANIFEST_ERROR_ID_CODEC="codec";var MANIFEST_ERROR_ID_PARSE="parse";var MANIFEST_ERROR_ID_NOSTREAMS="nostreams";var TIMED_TEXT_ERROR_ID_PARSE="parse";function ErrorHandler(){var instance=undefined;var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();function capabilityError(err){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"capability",event:err})}function downloadError(id,url,request){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"download",event:{id:id,url:url,request:request}})}function manifestError(message,id,manifest){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"manifestError",event:{message:message,id:id,manifest:manifest}})}function timedTextError(message,id,ccContent){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"cc",event:{message:message,id:id,cc:ccContent}})}function mediaSourceError(err){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"mediasource",event:err})}function mediaKeySessionError(err){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"key_session",event:err})}function mediaKeyMessageError(err){eventBus.trigger(_coreEventsEventsJs2["default"].ERROR,{error:"key_message",event:err})}instance={capabilityError:capabilityError,downloadError:downloadError,manifestError:manifestError,timedTextError:timedTextError,mediaSourceError:mediaSourceError,mediaKeySessionError:mediaKeySessionError,mediaKeyMessageError:mediaKeyMessageError};return instance}ErrorHandler.__dashjs_factory_name="ErrorHandler";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(ErrorHandler);factory.CAPABILITY_ERROR_MEDIASOURCE=CAPABILITY_ERROR_MEDIASOURCE;factory.CAPABILITY_ERROR_MEDIAKEYS=CAPABILITY_ERROR_MEDIAKEYS;factory.DOWNLOAD_ERROR_ID_MANIFEST=DOWNLOAD_ERROR_ID_MANIFEST;factory.DOWNLOAD_ERROR_ID_SIDX=DOWNLOAD_ERROR_ID_SIDX;factory.DOWNLOAD_ERROR_ID_CONTENT=DOWNLOAD_ERROR_ID_CONTENT;factory.DOWNLOAD_ERROR_ID_INITIALIZATION=DOWNLOAD_ERROR_ID_INITIALIZATION;factory.DOWNLOAD_ERROR_ID_XLINK=DOWNLOAD_ERROR_ID_XLINK;factory.MANIFEST_ERROR_ID_CODEC=MANIFEST_ERROR_ID_CODEC;factory.MANIFEST_ERROR_ID_PARSE=MANIFEST_ERROR_ID_PARSE;factory.MANIFEST_ERROR_ID_NOSTREAMS=MANIFEST_ERROR_ID_NOSTREAMS;factory.TIMED_TEXT_ERROR_ID_PARSE=TIMED_TEXT_ERROR_ID_PARSE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9}],91:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _voIsoBoxJs=_dereq_("../vo/IsoBox.js");var _voIsoBoxJs2=_interopRequireDefault(_voIsoBoxJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function IsoFile(){var instance=undefined,parsedIsoFile=undefined,commonProps=undefined,sidxProps=undefined,sidxRefProps=undefined,emsgProps=undefined,mdhdProps=undefined,mfhdProps=undefined,tfhdProps=undefined,tfdtProps=undefined,trunProps=undefined,trunSampleProps=undefined;function getBox(type){if(!type||!parsedIsoFile||!parsedIsoFile.boxes||parsedIsoFile.boxes.length===0)return null;return convertToDashIsoBox(parsedIsoFile.fetch(type))}function getBoxes(type){var boxData=parsedIsoFile.fetchAll(type);var boxes=[];var box;for(var i=0,ln=boxData.length;i<ln;i++){box=convertToDashIsoBox(boxData[i]);if(box){boxes.push(box)}}return boxes}function setData(value){parsedIsoFile=value}function getLastBox(){if(!parsedIsoFile||!parsedIsoFile.boxes||!parsedIsoFile.boxes.length)return null;var type=parsedIsoFile.boxes[parsedIsoFile.boxes.length-1].type;var boxes=getBoxes(type);return boxes[boxes.length-1]}function getOffset(){return parsedIsoFile._cursor.offset}function setup(){commonProps={offset:"_offset",size:"size",type:"type"};sidxProps={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"};sidxRefProps={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"};emsgProps={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"};mdhdProps={timescale:"timescale"};mfhdProps={sequence_number:"sequence_number"};tfhdProps={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"};tfdtProps={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"};trunProps={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"};trunSampleProps={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function copyProps(from,to,props){for(var prop in props){to[prop]=from[props[prop]]}}function convertToDashIsoBox(boxData){if(!boxData)return null;var box=new _voIsoBoxJs2["default"];var i,ln;copyProps(boxData,box,commonProps);if(boxData.hasOwnProperty("_incomplete")){box.isComplete=!boxData._incomplete}switch(box.type){case"sidx":copyProps(boxData,box,sidxProps);if(box.references){for(i=0,ln=box.references.length;i<ln;i++){copyProps(boxData.references[i],box.references[i],sidxRefProps)}}break;case"emsg":copyProps(boxData,box,emsgProps);break;case"mdhd":copyProps(boxData,box,mdhdProps);break;case"mfhd":copyProps(boxData,box,mfhdProps);break;case"tfhd":copyProps(boxData,box,tfhdProps);break;case"tfdt":copyProps(boxData,box,tfdtProps);break;case"trun":copyProps(boxData,box,trunProps);if(box.samples){for(i=0,ln=box.samples.length;i<ln;i++){copyProps(boxData.samples[i],box.samples[i],trunSampleProps)}}break}return box}instance={getBox:getBox,getBoxes:getBoxes,setData:setData,getLastBox:getLastBox,getOffset:getOffset};setup();return instance}IsoFile.__dashjs_factory_name="IsoFile";exports["default"]=_coreFactoryMakerJs2["default"].getClassFactory(IsoFile);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7,"../vo/IsoBox.js":103}],92:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _rulesSynchronizationSynchronizationRulesCollectionJs=_dereq_("../rules/synchronization/SynchronizationRulesCollection.js");var _rulesSynchronizationSynchronizationRulesCollectionJs2=_interopRequireDefault(_rulesSynchronizationSynchronizationRulesCollectionJs);var _voErrorJs=_dereq_("../vo/Error.js");var _voErrorJs2=_interopRequireDefault(_voErrorJs);var _coreEventBusJs=_dereq_("../../core/EventBus.js");var _coreEventBusJs2=_interopRequireDefault(_coreEventBusJs);var _coreEventsEventsJs=_dereq_("../../core/events/Events.js");var _coreEventsEventsJs2=_interopRequireDefault(_coreEventsEventsJs);var _rulesRulesControllerJs=_dereq_("../rules/RulesController.js");var _rulesRulesControllerJs2=_interopRequireDefault(_rulesRulesControllerJs);var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var LIVE_EDGE_NOT_FOUND_ERROR_CODE=1;function LiveEdgeFinder(){var context=this.context;var eventBus=(0,_coreEventBusJs2["default"])(context).getInstance();var instance=undefined,timelineConverter=undefined,streamProcessor=undefined,rulesController=undefined,isSearchStarted=undefined,searchStartTime=undefined,rules=undefined,liveEdge=undefined,ruleSet=undefined;function initialize(TimelineConverter,StreamProcessor){timelineConverter=TimelineConverter;streamProcessor=StreamProcessor;isSearchStarted=false;searchStartTime=NaN;liveEdge=null;rulesController=(0,_rulesRulesControllerJs2["default"])(context).getInstance();ruleSet=_rulesSynchronizationSynchronizationRulesCollectionJs2["default"].BEST_GUESS_RULES;eventBus.on(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,onStreamInitialized,this)}function abortSearch(){isSearchStarted=false;searchStartTime=NaN}function getLiveEdge(){return liveEdge}function reset(){eventBus.off(_coreEventsEventsJs2["default"].STREAM_INITIALIZED,onStreamInitialized,this);abortSearch();liveEdge=null;timelineConverter=null;streamProcessor=null;isSearchStarted=false;searchStartTime=NaN;ruleSet=null;rulesController=null}function onSearchCompleted(req){var searchTime=((new Date).getTime()-searchStartTime)/1e3;liveEdge=req.value;eventBus.trigger(_coreEventsEventsJs2["default"].LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:liveEdge,searchTime:searchTime,error:liveEdge===null?new _voErrorJs2["default"](LIVE_EDGE_NOT_FOUND_ERROR_CODE,"live edge has not been found",null):null})}function onStreamInitialized(e){if(!streamProcessor.isDynamic()||isSearchStarted||e.error){return}ruleSet=timelineConverter.isTimeSyncCompleted()?_rulesSynchronizationSynchronizationRulesCollectionJs2["default"].TIME_SYNCHRONIZED_RULES:_rulesSynchronizationSynchronizationRulesCollectionJs2["default"].BEST_GUESS_RULES;rules=(0,_rulesSynchronizationSynchronizationRulesCollectionJs2["default"])(context).getInstance().getRules(ruleSet);isSearchStarted=true;searchStartTime=(new Date).getTime();rulesController.applyRules(rules,streamProcessor,onSearchCompleted,null,function(currentValue,newValue){return newValue})}instance={initialize:initialize,abortSearch:abortSearch,getLiveEdge:getLiveEdge,reset:reset};return instance}LiveEdgeFinder.__dashjs_factory_name="LiveEdgeFinder";var factory=_coreFactoryMakerJs2["default"].getSingletonFactory(LiveEdgeFinder);factory.LIVE_EDGE_NOT_FOUND_ERROR_CODE=LIVE_EDGE_NOT_FOUND_ERROR_CODE;exports["default"]=factory;module.exports=exports["default"]},{"../../core/EventBus.js":6,"../../core/FactoryMaker.js":7,"../../core/events/Events.js":9,"../rules/RulesController.js":69,"../rules/synchronization/SynchronizationRulesCollection.js":84,"../vo/Error.js":100}],93:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function ObjectUtils(){var instance=undefined;function areSimpleEquivalent(obj1,obj2){return JSON.stringify(obj1)===JSON.stringify(obj2)}instance={areSimpleEquivalent:areSimpleEquivalent};return instance}ObjectUtils.__dashjs_factory_name="ObjectUtils";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(ObjectUtils);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],94:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function RequestModifier(){var instance=undefined;function modifyRequestURL(url){return url}function modifyRequestHeader(request){return request}instance={modifyRequestURL:modifyRequestURL,modifyRequestHeader:modifyRequestHeader};return instance}RequestModifier.__dashjs_factory_name="RequestModifier";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(RequestModifier);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],95:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _externalsXml2jsonJs=_dereq_("../../../externals/xml2json.js");var _externalsXml2jsonJs2=_interopRequireDefault(_externalsXml2jsonJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);var SECONDS_IN_HOUR=60*60;var SECONDS_IN_MIN=60;function TTMLParser(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var instance=undefined,timingRegex=undefined,ttml=undefined,ttmlStyling=undefined,ttmlLayout=undefined,fontSize=undefined,lineHeight=undefined,linePadding=undefined,defaultLayoutProperties=undefined,defaultStyleProperties=undefined,fontFamilies=undefined,textAlign=undefined,multiRowAlign=undefined,wrapOption=undefined,unicodeBidi=undefined,displayAlign=undefined,writingMode=undefined,videoModel=undefined;function setConfig(config){if(!config)return;if(config.videoModel){videoModel=config.videoModel}}function parse(data,intervalStart,intervalEnd){var tt=undefined,head=undefined,body=undefined,type=undefined;var errorMsg="";var converter=new _externalsXml2jsonJs2["default"]([],"",false);ttml=converter.xml_str2json(data);if(!ttml){throw"TTML document could not be parsed"}if(videoModel.getTTMLRenderingDiv()){type="html"}var ttNS=getNamespacePrefix(ttml,"http://www.w3.org/ns/ttml");if(ttNS){removeNamespacePrefix(ttml,ttNS)}tt=ttml.tt;if(!tt){throw"TTML document lacks tt element"}head=tt.head;if(!head){throw"TTML document lacks head element"}if(head.layout){ttmlLayout=head.layout.region_asArray}if(head.styling){ttmlStyling=head.styling.style_asArray}body=tt.body;if(!body){throw"TTML document lacks body element"}var cellResolution=getCellResolution();var videoWidth=videoModel.getElement().clientWidth;var videoHeight=videoModel.getElement().clientHeight;var cellUnit=[videoWidth/cellResolution[0],videoHeight/cellResolution[1]];defaultStyleProperties["font-size"]=cellUnit[1]+"px;";var regions=[];if(ttmlLayout){for(var i=0;i<ttmlLayout.length;i++){regions.push(processRegion(JSON.parse(JSON.stringify(ttmlLayout[i])),cellUnit))}}var nsttp=getNamespacePrefix(ttml.tt,"http://www.w3.org/ns/ttml#parameter");if(ttml.tt.hasOwnProperty(nsttp+":frameRate")){ttml.tt.frameRate=parseInt(ttml.tt[nsttp+":frameRate"],10)}var captionArray=[];var divs=ttml.tt.body_asArray[0].__children;divs.forEach(function(div){var cues=div.div.p_asArray;if(!cues||cues.length===0){errorMsg="TTML document does not contain any cues"}else{var pStartTime;var pEndTime;var spanStartTime;var spanEndTime;cues.forEach(function(cue){if(cue.hasOwnProperty("begin")&&cue.hasOwnProperty("end")){pStartTime=parseTimings(cue.begin);pEndTime=parseTimings(cue.end)}else if(cue.span.hasOwnProperty("begin")&&cue.span.hasOwnProperty("end")){spanStartTime=parseTimings(cue.span.begin);spanEndTime=parseTimings(cue.span.end)}else{errorMsg="TTML document has incorrect timing value";throw errorMsg}var cueStartTime=spanStartTime||pStartTime;var cueEndTime=spanEndTime||pEndTime;if(typeof intervalStart!=="undefined"&&typeof intervalEnd!=="undefined"){if(cueEndTime<intervalStart||cueStartTime>intervalEnd){log("TTML: Cue interval "+cueStartTime+"-"+cueEndTime+" outside sample interval "+intervalStart+"-"+intervalEnd+". Dropped");return}else{var clipped=false;var origStart=cueStartTime;var origEnd=cueEndTime;if(cueStartTime<intervalStart){clipped=true;cueStartTime=intervalStart}if(cueEndTime>intervalEnd){clipped=true;cueEndTime=intervalEnd}if(clipped){log("TTML: Clipped cue "+origStart+"-"+origEnd+" to "+cueStartTime+"-"+cueEndTime)}}}if(cue["smpte:backgroundImage"]!==undefined){var images=ttml.tt.head.metadata.image_asArray;for(var j=0;j<images.length;j++){if("#"+images[j]["xml:id"]==cue["smpte:backgroundImage"]){captionArray.push({start:cueStartTime,end:cueEndTime,id:images[j]["xml:id"],data:"data:image/"+images[j].imagetype.toLowerCase()+";base64, "+images[j].__text,type:"image"})}}}else if(type==="html"){lineHeight={};linePadding={};fontSize={};var cueID="";if(cue.hasOwnProperty("id")||cue.hasOwnProperty("xml:id")){cueID=cue["xml:id"]||cue.id}if((isNaN(pStartTime)||isNaN(pEndTime))&&(isNaN(spanStartTime)||isNaN(spanEndTime))){errorMsg="TTML document has incorrect timing value";throw errorMsg}var cueRegionProperties=constructCueRegion(cue,div.div,cellUnit);var cueStyleProperties=constructCueStyle(cue,cellUnit);var styleIDs=cueStyleProperties[1];cueStyleProperties=cueStyleProperties[0];var cueParagraph=document.createElement("div");cueParagraph.className=styleIDs;var pElements=cue.__children;var cueDirUniWrapper=constructCue(pElements,cellUnit);cueDirUniWrapper.className="cueDirUniWrapper";if(arrayContains("unicode-bidi",cueStyleProperties)){cueDirUniWrapper.style.cssText+=getPropertyFromArray("unicode-bidi",cueStyleProperties);deletePropertyFromArray("unicode-bidi",cueStyleProperties)}if(arrayContains("direction",cueStyleProperties)){cueDirUniWrapper.style.cssText+=getPropertyFromArray("direction",cueStyleProperties);deletePropertyFromArray("direction",cueStyleProperties)}if(arrayContains("padding-left",cueStyleProperties)&&arrayContains("padding-right",cueStyleProperties)){cueDirUniWrapper.innerHTML=applyLinePadding(cueDirUniWrapper,cueStyleProperties)}if(arrayContains("padding-left",cueStyleProperties)&&arrayContains("padding-right",cueStyleProperties)){deletePropertyFromArray("padding-left",cueStyleProperties);deletePropertyFromArray("padding-right",cueStyleProperties)}var regionID="";if(arrayContains("regionID",cueRegionProperties)){var wholeRegionID=getPropertyFromArray("regionID",cueRegionProperties);regionID=wholeRegionID.slice(wholeRegionID.indexOf(":")+1,wholeRegionID.length-1)}if(cueStyleProperties){cueParagraph.style.cssText=cueStyleProperties.join(" ")+"display:flex;"}if(cueRegionProperties){cueRegionProperties=cueRegionProperties.join(" ")}cueParagraph.appendChild(cueDirUniWrapper);var finalCue=document.createElement("div");finalCue.appendChild(cueParagraph);finalCue.id="subtitle_"+cueID;finalCue.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+cueRegionProperties;if(Object.keys(fontSize).length===0){fontSize.defaultFontSize="100"}captionArray.push({start:cueStartTime,end:cueEndTime,type:"html",cueHTMLElement:finalCue,regions:regions,regionID:regionID,cueID:cueID,videoHeight:videoHeight,videoWidth:videoWidth,cellResolution:cellResolution,fontSize:fontSize||{defaultFontSize:"100"},lineHeight:lineHeight,linePadding:linePadding})}else{var text="";var textElements=cue.__children;if(textElements.length){textElements.forEach(function(el){if(el.hasOwnProperty("span")){var spanElements=el.span.__children;spanElements.forEach(function(spanEl){if(spanElements.hasOwnProperty("metadata")){return}if(spanEl.hasOwnProperty("#text")){text+=spanEl["#text"].replace(/[\r\n]+/gm," ").trim()}else if("br"in spanEl){text+="\n"}})}else if(el.hasOwnProperty("br")){text+="\n"}else{text+=el["#text"].replace(/[\r\n]+/gm," ").trim()}})}captionArray.push({start:cueStartTime,end:cueEndTime,data:text,type:"text"})}})}});if(errorMsg!==""){log(errorMsg)}if(captionArray.length>0){return captionArray}else{throw errorMsg}}function setup(){timingRegex=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/;fontSize={};lineHeight={};linePadding={};defaultLayoutProperties={top:"85%;",left:"5%;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"};defaultStyleProperties={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"};fontFamilies={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;","default":"font-family: monospace, sans-serif;"};textAlign={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]};multiRowAlign={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""};wrapOption={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"};unicodeBidi={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"};displayAlign={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"};writingMode={lrtb:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;"+"direction: rtl;"+"unicode-bidi: bidi-override;",
tbrl:"-webkit-writing-mode: vertical-rl;"+"writing-mode: vertical-rl;"+"-webkit-text-orientation: upright;"+"text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;"+"writing-mode: vertical-lr;"+"-webkit-text-orientation: upright;"+"text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;"+"direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;"+"writing-mode: vertical-rl;"+"-webkit-text-orientation: upright;"+"text-orientation: upright;"}}function parseTimings(timingStr){var test=timingRegex.test(timingStr);var timeParts,parsedTime,frameRate;if(!test){return NaN}timeParts=timingStr.split(":");parsedTime=parseFloat(timeParts[0])*SECONDS_IN_HOUR+parseFloat(timeParts[1])*SECONDS_IN_MIN+parseFloat(timeParts[2]);if(timeParts[3]){frameRate=ttml.tt.frameRate;if(frameRate&&!isNaN(frameRate)){parsedTime+=parseFloat(timeParts[3])/frameRate}else{return NaN}}return parsedTime}function getNamespacePrefix(json,ns){var r=Object.keys(json).filter(function(k){return(k.split(":")[0]==="xmlns"||k.split(":")[1]==="xmlns")&&json[k]===ns}).map(function(k){return k.split(":")[2]||k.split(":")[1]});if(r.length!=1){return null}return r[0]}function removeNamespacePrefix(json,nsPrefix){for(var key in json){if(json.hasOwnProperty(key)){if((typeof json[key]==="object"||json[key]instanceof Object)&&!Array.isArray(json[key])){removeNamespacePrefix(json[key],nsPrefix)}else if(Array.isArray(json[key])){for(var i=0;i<json[key].length;i++){removeNamespacePrefix(json[key][i],nsPrefix)}}var newKey=key.slice(key.indexOf(nsPrefix)+nsPrefix.length+1);json[newKey]=json[key];delete json[key]}}}function camelCaseToDash(key){return key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function convertHexToRGBA(rgba){var hex=rgba.slice(1);var hexMatrice=hex.match(/.{2}/g);var alpha=parseFloat(parseInt(parseInt(hexMatrice[3],16)/255*1e3,10)/1e3);var rgb=hexMatrice.slice(0,3).map(function(i){return parseInt(i,16)});return"rgba("+rgb.join(",")+","+alpha+");"}function arrayContains(text,array){for(var i=0;i<array.length;i++){if(array[i].indexOf(text)>-1){return true}}return false}function getPropertyFromArray(text,array){for(var i=0;i<array.length;i++){if(array[i].indexOf(text)>-1){return array[i]}}return null}function deletePropertyFromArray(property,array){array.splice(array.indexOf(getPropertyFromArray(property,array)),1)}function mergeArrays(primeArray,arrayToAdd){for(var i=0;i<primeArray.length;i++){for(var j=0;j<arrayToAdd.length;j++){if(primeArray[i]){if(primeArray[i].split(":")[0].indexOf(arrayToAdd[j].split(":")[0])>-1){primeArray.splice(i,1)}}}}return primeArray.concat(arrayToAdd)}function processStyle(cueStyle,cellUnit){var properties=[];for(var key in cueStyle){if(cueStyle.hasOwnProperty(key)){var newKey=key.replace("ebutts:","");newKey=newKey.replace("xml:","");newKey=newKey.replace("tts:","");newKey=camelCaseToDash(newKey);cueStyle[newKey]=cueStyle[key];delete cueStyle[key]}}if("line-padding"in cueStyle){var valuePadding=parseFloat(cueStyle["line-padding"].slice(cueStyle["line-padding"].indexOf(":")+1,cueStyle["line-padding"].indexOf("c")));if("id"in cueStyle){linePadding[cueStyle.id]=valuePadding}var valuePaddingInPx=valuePadding*cellUnit[0]+"px;";properties.push("padding-left:"+valuePaddingInPx);properties.push("padding-right:"+valuePaddingInPx)}if("font-size"in cueStyle){var valueFtSize=parseFloat(cueStyle["font-size"].slice(cueStyle["font-size"].indexOf(":")+1,cueStyle["font-size"].indexOf("%")));if("id"in cueStyle){fontSize[cueStyle.id]=valueFtSize}var valueFtSizeInPx=valueFtSize/100*cellUnit[1]+"px;";properties.push("font-size:"+valueFtSizeInPx)}if("line-height"in cueStyle){if(cueStyle["line-height"]==="normal"){properties.push("line-height: normal;")}else{var valueLHSize=parseFloat(cueStyle["line-height"].slice(cueStyle["line-height"].indexOf(":")+1,cueStyle["line-height"].indexOf("%")));if("id"in cueStyle){lineHeight[cueStyle.id]=valueLHSize}var valueLHSizeInPx=valueLHSize/100*cellUnit[1]+"px;";properties.push("line-height"+":"+valueLHSizeInPx)}}if("font-family"in cueStyle){if(cueStyle["font-family"]in fontFamilies){properties.push(fontFamilies[cueStyle["font-family"]])}else{properties.push("font-family:"+cueStyle["font-family"]+";")}}if("text-align"in cueStyle){if(cueStyle["text-align"]in textAlign){properties.push(textAlign[cueStyle["text-align"]][0]);properties.push(textAlign[cueStyle["text-align"]][1])}}if("multi-row-align"in cueStyle){if(arrayContains("text-align",properties)&&cueStyle["multi-row-align"]!="auto"){deletePropertyFromArray("text-align",properties)}if(cueStyle["multi-row-align"]in multiRowAlign){properties.push(multiRowAlign[cueStyle["multi-row-align"]])}}var rgbaValue;if("background-color"in cueStyle){if(cueStyle["background-color"].indexOf("#")>-1&&cueStyle["background-color"].length-1===8){rgbaValue=convertHexToRGBA(cueStyle["background-color"]);properties.push("background-color: "+rgbaValue)}else{properties.push("background-color:"+cueStyle["background-color"]+";")}}if("color"in cueStyle){if(cueStyle.color.indexOf("#")>-1&&cueStyle.color.length-1===8){rgbaValue=convertHexToRGBA(cueStyle.color);properties.push("color: "+rgbaValue)}else{properties.push("color:"+cueStyle.color+";")}}if("wrap-option"in cueStyle){if(cueStyle["wrap-option"]in wrapOption){properties.push(wrapOption[cueStyle["wrap-option"]])}else{properties.push("white-space:"+cueStyle["wrap-option"])}}if("unicode-bidi"in cueStyle){if(cueStyle["unicode-bidi"]in unicodeBidi){properties.push(unicodeBidi[cueStyle["unicode-bidi"]])}else{properties.push("unicode-bidi:"+cueStyle["unicode-bidi"])}}if("font-style"in cueStyle){properties.push("font-style:"+cueStyle["font-style"]+";")}if("font-weight"in cueStyle){properties.push("font-weight:"+cueStyle["font-weight"]+";")}if("direction"in cueStyle){properties.push("direction:"+cueStyle.direction+";")}if("text-decoration"in cueStyle){properties.push("text-decoration:"+cueStyle["text-decoration"]+";")}if(ttml.tt.hasOwnProperty("xml:space")){if(ttml.tt["xml:space"]==="preserve"){properties.push("white-space: pre;")}}return properties}function findStyleFromID(ttmlStyling,cueStyleID){for(var j=0;j<ttmlStyling.length;j++){var currStyle=ttmlStyling[j];if(currStyle["xml:id"]===cueStyleID||currStyle.id===cueStyleID){return currStyle}}return null}function getProcessedStyle(reference,cellUnit){var styles=[];var ids=reference.match(/\S+/g);ids.forEach(function(id){var cueStyle=findStyleFromID(ttmlStyling,id);if(cueStyle){var stylesFromId=processStyle(JSON.parse(JSON.stringify(cueStyle)),cellUnit);styles=styles.concat(stylesFromId)}});return styles}function processRegion(cueRegion,cellUnit){var properties=[];for(var key in cueRegion){var newKey=key.replace("tts:","");newKey=newKey.replace("xml:","");newKey=camelCaseToDash(newKey);cueRegion[newKey]=cueRegion[key];if(newKey!==key){delete cueRegion[key]}}if("extent"in cueRegion){var coordsExtent=cueRegion.extent.split(/\s/);properties.push("width: "+coordsExtent[0]+";");properties.push("height: "+coordsExtent[1]+";")}if("origin"in cueRegion){var coordsOrigin=cueRegion.origin.split(/\s/);properties.push("left: "+coordsOrigin[0]+";");properties.push("top: "+coordsOrigin[1]+";")}if("display-align"in cueRegion){properties.push(displayAlign[cueRegion["display-align"]])}if("writing-mode"in cueRegion){properties.push(writingMode[cueRegion["writing-mode"]])}if("style"in cueRegion){var styleFromID=getProcessedStyle(cueRegion.style,cellUnit);properties=properties.concat(styleFromID)}if("padding"in cueRegion){properties.push("padding:"+cueRegion.padding+";")}if("overflow"in cueRegion){properties.push("overflow:"+cueRegion.overflow+";")}if("show-background"in cueRegion){properties.push("show-background:"+cueRegion["show-background"]+";")}if("id"in cueRegion){properties.push("regionID:"+cueRegion.id+";")}return properties}function findRegionFromID(ttmlLayout,cueRegionID){for(var j=0;j<ttmlLayout.length;j++){var currReg=ttmlLayout[j];if(currReg["xml:id"]===cueRegionID||currReg.id===cueRegionID){return currReg}}return null}function getProcessedRegion(reference,cellUnit){var regions=[];var ids=reference.match(/\S+/g);ids.forEach(function(id){var cueRegion=findRegionFromID(ttmlLayout,id);if(cueRegion){var regionsFromId=processRegion(JSON.parse(JSON.stringify(cueRegion)),cellUnit);regions=regions.concat(regionsFromId)}});return regions}function getCellResolution(){var defaultCellResolution=[32,15];if(ttml.tt.hasOwnProperty("ttp:cellResolution")){return ttml.tt["ttp:cellResolution"].split(" ").map(parseFloat)}else{return defaultCellResolution}}function applyLinePadding(cueHTML,cueStyle){var linePaddingLeft=getPropertyFromArray("padding-left",cueStyle);var linePaddingRight=getPropertyFromArray("padding-right",cueStyle);var linePadding=linePaddingLeft.concat(" "+linePaddingRight+" ");var outerHTMLBeforeBr="";var outerHTMLAfterBr="";var cueInnerHTML="";var nodeList=Array.prototype.slice.call(cueHTML.children);var brElement=cueHTML.getElementsByClassName("lineBreak")[0];var idx=nodeList.indexOf(brElement);var indices=[];while(idx!=-1){indices.push(idx);idx=nodeList.indexOf(brElement,idx+1)}var spanStringEnd="</span>";var br="<br>";var clonePropertyString="<span"+' class="spanPadding" '+'style="-webkit-box-decoration-break: clone; ';if(indices.length){indices.forEach(function(i,index){if(index===0){var styleBefore="";for(var j=0;j<i;j++){outerHTMLBeforeBr+=nodeList[j].outerHTML;if(j===0){styleBefore=linePadding.concat(nodeList[j].style.cssText)}}outerHTMLBeforeBr=clonePropertyString+styleBefore+'">'+outerHTMLBeforeBr}var styleAfter="";for(var k=i+1;k<nodeList.length;k++){outerHTMLAfterBr+=nodeList[k].outerHTML;if(k===nodeList.length-1){styleAfter+=linePadding.concat(nodeList[k].style.cssText)}}outerHTMLAfterBr=clonePropertyString+styleAfter+'">'+outerHTMLAfterBr;if(outerHTMLBeforeBr&&outerHTMLAfterBr&&index===indices.length-1){cueInnerHTML+=outerHTMLBeforeBr+spanStringEnd+br+outerHTMLAfterBr+spanStringEnd}else if(outerHTMLBeforeBr&&outerHTMLAfterBr&&index!==indices.length-1){cueInnerHTML+=outerHTMLBeforeBr+spanStringEnd+br+outerHTMLAfterBr+spanStringEnd+br}else if(outerHTMLBeforeBr&&!outerHTMLAfterBr){cueInnerHTML+=outerHTMLBeforeBr+spanStringEnd}else if(!outerHTMLBeforeBr&&outerHTMLAfterBr&&index===indices.length-1){cueInnerHTML+=outerHTMLAfterBr+spanStringEnd}else if(!outerHTMLBeforeBr&&outerHTMLAfterBr&&index!==indices.length-1){cueInnerHTML+=outerHTMLAfterBr+spanStringEnd+br}})}else{var style="";for(var k=0;k<nodeList.length;k++){style+=nodeList[k].style.cssText}cueInnerHTML=clonePropertyString+linePadding+style+'">'+cueHTML.innerHTML+spanStringEnd}return cueInnerHTML}function constructCue(cueElements,cellUnit){var cue=document.createElement("div");cueElements.forEach(function(el){if(el.hasOwnProperty("metadata")){return}if(el.hasOwnProperty("span")){var spanElements=el.span.__children;var spanHTMLElement=document.createElement("span");if(el.span.hasOwnProperty("style")){var spanStyle=getProcessedStyle(el.span.style,cellUnit);spanHTMLElement.className="spanPadding "+el.span.style;spanHTMLElement.style.cssText=spanStyle.join(" ")}spanElements.forEach(function(spanEl){if(spanElements.hasOwnProperty("metadata")){return}if(spanEl.hasOwnProperty("#text")){var textNode=document.createTextNode(spanEl["#text"]);spanHTMLElement.appendChild(textNode)}else if("br"in spanEl){if(spanHTMLElement.hasChildNodes()){cue.appendChild(spanHTMLElement)}var brEl=document.createElement("br");brEl.className="lineBreak";cue.appendChild(brEl);var newSpanHTMLElement=document.createElement("span");newSpanHTMLElement.className=spanHTMLElement.className;newSpanHTMLElement.style.cssText=spanHTMLElement.style.cssText;spanHTMLElement=newSpanHTMLElement}});cue.appendChild(spanHTMLElement)}else if(el.hasOwnProperty("br")){var brEl=document.createElement("br");brEl.className="lineBreak";cue.appendChild(brEl)}else if(el.hasOwnProperty("#text")){var textNode=document.createElement("span");textNode.textContent=el["#text"];cue.appendChild(textNode)}});return cue}function constructCueRegion(cue,div,cellUnit){var cueRegionProperties=[];var pRegionID=cue.region;var divRegionID=div.region;var divRegion;var pRegion;if(divRegionID){divRegion=getProcessedRegion(divRegionID,cellUnit)}if(pRegionID){pRegion=cueRegionProperties.concat(getProcessedRegion(pRegionID,cellUnit));if(divRegion){cueRegionProperties=mergeArrays(divRegion,pRegion)}else{cueRegionProperties=pRegion}}else if(divRegion){cueRegionProperties=divRegion}applyDefaultProperties(cueRegionProperties,defaultLayoutProperties);return cueRegionProperties}function constructCueStyle(cue,cellUnit){var cueStyleProperties=[];var pStyleID=cue.style;var bodyStyleID=ttml.tt.body.style;var divStyleID=ttml.tt.body.div.style;var bodyStyle;var divStyle;var pStyle;var styleIDs="";if(bodyStyleID){bodyStyle=getProcessedStyle(bodyStyleID,cellUnit);styleIDs="paragraph "+bodyStyleID}if(divStyleID){divStyle=getProcessedStyle(divStyleID,cellUnit);if(bodyStyle){divStyle=mergeArrays(bodyStyle,divStyle);styleIDs+=" "+divStyleID}else{styleIDs="paragraph "+divStyleID}}if(pStyleID){pStyle=getProcessedStyle(pStyleID,cellUnit);if(bodyStyle&&divStyle){cueStyleProperties=mergeArrays(divStyle,pStyle);styleIDs+=" "+pStyleID}else if(bodyStyle){cueStyleProperties=mergeArrays(bodyStyle,pStyle);styleIDs+=" "+pStyleID}else if(divStyle){cueStyleProperties=mergeArrays(divStyle,pStyle);styleIDs+=" "+pStyleID}else{cueStyleProperties=pStyle;styleIDs="paragraph "+pStyleID}}else if(bodyStyle&&!divStyle){cueStyleProperties=bodyStyle}else if(!bodyStyle&&divStyle){cueStyleProperties=divStyle}applyDefaultProperties(cueStyleProperties,defaultStyleProperties);return[cueStyleProperties,styleIDs]}function applyDefaultProperties(array,defaultProperties){for(var key in defaultProperties){if(defaultProperties.hasOwnProperty(key)){if(!arrayContains(key,array)){array.push(key+":"+defaultProperties[key])}}}}instance={parse:parse,setConfig:setConfig};setup();return instance}TTMLParser.__dashjs_factory_name="TTMLParser";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(TTMLParser);module.exports=exports["default"]},{"../../../externals/xml2json.js":3,"../../core/Debug.js":5,"../../core/FactoryMaker.js":7}],96:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);function URLUtils(){var instance=undefined;var absUrl=/^(?:(?:[a-z]+:)?\/)?\//i;function parseBaseUrl(url){var base="";if(url.indexOf("/")!==-1){if(url.indexOf("?")!==-1){url=url.substring(0,url.indexOf("?"))}base=url.substring(0,url.lastIndexOf("/")+1)}return base}function isRelative(url){return!absUrl.test(url)}instance={parseBaseUrl:parseBaseUrl,isRelative:isRelative};return instance}URLUtils.__dashjs_factory_name="URLUtils";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(URLUtils);module.exports=exports["default"]},{"../../core/FactoryMaker.js":7}],97:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _coreFactoryMakerJs=_dereq_("../../core/FactoryMaker.js");var _coreFactoryMakerJs2=_interopRequireDefault(_coreFactoryMakerJs);var _coreDebugJs=_dereq_("../../core/Debug.js");var _coreDebugJs2=_interopRequireDefault(_coreDebugJs);function VTTParser(){var context=this.context;var log=(0,_coreDebugJs2["default"])(context).getInstance().log;var instance=undefined,regExNewLine=undefined,regExToken=undefined,regExWhiteSpace=undefined,regExWhiteSpaceWordBoundary=undefined;function setup(){regExNewLine=/(?:\r\n|\r|\n)/gm;regExToken=/-->/;regExWhiteSpace=/(^[\s]+|[\s]+$)/g;regExWhiteSpaceWordBoundary=/\s\b/g}function parse(data){var captionArray=[];var len,lastStartTime;data=data.split(regExNewLine);len=data.length;lastStartTime=-1;for(var i=0;i<len;i++){var item=data[i];if(item.length>0&&item!=="WEBVTT"){if(item.match(regExToken)){var attributes=parseItemAttributes(item);var cuePoints=attributes.cuePoints;var styles=attributes.styles;var text=getSublines(data,i+1);var startTime=convertCuePointTimes(cuePoints[0].replace(regExWhiteSpace,""));var endTime=convertCuePointTimes(cuePoints[1].replace(regExWhiteSpace,""));if(!isNaN(startTime)&&!isNaN(endTime)&&startTime>=lastStartTime&&endTime>startTime){if(text!==""){lastStartTime=startTime;captionArray.push({start:startTime,end:endTime,data:text,styles:styles})}else{log("Skipping cue due to empty/malformed cue text")}}else{log("Skipping cue due to incorrect cue timing")}}}}return captionArray}function convertCuePointTimes(time){var timeArray=time.split(":");var len=timeArray.length-1;time=parseInt(timeArray[len-1],10)*60+parseFloat(timeArray[len]);if(len===2){time+=parseInt(timeArray[0],10)*3600}return time}function parseItemAttributes(data){var vttCuePoints=data.split(regExToken);var arr=vttCuePoints[1].split(regExWhiteSpaceWordBoundary);arr.shift();vttCuePoints[1]=arr[0];arr.shift();return{cuePoints:vttCuePoints,styles:getCaptionStyles(arr)}}function getCaptionStyles(arr){var styleObject={};arr.forEach(function(element){if(element.split(/:/).length>1){var val=element.split(/:/)[1];if(val&&val.search(/%/)!=-1){val=parseInt(val.replace(/%/,""),10)}if(element.match(/align/)||element.match(/A/)){styleObject.align=val}if(element.match(/line/)||element.match(/L/)){styleObject.line=val}if(element.match(/position/)||element.match(/P/)){styleObject.position=val}if(element.match(/size/)||element.match(/S/)){styleObject.size=val}}});return styleObject}function getSublines(data,idx){var i=idx;var subline="";var lineData="";var lineCount;while(data[i]!==""&&i<data.length){i++}lineCount=i-idx;if(lineCount>1){for(var j=0;j<lineCount;j++){lineData=data[idx+j];if(!lineData.match(regExToken)){subline+=lineData;if(j!==lineCount-1){subline+="\n"}}else{subline="";break}}}else{lineData=data[idx];if(!lineData.match(regExToken))subline=lineData}return decodeURI(subline)}instance={parse:parse};setup();return instance}VTTParser.__dashjs_factory_name="VTTParser";exports["default"]=_coreFactoryMakerJs2["default"].getSingletonFactory(VTTParser);module.exports=exports["default"]},{"../../core/Debug.js":5,"../../core/FactoryMaker.js":7}],98:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BitrateInfo=function BitrateInfo(){_classCallCheck(this,BitrateInfo);this.mediaType=null;this.bitrate=null;this.width=null;this.height=null;this.qualityIndex=NaN};exports["default"]=BitrateInfo;module.exports=exports["default"]},{}],99:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var DataChunk=function DataChunk(){_classCallCheck(this,DataChunk);this.streamId=null;this.mediaInfo=null;this.segmentType=null;this.quality=NaN;this.index=NaN;this.bytes=null;this.start=NaN;this.end=NaN;this.duration=NaN};exports["default"]=DataChunk;module.exports=exports["default"]},{}],100:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Error=function Error(code,message,data){_classCallCheck(this,Error);this.code=code||null;this.message=message||null;this.data=data||null};exports["default"]=Error;module.exports=exports["default"]},{}],101:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var FragmentRequest=function FragmentRequest(){_classCallCheck(this,FragmentRequest);this.action=FragmentRequest.ACTION_DOWNLOAD;this.startTime=NaN;this.mediaType=null;this.mediaInfo=null;this.type=null;this.duration=NaN;this.timescale=NaN;this.range=null;this.url=null;this.serviceLocation=null;this.requestStartDate=null;this.firstByteDate=null;this.requestEndDate=null;this.quality=NaN;this.index=NaN;this.availabilityStartTime=null;this.availabilityEndTime=null;this.wallStartTime=null;this.bytesLoaded=NaN;this.bytesTotal=NaN;this.delayLoadingTime=NaN;this.responseType="arraybuffer"};FragmentRequest.ACTION_DOWNLOAD="download";FragmentRequest.ACTION_COMPLETE="complete";exports["default"]=FragmentRequest;module.exports=exports["default"]},{}],102:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _FragmentRequestJs=_dereq_("./FragmentRequest.js");var _FragmentRequestJs2=_interopRequireDefault(_FragmentRequestJs);var HeadRequest=function(_FragmentRequest){_inherits(HeadRequest,_FragmentRequest);function HeadRequest(url){_classCallCheck(this,HeadRequest);_get(Object.getPrototypeOf(HeadRequest.prototype),"constructor",this).call(this);this.url=url||null;this.checkForExistenceOnly=true}return HeadRequest}(_FragmentRequestJs2["default"]);exports["default"]=HeadRequest;module.exports=exports["default"]},{"./FragmentRequest.js":101}],103:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var IsoBox=function IsoBox(){_classCallCheck(this,IsoBox);this.offset=NaN;this.type=null;this.size=NaN;this.isComplete=true};exports["default"]=IsoBox;module.exports=exports["default"]},{}],104:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ManifestInfo=function ManifestInfo(){_classCallCheck(this,ManifestInfo);this.DVRWindowSize=NaN;this.loadedTime=null;this.availableFrom=null;this.minBufferTime=NaN;this.duration=NaN;this.isDynamic=false;this.maxFragmentDuration=null};exports["default"]=ManifestInfo;module.exports=exports["default"]},{}],105:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var MediaInfo=function MediaInfo(){_classCallCheck(this,MediaInfo);this.id=null;this.index=null;this.type=null;this.streamInfo=null;this.representationCount=0;this.lang=null;this.viewpoint=null;this.accessibility=null;this.audioChannelConfiguration=null;this.roles=null;this.codec=null;this.mimeType=null;this.contentProtection=null;this.isText=false;this.KID=null;this.bitrateList=null};exports["default"]=MediaInfo;module.exports=exports["default"]},{}],106:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var MetricsList=function MetricsList(){_classCallCheck(this,MetricsList);this.TcpList=[];this.HttpList=[];this.RepSwitchList=[];this.BufferLevel=[];this.BufferState=[];this.PlayList=[];this.DroppedFrames=[];this.SchedulingInfo=[];this.DVRInfo=[];this.ManifestUpdate=[];this.RequestsQueue=null;this.DVBErrors=[];this.BolaState=[]};exports["default"]=MetricsList;module.exports=exports["default"]},{}],107:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var StreamInfo=function StreamInfo(){_classCallCheck(this,StreamInfo);this.id=null;this.index=null;this.start=NaN;this.duration=NaN;this.manifestInfo=null;this.isLast=true;this.isFirst=true};exports["default"]=StreamInfo;module.exports=exports["default"]},{}],108:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _FragmentRequestJs=_dereq_("./FragmentRequest.js");var _FragmentRequestJs2=_interopRequireDefault(_FragmentRequestJs);var TextRequest=function(_FragmentRequest){_inherits(TextRequest,_FragmentRequest);function TextRequest(url,type){_classCallCheck(this,TextRequest);_get(Object.getPrototypeOf(TextRequest.prototype),"constructor",this).call(this);this.url=url||null;this.type=type||null;this.mediaType="stream";this.responseType="text"}return TextRequest}(_FragmentRequestJs2["default"]);exports["default"]=TextRequest;module.exports=exports["default"]},{"./FragmentRequest.js":101}],109:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TextTrackInfo=function TextTrackInfo(){_classCallCheck(this,TextTrackInfo);this.video=null;this.captionData=null;this.label=null;this.lang=null;this.defaultTrack=false;this.kind=null;this.isFragmented=false;this.isEmbedded=false};exports["default"]=TextTrackInfo;module.exports=exports["default"]},{}],110:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TrackInfo=function TrackInfo(){_classCallCheck(this,TrackInfo);this.id=null;this.quality=null;this.DVRWindow=null;this.fragmentDuration=null;this.mediaInfo=null;this.MSETimeOffset=null};exports["default"]=TrackInfo;module.exports=exports["default"]},{}],111:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var URIFragmentData=function URIFragmentData(){_classCallCheck(this,URIFragmentData);this.t=null;this.xywh=null;this.track=null;this.id=null;this.s=null};exports["default"]=URIFragmentData;module.exports=exports["default"]},{}],112:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BolaState=function BolaState(){_classCallCheck(this,BolaState);this._s=undefined};exports["default"]=BolaState;module.exports=exports["default"]},{}],113:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BufferLevel=function BufferLevel(){_classCallCheck(this,BufferLevel);this.t=null;this.level=null};exports["default"]=BufferLevel;module.exports=exports["default"]},{}],114:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _controllersBufferControllerJs=_dereq_("../../controllers/BufferController.js");var _controllersBufferControllerJs2=_interopRequireDefault(_controllersBufferControllerJs);var BufferState=function BufferState(){_classCallCheck(this,BufferState);this.target=null;this.state=_controllersBufferControllerJs2["default"].BUFFER_EMPTY};exports["default"]=BufferState;module.exports=exports["default"]},{"../../controllers/BufferController.js":49}],115:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var DVRInfo=function DVRInfo(){_classCallCheck(this,DVRInfo);this.time=null;this.range=null;this.manifestInfo=null};exports["default"]=DVRInfo;module.exports=exports["default"]},{}],116:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var DroppedFrames=function DroppedFrames(){_classCallCheck(this,DroppedFrames);this.time=null;this.droppedFrames=null};exports["default"]=DroppedFrames;module.exports=exports["default"]},{}],117:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var HTTPRequest=function HTTPRequest(){_classCallCheck(this,HTTPRequest);

this.tcpid=null;this.type=null;this.url=null;this.actualurl=null;this.range=null;this.trequest=null;this.tresponse=null;this.responsecode=null;this.interval=null;this.trace=[];this._stream=null;this._tfinish=null;this._mediaduration=null;this._responseHeaders=null;this._serviceLocation=null};HTTPRequest.Trace=function(){function _class(){_classCallCheck(this,_class);this.s=null;this.d=null;this.b=[]}return _class}();HTTPRequest.MPD_TYPE="MPD";HTTPRequest.XLINK_EXPANSION_TYPE="XLinkExpansion";HTTPRequest.INIT_SEGMENT_TYPE="InitializationSegment";HTTPRequest.INDEX_SEGMENT_TYPE="IndexSegment";HTTPRequest.MEDIA_SEGMENT_TYPE="MediaSegment";HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment";HTTPRequest.OTHER_TYPE="other";exports["default"]=HTTPRequest;module.exports=exports["default"]},{}],118:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ManifestUpdate=function ManifestUpdate(){_classCallCheck(this,ManifestUpdate);this.mediaType=null;this.type=null;this.requestTime=null;this.fetchTime=null;this.availabilityStartTime=null;this.presentationStartTime=0;this.clientTimeOffset=0;this.currentTime=null;this.buffered=null;this.latency=0;this.streamInfo=[];this.trackInfo=[]};ManifestUpdate.StreamInfo=function(){function _class(){_classCallCheck(this,_class);this.id=null;this.index=null;this.start=null;this.duration=null}return _class}();ManifestUpdate.TrackInfo=function(){function _class2(){_classCallCheck(this,_class2);this.id=null;this.index=null;this.mediaType=null;this.streamIndex=null;this.presentationTimeOffset=null;this.startNumber=null;this.fragmentInfoType=null}return _class2}();exports["default"]=ManifestUpdate;module.exports=exports["default"]},{}],119:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var PlayList=function PlayList(){_classCallCheck(this,PlayList);this.start=null;this.mstart=null;this.starttype=null;this.trace=[]};PlayList.Trace=function(){function _class(){_classCallCheck(this,_class);this.representationid=null;this.subreplevel=null;this.start=null;this.mstart=null;this.duration=null;this.playbackspeed=null;this.stopreason=null}return _class}();PlayList.INITIAL_PLAYOUT_START_REASON="initial_playout";PlayList.SEEK_START_REASON="seek";PlayList.RESUME_FROM_PAUSE_START_REASON="resume";PlayList.METRICS_COLLECTION_START_REASON="metrics_collection_start";PlayList.Trace.REPRESENTATION_SWITCH_STOP_REASON="representation_switch";PlayList.Trace.REBUFFERING_REASON="rebuffering";PlayList.Trace.USER_REQUEST_STOP_REASON="user_request";PlayList.Trace.END_OF_PERIOD_STOP_REASON="end_of_period";PlayList.Trace.END_OF_CONTENT_STOP_REASON="end_of_content";PlayList.Trace.METRICS_COLLECTION_STOP_REASON="metrics_collection_end";PlayList.Trace.FAILURE_STOP_REASON="failure";exports["default"]=PlayList;module.exports=exports["default"]},{}],120:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var RepresentationSwitch=function RepresentationSwitch(){_classCallCheck(this,RepresentationSwitch);this.t=null;this.mt=null;this.to=null;this.lto=null};exports["default"]=RepresentationSwitch;module.exports=exports["default"]},{}],121:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var RequestsQueue=function RequestsQueue(){_classCallCheck(this,RequestsQueue);this.loadingRequests=[];this.executedRequests=[]};exports["default"]=RequestsQueue;module.exports=exports["default"]},{}],122:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SchedulingInfo=function SchedulingInfo(){_classCallCheck(this,SchedulingInfo);this.mediaType=null;this.t=null;this.type=null;this.startTime=null;this.availabilityStartTime=null;this.duration=null;this.quality=null;this.range=null;this.state=null};exports["default"]=SchedulingInfo;module.exports=exports["default"]},{}],123:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TCPConnection=function TCPConnection(){_classCallCheck(this,TCPConnection);this.tcpid=null;this.dest=null;this.topen=null;this.tclose=null;this.tconnect=null};exports["default"]=TCPConnection;module.exports=exports["default"]},{}]},{},[37])(37)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],4:[function(require,module,exports){"use strict";var tester=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;function validate(email){if(!email)return false;if(email.length>254)return false;var valid=tester.test(email);if(!valid)return false;var parts=email.split("@");if(parts[0].length>64)return false;var domainParts=parts[1].split(".");if(domainParts.some(function(part){return part.length>63}))return false;return true}exports.validate=validate},{}],5:[function(require,module,exports){"use strict";var propIsEnumerable=Object.prototype.propertyIsEnumerable;function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function ownEnumerableKeys(obj){var keys=Object.getOwnPropertyNames(obj);if(Object.getOwnPropertySymbols){keys=keys.concat(Object.getOwnPropertySymbols(obj))}return keys.filter(function(key){return propIsEnumerable.call(obj,key)})}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=ownEnumerableKeys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},{}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]="1.0.0-05ed98";module.exports=exports["default"]},{}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var BufferOverlay=function(){function BufferOverlay(player){_classCallCheck(this,BufferOverlay);var node=_htmlUtils2["default"].createElement("div",{className:"__player-buffer-overlay"});node.appendChild(BufferOverlay.createLoadingIndicator());player.node.appendChild(node);player.on("error",function(){return player.classList.remove("__player--buffering")});player.on("videodataloaded",function(){return player.classList.remove("__player--buffering")});player.on("playing",function(){return player.classList.remove("__player--buffering")});player.on("waiting",function(){return player.classList.add("__player--buffering")})}_createClass(BufferOverlay,null,[{key:"createLoadingIndicator",value:function createLoadingIndicator(){var centeredContent=_htmlUtils2["default"].createElement("div",{className:"__player-overlay--centeredContent"});centeredContent.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-buffer-overlay-ball"}));centeredContent.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-buffer-overlay-ball"}));centeredContent.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-buffer-overlay-ball"}));var center=_htmlUtils2["default"].createElement("div",{className:"__player-overlay--centered"});center.appendChild(centeredContent);return center}}]);return BufferOverlay}();exports["default"]=BufferOverlay;module.exports=exports["default"]},{"./html-utils":22}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _overlay=require("./overlay");var _overlay2=_interopRequireDefault(_overlay);var _classList=require("class-list");var _classList2=_interopRequireDefault(_classList);var _objectAssign=require("object-assign");var _objectAssign2=_interopRequireDefault(_objectAssign);var _storage=require("./storage");var _storage2=_interopRequireDefault(_storage);var ACTIVE_NAVTAB_CLASSNAME="__player-navTab--active";var ACTIVE_TAB_CLASSNAME="__player-tab--active";var EVENT_SETTINGS_CHANGE="ccSettingsChange";var EVENT_SETTINGS_SAVE="ccSettingsSave";var monospacedSerif="'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace";var serif="'Times New Roman', Times, Georgia, Cambria, 'PT Serif Caption', serif";var monospacedSansSerif="'Deja Vu Sans Mono', 'Lucida Console', Monaco, Consolas, 'PT Mono', monospace";var sansSerif="Roboto, 'Arial Unicode Ms', Arial, Helvetica, Verdana, 'PT Sans Caption', sans-serif";var casual="'Comic Sans MS', Impact, Handlee, fantasy";var script="'Monotype Corsiva', 'URW Chancery L', 'Apple Chancery', 'Dancing Script', cursive";var smallCapitals="'Arial Unicode Ms', Arial, Helvetica, Verdana, 'Marcellus SC', sans-serif";var defaultSettings={"font.color":"#fff","font.opacity":"1","font.size":"100%","font.family":monospacedSerif,"font.edges":"none","background.color":"#000","background.opacity":"1","caption.color":"transparent","caption.opacity":"0.5"};var COLORS=[{value:"#fff",label:"White"},{value:"#000",label:"Black"},{value:"#f00",label:"Red"},{value:"#0f0",label:"Lime"},{value:"#00f",label:"Blue"},{value:"#ff0",label:"Yellow"},{value:"#f0f",label:"Magenta"},{value:"#0ff",label:"Cyan"}];var CaptionSettings=function(){function CaptionSettings(player){_classCallCheck(this,CaptionSettings);var container=_htmlUtils2["default"].createElement("div",{});var overlay=new _overlay2["default"](player,container,{closeable:true,name:"captionSettings"});var navTabs=_htmlUtils2["default"].createElement("div",{className:"__player-navTabs"});var form=_htmlUtils2["default"].createElement("form",{className:"__player-captionDialog"});form.addEventListener("input",function(){return player.emit(EVENT_SETTINGS_CHANGE,serialize(form))},false);form.addEventListener("change",function(){return player.emit(EVENT_SETTINGS_CHANGE,serialize(form))},false);navTabs.appendChild(form);container.appendChild(navTabs);container.appendChild(previewContainer(player));container.appendChild(actionButtons(player,form,overlay));player.on("play",function(){return overlay.hide()});player.on("open-cc-settings",function(){form.innerHTML="";var settings=CaptionSettings.getSettings();form.appendChild(createTabs({name:"Font",container:createFontDialog(settings)},{name:"Background",container:createFontBackgroundDialog(settings)},{name:"Caption Window",container:createCaptionBackgroundDialog(settings)}));overlay.show()})}_createClass(CaptionSettings,null,[{key:"getSettings",value:function getSettings(){var settings=(0,_objectAssign2["default"])({},defaultSettings);try{return(0,_objectAssign2["default"])(settings,JSON.parse(_storage2["default"].get(_storage2["default"].STORAGE_CC_SETTINGS))||{})}catch(e){}return settings}},{key:"formatRGBA",value:function formatRGBA(color,alpha){return color[0]==="#"?"rgba("+parseHex3(color).concat(alpha).join(",")+")":"transparent"}}]);return CaptionSettings}();exports["default"]=CaptionSettings;function actionButtons(player,form,overlay){var fragment=document.createDocumentFragment();var container=_htmlUtils2["default"].createElement("div",{className:"__player-action-buttons"});var resetButton=_htmlUtils2["default"].createElement("div",{className:"__player-action-button __player-action-button--secondary __player-reset-captions",textContent:"Reset"});var applyCCSettings=function applyCCSettings(settings){player.emit(EVENT_SETTINGS_SAVE,settings);_storage2["default"].set(_storage2["default"].STORAGE_CC_SETTINGS,JSON.stringify(settings));overlay.hide()};resetButton.addEventListener("click",function(e){e.preventDefault();applyCCSettings(defaultSettings)},false);var saveButton=_htmlUtils2["default"].createElement("div",{className:"__player-action-button __player-save-captions",textContent:"Save"});saveButton.addEventListener("click",function(e){e.preventDefault();applyCCSettings(serialize(form))},false);container.appendChild(resetButton);container.appendChild(saveButton);fragment.appendChild(container);return fragment}function previewContainer(player){var preview=_htmlUtils2["default"].createElement("div",{className:"__player-cc-preview"});var p=preview.appendChild(_htmlUtils2["default"].createElement("p",{textContent:"Caption Text"}));var updateStyles=function updateStyles(data){p.style.color=CaptionSettings.formatRGBA(data["font.color"],data["font.opacity"]);p.style.fontSize=data["font.size"];p.style.fontFamily=data["font.family"];p.style.fontVariant=data["font.family"]===smallCapitals?"small-caps":"normal";p.style.textShadow=data["font.edges"];p.style.backgroundColor=CaptionSettings.formatRGBA(data["background.color"],data["background.opacity"]);preview.style.backgroundColor=CaptionSettings.formatRGBA(data["caption.color"],data["caption.opacity"])};player.on(EVENT_SETTINGS_CHANGE,updateStyles);player.on("open-cc-settings",function(){return updateStyles(CaptionSettings.getSettings())});return preview}var parseHex3=function parseHex3(hex){return[parseInt(hex[1]+hex[1],16),parseInt(hex[2]+hex[2],16),parseInt(hex[3]+hex[3],16)]};function serialize(form){return[].slice.call(form.elements,0).reduce(function(collection,node){if(node.name===""){return collection}switch(node.nodeName){case"INPUT":switch(node.type){case"text":collection[node.name]=node.value;break;case"checkbox":case"radio":if(node.checked){collection[node.name]=node.value}break}break;case"SELECT":collection[node.name]=node.value;break}return collection},{})}function createOptions(){for(var _len=arguments.length,options=Array(_len),_key=0;_key<_len;_key++){options[_key]=arguments[_key]}return options.reduce(function(container,option){var optionWrapper=container.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-ccOption-Wrapper"}));var label=_htmlUtils2["default"].createElement("label",{textContent:option.label,className:"__player-ccLabel"});(0,_classList2["default"])(option.container).add("__player-ccNode");optionWrapper.appendChild(label);optionWrapper.appendChild(option.container);return container},document.createDocumentFragment())}function createFontDialog(settings){var fontDialog=_htmlUtils2["default"].createElement("div",{className:"__player-tab"});fontDialog.appendChild(createOptions({label:"Color",container:createSelectBox({name:"font.color",selected:settings["font.color"],options:COLORS})},{label:"Opacity",container:createSelectBox({name:"font.opacity",selected:settings["font.opacity"],options:[{value:"0.25",label:"25%"},{value:"0.5",label:"50%"},{value:"0.75",label:"75%"},{value:"1",label:"100%"}]})},{label:"Size",container:createSelectBox({name:"font.size",selected:settings["font.size"],options:[{value:"80%",label:"Small"},{value:"100%",label:"Medium"},{value:"120%",label:"Large"}]})},{label:"Font",container:createSelectBox({name:"font.family",selected:settings["font.family"],options:[{value:monospacedSerif,label:"Monospaced Serif"},{value:serif,label:"Serif"},{value:monospacedSansSerif,label:"Monospaced Sans Serif"},{value:sansSerif,label:"Sans Serif"},{value:casual,label:"Casual"},{value:script,label:"Script"},{value:smallCapitals,label:"Small Capitals"}]})},{label:"Edges",container:createSelectBox({name:"font.edges",selected:settings["font.edges"],options:[{value:"none",label:"None"},{value:"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px, rgb(34, 34, 34) 3px 3px",label:"Raised"},{value:"rgb(204, 204, 204) 1px 1px, rgb(204, 204, 204) 0px 1px, rgb(34, 34, 34) -1px -1px, rgb(34, 34, 34) 0px -1px",label:"Depressed"},{value:"-2px 0px 1px #fff, 0px -2px 1px #fff, 2px 0px 1px #fff, 0px 2px 1px #fff",label:"Uniform"},{value:"rgb(34, 34, 34) 2px 2px 3px, rgb(34, 34, 34) 2px 2px 4px, rgb(34, 34, 34) 2px 2px 5px",label:"Drop Shadow"}]})}));return fontDialog}function createFontBackgroundDialog(settings){var backgroundDialog=_htmlUtils2["default"].createElement("div",{className:"__player-tab"});backgroundDialog.appendChild(createOptions({label:"Color",container:createSelectBox({name:"background.color",selected:settings["background.color"],options:COLORS.concat({value:"transparent",label:"Transparent"})})},{label:"Opacity",container:createSelectBox({name:"background.opacity",selected:settings["background.opacity"],options:[{value:"0.25",label:"25%"},{value:"0.5",label:"50%"},{value:"0.75",label:"75%"},{value:"1",label:"100%"}]})}));return backgroundDialog}function createCaptionBackgroundDialog(settings){var captionDialog=_htmlUtils2["default"].createElement("div",{className:"__player-tab"});captionDialog.appendChild(createOptions({label:"Color",container:createSelectBox({name:"caption.color",selected:settings["caption.color"],options:COLORS.concat({value:"transparent",label:"Transparent"})})},{label:"Opacity",container:createSelectBox({name:"caption.opacity",selected:settings["caption.opacity"],options:[{value:"0.25",label:"25%"},{value:"0.5",label:"50%"},{value:"0.75",label:"75%"},{value:"1",label:"100%"}]})}));return captionDialog}function createSelectBox(_ref){var options=_ref.options;var name=_ref.name;var selected=_ref.selected;return options.reduce(function(container,_ref2){var value=_ref2.value;var label=_ref2.label;container.appendChild(_htmlUtils2["default"].createElement("option",{value:value,textContent:label,selected:selected===value}));return container},_htmlUtils2["default"].createElement("select",{name:name}))}function createTabs(){for(var _len2=arguments.length,items=Array(_len2),_key2=0;_key2<_len2;_key2++){items[_key2]=arguments[_key2]}var tabs=items.map(function(tab){var node=_htmlUtils2["default"].createElement("li",{textContent:tab.name,className:"__player-navTab"});return(0,_objectAssign2["default"])({},tab,{node:node,classes:(0,_classList2["default"])(node),container:tab.container,containerClasses:(0,_classList2["default"])(tab.container)})});activateTab(tabs[0]);tabs.forEach(function(tab){return tab.node.addEventListener("click",function(event){event.preventDefault();tabs.filter(tabIsSelected).forEach(deactivateTab);activateTab(tab)},false)});var container=document.createDocumentFragment();return tabs.reduce(function(item,tab){item.ul.appendChild(tab.node);item.container.appendChild(tab.container);return item},{container:container,ul:container.appendChild(_htmlUtils2["default"].createElement("ul",{className:"__player-tabs"}))}).container}var tabIsSelected=function tabIsSelected(_ref3){var classes=_ref3.classes;return classes.contains(ACTIVE_NAVTAB_CLASSNAME)};function deactivateTab(_ref4){var classes=_ref4.classes;var containerClasses=_ref4.containerClasses;classes.remove(ACTIVE_NAVTAB_CLASSNAME);containerClasses.remove(ACTIVE_TAB_CLASSNAME)}function activateTab(_ref5){var classes=_ref5.classes;var containerClasses=_ref5.containerClasses;classes.add(ACTIVE_NAVTAB_CLASSNAME);containerClasses.add(ACTIVE_TAB_CLASSNAME)}module.exports=exports["default"]},{"./html-utils":22,"./overlay":32,"./storage":36,"class-list":1,"object-assign":5}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _ttml=require("./ttml");var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _captionSettings=require("./caption-settings");var _captionSettings2=_interopRequireDefault(_captionSettings);var Captions=function Captions(player){_classCallCheck(this,Captions);var ccStyle=_htmlUtils2["default"].createElement("style");player.on("ccloaded",function(cc){updateStyles(_captionSettings2["default"].getSettings());player.node.appendChild(ccStyle);player.node.appendChild(createCCNodes(cc));player.classList.add("__player--withCC");cc.root.addEventListener("click",function(){return player.emit("click")},false);player.on("timeupdate",function(){cc.root.innerHTML="";cc.root.appendChild(cc.fragmentAtTime(player.getCurrentTime()))});player.on("ccSettingsSave",updateStyles)});player.on("videodataloaded",function(_ref){var captionUrl=_ref.captionUrl;if(captionUrl){player.request({url:captionUrl,success:function success(xml){return player.emit("ccloaded",(0,_ttml.parse)(xml))}})}});var updateStyles=function updateStyles(data){ccStyle.textContent="\n                .__player-cc-root {\n                    background-color: "+_captionSettings2["default"].formatRGBA(data["caption.color"],data["caption.opacity"])+";\n                }\n\n                .__player-cc-root p {\n                    color: "+_captionSettings2["default"].formatRGBA(data["font.color"],data["font.opacity"])+" !important;\n                    font-size: "+data["font.size"]+" !important;\n                    font-family: "+data["font.family"]+" !important;\n                    text-shadow: "+data["font.edges"]+" !important;\n                    background-color: "+_captionSettings2["default"].formatRGBA(data["background.color"],data["background.opacity"])+" !important;\n                }\n            "}};exports["default"]=Captions;function createCCNodes(cc){cc.root.className="__player-cc-root";return cc.root}module.exports=exports["default"]},{"./caption-settings":8,"./html-utils":22,"./ttml":38}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x2,_x3,_x4){var _again=true;_function:while(_again){var object=_x2,property=_x3,receiver=_x4;desc=parent=getter=undefined;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x2=parent;_x3=property;_x4=receiver;_again=true;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass}var _classList=require("class-list");var _classList2=_interopRequireDefault(_classList);var _htmlUtils=require("./html-utils");var _utils=require("./utils");var _events=require("events");var CLICK_THRESHOLD_PX=20;var ITEM_OVERHANG_PX=60;var ITEM_ASPECT_RATIO=16/9;var clamp=function clamp(min,max,value){return Math.min(Math.max(value,min),max)};var Carousel=function(_EventEmitter){_inherits(Carousel,_EventEmitter);function Carousel(items,createItemNode){var _this=this;_classCallCheck(this,Carousel);_get(Object.getPrototypeOf(Carousel.prototype),"constructor",this).call(this);this.setMaxListeners(20);this.items=items.map(function(item){return new CarouselItem(item,createItemNode,_this)});var itemList=(0,_htmlUtils.createElement)("ul",{className:"__player-carousel-list",childNodes:this.items.map(function(item){return item.node})});var content=(0,_htmlUtils.createElement)("div",{className:"__player-carousel",childNodes:[itemList]});this.list=itemList;this.node=content;this.classList=(0,_classList2["default"])(this.node);this.originalTransition=this.node.style.transition;this.x=0;this.resising=false;this.bindTouch();this.bindResize();this.bindTransitionEnd();this.setCurrentItem(this.items[0])}_createClass(Carousel,[{key:"bindTouch",value:function bindTouch(){var _this2=this;var touchStartX=null;this.node.addEventListener("touchstart",function(e){touchStartX=e.touches.item(0).clientX;_this2.touchX=e.touches.item(0).clientX;_this2.toggleTransition(false)});this.node.addEventListener("touchmove",function(e){e.preventDefault();_this2.touchX=e.touches.item(0).clientX;var dx=_this2.touchX-touchStartX;_this2.offset(dx)});this.node.addEventListener("touchend",function(e){_this2.toggleTransition(true);var dx=_this2.touchX-touchStartX;var endX=_this2.x+dx;_this2.setCurrentItem(_this2.items[_this2.nearestItem(endX)]);if(Math.abs(dx)>CLICK_THRESHOLD_PX){e.preventDefault()}})}},{key:"bindResize",value:function bindResize(){var _this3=this;window.addEventListener("resize",function(){return _this3.requestResize()})}},{key:"bindTransitionEnd",value:function bindTransitionEnd(){var _this4=this;this.list.addEventListener("transitionend",function(event){if(event.target===_this4.list){_this4.node.classList.remove("__player-carousel--moving");_this4.emit("stopped",_this4.currentItem.item)}})}},{key:"computeSizes",value:function computeSizes(){var itemHeight=this.items[0].node.offsetHeight;var itemWidth=itemHeight*ITEM_ASPECT_RATIO;var containerWidth=this.node.offsetWidth;var marginAndOverhang=containerWidth-itemWidth;var itemMargin=(marginAndOverhang-2*ITEM_OVERHANG_PX)/4;var listWidth=Math.ceil(this.items.length*(itemWidth+2*itemMargin));this.list.style.width=listWidth+"px";this.list.style.marginLeft=itemMargin+ITEM_OVERHANG_PX+"px";this.items.forEach(function(item){return item.setMargin(itemMargin,itemMargin)});this.itemAndMarginsWidth=itemWidth+2*itemMargin;this.scrollToItem(this.currentItem,false);this.resizing=false;this.emit("resized",itemWidth)}},{key:"toggleTransition",value:function toggleTransition(state){if(state){this.list.style.transition=this.originalTransition}else{this.list.style.transition="none"}}},{key:"offset",value:function offset(x){this.translateList(this.x+x)}},{key:"translateList",value:function translateList(x){this.node.classList.add("__player-carousel--moving");this.list.style.webkitTransform="translate("+x+"px, 0)";this.list.style.transform="translate("+x+"px, 0)"}},{key:"scrollToItem",value:function scrollToItem(item){var transition=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.toggleTransition(transition);var index=this.items.indexOf(item);this.x=-this.itemAndMarginsWidth*index;this.translateList(this.x)}},{key:"nearestItem",value:function nearestItem(x){var index=Math.round(-(x/this.itemAndMarginsWidth));return clamp(0,this.items.length-1,index)}},{key:"previousItem",value:function previousItem(item){return this.items[this.items.indexOf(item)-1]}},{key:"nextItem",value:function nextItem(item){return this.items[this.items.indexOf(item)+1]}},{key:"setCurrentItem",value:function setCurrentItem(item){this.currentItem=item;this.clearItemsCurrentClass();item.setStateClass("current");var prev=this.previousItem(item);if(prev){prev.setStateClass("previous")}var next=this.nextItem(item);if(next){next.setStateClass("next")}this.scrollToItem(item)}},{key:"clearItemsCurrentClass",value:function clearItemsCurrentClass(){this.items.forEach(function(item){return item.clearStateClass()})}},{key:"clickItem",value:function clickItem(item,event){if(item!==this.currentItem){this.scrollToItem(item);event.preventDefault();event.stopPropagation()}this.setCurrentItem(item)}},{key:"requestResize",value:function requestResize(){if(!this.resizing){requestAnimationFrame(this.computeSizes.bind(this))}this.resizing=true}},{key:"itemById",value:function itemById(id){return(0,_utils.find)(this.items,function(_ref){var item=_ref.item;return item.id===id})}}]);return Carousel}(_events.EventEmitter);exports["default"]=Carousel;var CarouselItem=function(){function CarouselItem(item,createItemNode,carousel){var _this5=this;_classCallCheck(this,CarouselItem);this.node=(0,_htmlUtils.createElement)("li",{className:"__player-carousel-item",childNodes:[createItemNode(item,carousel)]});this.classList=(0,_classList2["default"])(this.node);this.item=item;this.node.addEventListener("click",function(event){carousel.clickItem(_this5,event)},true)}_createClass(CarouselItem,[{key:"setMargin",value:function setMargin(left,right){this.node.style.marginLeft=left+"px";if(right){this.node.style.marginRight=right+"px"}}},{key:"clearStateClass",value:function clearStateClass(){var _this6=this;["current","next","previous"].forEach(function(state){return _this6.classList.remove("__player-carousel-item--"+state)})}},{key:"setStateClass",value:function setStateClass(state){this.classList.add("__player-carousel-item--"+state)}}]);return CarouselItem}();module.exports=exports["default"]},{"./html-utils":22,"./utils":40,"class-list":1,events:43}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var PLATFORM_PHONE="mobile";exports.PLATFORM_PHONE=PLATFORM_PHONE;var PLATFORM_TABLET="tablet";exports.PLATFORM_TABLET=PLATFORM_TABLET;var PLATFORM_DESKTOP="desktop";exports.PLATFORM_DESKTOP=PLATFORM_DESKTOP;var devices={IPAD:{test:/ipad|Twitterbot/,name:"iPad",os:"IOS",platform:PLATFORM_TABLET},IPHONE:{test:/iphone/,name:"iPhone",os:"IOS",platform:PLATFORM_PHONE
},KINDLE_FIRE:{test:/silk/,name:"Kindle Fire",os:"SILK",platform:PLATFORM_TABLET},KINDLE_FIRE_HD_7:{test:/(kftt)(?=.*(silk))/,name:'Kindle Fire HD 7"',os:"SILK",platform:PLATFORM_TABLET},KINDLE_FIRE_HD:{test:/(kfjwa|kfjwi)(?=.*(silk))/,name:"Kindle Fire HD",os:"SILK",platform:PLATFORM_TABLET},ASUS_TRANSFORMER:{test:/asus transformer/,name:"Asus Transformer",os:"ANDROID",platform:PLATFORM_TABLET},MICROSOFT_RT_DEVICE:{test:/(msie)(?=.*arm)(?=.*tablet pc)/,name:"Microsoft RT Device",os:"WINDOWS_RT",platform:PLATFORM_TABLET},MICROSOFT_TOUCH_DEVICE:{test:/(msie)(?=.*tablet pc)/,name:"Microsoft Touch Device",os:"WINDOWS",platform:PLATFORM_TABLET},SAMSUNG_GALAXY_S3:{test:/(android)(?=.*(sph-I710|sch-i535|sgh-i747))/,name:"Samsung Galaxy S3",os:"ANDROID",platform:PLATFORM_PHONE},SAMSUNG_GALAXY_TAB_2:{test:/(android)(?=.*(gt-p3113))/,name:"Samsung Galaxy Tab 2",os:"ANDROID",platform:PLATFORM_TABLET},SAMSUNG_GALAXY_NOTE:{test:/(android)(?=.*(sch-i925))/,name:"Samsung Galaxy Note 10.1",os:"ANDROID",platform:PLATFORM_PHONE},NEXUS_7:{test:/(android)(?=.*(nexus 7))/,name:"Nexus 7",os:"ANDROID",platform:PLATFORM_TABLET},NEXUS_10:{test:/(android)(?=.*(nexus 10))/,name:"Nexus 10",os:"ANDROID",platform:PLATFORM_TABLET},OS_DEFAULTS:["ANDROID"],ANDROID:{test:/android/i,name:"ANDROID",os:"ANDROID",platform:PLATFORM_PHONE}};exports.devices=devices},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _libScrubber=require("./lib/scrubber");var _utils=require("./utils");var _utils2=_interopRequireDefault(_utils);var _storage=require("./storage");var _storage2=_interopRequireDefault(_storage);var _classList=require("class-list");var _classList2=_interopRequireDefault(_classList);var _fullscreen=require("./fullscreen");var _fullscreen2=_interopRequireDefault(_fullscreen);var Controls=function(){function Controls(player){var _this=this;_classCallCheck(this,Controls);this.node=buildElements(player);if(player.profile.name==="desktop"){player.classList.add("__player--withSoundControl")}this.timeout=_utils2["default"].createTimeout();this.player=player;player.on("volumeopen",function(){return _this.show()});player.on("volumeclose",function(){if(!player.isPaused()){_this.show().fadeOut()}});player.on("pause",function(){return _this.show()});player.on("seeking",function(){return _this.show()});player.on("seeked",function(){if(!player.isPaused()){_this.show().fadeOut()}});player.on("tvmaapproved",function(){player.node.appendChild(_this.node);player.node.addEventListener("mousemove",function(){if(!player.isPaused()){_this.show().fadeOut()}});_this.show()});player.on("play",function(){return _this.fadeOut()});player.on("click",function(){if(!player.isPaused()){_this.show().fadeOut()}})}_createClass(Controls,[{key:"show",value:function show(){this.timeout.clear();this.node.className="__player-controls __player-controls--fadein";this.player.classList.add("__player--controlsVisible");return this}},{key:"hide",value:function hide(){this.node.className="__player-controls __player-controls--fadeout";this.player.classList.remove("__player--controlsVisible");return this}},{key:"fadeOut",value:function fadeOut(){this.timeout.set(this.hide.bind(this));return this}}]);return Controls}();exports["default"]=Controls;function buildElements(player){var container=_htmlUtils2["default"].createElement("div",{className:"__player-controls"});container.appendChild(createSeekScrubber(player));container.appendChild(createControlButtons(player));return container}function createControlButtons(player){var controlButtons=_htmlUtils2["default"].createElement("div",{className:"__player-button-bar"});controlButtons.appendChild(createPlayButton(player));controlButtons.appendChild(createVolumeControl(player));controlButtons.appendChild(createDuration(player));if(!player.options.isEmbedded||_fullscreen2["default"].isFullScreenEnabled()){controlButtons.appendChild(createFullscreenButton(player))}controlButtons.appendChild(createCCButton(player));controlButtons.appendChild(createSettingsButton(player));return controlButtons}function createVolumeControl(player){var container=_htmlUtils2["default"].createElement("div",{className:"__player-volume-control-wrapper"});var containerClassList=(0,_classList2["default"])(container);var CLASS_NAME_MUTED="__player-mute--muted";var volume=player.options.defaultVolume;var scrubbing=false;var hovering=false;var volumeScrubber=new _libScrubber.ScrubberView;player.on("destroy",function(){return volumeScrubber.clean()});var muteButton=_htmlUtils2["default"].createElement("button",{className:"__player-button-mute"});var volumeClassList=(0,_classList2["default"])(muteButton);function setScrubberVolume(vol){volumeScrubber.value(vol,false);setUIVolume(vol)}function setUIVolume(vol){volumeScrubber.progress.style.width=vol*100+"%";if(vol<.33){muteButton.setAttribute("data-volume",1)}else if(vol<.66){muteButton.setAttribute("data-volume",2)}else{muteButton.setAttribute("data-volume",3)}}volumeScrubber.orientation("horizontal");setScrubberVolume(volume);volumeScrubber.onScrubberStart=function(){scrubbing=true;updateHoverState()};volumeScrubber.onScrubberStop=function(){scrubbing=false;updateHoverState()};function updateHoverState(){if(!scrubbing&&!hovering){containerClassList.remove("__player-volume-control-wrapper--hover")}else{containerClassList.add("__player-volume-control-wrapper--hover")}}container.addEventListener("mouseenter",function(){hovering=true;updateHoverState()});container.addEventListener("mouseleave",function(){hovering=false;updateHoverState()});volumeScrubber.onValueChanged=function(value){volume=value;player.setVolume(value);setUIVolume(value);if(value>0&&player.isMuted()){unmute()}else if(value===0){mute()}};function unmute(){volumeClassList.remove(CLASS_NAME_MUTED);player.unmute()}function mute(){volumeClassList.add(CLASS_NAME_MUTED);player.mute()}muteButton.addEventListener("click",function(){if(player.isMuted()||volume===0){unmute();if(volume===0){volume=player.options.defaultVolume;player.setVolume(player.options.defaultVolume);setScrubberVolume(player.options.defaultVolume)}else{setScrubberVolume(volume)}}else{mute();setScrubberVolume(0)}player.emit("click")});container.appendChild(muteButton);container.appendChild(_htmlUtils2["default"].wrapInDiv(volumeScrubber.elt,"__player-volume-scrubber-wrapper"));return container}function createDuration(player){var container=_htmlUtils2["default"].createElement("div",{className:"__player-duration--wrapper"});var progress=_htmlUtils2["default"].createElement("span",{className:"__player_duration-progress",textContent:"00:00"});var duration=_htmlUtils2["default"].createElement("span",{className:"__player-duration-totalDuration",textContent:"/--:--"});var durationLive=_htmlUtils2["default"].createElement("span",{className:"__player-duration-live"});durationLive.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-duration-live-ball"}));durationLive.appendChild(document.createTextNode("Live"));container.appendChild(progress);container.appendChild(duration);container.appendChild(durationLive);var updateDuration=function updateDuration(){var durationValue=player.getDuration();if(!isNaN(durationValue)){duration.textContent="/"+formatTime(durationValue)}};player.on("loadedmetadata",updateDuration);player.on("durationchange",updateDuration);player.on("videodataloaded",updateDuration);player.once("play",updateDuration);player.on("timeupdate",function(){return progress.textContent=formatTime(player.getCurrentTime())});return container}function formatTime(decimalTime){var time=parseInt(Math.round(decimalTime),10);var hours=Math.floor(time/3600);var minutes=Math.floor((time-hours*3600)/60);var seconds=time-hours*3600-minutes*60;return isNaN(time)?"--:--":""+(hours>0?hours+":":"")+concatLeadingZero(minutes)+":"+concatLeadingZero(seconds)}function concatLeadingZero(num){return num<10?"0"+num:num}function createSeekScrubber(player){var scrubber=new _libScrubber.ScrubberView;player.on("destroy",function(){return scrubber.clean()});var scrubbing=false;var hovering=false;var thumb=scrubber.elt.querySelector(".__player-thumb");scrubber.onScrubberStart=function(){thumb.style.transition="";scrubber.elt.querySelector(".__player-scrubber-progress").style.transition="";player.pause();scrubbing=true;updateHoverState()};scrubber.onValueChanged=function(value){scrubber.progress.style.width=value*100+"%";thumb.style.marginLeft=value*-12+"px"};scrubber.onScrubberStop=function(value){player.seek(value*player.getDuration());scrubbing=false;updateHoverState()};player.on("timeupdate",function(){var progress=player.getCurrentTime()/player.getDuration();scrubber.value(progress,true)});player.on("play",function(){scrubber.elt.querySelector(".__player-thumb").style.transition="all 0.25s linear";scrubber.elt.querySelector(".__player-scrubber-progress").style.transition="all 0.25s linear"});var wrapper=_htmlUtils2["default"].createElement("div",{className:"__player-scrubber--wrapper"});var wrapperClassList=(0,_classList2["default"])(wrapper);wrapper.appendChild(scrubber.elt);function updateHoverState(){if(!scrubbing&&!hovering){wrapperClassList.remove("__player-scrubber--hover")}else{wrapperClassList.add("__player-scrubber--hover")}}wrapper.addEventListener("mouseenter",function(){hovering=true;updateHoverState()});wrapper.addEventListener("mouseleave",function(){hovering=false;updateHoverState()});return wrapper}function createSettingsButton(player){var button=_htmlUtils2["default"].createElement("button",{className:"__player-button-settings"});button.addEventListener("click",function(){return player.emit("open-cc-settings")});return button}function createCCButton(player){var button=_htmlUtils2["default"].createElement("button",{className:"__player-button-cc"});if(_storage2["default"].get(_storage2["default"].STORAGE_CC_ENABLED)==="true"){player.classList.add("__player--cc-enabled")}button.addEventListener("click",function(){player.classList.toggle("__player--cc-enabled");_storage2["default"].set(_storage2["default"].STORAGE_CC_ENABLED,player.classList.contains("__player--cc-enabled"))});return button}function createFullscreenButton(player){var button=_htmlUtils2["default"].createElement("button",{className:"__player-button-fullscreen"});button.addEventListener("click",function(){return player.emit("fullscreenclick")});return button}function createPlayButton(player){var button=_htmlUtils2["default"].createElement("button",{className:"__player-playpause"});button.addEventListener("click",function(){return player.togglePlay()});player.on("play",function(){return button.className="__player-playpause __player-play"});player.on("pause",function(){return button.className="__player-playpause __player-pause"});return button}module.exports=exports["default"]},{"./fullscreen":20,"./html-utils":22,"./lib/scrubber":28,"./storage":36,"./utils":40,"class-list":1}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.videoProfileForUrl=videoProfileForUrl;function videoProfileForUrl(url){if(!url){return null}return proProfile(url)||pdlProfile(url)}function pdlProfile(url){if(url&&url.toLowerCase().indexOf("//pdl.")!==-1){return"PDL"}return null}function proProfile(url){var matches=url.match(/pro[\d]{1,2}/gi);if(!matches){return null}var profileMatch=matches[matches.length-1];return profileMatch?profileMatch.toUpperCase():null}},{}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=init;exports.monitorVideo=monitorVideo;var _libConvivaHtml5nativeImpl=require("./lib/conviva-html5native-impl");var _convivaParser=require("./conviva-parser");var client=null;var sessionKey=_libConvivaHtml5nativeImpl.Conviva.Client.NO_SESSION_KEY;var playerStateManager=null;var startedPlaying=false;function init(options){if(typeof _libConvivaHtml5nativeImpl.Conviva!=="undefined"&&options.conviva){var systemSettings=new _libConvivaHtml5nativeImpl.Conviva.SystemSettings;var systemInterface=(new _libConvivaHtml5nativeImpl.Html5SystemInterfaceFactory).build();var systemFactory=new _libConvivaHtml5nativeImpl.Conviva.SystemFactory(systemInterface,systemSettings);var clientSettings=new _libConvivaHtml5nativeImpl.Conviva.ClientSettings(options.conviva.customerKey);clientSettings.gatewayUrl=options.conviva.serviceUrl;client=new _libConvivaHtml5nativeImpl.Conviva.Client(clientSettings,systemFactory)}else{setTimeout(function(){return init(options)},100)}}function createMetadata(player,url){var videoData=player.videoData;var profile=player.profile;var convivaMetadata=new _libConvivaHtml5nativeImpl.Conviva.ContentMetadata;convivaMetadata.duration=videoData.duration;convivaMetadata.isLive=videoData.live;convivaMetadata.streamUrl=url;convivaMetadata.playerName=videoData.canvasType;convivaMetadata.assetName=videoData.id+" "+videoData.title;convivaMetadata.custom={appName:"HBODOTCOM",assetId:videoData.id,deviceModel:profile.platform,playerType:profile.name+"Player",playerVersion:player.version,profile:(0,_convivaParser.videoProfileForUrl)(url),series:videoData.programName?videoData.programName:"N/A",show:videoData.title,StreamUrl:url};return convivaMetadata}function monitorVideo(player,url){if(client===null){setTimeout(function(){return monitorVideo(player,url)},100)}playerStateManager=client.getPlayerStateManager();resetConvivaSession(playerStateManager,player,url);bindPlayerEventsToConviva(playerStateManager,player,url)}function bindPlayerEventsToConviva(_playerStateManager,player,url){var State=_libConvivaHtml5nativeImpl.Conviva.PlayerStateManager.PlayerState;var setState=function setState(state){return function(){if(state===State.PLAYING&&sessionKey===_libConvivaHtml5nativeImpl.Conviva.Client.NO_SESSION_KEY){resetConvivaSession(_playerStateManager,player,url)}if(sessionKey!==_libConvivaHtml5nativeImpl.Conviva.Client.NO_SESSION_KEY){var contentMetadata=createMetadata(player,player.getCurrentStreamUrl());client.updateContentMetadata(sessionKey,contentMetadata);if(_playerStateManager.getPlayerState()!==state){_playerStateManager.setPlayerState(state)}}}};var sendFatalError=function sendFatalError(msg){_playerStateManager.sendError(msg,_libConvivaHtml5nativeImpl.Conviva.Client.ErrorSeverity.FATAL)};player.on("playing",function(){setState(State.PLAYING)();startedPlaying=true});player.on("play",function(){if(startedPlaying){setState(State.PLAYING)()}else if(_playerStateManager.getPlayerState()===State.STOPPED){setState(State.PLAYING)();startedPlaying=true}else{}});player.on("pause",setState(State.PAUSED));player.on("waiting",setState(State.BUFFERING));player.on("ended",function(){setState(State.STOPPED)();cleanUpConvivaSession()});player.on("destroy",function(){setState(State.STOPPED)();cleanUpConvivaSession();detachPlayerFromSession()});player.on("error",function(msg){sendFatalError(msg);cleanUpConvivaSession()})}function resetConvivaSession(_playerStateManager,player,url){var metadata=createMetadata(player,url);sessionKey=client.createSession(metadata);client.attachPlayer(sessionKey,_playerStateManager);startedPlaying=false}function cleanUpConvivaSession(){if(sessionKey!==_libConvivaHtml5nativeImpl.Conviva.Client.NO_SESSION_KEY){client.cleanupSession(sessionKey);sessionKey=_libConvivaHtml5nativeImpl.Conviva.Client.NO_SESSION_KEY;startedPlaying=false}}function detachPlayerFromSession(){if(sessionKey!==_libConvivaHtml5nativeImpl.Conviva.Client.NO_SESSION_KEY){client.detachPlayer(sessionKey);client.releasePlayerStateManager(playerStateManager);playerStateManager=null}}},{"./conviva-parser":13,"./lib/conviva-html5native-impl":26}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.sendEmailToSignupService=sendEmailToSignupService;function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var serialize=function serialize(obj){return Object.keys(obj).map(function(k){return k+"="+encodeURIComponent(obj[k])}).join("&")};function sendEmailToSignupService(email,player,callback,errorCallback){var _player$options$eloqua=player.options.eloqua;var signupServiceUrl=_player$options$eloqua.signupServiceUrl;var eloquaProps=_objectWithoutProperties(_player$options$eloqua,["signupServiceUrl"]);var data=serialize(_extends({email:email,customerGUID:typeof window.GetElqCustomerGUID==="function"?window.GetElqCustomerGUID():"",cookieWrite:0,videoId:player.videoData.forumId,campId:getQueryVariable("camp")||getQueryVariable("cmpid")},eloquaProps));player.request({method:"POST",url:signupServiceUrl,success:callback,error:errorCallback,data:data})}function getQueryVariable(variable){var query=window.location.search.substring(1);var vars=query.split("&");for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");if(decodeURIComponent(pair[0])===variable){return decodeURIComponent(pair[1])}}return""}},{}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _utils=require("./utils");var _utils2=_interopRequireDefault(_utils);var EmbedMetadata=function(){function EmbedMetadata(player){var _this=this;_classCallCheck(this,EmbedMetadata);this.timeout=_utils2["default"].createTimeout();player.on("videodataloaded",function(){if(player.options.isEmbedded){_this.topContainer=createTopMetadata(player);_this.bottomContainer=createBottomMetadata(player);player.node.appendChild(_this.topContainer);player.node.appendChild(_this.bottomContainer);player.on("tvmaapproved",function(){player.on("play",function(){return _this.fadeOut()});player.on("click",function(){if(!player.isPaused()){_this.show().fadeOut()}});player.on("pause",function(){return _this.show()});_this.showBottom()})}});player.node.appendChild(createLogoContainer(player))}_createClass(EmbedMetadata,[{key:"show",value:function show(){this.timeout.clear();this.showTop();this.showBottom();return this}},{key:"hide",value:function hide(){this.timeout.clear();this.hideTop();this.hideBottom();return this}},{key:"showTop",value:function showTop(){this.topContainer.className="__player-metadata-top __player-controls--fadein"}},{key:"hideTop",value:function hideTop(){this.topContainer.className="__player-metadata-top __player-controls--fadeout"}},{key:"fadeOut",value:function fadeOut(){this.timeout.set(this.hide.bind(this));return this}},{key:"showBottom",value:function showBottom(){this.bottomContainer.className="__player-metadata-bottom __player-controls--fadein"}},{key:"hideBottom",value:function hideBottom(){this.bottomContainer.className="__player-metadata-bottom __player-controls--fadeout"}}]);return EmbedMetadata}();exports["default"]=EmbedMetadata;function createLogo(domain){return _htmlUtils2["default"].createElement("a",{className:"__player-metadata-logo",href:domain,target:"_blank"})}function createLogoContainer(player){var logoContainer=_htmlUtils2["default"].createElement("div",{className:"__player-embed-logo"});logoContainer.appendChild(createLogo(player.options.domain));return logoContainer}function createTopMetadata(_ref){var videoData=_ref.videoData;var options=_ref.options;var topContainer=document.createElement("div");topContainer.className="__player-metadata-top";topContainer.appendChild(createLogo(options.domain));if(videoData.type!=="Global"){var programName=createProgramName({videoData:videoData,options:options});topContainer.appendChild(programName)}return topContainer}function createBottomMetadata(_ref2){var videoData=_ref2.videoData;var options=_ref2.options;var bottomMetadataLink=_htmlUtils2["default"].createElement("a",{href:options.domain+"/video/video.html?autoplay=true&vid="+videoData.id,target:"_blank",className:"__player-metadata-bottom-link"});bottomMetadataLink.appendChild(createTuneIn(videoData));bottomMetadataLink.appendChild(createTitle({videoData:videoData,options:options}));var bottomContainer=_htmlUtils2["default"].createElement("div",{className:"__player-metadata-bottom __player-metadata-bottom--hidden"});bottomContainer.appendChild(bottomMetadataLink);return bottomContainer}function createProgramName(_ref3){var videoData=_ref3.videoData;var options=_ref3.options;return _htmlUtils2["default"].createElement("a",{href:options.domain+"/"+videoData.pageUrl,textContent:videoData.programName,className:"__player-metadata-programName",target:"_blank"})}function createTuneIn(videoData){return _htmlUtils2["default"].createElement("h4",{className:"__player-metadata-tuneIn",textContent:videoData.tuneIn})}function createTitle(_ref4){var videoData=_ref4.videoData;return _htmlUtils2["default"].createElement("div",{textContent:videoData.title,className:"__player-metadata-title"})}module.exports=exports["default"]},{"./html-utils":22,"./utils":40}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _overlay=require("./overlay");var _overlay2=_interopRequireDefault(_overlay);var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _moreVideosLink=require("./more-videos-link");var _moreVideosLink2=_interopRequireDefault(_moreVideosLink);var ErrorOverlay=function(){function ErrorOverlay(player){var _this=this;_classCallCheck(this,ErrorOverlay);player.on("error",function(message){return _this.createErrorDialog(player,message).show()})}_createClass(ErrorOverlay,[{key:"createErrorDialog",value:function createErrorDialog(player,message){return new _overlay2["default"](player,ErrorOverlay.errorContent({message:message,domain:player.options.domain,isEmbedded:player.options.isEmbedded}),{centered:true,name:"error"})}}],[{key:"errorContent",value:function errorContent(_ref){var message=_ref.message;var domain=_ref.domain;var isEmbedded=_ref.isEmbedded;var content=document.createDocumentFragment();content.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-error-overlay-icon"}));content.appendChild(_htmlUtils2["default"].createElement("h1",{className:"__player-error-overlay-message",textContent:message}));if(isEmbedded){content.appendChild((0,_moreVideosLink2["default"])({message:message,domain:domain,isEmbedded:isEmbedded}))}return content}}]);return ErrorOverlay}();exports["default"]=ErrorOverlay;module.exports=exports["default"]},{"./html-utils":22,"./more-videos-link":31,"./overlay":32}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _flashMessage=require("./flash-message");var _flashMessage2=_interopRequireDefault(_flashMessage);var _swfobject=require("swfobject");var _swfobject2=_interopRequireDefault(_swfobject);var _text=require("./text");var _conviva=require("./conviva");var FlashCanvas=function(){function FlashCanvas(player){_classCallCheck(this,FlashCanvas);this.player=player;this.ended=false;this.paused=true}_createClass(FlashCanvas,[{key:"createVideoElement",value:function createVideoElement(){var _this=this;var container=document.createElement("div");container.id="video_"+this.player.id;this.player.node.appendChild(container);this.player.classList.add("__player-flashvideo");var videoSources=[this.player.videoData.urls.low,this.player.videoData.urls.high,this.player.videoData.urls.pro6,this.player.videoData.urls.pro7].filter(function(url){return url!==null}).map(encodeURIComponent);var flashvars={id:this.player.id,metadata:encodeURIComponent(JSON.stringify(videoSources)),autoplay:this.player.options.autoplay,videoTrackingId:this.player.options.videoTrackingId,pageName:this.player.options.pageName,volume:this.player.options.defaultVolume,poster:this.player.videoData.poster,defaultDuration:this.player.videoData.duration,live:this.live,bufferTime:this.player.options.bufferTime};var params={allowFullScreen:"true",allowscriptaccess:"always",wmode:"transparent",bgColor:"#000000"};(0,_conviva.monitorVideo)(this.player,null);this.bindVideoEventListeners();_swfobject2["default"].embedSWF(this.player.options.swfDomain+"/swf/Video.swf",container.id,"100%","100%","9.0.0","expressInstall.swf",flashvars,params,{"class":"__player-videoElement"},function(result){_this.video=result.ref})}},{key:"getDuration",value:function getDuration(){return!this.player.videoElementAvailable||isNaN(this.video.getDuration())?this.player.videoData.duration:this.video.getDuration()}},{key:"getCurrentStreamUrl",value:function getCurrentStreamUrl(){return this.video&&this.video.getCurrentStreamUrl?this.video.getCurrentStreamUrl():null}},{key:"getCurrentTime",value:function getCurrentTime(){return this.video.getCurrentTime()}},{key:"isPaused",value:function isPaused(){return this.paused}},{key:"isMuted",value:function isMuted(){return this.video.getMuted()}},{key:"mute",value:function mute(){this.video.setMuted(true)}},{key:"unmute",value:function unmute(){this.video.setMuted(false)}},{key:"hasEnded",value:function hasEnded(){return this.ended}},{key:"play",value:function play(){if(this.player.videoElementAvailable){this.video.play()}}},{key:"pause",value:function pause(){if(this.player.videoElementAvailable){if(this.live){this.video.stop()}else{this.video.pause()}}}},{key:"seek",value:function seek(time){this.video.setCurrentTime(time)}},{key:"setVolume",value:function setVolume(volume){this.video.setVolume(volume)}},{key:"getVolume",value:function getVolume(){return this.video.getVolume()}},{key:"bindVideoEventListeners",value:function bindVideoEventListeners(){var _this2=this;_flashMessage2["default"].on("seekingChange",this.player.id,function(seeking){return _this2.player.emit(seeking?"seeking":"seeked")});_flashMessage2["default"].on("playStateChange",this.player.id,function(playState){if(!_this2.seeking){switch(playState){case"playing":_this2.player.emit("play");break;case"paused":_this2.player.emit("pause");break;case"stopped":if(!_this2.seeking){_this2.player.emit("pause")}break}}else{if(playState==="paused"){_this2.player.emit("pause")}}});_flashMessage2["default"].on("currentTimeChange",this.player.id,function(){if(!_this2.seeking){_this2.player.emit("timeupdate")}});_flashMessage2["default"].on("durationChange",this.player.id,function(){return _this2.player.emit("durationchange")});_flashMessage2["default"].on("click",this.player.id,function(){return _this2.player.emit("click")});_flashMessage2["default"].on("keydown",this.player.id,function(keyCode){return _this2.player.emit("keydown",keyCode)});_flashMessage2["default"].on("complete",this.player.id,throttle(function(){return _this2.player.emit("ended")}));_flashMessage2["default"].on("bufferingChange",this.player.id,function(buffering){return _this2.player.emit(buffering?"waiting":"playing")});_flashMessage2["default"].on("mediaError",this.player.id,function(){return _this2.player.emit("error",_text.errors.notAvailable)});_flashMessage2["default"].on("externalInterfacesAvailable",this.player.id,function(){return _this2.player.emit("videoinit")});this.player.on("ended",function(){_this2.ended=true;_this2.paused=true});this.player.on("play",function(){_this2.ended=false;_this2.paused=false});this.player.on("pause",function(){return _this2.paused=true});this.player.on("destroy",function(){return _flashMessage2["default"].clean(_this2.player.id)})}}]);return FlashCanvas}();exports["default"]=FlashCanvas;var throttle=function throttle(callback){var time=arguments.length<=1||arguments[1]===undefined?100:arguments[1];var cooldown=false;return function(){if(!cooldown){cooldown=true;setTimeout(function(){return cooldown=false},time);callback.apply(undefined,arguments)}}};module.exports=exports["default"]},{"./conviva":14,"./flash-message":19,"./text":37,swfobject:249}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;desc=parent=getter=undefined;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);

if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass}var _events=require("events");var listeners={};var FlashMessage=function(_EventEmitter){_inherits(FlashMessage,_EventEmitter);function FlashMessage(){_classCallCheck(this,FlashMessage);_get(Object.getPrototypeOf(FlashMessage.prototype),"constructor",this).call(this);window.__flashMessage=this.emit.bind(this)}_createClass(FlashMessage,[{key:"on",value:function on(eventName,id,fn){if(!Array.isArray(listeners[id])){listeners[id]=[]}var listener=function listener(callerId){for(var _len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){rest[_key-1]=arguments[_key]}if(callerId===id){fn.apply(undefined,rest)}};listeners[id].push([eventName,listener]);_get(Object.getPrototypeOf(FlashMessage.prototype),"on",this).call(this,eventName,listener)}},{key:"emit",value:function emit(eventName,id){var _get2;for(var _len2=arguments.length,rest=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){rest[_key2-2]=arguments[_key2]}(_get2=_get(Object.getPrototypeOf(FlashMessage.prototype),"emit",this)).call.apply(_get2,[this,eventName,id].concat(rest))}},{key:"clean",value:function clean(id){var _this=this;listeners[id].forEach(function(listener){return _this.removeListener.apply(_this,_toConsumableArray(listener))});delete listeners[id]}}]);return FlashMessage}(_events.EventEmitter);exports["default"]=new FlashMessage;module.exports=exports["default"]},{events:43}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var CLASS_EMULATED_FULLSCREEN="__player--emulated-fullscreen";var CLASS_FULLSCREEN="__player--fullscreen";var Fullscreen=function(){function Fullscreen(player){_classCallCheck(this,Fullscreen);bindFullscreenListeners(player);var onChangeFullscreen=function onChangeFullscreen(){var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||player.classList.contains(CLASS_EMULATED_FULLSCREEN)||null;if(fullscreenElement===null){onExitFullscreen(player)}else{onEnterFullscreen(player)}};player.on("fullscreenchange",onChangeFullscreen)}_createClass(Fullscreen,null,[{key:"isFullScreenEnabled",value:function isFullScreenEnabled(){if(typeof document.fullscreenEnabled==="boolean"){return document.fullscreenEnabled}else if(typeof document.webkitFullscreenEnabled==="boolean"){return document.webkitFullscreenEnabled}else if(typeof document.mozFullScreenEnabled==="boolean"){return document.mozFullScreenEnabled}else if(typeof document.msFullscreenEnabled==="boolean"){return document.msFullscreenEnabled}return typeof document.createElement("video").webkitEnterFullscreen==="function"}}]);return Fullscreen}();exports["default"]=Fullscreen;function isFullScreen(player){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement||player.classList.contains(CLASS_EMULATED_FULLSCREEN))}function onEnterFullscreen(player){player.classList.add(CLASS_FULLSCREEN)}function onExitFullscreen(player){player.classList.remove(CLASS_FULLSCREEN)}function bindFullscreenListeners(player){var fullscreenChangeEmit=function fullscreenChangeEmit(){return player.emit("fullscreenchange")};var fullscreenchangeListeners=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"];fullscreenchangeListeners.forEach(function(eventName){document.addEventListener(eventName,fullscreenChangeEmit,false)});player.on("destroy",function(){return fullscreenchangeListeners.forEach(function(eventName){document.removeEventListener(eventName,fullscreenChangeEmit,false)})});player.on("beginfullscreen",onEnterFullscreen.bind(null,player));player.on("endfullscreen",onExitFullscreen.bind(null,player));player.on("fullscreenclick",handleFullscreenClick.bind(null,player))}function handleFullscreenClick(player){if(isFullScreen(player)){exitFullscreen(player)}else{enterFullscreen(player)}}function enterFullscreen(player){if(player.node.requestFullscreen){player.node.requestFullscreen()}else if(player.node.mozRequestFullScreen){player.node.mozRequestFullScreen()}else if(player.node.webkitRequestFullScreen){player.node.webkitRequestFullScreen()}else if(player.node.msRequestFullscreen){player.node.msRequestFullscreen()}else if(player.videoElementAvailable&&player.video.webkitEnterFullscreen){player.video.webkitEnterFullscreen()}else{player.classList.add(CLASS_EMULATED_FULLSCREEN);player.emit("fullscreenchange")}}function exitFullscreen(player){if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(player.classList.contains(CLASS_EMULATED_FULLSCREEN)){player.classList.remove(CLASS_EMULATED_FULLSCREEN);player.emit("fullscreenchange")}}module.exports=exports["default"]},{}],21:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _utils=require("./utils");var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _text=require("./text");var _dashjsDistDashMediaplayerDebug=require("dashjs/dist/dash.mediaplayer.debug");var _dashjsDistDashMediaplayerDebug2=_interopRequireDefault(_dashjsDistDashMediaplayerDebug);var _conviva=require("./conviva");global.dashjs={};var videoDataValidators=[function(_ref){var videoData=_ref.videoData;return videoData.live?_text.errors.liveNotSupported:null},function(_ref2){var videoData=_ref2.videoData;var profile=_ref2.profile;return typeof(0,_utils.chooseVideoUrl)(videoData.urls,profile).url!=="string"?_text.errors.notAvailable:null},function(_ref3){var videoData=_ref3.videoData;var profile=_ref3.profile;return!(0,_utils.isVideoFileHTMLCompatible)(profile,(0,_utils.chooseVideoUrl)(videoData.urls,profile).url)?_text.errors.notAvailable:null}];var HTMLCanvas=function(){function HTMLCanvas(player){_classCallCheck(this,HTMLCanvas);this.player=player;this.player.videoDataValidators=this.player.videoDataValidators.concat(videoDataValidators)}_createClass(HTMLCanvas,[{key:"createVideoElement",value:function createVideoElement(){var _this=this;this.video=_htmlUtils2["default"].createElement("video",{volume:this.player.options.defaultVolume,className:"__player-videoElement",autoplay:this.player.options.autoplay,controls:false,preload:true,poster:this.player.videoData.poster});this.player.classList.add("__player-html5video");var url=(0,_utils.chooseVideoUrl)(this.player.videoData.urls,this.player.profile);if(url.type==="dash"){var player=(0,_dashjsDistDashMediaplayerDebug2["default"])().create();player.getDebug().setLogToBrowserConsole(this.player.options.logging);player.on("error",function(){return _this.player.emit("error",_text.errors.notAvailable)});player.initialize(this.video,url.url,this.player.options.autoplay)}else{var source=_htmlUtils2["default"].createElement("source",{src:url.url});source.addEventListener("error",function(){return _this.player.emit("error",_text.errors.notAvailable)});this.video.appendChild(source)}(0,_conviva.monitorVideo)(this.player,url.url);this.player.node.appendChild(this.video);this.bindVideoEventListeners();this.video.addEventListener("loadedmetadata",function(){if(_this.video.duration===1&&_this.player.profile.os==="ANDROID"){_this.player.emit("error",_text.errors.notAvailable)}});this.player.emit("videoinit")}},{key:"getDuration",value:function getDuration(){return this.video&&this.video.duration?this.video.duration:this.player.videoData.duration}},{key:"isMuted",value:function isMuted(){return this.video.muted}},{key:"getCurrentTime",value:function getCurrentTime(){return this.video.currentTime}},{key:"isPaused",value:function isPaused(){return this.video?this.video.paused:true}},{key:"hasEnded",value:function hasEnded(){return this.video.ended}},{key:"mute",value:function mute(){this.video.muted=true}},{key:"unmute",value:function unmute(){this.video.muted=false}},{key:"play",value:function play(){if(this.video){this.video.play()}}},{key:"pause",value:function pause(){this.video.pause()}},{key:"seek",value:function seek(time){this.video.play();this.video.currentTime=time}},{key:"setVolume",value:function setVolume(volume){this.video.volume=volume}},{key:"getVolume",value:function getVolume(){return this.video.volume}},{key:"bindVideoEventListeners",value:function bindVideoEventListeners(){var _this2=this;this.video.addEventListener("webkitbeginfullscreen",function(){return _this2.player.emit("beginfullscreen")},false);this.video.addEventListener("webkitendfullscreen",function(){return _this2.player.emit("endfullscreen")},false);this.video.addEventListener("click",function(){return _this2.player.emit("click")},false);this.video.addEventListener("touchend",function(e){e.preventDefault();_this2.player.emit("click")},false);this.video.addEventListener("play",function(){return _this2.player.emit("play")},false);this.video.addEventListener("pause",function(){return _this2.player.emit("pause")},false);this.video.addEventListener("seeking",function(){return _this2.player.emit("seeking")},false);this.video.addEventListener("seeked",function(){return _this2.player.emit("seeked")},false);this.video.addEventListener("ended",function(){return _this2.player.emit("ended")},false);this.video.addEventListener("timeupdate",function(){return _this2.player.emit("timeupdate")},false);this.video.addEventListener("durationchange",function(){return _this2.player.emit("durationchange")},false);this.video.addEventListener("loadedmetadata",function(){return _this2.player.emit("loadedmetadata")},false);this.video.addEventListener("waiting",function(){return _this2.player.emit("waiting")},false);this.video.addEventListener("playing",function(){return _this2.player.emit("playing")},false);this.video.addEventListener("webkitendfullscreen",function(){_this2.pause();_this2.player.emit("pause-toggle")},false)}}]);return HTMLCanvas}();exports["default"]=HTMLCanvas;module.exports=exports["default"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./conviva":14,"./html-utils":22,"./text":37,"./utils":40,"dashjs/dist/dash.mediaplayer.debug":3}],22:[function(require,module,exports){"use strict";var PlayerDialogNameWithModifier="__player-dialog--";exports.PlayerDialogNameWithModifier=PlayerDialogNameWithModifier;exports.createElement=function(tagName){var properties=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var element=document.createElement(tagName);Object.keys(properties).forEach(function(property){if(property==="childNodes"){properties[property].forEach(element.appendChild.bind(element))}else{element[property]=properties[property]}});return element};exports.wrapInDiv=function(element,className){var wrapper=document.createElement("div");wrapper.className=className;wrapper.appendChild(element);return wrapper}},{}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=createIconTextButton;var _htmlUtils=require("./html-utils");function createIconTextButton(_ref){var icon=_ref.icon;var textContent=_ref.textContent;var onClick=_ref.onClick;var className=_ref.className;var button=(0,_htmlUtils.createElement)("button",{className:"__player-icon-text-button "+className});button.appendChild((0,_htmlUtils.createElement)("i",{className:"__player-icon-"+icon}));button.appendChild((0,_htmlUtils.createElement)("span",{textContent:textContent}));button.addEventListener("click",function(e){e.preventDefault();onClick()});return button}module.exports=exports["default"]},{"./html-utils":22}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;desc=parent=getter=undefined;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass}var _htmlCanvas=require("./html-canvas");var _htmlCanvas2=_interopRequireDefault(_htmlCanvas);var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var IPhoneCanvas=function(_HTMLCanvas){_inherits(IPhoneCanvas,_HTMLCanvas);function IPhoneCanvas(player){_classCallCheck(this,IPhoneCanvas);_get(Object.getPrototypeOf(IPhoneCanvas.prototype),"constructor",this).call(this,player)}_createClass(IPhoneCanvas,[{key:"createVideoElement",value:function createVideoElement(){var _this=this;_get(Object.getPrototypeOf(IPhoneCanvas.prototype),"createVideoElement",this).call(this);this.player.classList.add("__player-html5video--iphone");this.player.node.appendChild(createPoster(this.player.videoData.poster));var play=_htmlUtils2["default"].createElement("div",{className:"__player-play--iosbutton"});play.addEventListener("click",function(){return _this.play()});this.player.node.appendChild(play)}}]);return IPhoneCanvas}(_htmlCanvas2["default"]);exports["default"]=IPhoneCanvas;function createPoster(posterUrl){var poster=_htmlUtils2["default"].createElement("div",{className:"__player-poster"});poster.style.backgroundImage="url("+posterUrl+")";return poster}module.exports=exports["default"]},{"./html-canvas":21,"./html-utils":22}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SPACEBAR=32;var listeners=[];function nodeInDocument(node){var ancestor=node;while(ancestor.parentNode){ancestor=ancestor.parentNode}return ancestor.nodeType===Node.DOCUMENT_NODE}document.addEventListener("keydown",function(event){if(["INPUT","TEXTAREA"].indexOf(event.target.tagName)===-1&&event.keyCode===SPACEBAR){listeners.filter(function(player){return nodeInDocument(player.node)&&player.videoElementAvailable}).forEach(function(player){player.emit("keydown",event.keyCode);event.preventDefault()})}},false);var KeyboardControls=function KeyboardControls(player){_classCallCheck(this,KeyboardControls);listeners.push(player);player.on("destroy",function(){return listeners.splice(listeners.indexOf(player),1)});player.on("keydown",function(keyCode){if(keyCode===SPACEBAR){player.togglePlay()}})};exports["default"]=KeyboardControls;module.exports=exports["default"]},{}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Html5PlayerInterface=Html5PlayerInterface;exports.Html5Http=Html5Http;exports.Html5Logging=Html5Logging;exports.Html5Metadata=Html5Metadata;exports.Html5Storage=Html5Storage;exports.Html5Time=Html5Time;exports.Html5Timer=Html5Timer;require("./conviva-html5native-library.min");var Conviva=window.Conviva;exports.Conviva=Conviva;Html5PlayerInterface.POLL_STREAMER_INTERVAL_MS=500;Html5PlayerInterface.PAUSED_STATE_ON_CONSTANT_PHT_POLL_COUNT=4e3/Html5PlayerInterface.POLL_STREAMER_INTERVAL_MS;Html5PlayerInterface.PLAY_STATE_ON_MOVING_PHT_POLL_COUNT=2e3/Html5PlayerInterface.POLL_STREAMER_INTERVAL_MS;Html5PlayerInterface.PHT_PLAY_EXPECTED_SPEED=1;Html5PlayerInterface.PHT_PAUSED_EXPECTED_SPEED=0;Html5PlayerInterface.PHT_PLAY_TOLERANCE=.25;function Html5PlayerInterface(playerStateManager,videoElement){var _s=this;_s._lastPlayHeadTimeSpeeds=[];this._timerInterface=new Html5Timer;this._loggingInterface=new Html5Logging;this._addEventListener=function(eventName,eventListener,eventSource){if(typeof eventSource==="undefined"){eventSource=_s._videoElement}_s._eventListeners.push([eventName,eventListener,eventSource]);if(window.addEventListener){eventSource.addEventListener(eventName,eventListener,false)}else{eventSource.attachEvent("on"+eventName,eventListener)}};this._removeEventListener=function(eventName,eventListener,eventSource){if(typeof eventSource==="undefined"){eventSource=_s._videoElement}if(window.removeEventListener){eventSource.removeEventListener(eventName,eventListener,false)}else{eventSource.detachEvent("on"+eventName,eventListener)}};this._registerVideoEventListeners=function(){_s._addEventListener("ended",function(){_s._receivedHtml5Event("ended")});_s._addEventListener("pause",function(){_s._receivedHtml5Event("pause")});_s._addEventListener("playing",function(){_s._receivedHtml5Event("playing")});_s._addEventListener("emptied",function(){_s._receivedHtml5Event("emptied")});_s._addEventListener("stalled",function(){if(_s._videoElement.paused){_s._log("Ignored stalled event (player was paused)");return}});_s._addEventListener("waiting",function(){if(_s._videoElement.seeking){_s._log("Ignored waiting event (player was seeking)");return}_s._receivedHtml5Event("waiting")});_s._addEventListener("error",function(){if(_s._videoElement.error){var html5ErrorCode=_s._videoElement.error.code;_s._reportHtml5Error(html5ErrorCode)}});_s._addEventListener("loadedmetadata",_s._loadedMetadata);_s._monitorErrorsFromSourceElements()};this._monitorErrorsFromSourceElements=function(){if(typeof _s._videoElement.children!=="undefined"){var sourceElementErrorHandler=function sourceElementErrorHandler(){_s._log("Caught non-specific error from <source> element, reporting as ERR_UNKNOWN");_s._reportHtml5Error(0)};_s._videoElement._sources=_s._videoElement.children;for(var i=0;i<_s._videoElement._sources.length;i++){var source=_s._videoElement._sources[i];if(source.tagName=="SOURCE"){_s._addEventListener("error",sourceElementErrorHandler,source)}}}};this._removeVideoEventHandlers=function(){for(var i=0;i<_s._eventListeners.length;i++){var evNameHandler=_s._eventListeners[i];_s._removeEventListener(evNameHandler[0],evNameHandler[1],evNameHandler[2])}_s._eventListeners=[]};this._findCurrentState=function(){_s._prevReadyState=_s._videoElement.readyState;if(_s._videoElement.readyState===0){_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.STOPPED)}else if(_s._videoElement.ended){_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.STOPPED)}else if(_s._videoElement.paused||_s._videoElement.seeking){_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PAUSED)}else{_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PLAYING)}if(_s._videoElement.readyState>=_s._videoElement.HAVE_METADATA){_s._loadedMetadata()}};this._receivedHtml5Event=function(html5Event){var convivaPlayerState=_s._convertHtml5EventToConvivaPlayerState(html5Event);_s._log("Received HTML5 event: "+html5Event+". Mapped to Conviva player state: "+convivaPlayerState);_s._updateConvivaPlayerState(convivaPlayerState)};this._updateConvivaPlayerState=function(newConvivaPlayerState){if(_s._playerStateManager.getPlayerState()!==newConvivaPlayerState){_s._log("Changing Conviva player state to: "+newConvivaPlayerState);_s._playerStateManager.setPlayerState(newConvivaPlayerState);_s._resetPlayHeadTimes();_s._playerStateRecentlyChanged=true}};this._convertHtml5EventToConvivaPlayerState=function(html5Event){switch(html5Event){case"playing":return Conviva.PlayerStateManager.PlayerState.PLAYING;case"waiting":return Conviva.PlayerStateManager.PlayerState.BUFFERING;case"ended":case"stopped":return Conviva.PlayerStateManager.PlayerState.STOPPED;case"pause":return Conviva.PlayerStateManager.PlayerState.PAUSED;default:return Conviva.PlayerStateManager.PlayerState.UNKNOWN}};this._reportHtml5Error=function(html5ErrorCode){var html5ErrorMessage;switch(html5ErrorCode){case 1:html5ErrorMessage="MEDIA_ERR_ABORTED";break;case 2:html5ErrorMessage="MEDIA_ERR_NETWORK";break;case 3:html5ErrorMessage="MEDIA_ERR_DECODE";break;case 4:html5ErrorMessage="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:html5ErrorMessage="MEDIA_ERR_UNKNOWN"}_s._log("Reporting error: code="+html5ErrorCode+" message="+html5ErrorMessage);var html5ErrorSeverity=Conviva.Client.ErrorSeverity.FATAL;_s._playerStateManager.sendError(html5ErrorMessage,html5ErrorSeverity)};this._loadedMetadata=function(){var dur=_s._videoElement.duration;if(!isNaN(dur)&&dur!=Infinity){_s._playerStateManager.setDuration(dur)}};this._startPolling=function(){this._previousPosition=0;this._currentPosition=0;this._currentBufferLength=0;this._pollingTimerCancel=this._timerInterface.createTimer(this._poll,500,"Html5PlayerInterface._poll()")};this._poll=function(){_s._pollPosition();_s._pollBufferLength();_s._inferPlayerStateFromPosition()};this._pollPosition=function(){_s._previousPosition=_s._currentPosition;_s._currentPosition=_s._videoElement.currentTime;var now=Date.now();if(_s._lastPollTime>0&&now>_s._lastPollTime){var currentPhtSpeed=(_s._currentPosition-_s._previousPosition)/(now-_s._lastPollTime)*1e3;_s._lastPlayHeadTimeSpeeds.push(currentPhtSpeed)}_s._lastPollTime=now;if(_s._lastPlayHeadTimeSpeeds.length>Math.max(Html5PlayerInterface.PAUSED_STATE_ON_CONSTANT_PHT_POLL_COUNT,Html5PlayerInterface.PLAY_STATE_ON_MOVING_PHT_POLL_COUNT)){_s._lastPlayHeadTimeSpeeds.shift()}_s._playerStateManager.setPlayheadTime(_s._currentPosition*1e3)};this._pollBufferLength=function(){var buffered=_s._videoElement.buffered;if(buffered===undefined)return;var bufferLength=0;for(var i=0;i<buffered.length;i++){var start=buffered.start(i);var end=buffered.end(i);if(start<=_s._currentPosition&&_s._currentPosition<end){bufferLength+=end-_s._currentPosition}}_s._currentBufferLength=bufferLength;_s._playerStateManager.setBufferLength(_s._currentBufferLength*1e3)};this._inferPlayerStateFromPosition=function(){var numPhSpeedSamples=_s._lastPlayHeadTimeSpeeds.length;if(numPhSpeedSamples>=Math.min(Html5PlayerInterface.PLAY_STATE_ON_MOVING_PHT_POLL_COUNT,Html5PlayerInterface.PAUSED_STATE_ON_CONSTANT_PHT_POLL_COUNT)){var avgSpeed=0;var phtSamples=_s._lastPlayHeadTimeSpeeds.slice();for(var index=0;index<phtSamples.length;index++){var phSpeed=phtSamples[index];avgSpeed+=phSpeed}avgSpeed/=numPhSpeedSamples;var adjustedPlayingSpeed=Html5PlayerInterface.PHT_PLAY_EXPECTED_SPEED;var adjustedPlayingSpeedTolerance=Html5PlayerInterface.PHT_PLAY_TOLERANCE;var pbRate=_s._videoElement.playbackRate;if(!isNaN(pbRate)&&pbRate!=Infinity&&pbRate>0){var isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(isSafari&&pbRate<.5){pbRate=.5}adjustedPlayingSpeed=adjustedPlayingSpeed*pbRate;adjustedPlayingSpeedTolerance=adjustedPlayingSpeedTolerance*pbRate}var currentConvivaState=_s._playerStateManager.getPlayerState();if(currentConvivaState!=Conviva.PlayerStateManager.PlayerState.PLAYING&&numPhSpeedSamples>=Html5PlayerInterface.PLAY_STATE_ON_MOVING_PHT_POLL_COUNT&&Math.abs(avgSpeed-adjustedPlayingSpeed)<adjustedPlayingSpeedTolerance){_s._log("Adjusting Conviva player state to: PLAYING");_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PLAYING);return}if(currentConvivaState==Conviva.PlayerStateManager.PlayerState.PLAYING&&numPhSpeedSamples>=Html5PlayerInterface.PAUSED_STATE_ON_CONSTANT_PHT_POLL_COUNT&&avgSpeed==Html5PlayerInterface.PHT_PAUSED_EXPECTED_SPEED){if(_s._videoElement.paused){_s._log("Adjusting Conviva player state to: PAUSED");_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PAUSED)}else if(_s._videoElement.seeking){}else{_s._log("Adjusting Conviva player state to: BUFFERING");_s._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.BUFFERING)}return}}};this._stopPolling=function(){this._pollingTimerCancel()};this._resetPlayHeadTimes=function(){_s._lastPlayHeadTimeSpeeds=[];_s._previousPosition=-1;_s._lastPollTime=0};this.getPlayerStateManager=function(){return this._playerStateManager};this._log=function(message){var formattedMessage="[Html5PlayerInterface] "+message;this._loggingInterface.consoleLog(formattedMessage,Conviva.SystemSettings.LogLevel.DEBUG)};function _constr(playerStateManager,videoElement){this._log("Html5PlayerInterface._constr()");if(!playerStateManager){throw new Error("Html5PlayerInterface: playerStateManager argument cannot be null.")}if(!videoElement){throw new Error("Html5PlayerInterface: videoElement argument cannot be null.")}this._playerStateManager=playerStateManager;this._videoElement=videoElement;this._eventListeners=[];this._registerVideoEventListeners();this._resetPlayHeadTimes();this._startPolling();this._findCurrentState()}_constr.apply(this,arguments);this.cleanup=function(){this._log("Html5PlayerInterface.cleanup()");this._stopPolling();this._removeVideoEventHandlers();this._videoElement=null;this._playerStateManager=null}}function Html5Http(){function _constr(){}_constr.apply(this,arguments);this.makeRequest=function(httpMethod,url,data,contentType,timeoutMs,callback){return this.makeRequestStandard.apply(this,arguments)};this.makeRequestStandard=function(httpMethod,url,data,contentType,timeoutMs,callback){var xmlHttpReq=new XMLHttpRequest;xmlHttpReq.open(httpMethod,url,true);if(contentType&&xmlHttpReq.overrideMimeType){xmlHttpReq.overrideMimeType=contentType}if(contentType&&xmlHttpReq.setRequestHeader){xmlHttpReq.setRequestHeader("Content-Type",contentType)}if(timeoutMs>0){xmlHttpReq.timeout=timeoutMs;xmlHttpReq.ontimeout=function(){xmlHttpReq.ontimeout=xmlHttpReq.onreadystatechange=null;if(callback)callback(false,"timeout after "+timeoutMs+" ms")}}xmlHttpReq.onreadystatechange=function(){if(xmlHttpReq.readyState===4){xmlHttpReq.ontimeout=xmlHttpReq.onreadystatechange=null;if(xmlHttpReq.status==200){if(callback)callback(true,xmlHttpReq.responseText)}else{if(callback)callback(false,"http status "+xmlHttpReq.status)}}};xmlHttpReq.send(data);return null};this.release=function(){}}function Html5Logging(){function _constr(){}_constr.apply(this,arguments);this.consoleLog=function(message,logLevel){if(typeof console==="undefined")return;if(console.log&&logLevel===Conviva.SystemSettings.LogLevel.DEBUG||logLevel===Conviva.SystemSettings.LogLevel.INFO){console.log(message)}else if(console.warn&&logLevel===Conviva.SystemSettings.LogLevel.WARNING){console.warn(message)}else if(console.error&&logLevel===Conviva.SystemSettings.LogLevel.ERROR){console.error(message)}};this.release=function(){}}function Html5Metadata(){function _constr(){}_constr.apply(this,arguments);this.getBrowserName=function(){return null};this.getBrowserVersion=function(){return null};this.getDeviceBrand=function(){return null};this.getDeviceManufacturer=function(){return null};this.getDeviceModel=function(){return null};this.getDeviceType=function(){return null};this.getDeviceVersion=function(){return null};this.getFrameworkName=function(){return"HTML5"};this.getFrameworkVersion=function(){return null};this.getOperatingSystemName=function(){return null};this.getOperatingSystemVersion=function(){return null};this.release=function(){}}function Html5Storage(){function _constr(){}_constr.apply(this,arguments);this.saveData=function(storageSpace,storageKey,data,callback){var localStorageKey=storageSpace+"."+storageKey;try{localStorage.setItem(localStorageKey,data);callback(true,null)}catch(e){callback(false,e.toString())}};this.loadData=function(storageSpace,storageKey,callback){var localStorageKey=storageSpace+"."+storageKey;try{var data=localStorage.getItem(localStorageKey);callback(true,data)}catch(e){callback(false,e.toString())}};this.release=function(){}}var Html5SystemInterfaceFactory=function Html5SystemInterfaceFactory(){this.build=function(){return new Conviva.SystemInterface(new Html5Time,new Html5Timer,new Html5Http,new Html5Storage,new Html5Metadata,new Html5Logging)}};exports.Html5SystemInterfaceFactory=Html5SystemInterfaceFactory;function Html5Time(){function _constr(){}_constr.apply(this,arguments);this.getEpochTimeMs=function(){var d=new Date;return d.getTime()};this.release=function(){}}function Html5Timer(){function _constr(){}_constr.apply(this,arguments);this.createTimer=function(timerAction,intervalMs,actionName){var timerId=setInterval(timerAction,intervalMs);var cancelTimerFunc=function cancelTimerFunc(){if(timerId!==-1){clearInterval(timerId);timerId=-1}};return cancelTimerFunc};this.release=function(){}}},{"./conviva-html5native-library.min":27}],27:[function(require,module,exports){"use strict";var Conviva=Conviva||{};(Conviva.r=function(){"use strict";if("undefined"==typeof Conviva.PrivateLoader){var a=Conviva.PrivateLoader={};

!function(){var b=a.Client=function(a,f){function h(a,b){if(!(a instanceof c))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(b instanceof e))throw new Error("systemFactory parameter should be an instance of SystemFactory.");this._settings=a.clone(),this._systemFactory=b,this._systemFactory.configure("SDK",this._settings),this._exceptionCatcher=this._systemFactory.buildExceptionCatcher(),this._exceptionCatcher.runProtected("Client.init",function(){i._id=E.uinteger32(),i._logger=i._systemFactory.buildLogger(),i._logger.setModuleName("Client"),i._logger.info("init(): url="+i._settings.gatewayUrl+" customerKey="+i._settings.customerKey),i._config=i._systemFactory.buildConfig(),i._config.load(),i._sessionFactory=i._systemFactory.buildSessionFactory(i,i._settings,i._config),i._logger.info("init(): done.")},function(a){throw new Error("Client constructor failed: "+a.message)})}var i=this;this._logger=null,this._sessionFactory=null,this._systemFactory=null,this._globalSessionKey=-1,this._settings=null,this._systemSettings=null,this._exceptionCatcher=null,this._config=null,this._id=-1,this._released=!1,h.apply(this,arguments),this.release=function(){this._released||this._exceptionCatcher.runProtected("Client.release",function(){i._logger.info("release()"),i._sessionFactory.cleanup(),i._sessionFactory=null,i._globalSessionKey=-1,i._logger=null,i._id=-1,i._exceptionCatcher=null,i._settings=null,i._systemSettings=null,i._systemFactory=null,i._released=!0})},this.createSession=function(a){var c=b.NO_SESSION_KEY;return this._released?c:null==a||a instanceof d?(this._exceptionCatcher.runProtected("Client.createSession",function(){c=i._sessionFactory.makeVideoSession(a)}),c):(i._logger.error("createSession(): expecting an instance of ContentMetadata for contentMetadata parameter"),c)},this.reportError=function(a,b,c){return this._released?void 0:B.isValidString(b)?c!==Conviva.Client.ErrorSeverity.FATAL&&c!==Conviva.Client.ErrorSeverity.WARNING?void this._logger.error("reportError(): invalid error severity: "+c):void this._exceptionCatcher.runProtected("Client.reportError",function(){var d=i._sessionFactory.getVideoSession(a);null!=d&&d.reportError(b,c)}):void this._logger.error("reportError(): invalid error message string: "+b)},this.updateContentMetadata=function(a,b){return this._released?void 0:b instanceof d?void this._exceptionCatcher.runProtected("Client.updateContentMetadata",function(){var c=i._sessionFactory.getVideoSession(a);if(null!=c){var d=b.clone();c.updateContentMetadata(d)}}):void i._logger.error("updateContentMetadata(): expecting an instance of ContentMetadata for contentMetadata parameter")},this.detachPlayer=function(a){this._released||this._exceptionCatcher.runProtected("Client.detachPlayer",function(){var b=i._sessionFactory.getVideoSession(a);null!=b&&b.detachPlayer()})},this.attachPlayer=function(a,b){return this._released?void 0:b instanceof g?void this._exceptionCatcher.runProtected("Client.attachPlayer",function(){var c=i._sessionFactory.getVideoSession(a);null!=c&&c.attachPlayer(b)}):void i._logger.error("attachPlayer(): expecting an instance of PlayerStateManager for playerStateManager parameter")},this.contentPreload=function(a){this._released||this._exceptionCatcher.runProtected("Client.contentPreload",function(){var b=i._sessionFactory.getVideoSession(a);null!=b&&b.contentPreload()})},this.contentStart=function(a){this._released||this._exceptionCatcher.runProtected("Client.contentStart",function(){var b=i._sessionFactory.getVideoSession(a);null!=b&&b.contentStart()})},this.sendCustomEvent=function(a,c,e){return this._released?void 0:B.isValidString(c)?void this._exceptionCatcher.runProtected("Client.sendCustomEvent",function(){if(a==b.NO_SESSION_KEY){if(i._globalSessionKey<0){var f=new d;i._globalSessionKey=i._sessionFactory.makeGlobalSession(f,null)}a=i._globalSessionKey}var g=B.ObjectShallowCopy(e),h=i._sessionFactory.getSession(a);null!=h&&h.sendCustomEvent(c,g)}):void i._logger.error("sendCustomEvent(): eventName parameter must be a valid string.")},this.adStart=function(a,c,d,e){return this._released?void 0:c!==b.AdStream.CONTENT&&c!==b.AdStream.SEPARATE?void this._logger.error("adStart(): ignored, invalid value for adStream parameter: "+c):d!==b.AdPlayer.CONTENT&&d!==b.AdPlayer.SEPARATE?void this._logger.error("adStart(): ignored, invalid value for adPlayer parameter: "+d):e!==b.AdPosition.PREROLL&&e!==b.AdPosition.MIDROLL&&e!==b.AdPosition.POSTROLL?void this._logger.error("adStart(): ignored, invalid value for adPosition parameter: "+e):void this._exceptionCatcher.runProtected("Client.adStart",function(){var b=i._sessionFactory.getVideoSession(a);null!=b&&b.adStart(c,d,e)})},this.adEnd=function(a){this._released||this._exceptionCatcher.runProtected("Client.adEnd",function(){var b=i._sessionFactory.getVideoSession(a);null!=b&&b.adEnd()})},this.cleanupSession=function(a){return this._released?void 0:a===b.NO_SESSION_KEY?void this._logger.warning("cleanupSession(): ignored, can't cleanup Client.NO_SESSION_KEY"):void this._exceptionCatcher.runProtected("Client.cleanupSession",function(){var b=i._sessionFactory.getVideoSession(a);null!=b&&i._sessionFactory.cleanupSession(a)})},this.getPlayerStateManager=function(){if(this._released)throw new Error("This instance of Conviva.Client has been released.");return new g(this._systemFactory)},this.releasePlayerStateManager=function(a){if(this._released)throw new Error("This instance of Conviva.Client has been released.");this._exceptionCatcher.runProtected("Client.releasePlayerStateManager",function(){a instanceof g&&a.release()})},this.getSettings=function(){return this._settings},this.getId=function(){return this._id}};b.version="2.115.0.31160",b.NO_SESSION_KEY=-2,b.AdPosition={PREROLL:"PREROLL",MIDROLL:"MIDROLL",POSTROLL:"POSTROLL"},b.AdStream={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},b.AdPlayer={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},b.ErrorSeverity={FATAL:0,WARNING:1},b.DeviceType={DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV",UNKNOWN:"Unknown"};var c=a.ClientSettings=function(a){function b(a){if(!B.isValidString(a))throw new Error("customerKey must be valid");this.customerKey=a}this._customerKey=null,B.defGet(this,"customerKey",function(){return this._customerKey}),B.defSet(this,"customerKey",function(a){B.isValidString(a)&&(this._customerKey=a)}),this._heartbeatInterval=c.defaultProductionHeartbeatInterval,B.defGet(this,"heartbeatInterval",function(){return this._heartbeatInterval}),B.defSet(this,"heartbeatInterval",function(a){if("number"==typeof a){var b=B.NumberToUnsignedInt(a);b===a&&(this._heartbeatInterval=b)}}),this._gatewayUrl=c.defaultProductionGatewayUrl,B.defGet(this,"gatewayUrl",function(){return this._gatewayUrl}),B.defSet(this,"gatewayUrl",function(a){B.isValidString(a)&&(this._gatewayUrl=a)}),b.apply(this,arguments),this.equals=function(a){return this.customerKey===a.customerKey&&this.gatewayUrl===a.gatewayUrl&&this.heartbeatInterval===a.heartbeatInterval},this.clone=function(){var a=new c(this.customerKey);return a.gatewayUrl=this.gatewayUrl,a.heartbeatInterval=this.heartbeatInterval,a}};c.defaultDevelopmentGatewayUrl="https://conviva.testonly.conviva.com",c.defaultProductionGatewayUrl="https://cws.conviva.com",c.defaultDevelopmentHeartbeatInterval=5,c.defaultProductionHeartbeatInterval=20;var d=a.ContentMetadata=function(){function a(){return this._custom}function b(a){return null!=a&&"undefined"!=a&&"null"!=a&&""!=a}function c(a){if("object"==typeof a){var c={};for(var d in a)if(b(d)){var e=a[d];b(e)&&(c[d]=e)}this._custom=c}}function e(){return this._defaultBitrateKbps}function f(a){this._defaultBitrateKbps=F.sanitizeSpecialIntegerValue(a)}function g(){return this._streamType}function h(a){(a===d.StreamType.UNKNOWN||a===d.StreamType.VOD||a===d.StreamType.LIVE)&&(this._streamType=a)}function i(){return this._duration}function j(a){this._duration=F.sanitizeSpecialIntegerValue(a)}function k(){return this._encodedFrameRate}function l(a){this._encodedFrameRate=F.sanitizeSpecialIntegerValue(a)}function m(){}this.assetName=null,this._custom={},B.defGet(this,"custom",a),B.defSet(this,"custom",c),this._defaultBitrateKbps=-2,B.defGet(this,"defaultBitrateKbps",e),B.defSet(this,"defaultBitrateKbps",f),this.defaultResource=null,this.viewerId=null,this.applicationName=null,this.streamUrl=null,this._streamType=d.StreamType.UNKNOWN,B.defGet(this,"streamType",g),B.defSet(this,"streamType",h),this._duration=-1,B.defGet(this,"duration",i),B.defSet(this,"duration",j),this._encodedFrameRate=-1,B.defGet(this,"encodedFrameRate",k),B.defSet(this,"encodedFrameRate",l),m.apply(this,arguments),this.clone=function(){var a=new d;a.assetName=this.assetName,a.applicationName=this.applicationName,a.streamUrl=this.streamUrl,a.viewerId=this.viewerId,a.defaultBitrateKbps=this.defaultBitrateKbps,a.defaultResource=this.defaultResource,a.streamType=this.streamType,a.duration=this.duration,a.encodedFrameRate=this.encodedFrameRate;for(var b in this.custom)a.custom[b]=this.custom[b];return a}};d.StreamType={UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"};var e=a.SystemFactory=function(a,b){function c(a,b){if(!(a instanceof l))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this._systemInterface=a,this._timeInterface=this._systemInterface._timeInterface,this._timerInterface=this._systemInterface._timerInterface,this._httpInterface=this._systemInterface._httpInterface,this._storageInterface=this._systemInterface._storageInterface,this._metadataInterface=this._systemInterface._metadataInterface,this._loggingInterface=this._systemInterface._loggingInterface,b instanceof f?this._settings=b.clone():this._settings=new f}var d=this;c.apply(this,arguments),this.configure=function(a,b){this._packageName=a,this._clientSettings=b},this.release=function(){this._systemInterface.release(),this._systemInterface=null,this._packageName=null,this._settings=null,this._logBuffer=null};var e={build:function build(){return new H(d._loggingInterface,d._timeInterface,d.getSettings(),d._logBuffer,d._packageName)}};this.buildLogger=function(){return e.build()},this.buildSessionFactory=function(a,b,c){return new v(a,b,c,this)},this.buildPing=function(){return new D(this.buildLogger(),this.buildHttpClient(),this._clientSettings)},this.buildCallbackWithTimeout=function(){return new w(this.buildTimer())},this.buildCallbackWithTimeoutNoPing=function(){var a=null,b=new z(this.buildLogger(),a,this.getSettings()),c=new L(this.buildLogger(),this._timerInterface,b);return new w(c)},this.buildHttpClient=function(){return new G(this.buildLogger(),this._httpInterface,this.buildCallbackWithTimeoutNoPing(),this.getSettings())},this.buildExceptionCatcher=function(){return new z(this.buildLogger(),this.buildPing(),this.getSettings())},this.buildTime=function(){return new K(this._timeInterface,this.buildLogger())},this.buildTimer=function(){return new L(this.buildLogger(),this._timerInterface,this.buildExceptionCatcher())},this.buildStorage=function(){return new I(this.buildLogger(),this._storageInterface,this.buildCallbackWithTimeout(),this.getSettings())},this.buildConfig=function(){return new x(this.buildLogger(),this.buildStorage(),this.buildJsonInterface())},this.buildSystemMetadata=function(){return new J(this.buildLogger(),this._metadataInterface,this.buildExceptionCatcher())},this.buildCwsProtocol=function(){return new q},this.buildGatewayControl=function(a){return new A(a,this.buildLogger(),this.buildHttpClient(),this.buildJsonInterface())},this.buildCwsSession=function(a,b,c){var d=this.buildGatewayControl(b);return new t(this.buildEventQueue(),a,b,this.buildLogger(),this.buildExceptionCatcher(),this.buildTimer(),d,this.buildCwsProtocol(),this.buildTime(),this.getLogBuffer(),c)},this.buildSession=function(a,b,c,d,e,f){var g=this.buildExceptionCatcher(),h=this.buildLogger(),i=this.buildCwsSession(a,b,c);return new u(d,e,f,c,this.buildSystemMetadata(),i,g,h)},this.buildEventQueue=function(){return new y},this.buildJsonInterface=function(){return new r},this.getLogBuffer=function(){return this._logBuffer},this.getSettings=function(){return this._settings},this._logBuffer=new C},f=a.SystemSettings=function(){function a(){}this._logLevel=f.defaultProductionLogLevel,B.defGet(this,"logLevel",function(){return this._logLevel}),B.defSet(this,"logLevel",function(a){if("number"==typeof a){var b=B.NumberToUnsignedInt(a);b===a&&b>=f.LogLevel.DEBUG&&b<=f.LogLevel.ERROR&&(this._logLevel=b)}}),this._allowUncaughtExceptions=f.defaultProductionAllowUncaughtExceptions,B.defGet(this,"allowUncaughtExceptions",function(){return this._allowUncaughtExceptions}),B.defSet(this,"allowUncaughtExceptions",function(a){B.isBoolean(a)&&(this._allowUncaughtExceptions=a)}),this._storageTimeout=f.defaultStorageTimeout,B.defGet(this,"storageTimeout",function(){return this._storageTimeout}),B.defSet(this,"storageTimeout",function(a){if("number"==typeof a){var b=B.NumberToUnsignedInt(a);b===a&&(this._storageTimeout=b)}}),this._httpTimeout=f.defaultHttpTimeout,B.defGet(this,"httpTimeout",function(){return this._httpTimeout}),B.defSet(this,"httpTimeout",function(a){if("number"==typeof a){var b=B.NumberToUnsignedInt(a);b===a&&(this._httpTimeout=b)}}),a.apply(this,arguments),this.equals=function(a){return this.logLevel===a.logLevel&&this.allowUncaughtExceptions===a.allowUncaughtExceptions&&this.storageTimeout===a.storageTimeout&&this.httpTimeout===a.httpTimeout},this.clone=function(){var a=new f;return a.logLevel=this.logLevel,a.allowUncaughtExceptions=this.allowUncaughtExceptions,a.storageTimeout=this.storageTimeout,a.httpTimeout=this.httpTimeout,a}};f.LogLevel={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},f.defaultDevelopmentLogLevel=f.LogLevel.DEBUG,f.defaultProductionLogLevel=f.LogLevel.ERROR,f.defaultDevelopmentAllowUncaughtExceptions=!0,f.defaultProductionAllowUncaughtExceptions=!1,f.defaultStorageTimeout=10,f.defaultHttpTimeout=10;var g=a.PlayerStateManager=function(a){function b(a){c._systemFactory=a,c._logger=c._systemFactory.buildLogger(),c._logger.setModuleName("PlayerStateManager"),c._exceptionCatcher=c._systemFactory.buildExceptionCatcher()}var c=this;c._monitorNotifier=null,c._bitrateKbps=-2,c._playerState=g.PlayerState.UNKNOWN,c._currentMetadata={},c._renderedFrameRate=-2,c._encodedFrameRate=-2,c._duration=-2,c._playheadTimeMs=-1,c._bufferLengthMs=-1,c._playerVersion=null,c._playerType=null,c._streamUrl=null,c._lastError=null,c._pendingErrors=[],c._released=!1,this.release=function(){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.release",function(){null!=c._monitorNotifier&&c._monitorNotifier.onRelease(),c.removeMonitoringNotifier(),c._systemFactory=null,c._logger=null,c._exceptionCatcher=null,c._released=!0})},this.getPlayheadTime=function(){return c._playheadTimeMs},this.setPlayheadTime=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setPlayheadTime",function(){c._playheadTimeMs=F.Integer(a,-1,null,-1),null!=c._monitorNotifier&&c._monitorNotifier.onPlayheadTimeChange(c._playheadTimeMs)})},this.getBufferLength=function(){return c._bufferLengthMs},this.setBufferLength=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setBufferLength",function(){c._bufferLengthMs=F.Integer(a,-1,null,-1),null!=c._monitorNotifier&&c._monitorNotifier.onBufferLengthChange(c._bufferLengthMs)})},this.getRenderedFrameRate=function(){return c._renderedFrameRate},this.setRenderedFrameRate=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setRenderedFrameRate",function(){c._renderedFrameRate=F.Integer(a,-1,null,-1),null!=c._monitorNotifier&&c._monitorNotifier.onRenderedFrameRateChange(c._renderedFrameRate)})},this.getEncodedFrameRate=function(){return c._encodedFrameRate},this.setEncodedFrameRate=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setEncodedFrameRate",function(){var b=F.sanitizeSpecialIntegerValue(a);b>=-1&&(c._encodedFrameRate=b,null!=c._monitorNotifier&&c._monitorNotifier.onEncodedFrameRateChange(c._encodedFrameRate))})},this.getDuration=function(){return c._duration},this.setDuration=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setDuration",function(){var b=F.sanitizeSpecialIntegerValue(a);b>=-1&&(c._duration=b,null!=c._monitorNotifier&&c._monitorNotifier.onContentLengthChange(c._duration))})},this.getStreamUrl=function(){return c._streamUrl},this.setStreamUrl=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setStreamUrl",function(){c._streamUrl=a,null!=c._monitorNotifier&&c._monitorNotifier.onStreamUrlChange(c._streamUrl)})},this.getPlayerType=function(){return c._playerType},this.setPlayerType=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setPlayerType",function(){c._playerType=a,null!=c._monitorNotifier&&c._monitorNotifier.onPlayerTypeChange(c._playerType)})},this.getPlayerVersion=function(){return c._playerVersion},this.setPlayerVersion=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setPlayerVersion",function(){c._playerVersion=a,null!=c._monitorNotifier&&c._monitorNotifier.onPlayerVersionChange(c._playerVersion)})},this.setMonitoringNotifier=function(a,b){return c._released?void 0:null!=c._monitorNotifier?!1:(c._monitorNotifier=a,c._logger.setSessionId(b),!0)},this.removeMonitoringNotifier=function(){c._released||(c._monitorNotifier=null,c._logger.setSessionId(null))},this.pushCurrentState=function(){c.setPlayerState(c.getPlayerState()),c.setBitrateKbps(c.getBitrateKbps()),c.setDuration(c.getDuration()),c.setEncodedFrameRate(c.getEncodedFrameRate()),c.setPlayheadTime(c.getPlayheadTime()),c.setBufferLength(c.getBufferLength()),c.setStreamUrl(c.getStreamUrl()),c.setPlayerType(c.getPlayerType()),c.setPlayerVersion(c.getPlayerVersion());for(var a=0;a<c._pendingErrors.length;a++){var b=c._pendingErrors[a];c.setError(b)}c._pendingErrors=[]},this.getPlayerState=function(){return c._playerState},this.setPlayerState=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setPlayerState",function(){g.isValidPlayerState(a)?(c._playerState=a,null!=c._monitorNotifier&&c._monitorNotifier.onPlayerStateChange(c._playerState)):c._logger.error("PlayerStateManager.SetPlayerState(): invalid state: "+a)})},this.getBitrateKbps=function(){return c._bitrateKbps},this.setBitrateKbps=function(a){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.setBitrateKbps",function(){var b=F.sanitizeSpecialIntegerValue(a);b>=-1&&(c._bitrateKbps=b,null!=c._monitorNotifier&&c._monitorNotifier.onBitrateChange(c._bitrateKbps))})},this.setError=function(a){if(c._lastError=a,null!=c._monitorNotifier){var b=a.errorCode,d=a.severity;c._monitorNotifier.onError(b,d)}else c._pendingErrors.push(a)},this.sendError=function(a,b){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.sendError",function(){var d=new Conviva.PrivateLoader.StreamerError(a,b);c.setError(d)})},this.reset=function(){c._released||c._exceptionCatcher.runProtected("PlayerStateManager.reset",function(){c._bitrateKbps=-2,c._playerState=g.PlayerState.UNKNOWN,c._currentMetadata={},c._renderedFrameRate=-1,c._encodedFrameRate=-1,c._duration=-1,c._playheadTimeMs=-1,c._bufferLengthMs=-1,c._playerVersion=null,c._playerType=null,c._streamUrl=null,c._lastError=null,c._pendingErrors=[]})},this.getError=function(){return c._lastError},b.apply(c,arguments)};g.PlayerState={STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},g.isValidPlayerState=function(a){return a===g.PlayerState.STOPPED||a===g.PlayerState.PLAYING||a===g.PlayerState.BUFFERING||a===g.PlayerState.PAUSED||a===g.PlayerState.UNKNOWN||a===g.PlayerState.NOT_MONITORED?!0:!1};var h=a.HttpInterface=function(){this.makeRequest=function(a,b,c,d,e,f){},this.release=function(){}},i=a.LoggingInterface=function(){this.consoleLog=function(a,b){},this.release=function(){}},j=a.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.release=function(){}},k=a.StorageInterface=function(){this.saveData=function(a,b,c,d){},this.loadData=function(a,b,c){},this.release=function(){}},l=a.SystemInterface=function(a,b,c,d,e,f){function g(a,b,c,d,e,f){B.validateInterface(a,new m,"TimeInterface"),B.validateInterface(b,new n,"TimerInterface"),B.validateInterface(c,new h,"HttpInterface"),B.validateInterface(d,new k,"StorageInterface"),B.validateInterface(e,new j,"MetadataInterface"),B.validateInterface(f,new i,"LoggingInterface"),this._timeInterface=a,this._timerInterface=b,this._httpInterface=c,this._storageInterface=d,this._metadataInterface=e,this._loggingInterface=f}g.apply(this,arguments),this.release=function(){this._timeInterface.release(),this._timeInterface=null,this._timerInterface.release(),this._timerInterface=null,this._httpInterface.release(),this._httpInterface=null,this._storageInterface.release(),this._storageInterface=null,this._metadataInterface.release(),this._metadataInterface=null,this._loggingInterface.release(),this._loggingInterface=null}},m=a.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},n=a.TimerInterface=function(){this.createTimer=function(a,b,c){},this.release=function(){}},o=a.JSON2={};!function(){function a(a){return 10>a?"0"+a:a}function b(a){return d.lastIndex=0,d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var g,i,j,k,l,m=e,n=d[a];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(a)),"function"==typeof h&&(n=h.call(d,a,n)),typeof n){case"string":return b(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(e+=f,l=[],Object.prototype.toString.apply(n)===Object.prototype.toString.apply([])){for(k=n.length,g=0;k>g;g+=1)l[g]=c(g,n)||"null";return j=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+m+"]":"["+l.join(",")+"]",e=m,j}if(h&&"object"==typeof h)for(k=h.length,g=0;k>g;g+=1)"string"==typeof h[g]&&(i=h[g],j=c(i,n),j&&l.push(b(i)+(e?": ":":")+j));else for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(j=c(i,n),j&&l.push(b(i)+(e?": ":":")+j));return j=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+m+"}":"{"+l.join(",")+"}",e=m,j}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d,e,f,g,h;"function"!=typeof o.stringify&&(d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o.stringify=function(a,b,d){var g;if(e="",f="","number"==typeof d)for(g=0;d>g;g+=1)f+=" ";else"string"==typeof d&&(f=d);if(h=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON2.stringify");return c("",{"":a})})}();var p=a.JsonParse=function(){var a,b,c,d,e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f=function f(b){throw{name:"SyntaxError",message:b,at:a,text:c}},g=function g(d){return d&&d!==b&&f("Expected '"+d+"' instead of '"+b+"'"),b=c.charAt(a),a+=1,b},h=function h(){var a,c="";for("-"===b&&(c="-",g("-"));b>="0"&&"9">=b;)c+=b,g();if("."===b)for(c+=".";g()&&b>="0"&&"9">=b;)c+=b;if("e"===b||"E"===b)for(c+=b,g(),("-"===b||"+"===b)&&(c+=b,g());b>="0"&&"9">=b;)c+=b,g();return a=+c,isNaN(a)?void f("Bad number"):a},i=function i(){var a,c,d,h="";if('"'===b)for(;g();){if('"'===b)return g(),h;if("\\"===b)if(g(),"u"===b){for(d=0,c=0;4>c&&(a=parseInt(g(),16),isFinite(a));c+=1)d=16*d+a;h+=String.fromCharCode(d)}else{if("string"!=typeof e[b])break;h+=e[b]}else h+=b}f("Bad string")},j=function j(){for(;b&&" ">=b;)g()},k=function k(){switch(b){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+b+"'")},l=function l(){var a=[];if("["===b){if(g("["),j(),"]"===b)return g("]"),a;for(;b;){if(a.push(d()),j(),"]"===b)return g("]"),a;g(","),j()}}f("Bad array")},m=function m(){var a,c={};if("{"===b){if(g("{"),j(),"}"===b)return g("}"),c;for(;b;){if(a=i(),j(),g(":"),Object.hasOwnProperty.call(c,a)&&f('Duplicate key "'+a+'"'),c[a]=d(),j(),"}"===b)return g("}"),c;g(","),j()}}f("Bad object")};return d=function(){switch(j(),b){case"{":return m();case"[":return l();case'"':return i();case"-":return h();default:return b>="0"&&"9">=b?h():k()}},function(e,g){var h;return c=e,a=0,b=" ",h=d(),j(),b&&f("Syntax error"),"function"==typeof g?function i(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=i(e,c),void 0!==d?e[c]=d:delete e[c]);return g.call(a,b,e)}({"":h},""):h}}(),q=a.CwsProtocol=function(){this.generateEvent=function(a,b,c,d){return d.seq=a,d.st=b,d.t=c,d},this.generateSessionEndEvent=function(a,b){var c=q.EVENT_TYPE_SESSION_END,d={};return this.generateEvent(a,b,c,d)}};q.version="2.1",q.gatewayPath="/0/wsg",q.DEFAULT_CLIENT_ID="0",q.DEFAULT_MAX_HEARTBEAT_INFOS=0,q.DEFAULT_PLAYHEAD_TIME=-1,q.DEFAULT_BUFFER_LENGTH=-1,q.SDK_METADATA_SCHEMA="sdk.js.1",q.EVENT_TYPE_STATE_CHANGE="CwsStateChangeEvent",q.EVENT_TYPE_ERROR="CwsErrorEvent",q.EVENT_TYPE_SESSION_END="CwsSessionEndEvent",q.EVENT_TYPE_CUSTOM="CwsCustomEvent",q.RESPONSE_STATUS_NO_ERRORS="ok",q.RESPONSE_KEY_STATUS="err",q.RESPONSE_KEY_CLIENT_ID="clid",q.RESPONSE_KEY_CONFIG="cfg",q.RESPONSE_KEY_EVENTS="evs",q.RESPONSE_CONFIG_KEY_MAX_HEARTBEAT_INFOS="maxhbinfos",q.RESPONSE_CONFIG_KEY_SEND_LOGS="slg",q.RESPONSE_CONFIG_KEY_HEARTBEAT_INTERVAL="hbi",q.RESPONSE_CONFIG_KEY_GATEWAY_URL="gw",q.MESSAGE_TYPE_SESSION_HEARTBEAT="CwsSessionHb",q.REQUEST_KEY_MESSAGE_TYPE="t",q.REQUEST_KEY_SESSION_TIME="st",q.REQUEST_KEY_SESSION_START_TIME="sst",q.REQUEST_KEY_IS_LIVE="lv",q.REQUEST_KEY_SEQUENCE_NUMBER="seq",q.REQUEST_KEY_CUSTOMER_KEY="cid",q.REQUEST_KEY_CLIENT_ID="clid",q.REQUEST_KEY_CLIENT_VERSION="clv",q.REQUEST_KEY_PROTOCOL_VERSION="pver",q.REQUEST_KEY_INSTANCE_ID="iid",q.REQUEST_KEY_SESSION_ID="sid",q.REQUEST_KEY_VIEWER_ID="vid",q.REQUEST_KEY_ASSET_NAME="an",q.REQUEST_KEY_PLAYER_NAME="pn",q.REQUEST_KEY_TAGS="tags",q.REQUEST_KEY_SESSION_FLAGS="sf",q.REQUEST_KEY_EVENTS="evs",q.REQUEST_KEY_LOGS="lg",q.REQUEST_KEY_HEARTBEAT_INFOS="hbinfos",q.REQUEST_KEY_IS_SDK_CLIENT="sdk",q.REQUEST_KEY_PAUSE_JOIN="pj",q.REQUEST_KEY_PLAYER_STATE="ps",q.REQUEST_KEY_BITRATE="br",q.REQUEST_KEY_CONTENT_LENGTH="cl",q.REQUEST_KEY_ENCODED_FRAME_RATE="efps",q.REQUEST_KEY_AVERAGE_FRAME_RATE="afps",q.REQUEST_KEY_RESOURCE="rs",q.REQUEST_KEY_PLAYHEAD_TIME="pht",q.REQUEST_KEY_BUFFER_LENGTH="bl",q.REQUEST_KEY_STREAM_URL="url",q.REQUEST_KEY_CAPABILITIES="caps",q.REQUEST_KEY_PLATFORM_METADATA="pm",q.REQUEST_PLATFORM_METADATA_KEY_SCHEMA="sch",q.REQUEST_PLATFORM_METADATA_KEY_BROWSER_NAME="br",q.REQUEST_PLATFORM_METADATA_KEY_BROWSER_VERSION="brv",q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_BRAND="dvb",q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MANUFACTURER="dvma",q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MODEL="dvm",q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_TYPE="dvt",q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_VERSION="dvv",q.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME="fw",q.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION="fwv",q.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME="os",q.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION="osv",q.REQUEST_KEY_PROTOCOL_CAPP="caps",q.REQUEST_EVENT_KEY_TYPE="t",q.REQUEST_EVENT_KEY_SEQUENCE_NUMBER="seq",q.REQUEST_EVENT_KEY_SESSION_TIME="st",q.REQUEST_ERROR_EVENT_KEY_MESSAGE="err",q.REQUEST_ERROR_EVENT_KEY_FATAL="ft",q.REQUEST_STATE_CHANGE_EVENT_KEY_NEW="new",q.REQUEST_STATE_CHANGE_EVENT_KEY_OLD="old",q.REQUEST_CUSTOM_EVENT_KEY_NAME="name",q.REQUEST_CUSTOM_EVENT_KEY_ATTRIBUTES="attr",q.REQUEST_HEARTBEAT_INFO_KEY_SEQUENCE_NUMBER="seq",q.REQUEST_HEARTBEAT_INFO_KEY_STATUS="err",q.REQUEST_HEARTBEAT_INFO_KEY_ROUNDTRIP_TIME="rtt",q.convertPlayerState=function(a){switch(a){case g.PlayerState.STOPPED:return q.eStopped;case g.PlayerState.PLAYING:return q.ePlaying;case g.PlayerState.BUFFERING:return q.eBuffering;case g.PlayerState.PAUSED:return q.ePaused;case g.PlayerState.NOT_MONITORED:return q.eNotMonitored;default:return q.eUnknown}},q.eStopped=1,q.ePlaying=3,q.eBuffering=6,q.ePaused=12,q.eNotMonitored=98,q.eUnknown=100,q.SessionFlags={GLOBAL:0,VIDEO:1,QUALITY_METRICS:2,BITRATE_METRICS:4},q.Capabilities={INSIGHTS:0};var r=(a.JSONInterface=function(){this.encode=function(a){},this.decode=function(a){}},a.LibJSONInterface=function(){this.encode=function(a){var b=null;try{b=o.stringify(a)}catch(c){}return b},this.decode=function(a){var b=null;try{b=p(a)}catch(c){}return B.isObject(b)||(b=null),b}}),s=a.CwsHeartbeat=function(){function a(){}this._data={},a.apply(this,arguments),this["export"]=function(){return this._data},this.setField=function(a,b){this._data[a]=b},this.setInnerField=function(a,b,c){this._data[a]||(this._data[a]={}),this._data[a][b]=c},this.setMessageType=function(a){this.setField(q.REQUEST_KEY_MESSAGE_TYPE,a)},this.setSessionTime=function(a){this.setField(q.REQUEST_KEY_SESSION_TIME,a)},this.setSessionStartTime=function(a){this.setField(q.REQUEST_KEY_SESSION_START_TIME,a)},this.setIsLive=function(a){this.setField(q.REQUEST_KEY_IS_LIVE,a)},this.setSequenceNumber=function(a){this.setField(q.REQUEST_KEY_SEQUENCE_NUMBER,a)},this.setCustomerKey=function(a){this.setField(q.REQUEST_KEY_CUSTOMER_KEY,a)},this.setClientId=function(a){this.setField(q.REQUEST_KEY_CLIENT_ID,a)},this.setClientVersion=function(a){this.setField(q.REQUEST_KEY_CLIENT_VERSION,a)},this.setProtocolVersion=function(a){this.setField(q.REQUEST_KEY_PROTOCOL_VERSION,a)},this.setCapfield=function(a){this.setField(q.REQUEST_KEY_PROTOCOL_CAPP,a)},this.setSessionId=function(a){this.setField(q.REQUEST_KEY_SESSION_ID,a)},this.setInstanceId=function(a){this.setField(q.REQUEST_KEY_INSTANCE_ID,a)},this.setViewerId=function(a){this.setField(q.REQUEST_KEY_VIEWER_ID,a)},this.setAssetName=function(a){this.setField(q.REQUEST_KEY_ASSET_NAME,a)},this.setPlayerName=function(a){this.setField(q.REQUEST_KEY_PLAYER_NAME,a)},this.setTags=function(a){this.setField(q.REQUEST_KEY_TAGS,a)},this.setSessionFlags=function(a){this.setField(q.REQUEST_KEY_SESSION_FLAGS,a)},this.setCapabilities=function(a){this.setField(q.REQUEST_KEY_CAPABILITIES,a)},this.setEvents=function(a){this.setField(q.REQUEST_KEY_EVENTS,a)},this.setIsSdkClient=function(a){this.setField(q.REQUEST_KEY_IS_SDK_CLIENT,a)},this.setLogs=function(a){this.setField(q.REQUEST_KEY_LOGS,a)},this.setHeartbeatInfos=function(a){this.setField(q.REQUEST_KEY_HEARTBEAT_INFOS,a)},this.setPlayerState=function(a){this.setField(q.REQUEST_KEY_PLAYER_STATE,a)},this.setPauseJoin=function(a){this.setField(q.REQUEST_KEY_PAUSE_JOIN,a)},this.setContentLength=function(a){this.setField(q.REQUEST_KEY_CONTENT_LENGTH,a)},this.setBitrate=function(a){this.setField(q.REQUEST_KEY_BITRATE,a)},this.setResource=function(a){this.setField(q.REQUEST_KEY_RESOURCE,a)},this.setEncodedFrameRate=function(a){this.setField(q.REQUEST_KEY_ENCODED_FRAME_RATE,a)},this.setAverageFrameRate=function(a){this.setField(q.REQUEST_KEY_AVERAGE_FRAME_RATE,a)},this.setPlatformMetadataSchema=function(a){
this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_SCHEMA,a)},this.setBrowserName=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_BROWSER_NAME,a)},this.setBrowserVersion=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_BROWSER_VERSION,a)},this.setDeviceBrand=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_BRAND,a)},this.setDeviceManufacturer=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MANUFACTURER,a)},this.setDeviceModel=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MODEL,a)},this.setDeviceType=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_TYPE,a)},this.setDeviceVersion=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_DEVICE_VERSION,a)},this.setFrameworkName=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME,a)},this.setFrameworkVersion=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION,a)},this.setOperatingSystemName=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME,a)},this.setOperatingSystemVersion=function(a){this.setInnerField(q.REQUEST_KEY_PLATFORM_METADATA,q.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION,a)},this.setPlayheadTime=function(a){this.setField(q.REQUEST_KEY_PLAYHEAD_TIME,a)},this.setBufferLength=function(a){this.setField(q.REQUEST_KEY_BUFFER_LENGTH,a)},this.setStreamUrl=function(a){this.setField(q.REQUEST_KEY_STREAM_URL,a)}},t=a.CwsSession=function(a,c,d,e,f,h,i,j,k,l,m){function n(a,b,c,d,e,f,g,h,i,j,k){this._eventQueue=a,this._client=b,this._clientSettings=c,this._logger=d,this._logger.setModuleName("CwsSession"),this._exceptionCatcher=e,this._timer=f,this._gatewayControl=g,this._cwsProtocol=h,this._time=i,this._logBuffer=j,this._clientConfig=k}var o=this;o._heartbeatTimerCancel=null,o._startTimeMs=0,o._heartbeatSequenceNumber=0,o._sessionFlags=q.SessionFlags.GLOBAL,o._capabilities=q.Capabilities.INSIGHTS,o._heartbeatInfos=[],o._lastRequestSentMs=-1,o._bitrateKbps=-2,o._resource=null,o._playerState=g.PlayerState.NOT_MONITORED,o._encodedFrameRate=-1,o._contentLengthSec=-1,o._bufferLengthMs=q.DEFAULT_BUFFER_LENGTH,o._playheadTimeMs=q.DEFAULT_PLAYHEAD_TIME,o._streamUrl=null,o._averageFrameRate=-1,o._assetName=null,o._viewerId=null,o._playerName=null,o._isLive=null,o._tags={},o._browserName=null,o._browserVersion=null,o._deviceBrand=null,o._deviceManufacturer=null,o._deviceModel=null,o._deviceType=null,o._deviceVersion=null,o._frameworkName=null,o._frameworkVersion=null,o._operatingSystemName=null,o._operatingSystemVersion=null,o._pauseJoin=!1,o._hasJoined=!1,o._cleanedUp=!1,o._willEndSoon=!1,n.apply(this,arguments),this.cleanup=function(){this._clientConfig=null,this._logBuffer=null,this._systemSettings=null,this._time=null,this._cwsProtocol=null,this._gatewayControl=null,this._timer=null,this._exceptionCatcher=null,this._logger=null,this._clientSettings=null,this._client=null,this._eventQueue.flush(),this._eventQueue=null,this._cleanedUp=!0},this.start=function(a){this._session=a,this._global=this._session._global,this._logger.setSessionId(this._session._id),this._startTimeMs=this._time.current(),this.isVideoSession()&&(this._sessionFlags+=t.DEFAULT_VIDEO_SESSION_FLAGS)},this.willEndSoon=function(){this._willEndSoon=!0},this.initialize=function(){this._logger.debug("initialize()")},this.end=function(){this.isVideoSession()&&(this._logger.debug("end(): schedule the last hb before session cleanup"+o.sessionTypeTag()),this.enqueueSessionEndEvent()),this.cancelHeartbeatTimer(),this.sendHeartbeat()},this.startSendingHeartbeats=function(){this._willEndSoon||(this.sendHeartbeat(),this.resetHeartbeatTimer())},this.setBrowserName=function(a){o._logger.debug("setBrowserName(): "+a);var b=o._browserName;b!==a&&null!=a&&(o._logger.debug("Change browserName from "+b+" to "+a),o._browserName=a)},this.setBrowserVersion=function(a){o._logger.debug("setBrowserVersion(): "+a);var b=o._browserVersion;b!==a&&null!=a&&(o._logger.debug("Change browserVersion from "+b+" to "+a),o._browserVersion=a)},this.setDeviceBrand=function(a){o._logger.debug("setDeviceBrand(): "+a);var b=o._deviceBrand;b!==a&&null!=a&&(o._logger.debug("Change deviceBrand from "+b+" to "+a),o._deviceBrand=a)},this.setDeviceManufacturer=function(a){o._logger.debug("setDeviceManufacturer(): "+a);var b=o._deviceManufacturer;b!==a&&null!=a&&(o._logger.debug("Change deviceManufacturer from "+b+" to "+a),o._deviceManufacturer=a)},this.setDeviceModel=function(a){o._logger.debug("setDeviceModel(): "+a);var b=o._deviceModel;b!==a&&null!=a&&(o._logger.debug("Change deviceModel from "+b+" to "+a),o._deviceModel=a)},this.setDeviceType=function(a){o._logger.debug("setDeviceBrand(): "+a);var b=o._deviceType;b!==a&&null!=a&&(o._logger.debug("Change deviceType from "+b+" to "+a),o._deviceType=a)},this.setDeviceVersion=function(a){o._logger.debug("setDeviceVersion(): "+a);var b=o._deviceVersion;b!==a&&null!=a&&(o._logger.debug("Change deviceVersion from "+b+" to "+a),o._deviceVersion=a)},this.setOperatingSystemName=function(a){o._logger.debug("setOperatingSystemName(): "+a);var b=o._operatingSystemName;b!==a&&null!=a&&(o._logger.debug("Change operatingSystemName from "+b+" to "+a),o._operatingSystemName=a)},this.setOperatingSystemVersion=function(a){o._logger.debug("setOperatingSystemVersion(): "+a);var b=o._operatingSystemVersion;b!==a&&null!=a&&(o._logger.debug("Change operatingSystemVersion from "+b+" to "+a),o._operatingSystemVersion=a)},this.setBufferLengthMs=function(a){var b=o._bufferLengthMs;b!==a&&a>=-1&&(o._logger.debug("Change buffer length from "+b+" to "+a),o._bufferLengthMs=a)},this.getFrameworkName=function(){return o._frameworkName},this.setFrameworkName=function(a){o._logger.debug("setFrameworkName(): "+a);var b=o._frameworkName;b!==a&&null!=a&&(o._logger.debug("Change frameworkName from "+b+" to "+a),o._frameworkName=a)},this.getFrameworkVersion=function(){return o._frameworkVersion},this.setFrameworkVersion=function(a){o._logger.debug("setFrameworkVersion(): "+a);var b=o._frameworkVersion;b!==a&&null!=a&&(o._logger.debug("Change frameworkVersion from "+b+" to "+a),o._frameworkVersion=a)},this.setPlayheadTimeMs=function(a){var b=o._playheadTimeMs;b!==a&&a>=-1&&(o._logger.debug("Change playhead time from "+b+" to "+a),o._playheadTimeMs=a)},this.setStreamUrl=function(a){o._logger.debug("setStreamUrl(): "+a);var b=o._streamUrl;b!==a&&null!=a&&(o._logger.debug("Change stream url from "+b+" to "+a),o.enqueueStreamUrlChangeEvent(b,a),o._streamUrl=a)},this.setBitrateKbps=function(a){o._logger.debug("setBitrateKbps(): "+a);var b=o._bitrateKbps;b!==a&&a>=-1&&(o._logger.info("Change bitrate from "+b+" to "+a),o.enqueueBitrateChangeEvent(b,a),o._bitrateKbps=a)},this.setResource=function(a){o._logger.debug("setResource(): "+a);var b=o._resource;b!==a&&null!=a&&(o._logger.info("Change resource from "+b+" to "+a),o.enqueueResourceChangeEvent(b,a),o._resource=a)},this.setAssetName=function(a){o._logger.debug("setAssetName(): "+a);var b=o._assetName;b!==a&&null!=a&&(o._logger.info("Change assetName from "+b+" to "+a),o.enqueueAssetNameChangeEvent(b,a),o._assetName=a)},this.setIsLive=function(a){o._logger.debug("setIsLive(): "+a);var b=o._isLive;b!==a&&null!=a&&(o._logger.info("Change isLive from "+b+" to "+a),o._isLive=a)},this.setViewerId=function(a){o._logger.debug("setViewerId(): "+a);var b=o._viewerId;b!==a&&null!=a&&(o._logger.info("Change viewerId from "+b+" to "+a),o._viewerId=a)},this.setPlayerName=function(a){o._logger.debug("setPlayerName(): "+a);var b=o._playerName;b!==a&&null!=a&&(o._logger.info("Change playerName from "+b+" to "+a),o._playerName=a)},this.setTags=function(a){o._logger.debug("setTags()");var b=o._tags;B.ObjectShallowEquals(b,a)||null==a||(o._logger.info("Change tags from "+B.ObjectToString(b)+" to "+B.ObjectToString(a)),o.enqueueTagsChangeEvent(b,a),o._tags=a)},this.setEncodedFrameRate=function(a){o._logger.debug("setEncodedFrameRate(): "+a),o._encodedFrameRate=a},this.setAverageFrameRate=function(a){o._logger.debug("setAverageFrameRate(): "+a),o._averageFrameRate=a},this.setContentLength=function(a){o._logger.debug("setContentLength(): "+a),o._contentLengthSec=a},this.setPlayerState=function(a){o._logger.debug("setPlayerState(): "+a),o._hasJoined||a!=g.PlayerState.PLAYING||(o.togglePauseJoin(!1),o._hasJoined=!0);var b=o._playerState;o._logger.info("setPlayerState(): changing player state from "+b+" to "+a),o.enqueuePlayerStateChangeEvent(b,a),o._playerState=a},this.togglePauseJoin=function(a){if(o._logger.debug("togglePauseJoin()"),o._pauseJoin===a)return void o._logger.debug("togglePauseJoin(): same value, ignoring");var b=o._pauseJoin,c=!o._pauseJoin;o.enqueuePauseJoinChangeEvent(b,c),o._pauseJoin=!o._pauseJoin},this.sendError=function(a,b){o.enqueueErrorEvent(a,b)},this.enqueueEvent=function(a,b){b[q.REQUEST_EVENT_KEY_TYPE]=a,b[q.REQUEST_EVENT_KEY_SESSION_TIME]=this.getSessionTime(),b[q.REQUEST_EVENT_KEY_SEQUENCE_NUMBER]=this._eventQueue.getNumber(),this._eventQueue.enqueue(b)},this.enqueueSessionEndEvent=function(){var a=this.getSessionTime(),b=this.getNextEventNumber(),c=this._cwsProtocol.generateSessionEndEvent(b,a);this._eventQueue.enqueue(c)},this.enqueueTagsChangeEvent=function(a,b){var c=null;B.dictCount(a)>0&&(c={},c[q.REQUEST_KEY_TAGS]=a);var d={};d[q.REQUEST_KEY_TAGS]=b,this.declareStateChange(d,c)},this.enqueueAssetNameChangeEvent=function(a,b){var c={};c[q.REQUEST_KEY_ASSET_NAME]=b,this.declareStateChange(c,null)},this.enqueueErrorEvent=function(a,b){var c={};c[q.REQUEST_ERROR_EVENT_KEY_MESSAGE]=a,c[q.REQUEST_ERROR_EVENT_KEY_FATAL]=b,this.enqueueEvent(q.EVENT_TYPE_ERROR,c)},this.enqueueBitrateChangeEvent=function(a,b){var c={},d={};-1>a&&(a=-1),d[q.REQUEST_KEY_BITRATE]=a,c[q.REQUEST_KEY_BITRATE]=b,this.declareStateChange(c,d)},this.enqueueResourceChangeEvent=function(a,b){var c={},d={};null!==a&&(d[q.REQUEST_KEY_RESOURCE]=a),c[q.REQUEST_KEY_RESOURCE]=b,this.declareStateChange(c,d)},this.enqueueStreamUrlChangeEvent=function(a,b){var c={},d={};null!==a&&(d[q.REQUEST_KEY_STREAM_URL]=a),c[q.REQUEST_KEY_STREAM_URL]=b,this.declareStateChange(c,d)},this.enqueuePauseJoinChangeEvent=function(a,b){var c={},d={};d[q.REQUEST_KEY_PAUSE_JOIN]=a,c[q.REQUEST_KEY_PAUSE_JOIN]=b,this.declareStateChange(c,d)},this.enqueuePlayerStateChangeEvent=function(a,b){var c={},d={};c[q.REQUEST_KEY_PLAYER_STATE]=q.convertPlayerState(b),d[q.REQUEST_KEY_PLAYER_STATE]=q.convertPlayerState(a),this.declareStateChange(c,d)},this.declareStateChange=function(a,b){var c={};c[q.REQUEST_STATE_CHANGE_EVENT_KEY_NEW]=a,null!=b&&B.dictCount(b)>0&&(c[q.REQUEST_STATE_CHANGE_EVENT_KEY_OLD]=b),this.enqueueEvent(q.EVENT_TYPE_STATE_CHANGE,c)},this.enqueueCustomEvent=function(a,b){var c={};c[q.REQUEST_CUSTOM_EVENT_KEY_NAME]=a,c[q.REQUEST_CUSTOM_EVENT_KEY_ATTRIBUTES]=b,this.enqueueEvent(q.EVENT_TYPE_CUSTOM,c)},this.cancelHeartbeatTimer=function(){null!=o._heartbeatTimerCancel&&(o._heartbeatTimerCancel(),o._heartbeatTimerCancel=null)},this.resetHeartbeatTimer=function(){o.cancelHeartbeatTimer();var a=1e3*o._clientSettings.heartbeatInterval;o._heartbeatTimerCancel=o._timer.create(o.sendHeartbeat,a,"Session.sendHeartbeat")},this.createHeartbeatInfo=function(){var a={};a.err="pending",a.seq=o._heartbeatSequenceNumber-1,a.sentAt=o.getSessionTime(),a.rtt=-1,o._heartbeatInfos.push(a)},this.updateHeartbeatInfoOnFailure=function(a,b){for(var c=0;c<o._heartbeatInfos.length;c++){var d=o._heartbeatInfos[c],e=d.seq;e===a&&(d.rtt=o.getSessionTime()-d.sentAt,d.err=b)}},this.updateHeartbeatInfoOnSuccess=function(a){for(var b=0;b<o._heartbeatInfos.length;b++){var c=o._heartbeatInfos[b],d=c.seq;d===a&&(c.rtt=o.getSessionTime()-c.sentAt,c.err="ok")}},this.removeOutdatedHeartbeatInfos=function(){for(var a,b,c=o._clientConfig.get(x.CONFIG_KEY_MAX_HEARTBEAT_INFOS),d=[],e=0;e<o._heartbeatInfos.length;e++)b=o._heartbeatInfos[e],a=b.seq,a<o._heartbeatSequenceNumber-c&&d.push(e);for(var f=[],g=0;g<o._heartbeatInfos.length;g++)b=o._heartbeatInfos[g],a=b.seq,d.indexOf(g)<0&&f.push(o._heartbeatInfos[g]);o._heartbeatInfos=f},this.compileHeartbeatInfos=function(){o.removeOutdatedHeartbeatInfos();for(var a=[],b=0;b<o._heartbeatInfos.length;b++){var c=o._heartbeatInfos[b],d={};d[q.REQUEST_HEARTBEAT_INFO_KEY_SEQUENCE_NUMBER]=c.seq,d[q.REQUEST_HEARTBEAT_INFO_KEY_ROUNDTRIP_TIME]=c.rtt,d[q.REQUEST_HEARTBEAT_INFO_KEY_STATUS]=c.err,a.push(d)}return a},this.makeHeartbeat=function(){var a=new s;if(a.setMessageType(q.MESSAGE_TYPE_SESSION_HEARTBEAT),a.setCustomerKey(o._clientSettings.customerKey),a.setClientId(o._clientConfig.get(x.CONFIG_KEY_CLIENT_ID)),a.setSessionId(o._session._id),a.setSequenceNumber(o._heartbeatSequenceNumber),a.setProtocolVersion(q.version),a.setClientVersion(b.version),a.setInstanceId(o._client.getId()),a.setCapfield(0),a.setPlatformMetadataSchema(q.SDK_METADATA_SCHEMA),null!=o._browserName&&a.setBrowserName(o._browserName),null!=o._browserVersion&&a.setBrowserVersion(o._browserVersion),null!=o._deviceBrand&&a.setDeviceBrand(o._deviceBrand),null!=o._deviceManufacturer&&a.setDeviceManufacturer(o._deviceManufacturer),null!=o._deviceModel&&a.setDeviceModel(o._deviceModel),null!=o._deviceType&&a.setDeviceType(o._deviceType),null!=o._deviceVersion&&a.setDeviceVersion(o._deviceVersion),null!=o._frameworkName&&a.setFrameworkName(o._frameworkName),null!=o._frameworkVersion&&a.setFrameworkVersion(o._frameworkVersion),null!=o._operatingSystemName&&a.setOperatingSystemName(o._operatingSystemName),null!=o._operatingSystemVersion&&a.setOperatingSystemVersion(o._operatingSystemVersion),null!=o._viewerId&&a.setViewerId(o._viewerId),null!=o._playerName&&a.setPlayerName(o._playerName),B.dictCount(o._tags)>0&&a.setTags(o._tags),o.isVideoSession()){null!=o._assetName&&a.setAssetName(o._assetName),null!=o._isLive&&a.setIsLive(o._isLive),a.setSessionFlags(o._sessionFlags);var c=q.convertPlayerState(o._playerState);a.setPlayerState(c),a.setPauseJoin(o._pauseJoin),o._contentLengthSec>0&&a.setContentLength(o._contentLengthSec),o._bitrateKbps>0&&a.setBitrate(o._bitrateKbps),null!==o._resource&&a.setResource(o._resource),o._encodedFrameRate>0&&a.setEncodedFrameRate(o._encodedFrameRate),o._averageFrameRate>=0&&a.setAverageFrameRate(o._averageFrameRate),a.setPlayheadTime(o._playheadTimeMs),a.setBufferLength(o._bufferLengthMs),null!=o._streamUrl&&a.setStreamUrl(o._streamUrl)}else a.setSessionFlags(q.SessionFlags.GLOBAL);a.setCapabilities(o._capabilities);var d=o._eventQueue.flush();if(o.isGlobalSession()&&0===d.length)return null;if(a.setEvents(d),a.setIsSdkClient(!0),o._clientConfig.get(x.CONFIG_KEY_SEND_LOGS)&&a.setLogs(o._logBuffer.flush()),o._clientConfig.get(x.CONFIG_KEY_MAX_HEARTBEAT_INFOS)>0){var e=o.compileHeartbeatInfos();e.length>0&&a.setHeartbeatInfos(e)}return a.setSessionStartTime(o._startTimeMs),a.setSessionTime(o.getSessionTime()),o._heartbeatSequenceNumber++,a["export"]()},this.sendHeartbeat=function(){if(!o._cleanedUp){var a=o.makeHeartbeat();null!=a&&o.postHeartbeat(a)}},this.postHeartbeat=function(a){o.createHeartbeatInfo();var b=o._heartbeatSequenceNumber-1;o._logger.info("postHeartbeat(): Send HB["+b+"]"+o.sessionTypeTag());var c=function(_c){function c(_x,_x2){return _c.apply(this,arguments)}c.toString=function(){return _c.toString()};return c}(function(a,c){o.onHeartbeatResponse(a,c,b)});o._gatewayControl.send(a,c)},this.onHeartbeatResponse=function(a,b,c){o._cleanedUp||o._exceptionCatcher.runProtected("onHeartbeatResponse",function(){if(a){var d=b;if(null!=d){o._logger.debug("onHeartbeatResponse(): received valid response for HB["+c+"]"),o.updateHeartbeatInfoOnSuccess(c);var e=d[q.RESPONSE_KEY_CLIENT_ID];null!=e&&e!=o._clientConfig.get(x.CONFIG_KEY_CLIENT_ID)&&(o._logger.debug("onHeartbeatResponse(): setting the client id to "+e+" (from gateway)"),o._clientConfig.set(x.CONFIG_KEY_CLIENT_ID,e),o._clientConfig.save());var f=d[q.RESPONSE_KEY_STATUS];null!=f&&f!=q.RESPONSE_STATUS_NO_ERRORS&&o._logger.error("onHeartbeatResponse(): error from gateway: "+f);var g=d[q.RESPONSE_KEY_CONFIG];if("object"==typeof g){var h=g[q.RESPONSE_CONFIG_KEY_MAX_HEARTBEAT_INFOS];null!=h&&o._clientConfig.get(x.CONFIG_KEY_MAX_HEARTBEAT_INFOS)!==h&&(o._logger.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+h+" (from gateway)"),o._clientConfig.set(x.CONFIG_KEY_MAX_HEARTBEAT_INFOS,h));var i=g[q.RESPONSE_CONFIG_KEY_SEND_LOGS],j=null!=i?B.AsBoolean(i):!1;j!==o._clientConfig.get(x.CONFIG_KEY_SEND_LOGS)&&(o._logger.debug("onHeartbeatResponse(): turning "+(j?"on":"off")+" sending of logs"),o._clientConfig.set(x.CONFIG_KEY_SEND_LOGS,j));var k=g[q.RESPONSE_CONFIG_KEY_HEARTBEAT_INTERVAL];if(null!=k){var l=B.Int32.Cast(k),m=l;m!=o._clientSettings.heartbeatInterval&&(o._logger.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+m),o._clientSettings.heartbeatInterval=m,null!=o._heartbeatTimerCancel&&o.resetHeartbeatTimer())}var n=g[q.RESPONSE_CONFIG_KEY_GATEWAY_URL];null!=n&&n!=o._clientSettings.gatewayUrl&&(o._logger.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),o._clientSettings.gatewayUrl=n)}}else o._logger.warning("onHeartbeatResponse(): decoded heartbeat response is null.")}else{var p=b;B.isValidString(p)?B.stringStartsWith(p,"HTTP timeout")?o._logger.warning("onHeartbeatResponse(): "+p):o._logger.error("onHeartbeatResponse(): failed to send heartbeat: "+p):(p=u.DEFAULT_HEARTBEAT_ERROR_MESSAGE,o._logger.error("onHeartbeatResponse(): "+p)),o.updateHeartbeatInfoOnFailure(c,p)}})},this.getSessionTime=function(){var a=B.Int32.Cast(o._time.current()-o._startTimeMs);return a},this.getNextEventNumber=function(){return this._eventQueue.getNumber()},this.sessionTypeTag=function(){return this.isGlobalSession()?" (global session)":""},this.isGlobalSession=function(){return this._global},this.isVideoSession=function(){return!this._global}};t.DEFAULT_VIDEO_SESSION_FLAGS=q.SessionFlags.VIDEO+q.SessionFlags.QUALITY_METRICS+q.SessionFlags.BITRATE_METRICS;var u=(a.IMonitor=function(){this.onPlayerStateChange=function(a){},this.onBitrateChange=function(a){},this.onEncodedFrameRateChange=function(a){},this.onRenderedFrameRateChange=function(a){},this.onContentLengthChange=function(a){},this.onPlayheadTimeChange=function(a){},this.onStreamUrlChange=function(a){},this.onBufferLengthChange=function(a){},this.onPlayerTypeChange=function(a){},this.onPlayerVersionChange=function(a){},this.onError=function(a,b){},this.onRelease=function(){}},a.Session=function(){function a(a,b,c,d,e,f,g,h){this._id=a,this._global=b,this._contentMetadata=c,this._clientConfig=d,this._systemMetadata=e,this._cwsSession=f,this._exceptionCatcher=g,this._logger=h,this._logger.setModuleName("Session"),this._logger.setSessionId(B.ToString(this._id))}var b=this;b._contentMetadata=null,b._playerStateManager=null,b._id=0,b._global=!1,b._cleaningUp=!1,b._cleanedUp=!1,b._adPlaying=!1,b._adStream=null,b._adPlayer=null,b._adPosition=null,b._ignorePlayerState=!1,b._pooledPlayerState=g.PlayerState.NOT_MONITORED,b._ignoreBitrateAndResource=!1,b._ignorePlayheadTimeandBufferLength=!1,b._ignoreEncodedFrameRateAndDuration=!1,b._ignoreError=!1,b._playingFpsObservationCount=0,b._playingFpsTotal=0,a.apply(b,arguments),this.start=function(){if(b.isVideoSession()?b._logger.info("start(): assetName="+b._contentMetadata.assetName):b._logger.info("start()"+b.sessionTypeTag()),b._cwsSession.start(this),b._clientConfig.isReady())b.initiateSession();else{var a=function a(){b.initiateSession()};b._clientConfig.register(a)}},this.cleanup=function(){if(b._logger.info("cleanup()"+b.sessionTypeTag()),b._cleaningUp=!0,b._cwsSession.willEndSoon(),b._clientConfig.isReady())b.endCwsSessionAndCleanupAll();else{var a=function a(){b.endCwsSessionAndCleanupAll()};b._clientConfig.register(a)}},this.cleanupAll=function(){b._logger.debug("cleanupAll()"+b.sessionTypeTag()),b.isVideoSession()&&null!=b._playerStateManager&&b.detachPlayer(),b._contentMetadata=null,b._logger.setSessionId(null),b._logger=null,b._exceptionCatcher=null,b._client=null,b._clientConfig=null,b._systemMetadata=null,b._cwsSession.cleanup(),b._cwsSession=null,b._cleanedUp=!0},this.endCwsSessionAndCleanupAll=function(){b._cwsSession.end(),b.cleanupAll()},this.initiateSession=function(){b._cwsSession.initialize(),b.setStatesFromSystemMetadata(),b.isVideoSession()&&b.setStatesFromContentMetadata(),b._cwsSession.startSendingHeartbeats()},this.setStatesFromSystemMetadata=function(){b._logger.debug("setStatesFromSystemMetadata()");var a=b._systemMetadata.get(),c=a[J.BROWSER_NAME];null!=c&&b._cwsSession.setBrowserName(c);var d=a[J.BROWSER_VERSION];null!=d&&b._cwsSession.setBrowserVersion(d);var e=a[J.DEVICE_BRAND];null!=e&&b._cwsSession.setDeviceBrand(e);var f=a[J.DEVICE_MANUFACTURER];null!=f&&b._cwsSession.setDeviceManufacturer(f);var g=a[J.DEVICE_MODEL];null!=g&&b._cwsSession.setDeviceModel(g);var h=a[J.DEVICE_TYPE];null!=h&&b._cwsSession.setDeviceType(h);var i=a[J.DEVICE_VERSION];null!=i&&b._cwsSession.setDeviceVersion(i);var j=a[J.FRAMEWORK_NAME];null!=j&&b._cwsSession.setFrameworkName(j);var k=a[J.FRAMEWORK_VERSION];null!=k&&b._cwsSession.setFrameworkVersion(k);var l=a[J.OPERATING_SYSTEM_NAME];null!=l&&b._cwsSession.setOperatingSystemName(l);var m=a[J.OPERATING_SYSTEM_VERSION];null!=m&&b._cwsSession.setOperatingSystemVersion(m)},this.setStatesFromContentMetadata=function(){if(b._logger.debug("setStatesFromContentMetadata()"),b._contentMetadata.defaultBitrateKbps>0&&b._cwsSession._bitrateKbps<0&&b._cwsSession.setBitrateKbps(b._contentMetadata.defaultBitrateKbps),null!=b._contentMetadata.defaultResource&&null==b._cwsSession._resource&&b._cwsSession.setResource(b._contentMetadata.defaultResource),null!=b._contentMetadata.streamUrl&&null==b._cwsSession._streamUrl&&b._cwsSession.setStreamUrl(b._contentMetadata.streamUrl),b._contentMetadata.duration>0&&b._cwsSession.setContentLength(b._contentMetadata.duration),b._contentMetadata.encodedFrameRate>0&&b._cwsSession.setEncodedFrameRate(b._contentMetadata.encodedFrameRate),b._contentMetadata.streamType!==d.StreamType.UNKNOWN){var a=b._contentMetadata.streamType===d.StreamType.LIVE;b._cwsSession.setIsLive(a)}null!=b._contentMetadata.assetName&&b._cwsSession.setAssetName(b._contentMetadata.assetName),null!=b._contentMetadata.viewerId&&b._cwsSession.setViewerId(b._contentMetadata.viewerId),null!=b._contentMetadata.applicationName&&b._cwsSession.setPlayerName(b._contentMetadata.applicationName),B.dictCount(b._contentMetadata.custom)>0&&b._cwsSession.setTags(b._contentMetadata.custom)},this.setRenderedFrameRate=function(a){b._renderedFrameRate=a,b.updateAverageFrameRate()},this.updateAverageFrameRate=function(){if(b._cwsSession._playerState===g.PlayerState.PLAYING){var a=b._renderedFrameRate;if(a>=0){b._playingFpsTotal+=a,b._playingFpsObservationCount++;var c=B.Int32.Cast(1*b._playingFpsTotal/b._playingFpsObservationCount);b._cwsSession.setAverageFrameRate(c)}}},this.onPlayerStateChange=function(a){return b._logger.debug("onPlayerStateChange(): "+a),b._cwsSession._playerState!=a?(b._cwsSession._playerState==g.PlayerState.NOT_MONITORED&&a!=g.PlayerState.NOT_MONITORED&&(b._pooledPlayerState=a),b._ignorePlayerState?void b._logger.debug("onPlayerStateChange(): "+a+" (pooled, "+(b._adPlaying?"ad playing":"preloading")+")"):void b._cwsSession.setPlayerState(a)):void 0},this.onBitrateChange=function(a){return b._logger.debug("onBitrateChange(): "+a),b._ignoreBitrateAndResource?void b._logger.info("onBitrateChange(): ignored"):void b._cwsSession.setBitrateKbps(a)},this.onRenderedFrameRateChange=function(a){b._logger.debug("onRenderedFrameRateChange(): "+a),b._ignoreEncodedFrameRateAndDuration?b._logger.info("onRenderedFrameRateChange(): Ignored rendered frame rate data: "+a+" (ads)"):(b.setRenderedFrameRate(a),b._logger.info("onRenderedFrameRateChange(): Received rendered frame rate data: "+a))},this.onEncodedFrameRateChange=function(a){b._logger.debug("onEncodedFrameRateChange(): "+a),b._contentMetadata.encodedFrameRate>0||(a>0?b._ignoreEncodedFrameRateAndDuration?b._logger.info("onEncodedFrameRateChange(): Ignored encoded frame rate data: "+a+" (ads)"):(b._cwsSession.setEncodedFrameRate(a),b._logger.info("onEncodedFrameRateChange(): Received encoded frame rate data: "+a)):b._logger.warning("onEncodedFrameRateChange(): Ignored invalid encoded frame rate data: "+a))},this.onContentLengthChange=function(a){b._logger.debug("onContentLengthChange(): "+a),b._contentMetadata.duration>0||(a>0?b._ignoreEncodedFrameRateAndDuration?b._logger.info("setContentLength(): Ignored content length data: "+a+" (ads)"):(b._cwsSession.setContentLength(a),b._logger.info("setContentLength(): Received content length data: "+a)):b._logger.warning("setContentLength(): Ignored invalid content length data: "+a))},this.onStreamUrlChange=function(a){b._logger.debug("onStreamUrlChange(): "+a),b._cwsSession.setStreamUrl(a)},this.onPlayheadTimeChange=function(a){b._ignorePlayheadTimeandBufferLength||b._cwsSession.setPlayheadTimeMs(a)},this.onBufferLengthChange=function(a){b._ignorePlayheadTimeandBufferLength||b._cwsSession.setBufferLengthMs(a)},this.onPlayerTypeChange=function(a){b._logger.debug("onPlayerTypeChange(): "+a),null==b._cwsSession.getFrameworkName()&&b._cwsSession.setFrameworkName(a)},this.onPlayerVersionChange=function(a){b._logger.debug("onPlayerVersionChange(): "+a),null==b._cwsSession.getFrameworkVersion()&&b._cwsSession.setFrameworkVersion(a)},this.onError=function(a,c){b._logger.debug("onError(): "+a+" ("+c+")"),b.reportError(a,c)},this.onRelease=function(){b._logger.debug("onRelease()"),b.detachPlayer()},this.adStart=function(a,c,d){return b._logger.debug("adStart(): adStream="+a+" adPlayer="+c+" adPosition="+d),b._adPlaying?void b._logger.warning("adStart(): multiple adStart calls, ignoring"):(b._adPlaying=!0,b._adStream=a,b._adPlayer=c,b._adPosition=d,b._cwsSession._hasJoined||b._cwsSession.togglePauseJoin(!0),void(b._adStream==Conviva.Client.AdStream.CONTENT||b._adPlayer==Conviva.Client.AdPlayer.SEPARATE?(b._cwsSession._playerState!==g.PlayerState.NOT_MONITORED&&(b._pooledPlayerState=b._cwsSession._playerState),b._cwsSession.setPlayerState(g.PlayerState.NOT_MONITORED),b._ignorePlayerState=!0):b._adStream==Conviva.Client.AdStream.SEPARATE&&b._adPlayer==Conviva.Client.AdPlayer.CONTENT&&(b._cwsSession._playerState!==g.PlayerState.NOT_MONITORED&&(b._pooledPlayerState=b._cwsSession._playerState),b._cwsSession.setPlayerState(g.PlayerState.NOT_MONITORED),b._ignorePlayerState=!0,b._ignoreBitrateAndResource=!0,b._ignoreEncodedFrameRateAndDuration=!0,b._ignorePlayheadTimeandBufferLength=!0,b._ignoreError=!0)))},this.adEnd=function(){return b._logger.debug("adEnd()"),b._adPlaying?(b._cwsSession._hasJoined||b._cwsSession.togglePauseJoin(!1),b._adStream==Conviva.Client.AdStream.CONTENT||b._adPlayer==Conviva.Client.AdPlayer.SEPARATE?b._preloading||(b._ignorePlayerState=!1,b._cwsSession.setPlayerState(b._pooledPlayerState)):b._adStream==Conviva.Client.AdStream.SEPARATE&&b._adPlayer==Conviva.Client.AdPlayer.CONTENT&&(b._ignoreBitrateAndResource=!1,b._ignoreEncodedFrameRateAndDuration=!1,b._ignorePlayheadTimeandBufferLength=!1,b._ignoreError=!1,b._preloading||(b._ignorePlayerState=!1,b._cwsSession.setPlayerState(b._pooledPlayerState))),b._adPlaying=!1,void(b._adStream=b._adPlayer=b._adPosition=null)):void b._logger.debug("adEnd(): called before adStart, ignoring")},this.detachPlayer=function(){b._logger.debug("detachPlayer()"),null!==b._playerStateManager&&(b._exceptionCatcher.runProtected("Session.detachPlayer",function(){b._playerStateManager.removeMonitoringNotifier()}),b._playerStateManager=null,b._cwsSession.setPlayerState(g.PlayerState.NOT_MONITORED))},this.attachPlayer=function(a){return b._logger.debug("attachPlayer()"),null!=b._playerStateManager?void b._logger.error("attachPlayer(): detach current PlayerStateManager first"):void b._exceptionCatcher.runProtected("Session.attachPlayer()",function(){a.setMonitoringNotifier(b,b._id)?(a.pushCurrentState(),b._playerStateManager=a):b._logger.error("attachPlayer(): instance of PlayerStateManager is already attached to a session")})},this.contentPreload=function(){return b._logger.debug("contentPreload()"),b._preloading?void b._logger.debug("contentPreload(): called twice, ignoring"):(b._preloading=!0,void(b._ignorePlayerState=!0))},this.contentStart=function(){return b._logger.debug("contentStart()"),b._preloading?(b._preloading=!1,void(b._adPlaying||(b._ignorePlayerState=!1,b._cwsSession.setPlayerState(b._pooledPlayerState)))):void b._logger.warning("contentStart(): called without contentPreload, ignoring")},this.reportError=function(a,c){if(b._logger.info("reportError(): "+a),!B.isValidString(a))return void b._logger.error("reportError(): invalid error message string: "+a);if(c!==Conviva.Client.ErrorSeverity.FATAL&&c!==Conviva.Client.ErrorSeverity.WARNING)return void b._logger.error("reportError(): invalid error severity: "+c);if(b._ignoreError)return void b._logger.debug("reportError(): ignored");var d=c===Conviva.Client.ErrorSeverity.FATAL;b._cwsSession.sendError(a,d)},this.updateContentMetadata=function(a){b._logger.debug("updateContentMetadata(): enter"),b._exceptionCatcher.runProtected("Session.updateContentMetadata",function(){b.mergeContentMetadata(a),b.setStatesFromContentMetadata()})},this.sendCustomEvent=function(a,c){b._logger.info("sendEvent(): eventName="+a+b.sessionTypeTag()),b._cwsSession.enqueueCustomEvent(a,c)},this.mergeContentMetadata=function(a){null==b._contentMetadata.assetName?B.isValidString(a.assetName)&&(b._contentMetadata.assetName=a.assetName,b._cwsSession.enqueueAssetNameChangeEvent(b._contentMetadata.assetName)):b._logger.warning("mergeContentMetadata(): assetName was already set."),null==b._contentMetadata.applicationName?B.isValidString(a.applicationName)&&(b._contentMetadata.applicationName=a.applicationName):b._logger.warning("mergeContentMetadata(): applicationName was already set."),null==b._contentMetadata.streamUrl?B.isValidString(a.streamUrl)&&(b._contentMetadata.streamUrl=a.streamUrl):b._logger.warning("mergeContentMetadata(): streamUrl was already set."),null==b._contentMetadata.viewerId?B.isValidString(a.viewerId)&&(b._contentMetadata.viewerId=a.viewerId):b._logger.warning("mergeContentMetadata(): viewerId was already set."),b._contentMetadata.defaultBitrateKbps<=0?a.defaultBitrateKbps>0&&(b._contentMetadata.defaultBitrateKbps=a.defaultBitrateKbps):b._logger.warning("mergeContentMetadata(): defaultBitrateKbps was already set."),null==b._contentMetadata.defaultResource?B.isValidString(a.defaultResource)&&(b._contentMetadata.defaultResource=a.defaultResource):b._logger.warning("mergeContentMetadata(): defaultResource was already set."),b._contentMetadata.duration<=0?a.duration>0&&(b._contentMetadata.duration=a.duration):b._logger.warning("mergeContentMetadata(): duration was already set."),b._contentMetadata.encodedFrameRate<=0?a.encodedFrameRate>0&&(b._contentMetadata.encodedFrameRate=a.encodedFrameRate):b._logger.warning("mergeContentMetadata(): encodedFrameRate was already set."),b._contentMetadata.streamType==d.StreamType.UNKNOWN?a.streamType!=d.StreamType.UNKNOWN&&(b._contentMetadata.streamType=a.streamType):b._logger.warning("mergeContentMetadata(): streamType was already set.");var c={};for(var e in a.custom){var f=b._contentMetadata.custom[e];null==f?c[e]=a.custom[e]:b._logger.warning("mergeContentMetadata(): custom."+e+" was already set.")}if(B.dictCount(c)>0){var g={};for(e in b._contentMetadata.custom)g[e]=b._contentMetadata.custom[e];for(e in c)g[e]=c[e];b._contentMetadata.custom=g}},this.isGlobalSession=function(){return b._global},this.isVideoSession=function(){return!b._global},
this.sessionTypeTag=function(){return b.isGlobalSession()?" (global session)":""}});u.DEFAULT_HEARTBEAT_ERROR_MESSAGE="received no response (or a bad response) to heartbeat POST request";var v=a.SessionFactory=function(){function a(a,c,d,e){b._client=a,b._clientSettings=c,b._clientConfig=d,b._systemFactory=e,b._logger=b._systemFactory.buildLogger(),b._logger.setModuleName("SessionFactory"),b._nextSessionKey=0,b._sessionsByKey={}}var b=this;b._logger=null,b._logBuffer=null,b._nextSessionKey=0,b._sessionsByKey=null,a.apply(b,arguments),this.cleanup=function(){b._logger=null,b._logBuffer=null;for(var a in b._sessionsByKey){var c=b._sessionsByKey[a];c.cleanup()}b._sessionsByKey=null,b._nextSessionKey=0},this.newSessionKey=function(){var a=b._nextSessionKey;return b._nextSessionKey++,a},this.makeVideoSession=function(a){return null==a&&(a=new d),b.makeSession(a,!1)},this.makeGlobalSession=function(a){return b.makeSession(a,!0)},this.generateSessionId=function(){return E.integer32()},this.makeSession=function(a,c){var d=a.clone(a),e=b.generateSessionId(),f=b._systemFactory.buildSession(b._client,b._clientSettings,b._clientConfig,e,c,d),g=b.newSessionKey();return b.addSession(g,f),f.start(),g},this.getSession=function(a){var c=b._sessionsByKey[a];return null==c&&b._logger.error("Client: invalid sessionKey. Did you cleanup that session previously?"),c},this.getVideoSession=function(a){var c=this.getSession(a);return null!=c&&(c.isVideoSession()||(b._logger.error("Client: invalid sessionKey. Did you cleanup that session previously?"),c=null)),c},this.addSession=function(a,c){b._sessionsByKey[a]=c},this.removeSession=function(a){delete b._sessionsByKey[a]},this.cleanupSession=function(a){var c=b.getSession(a);b.removeSession(a),c.cleanup()}},w=a.CallbackWithTimeout=function(a){this._timer=a,this.getWrapperCallback=function(a,b,c){var d=!1,e=function e(){d||(d=!0,a(!1,c+" ("+b+" ms)"))};this._timer.createOnce(e,b,"CallbackWithTimeout.wrap");var f=function f(b,c){d||(d=!0,a(b,c))};return f}},x=a.Config=function(a,b,c){var d=this;this._logger=a,this._logger.setModuleName("Config"),this._storage=b,this._jsonInterface=c,this._defaultConfig={clientId:q.DEFAULT_CLIENT_ID,sendLogs:!1,maxHbInfos:q.DEFAULT_MAX_HEARTBEAT_INFOS},this._config=B.ObjectShallowCopy(this._defaultConfig),this._loaded=!1,this._loadedEmpty=!1,this._waitingConsumers=[],this.isReady=function(){return this._loaded},this.load=function(){var a=function a(_a,b){_a?(d._parse(b),d._logger.debug("load(): configuration successfully loaded from local storage"+(d._loadedEmpty?" (was empty)":"")+".")):d._logger.error("load(): error loading configuration from local storage: "+b),d._loaded=!0,d._notify()};this._storage.load(x.STORAGE_KEY,a)},this._parse=function(a){var b=this._jsonInterface.decode(a);if(null==b)return void(this._loadedEmpty=!0);var c=b[x.CONFIG_STORAGE_KEY_CLIENT_ID];null!=c&&c!=q.DEFAULT_CLIENT_ID&&""!=c&&"null"!=c&&(this._config[x.CONFIG_KEY_CLIENT_ID]=c,this._logger.debug("parse(): loaded clientId="+c+" (from local storage)"))},this._marshall=function(){var a={};return a[x.CONFIG_STORAGE_KEY_CLIENT_ID]=this._config.clientId,this._logger.debug("_marshall(): saving clientId="+this._config.clientId+" (to local storage)"),this._jsonInterface.encode(a)},this.save=function(){var a=function a(_a2,b){_a2?d._logger.debug("save(): configuration successfully saved to local storage."):d._logger.error("save(): error saving configuration to local storage: "+b)};this._storage.save(x.STORAGE_KEY,this._marshall(),a)},this.register=function(a){return this.isReady()?void a():void this._waitingConsumers.push(a)},this.get=function(a){return this._loaded?this._config[a]:null},this.set=function(a,b){this._loaded&&(this._config[a]=b)},this._notify=function(){for(var a;null!=(a=this._waitingConsumers.shift());)a()}};x.STORAGE_KEY="sdkConfig",x.CONFIG_STORAGE_KEY_CLIENT_ID="clId",x.CONFIG_KEY_CLIENT_ID="clientId",x.CONFIG_KEY_SEND_LOGS="sendLogs",x.CONFIG_KEY_MAX_HEARTBEAT_INFOS="maxHbInfos";var y=a.EventQueue=function(){this._events=[],this._nextEventNumber=0,this.enqueue=function(a){this._events.push(a)},this.getNumber=function(){var a=this._nextEventNumber;return this._nextEventNumber++,a},this.flush=function(){var a=this._events;return this._events=[],a}},z=a.ExceptionCatcher=function(a,b,c){this._logger=a,this._logger.setModuleName("ExceptionCatcher"),this._ping=b,this._systemSettings=c,this.runProtected=function(a,b,c){try{b()}catch(d){if(null!=c)c(d);else{if(this._systemSettings.allowUncaughtExceptions)throw d;this.onUncaughtException(a,d)}}},this.onUncaughtException=function(a,b){var c="Uncaught exception: "+a+": "+b.toString();if(null!=this._ping)try{this._ping.send(c)}catch(d){this._logger.error("Caught exception while sending ping: "+d.toString())}this._logger.error(c)}},A=a.GatewayControl=function(a,b,c,d){var e=this;this._clientSettings=a,this._logger=b,this._logger.setModuleName("GatewayControl"),this._httpClient=c,this._jsonInterface=d,this.send=function(a,b){var c=this._jsonInterface.encode(a),d=this._clientSettings.gatewayUrl+q.gatewayPath,f=function f(a,c){if(a){var d=e._jsonInterface.decode(c);b(a,d)}else{var f=c;b(a,f)}};this._httpClient.request("POST",d,c,"application/json",f)}},B=a.Lang={};B.validateInterface=function(a,b,c){if(null==a)throw new Error("Expected "+c+" implementation is null.");for(var d in b)if("function"!=typeof a[d])throw new Error("Expected method "+d+" in "+c+" implementation.")},B.dictCount=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},B.ToString=function(a){return""+a},B.NumberToInt=function(a){return Math.floor(a)},B.NumberToUnsignedInt=function(a){return Math.abs(B.NumberToInt(a))},B.AsBoolean=function(a){return Boolean(a)},B.isValidString=function(a){return"string"==typeof a&&""!==a},B.stringStartsWith=function(a,b){return"string"!=typeof a||"string"!=typeof b?!1:"function"==typeof a.indexOf?0===a.indexOf(b):!1},B.isBoolean=function(a){return"boolean"==typeof a},B.UrlEncodeString=function(a){return escape(a)},B.isObject=function(a){return"object"==typeof a},B.ObjectToString=function(a){var b="";for(var c in a){var d=a[c],e=d;b+=c+"="+e}return"Object{"+b+"}"},B.ObjectShallowCopyOmitNull=function(a){var b=B.ObjectShallowCopy(a);for(var c in b)null==b[c]&&delete b[c];return b},B.ObjectShallowCopy=function(a){var b={};for(var c in a)b[c]=a[c];return b},B.ObjectShallowEquals=function(a,b){if(typeof a!=typeof b)return!1;if(a instanceof Object&&b instanceof Object){if(B.dictCount(a)!==B.dictCount(b))return!1;var c=!0;for(var d in a)if(c=a[d]===b[d],!c)return!1;return!0}return a===b},B.isInteger=function(a){if("number"!=typeof a)return!1;var b=Math.round(a);return b===a},B.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},B.ArrayEquals=function(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(B.isArray(a[c])&&B.isArray(b[c])){if(!B.ArrayEquals(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0},B.isObjectDefinePropertyPresent=function(){return"undefined"!=typeof Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}()},B.defGet=function(a,b,c){if(B.isObjectDefinePropertyPresent())Object.defineProperty(a,b,{configurable:!0,enumerable:!0,get:c});else{if("undefined"==typeof a.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");a.__defineGetter__(b,c)}},B.defSet=function(a,b,c){if(B.isObjectDefinePropertyPresent())Object.defineProperty(a,b,{configurable:!0,set:c});else{if("undefined"==typeof a.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");a.__defineSetter__(b,c)}},function(){var a={};a.two32=4294967296,a.MaxValue=a.two32-1,a.MinValue=0,B.UInt32=a,B.UInt32.Cast=function(b){var c=parseInt(b);return c>a.MaxValue?c%=a.two32:c<a.MinValue&&(c=-c%a.two32,c=a.two32-c),c},B.UInt32.InRange=function(b){var c=parseInt(b);return c<=a.MaxValue&&c>=a.MinValue};var b={};b.MaxValue=2147483647,b.MinValue=-2147483648,B.Int32=b,B.Int32.Cast=function(a){var c=parseInt(a);return c>b.MaxValue?c%=b.MaxValue:c<b.MinValue&&(c=-c%b.MaxValue,c=b.MaxValue-c),c},B.Int32.InRange=function(a){var c=parseInt(a);return c<=b.MaxValue&&c>=b.MinValue}}();var C=a.LogBuffer=function(){var a=32;this._buffer=[],this.add=function(b){this._buffer.length>=a&&this._buffer.shift(),this._buffer.push(b)},this.flush=function(){var a=this._buffer;return this._buffer=[],a}},D=a.Ping=function(a,c,d){this._isSendingPing=!1,this._cachedBasePingUrl=null,this._logger=a,this._logger.setModuleName("Ping"),this._httpClient=c,this._clientSettings=d,this.send=function(a){if(!this._isSendingPing){this._isSendingPing=!0;var b=this.getBasePingUrl()+"&d="+B.UrlEncodeString(a.toString());this._logger.error("send(): "+b),this._httpClient.request("GET",b,null,null,null),this._isSendingPing=!1}},this.getBasePingUrl=function(){if(!this._cachedBasePingUrl){var a=D.SERVICE_URL+"?comp="+D.COMPONENT_NAME+"&clv="+b.version;if(this._clientSettings&&(a+="&cid="+this._clientSettings.customerKey),a+="&sch="+q.SDK_METADATA_SCHEMA,!this._clientSettings)return a;this._cachedBasePingUrl=a}return this._cachedBasePingUrl}};D.COMPONENT_NAME="sdkjs",D.SERVICE_URL="https://pings.conviva.com/ping.ping";var E=a.Random={};E.maxUInt32=4294967295,E.maxInt32=2147483647,E.minInt32=-2147483648,E.integer32=function(){return Math.floor(Math.random()*E.maxUInt32)+E.minInt32},E.uinteger32=function(){return Math.floor(Math.random()*E.maxUInt32)};var F=a.Sanitize={};F.Integer=function(a,b,c,d){if(isNaN(a))return d;if("number"!=typeof a)return d;if(a==d)return d;var e=B.NumberToInt(a);return F.EnforceBoundaries(e,b,c)},F.EnforceBoundaries=function(a,b,c){return null!=c&&a>c?a=c:null!=b&&b>a&&(a=b),a},F.sanitizeSpecialIntegerValue=function(a){return-1==a||-2==a?a:a=F.Integer(a,0,null,-1)};var G=(a.StreamerError=function(){function a(a,b){c.errorCode=a,c.severity=b}var c=this;c.errorCode=null,c.severity=b.ErrorSeverity.FATAL,a.apply(c,arguments)},a.HttpClient=function(a,b,c,d){this._logger=a,this._logger.setModuleName("HttpClient"),this._httpInterface=b,this._callbackWithTimeout=c,this._systemSettings=d,this.request=function(a,b,c,d,e){var f=1e3*this._systemSettings.httpTimeout,g=this._callbackWithTimeout.getWrapperCallback(e,f,"HTTP timeout");this._logger.debug("request(): calling HttpInterface.makeRequest"),this._httpInterface.makeRequest(a,b,c,d,f,g)}}),H=a.Logger=function(a,b,c,d,e){this._loggingInterface=a,this._timeInterface=b,this._settings=c,this._logBuffer=d,this._packageName=e,this.debug=function(a){this.log(a,f.LogLevel.DEBUG)},this.info=function(a){this.log(a,f.LogLevel.INFO)},this.warning=function(a){this.log(a,f.LogLevel.WARNING)},this.error=function(a){this.log(a,f.LogLevel.ERROR)},this.log=function(a,b){var c=this.formatMessage(a,b);this._logBuffer.add(c),this._settings.logLevel<=b&&this._loggingInterface.consoleLog(c,b)},this.prependModuleName=function(a){var b=a;return b="["+this._moduleName+"] "+b},this.prependPackageName=function(a){var b=a;return b="["+this._packageName+"] "+b},this.prependConvivaNamespace=function(a){var b=a;return b="[Conviva] "+b},this.prependTime=function(a){var b=this._timeInterface.getEpochTimeMs(),c=(b/1e3).toFixed(3).toString();return"["+c+"] "+a},this.prependLogLevel=function(a,b){var c=H.getLogLevelString(b),d=a;return d="["+c+"] "+d},this.prependSessionId=function(a){var b=a;return null!=this._sessionId&&(b="sid="+this._sessionId+" "+b),b},this.setSessionId=function(a){this._sessionId=a},this.setModuleName=function(a){this._moduleName=a},this.formatMessage=function(a,b){return this.prependConvivaNamespace(this.prependTime(this.prependLogLevel(this.prependPackageName(this.prependModuleName(this.prependSessionId(a))),b)))}};H.getLogLevelString=function(a){var b;switch(a){case f.LogLevel.ERROR:b="ERROR";break;case f.LogLevel.WARNING:b="WARNING";break;case f.LogLevel.INFO:b="INFO";break;case f.LogLevel.DEBUG:b="DEBUG"}return b};var I=a.Storage=function(a,b,c,d){this._logger=a,this._logger.setModuleName("Storage"),this._storageInterface=b,this._callbackWithTimeout=c,this._systemSettings=d,this.load=function(a,b){var c=this._callbackWithTimeout.getWrapperCallback(b,1e3*this._systemSettings.storageTimeout,"storage load timeout");this._logger.debug("load(): calling StorageInterface.loadData"),this._storageInterface.loadData(I.STORAGE_SPACE,a,c)},this.save=function(a,b,c){var d=this._callbackWithTimeout.getWrapperCallback(c,1e3*this._systemSettings.storageTimeout,"storage save timeout");this._logger.debug("save(): calling StorageInterface.saveData"),this._storageInterface.saveData(I.STORAGE_SPACE,a,b,d)}};I.STORAGE_SPACE="Conviva";var J=a.SystemMetadata=function(a,c,d){this._logger=a,this._logger.setModuleName("SystemMetadata"),this._metadataInterface=c,this._exceptionCatcher=d,this._cachedMetadata=null,this.get=function(){return this._cachedMetadata||this.retrieve(),this._cachedMetadata},this.retrieve=function(){function a(a,b){d._exceptionCatcher.runProtected("Session.getSystemMetadataSchema(): "+a,function(){var c=b[a];b[a]=c.call(d._metadataInterface)})}var c={};c[J.BROWSER_NAME]=this._metadataInterface.getBrowserName,c[J.BROWSER_VERSION]=this._metadataInterface.getBrowserVersion,c[J.DEVICE_BRAND]=this._metadataInterface.getDeviceBrand,c[J.DEVICE_MANUFACTURER]=this._metadataInterface.getDeviceManufacturer,c[J.DEVICE_MODEL]=this._metadataInterface.getDeviceModel,c[J.DEVICE_TYPE]=this._metadataInterface.getDeviceType,c[J.DEVICE_VERSION]=this._metadataInterface.getDeviceVersion,c[J.FRAMEWORK_NAME]=this._metadataInterface.getFrameworkName,c[J.FRAMEWORK_VERSION]=this._metadataInterface.getFrameworkVersion,c[J.OPERATING_SYSTEM_NAME]=this._metadataInterface.getOperatingSystemName,c[J.OPERATING_SYSTEM_VERSION]=this._metadataInterface.getOperatingSystemVersion;var d=this;this._logger.debug("retrieve(): calling MetadataInterface methods");for(var e in c)a(e,c),B.isValidString(c[e])||delete c[e];c[J.DEVICE_TYPE]!==b.DeviceType.DESKTOP&&c[J.DEVICE_TYPE]!==b.DeviceType.CONSOLE&&c[J.DEVICE_TYPE]!==b.DeviceType.SETTOP&&c[J.DEVICE_TYPE]!==b.DeviceType.MOBILE&&c[J.DEVICE_TYPE]!==b.DeviceType.TABLET&&c[J.DEVICE_TYPE]!==b.DeviceType.SMARTTV&&delete c[J.DEVICE_TYPE],this._cachedMetadata=B.ObjectShallowCopyOmitNull(c)}};J.BROWSER_NAME="browserName",J.BROWSER_VERSION="browserVersion",J.DEVICE_BRAND="deviceBrand",J.DEVICE_MANUFACTURER="deviceManufacturer",J.DEVICE_MODEL="deviceModel",J.DEVICE_TYPE="deviceType",J.DEVICE_VERSION="deviceVersion",J.FRAMEWORK_NAME="frameworkName",J.FRAMEWORK_VERSION="frameworkVersion",J.OPERATING_SYSTEM_NAME="operatingSystemName",J.OPERATING_SYSTEM_VERSION="operatingSystemVersion";var K=a.Time=function(a,b){this._timeInterface=a,this._logger=b,this._logger.setModuleName("Time"),this.current=function(){var a=this._timeInterface.getEpochTimeMs();return B.isInteger(a)||this._logger.error("current(): TimeInterface.getEpochTimeMs() did not return an integer ("+a+")"),a}},L=a.Timer=function(a,b,c){var d=this;this._logger=a,this._logger.setModuleName("Timer"),this._timerInterface=b,this._exceptionCatcher=c,this.create=function(a,b,c){var e=function e(){d._exceptionCatcher.runProtected(c,function(){a()})},f=this.createTimer(e,b,c);return f},this.createOnce=function(a,b,c){var e={cancel:null},f=function f(){d._exceptionCatcher.runProtected(c,function(){e&&"function"==typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),a()})},g=this.createTimer(f,b,c);return e.cancel=g,g},this.createTimer=function(a,b,c){return this._logger.debug("createTimer(): calling TimerInterface.create"),this._timerInterface.createTimer(a,b,c)}}}(),Conviva.Client=a.Client,Conviva.ContentMetadata=a.ContentMetadata,Conviva.PlayerStateManager=a.PlayerStateManager,Conviva.SystemSettings=a.SystemSettings,Conviva.ClientSettings=a.ClientSettings,Conviva.SystemInterface=a.SystemInterface,Conviva.HttpInterface=a.HttpInterface,Conviva.TimeInterface=a.TimeInterface,Conviva.TimerInterface=a.TimerInterface,Conviva.LoggingInterface=a.LoggingInterface,Conviva.MetadataInterface=a.MetadataInterface,Conviva.StorageInterface=a.StorageInterface,Conviva.SystemFactory=a.SystemFactory}})();window.Conviva=Conviva},{}],28:[function(require,module,exports){"use strict";function ScrubberView(){var listeners={};this.makeAccessors();this.createDOM();this.attachListeners(listeners);this.onValueChanged=function(){};this.onScrubberStart=function(){};this.onScrubberStop=function(){};this.clean=function(){Object.keys(listeners).forEach(function(listener){document.removeEventListener(listener,listeners[listener],false)})}}exports.ScrubberView=ScrubberView;ScrubberView.prototype.makeAccessors=function(){var value=0;var min=0;var max=1;var step=0;var orientation="horizontal";this.value=function(_value,trigger){if(_value===undefined)return value;if(value===_value)return this;_value=Math.max(min,Math.min(max,_value));if(step>0){var nsteps=Math.round((_value-min)/step);var invStep=1/step;if(invStep===Math.round(invStep)){_value=(min*invStep+nsteps)/invStep}else{_value=(min/step+nsteps)*step}value=Math.max(min,Math.min(max,_value))}else{value=_value}this.redraw();if(trigger==undefined||trigger==true){this.onValueChanged(value)}return this};this.min=function(_min){if(_min===undefined)return min;if(min===_min)return this;min=_min;this.redraw();return this};this.max=function(_max){if(_max===undefined)return max;if(max===_max)return this;max=_max;this.redraw();return this};this.step=function(_step){if(_step===undefined)return step;if(step===_step)return this;step=_step;this.redraw();return this};this.orientation=function(_orientation){if(_orientation===undefined)return orientation;if(_orientation===orientation)return this;orientation=_orientation;this.redraw();return this}};ScrubberView.prototype.createDOM=function(){this.elt=document.createElement("div");this.track=document.createElement("div");this.thumb=document.createElement("div");this.progress=document.createElement("div");this.elt.className=this.orientation()==="horizontal"?"__player-scrubber":"__player-scrubber __player-scrubber--vertical";this.track.className="__player-track";this.thumb.className="__player-thumb";this.progress.className="__player-scrubber-progress";this.track.appendChild(this.progress);this.elt.appendChild(this.track);this.elt.appendChild(this.thumb)};ScrubberView.prototype.redraw=function(){var frac=(this.value()-this.min())/(this.max()-this.min());if(this.orientation()==="horizontal"){this.elt.className="__player-scrubber";this.thumb.style.left=frac*100+"%"}else{this.elt.className="__player-scrubber __player-scrubber--vertical";this.thumb.style.left="50%";this.thumb.style.top=100-frac*100+"%"}};ScrubberView.prototype.attachListeners=function(listeners){var self=this;var mousedown=false;var cachedLeft;var cachedWidth;var cachedTop;var cachedHeight;listeners.start=function(evt){evt.preventDefault();self.onScrubberStart();mousedown=true;var rect=self.elt.getBoundingClientRect();var xOffset=window.pageXOffset;var yOffset=window.pageYOffset;cachedLeft=rect.left+xOffset;cachedWidth=rect.width;cachedTop=rect.top+yOffset;cachedHeight=rect.height;self.thumb.className+=" dragging"};listeners.stop=function(){mousedown=false;cachedLeft=undefined;cachedWidth=undefined;cachedTop=undefined;cachedHeight=undefined;self.thumb.className="__player-thumb"};var setValueFromPageX=function setValueFromPageX(pageX){var frac=Math.min(1,Math.max((pageX-cachedLeft)/cachedWidth,0));self.value((1-frac)*self.min()+frac*self.max())};var setValueFromPageY=function setValueFromPageY(pageY){var frac=Math.min(1,Math.max(1-(pageY-cachedTop)/cachedHeight,0));self.value((1-frac)*self.min()+frac*self.max())};this.elt.addEventListener("mousedown",listeners.start,false);this.elt.addEventListener("touchstart",listeners.start,false);listeners.mousemove=function(evt){if(!mousedown){return}evt.preventDefault();if(self.orientation()==="horizontal"){setValueFromPageX(evt.pageX)}else{setValueFromPageY(evt.pageY)}};listeners.touchmove=function(evt){if(!mousedown){return}evt.preventDefault();if(self.orientation()==="horizontal"){setValueFromPageX(evt.changedTouches[0].pageX)}else{setValueFromPageY(evt.changedTouches[0].pageY)}};listeners.mouseup=function(evt){if(!mousedown){return}evt.preventDefault();if(self.orientation()==="horizontal"){setValueFromPageX(evt.pageX)}else{setValueFromPageY(evt.pageY)}self.onScrubberStop(self.value());listeners.stop()};listeners.touchend=function(evt){if(!mousedown){return}evt.preventDefault();if(self.orientation()==="horizontal"){setValueFromPageX(evt.changedTouches[0].pageX)}else{setValueFromPageY(evt.changedTouches[0].pageY)}self.onScrubberStop(self.value());listeners.stop()};document.addEventListener("mousemove",listeners.mousemove,false);document.addEventListener("touchmove",listeners.touchmove,false);document.addEventListener("mouseup",listeners.mouseup,false);document.addEventListener("touchend",listeners.touchend,false)}},{}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _overlay=require("./overlay");var _overlay2=_interopRequireDefault(_overlay);var _live=require("./live");var live=_interopRequireWildcard(_live);var _text=require("./text");var LiveOverlay=function LiveOverlay(player){var _this=this;_classCallCheck(this,LiveOverlay);var container=_htmlUtils2["default"].createElement("p");var message=_htmlUtils2["default"].createElement("span");var icon=_htmlUtils2["default"].createElement("i",{className:"__player-live-overlay-icon"});container.appendChild(icon);container.appendChild(message);this.overlay=new _overlay2["default"](player,container,{closeable:false,centered:true,name:"live"});player.on("liveStateChanged",function(state){switch(state){case live.states.NOT_STARTED:message.textContent=_text.live.starting;_this.overlay.show();break;case live.states.STARTED:_this.overlay.hide();break;case live.states.ENDED:message.textContent=_text.live.ended;_this.overlay.show();break}})};exports["default"]=LiveOverlay;module.exports=exports["default"]},{"./html-utils":22,"./live":30,"./overlay":32,"./text":37}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var states={NOT_STARTED:"NotStarted",STARTED:"Started",ENDED:"Ended"};exports.states=states},{}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=createMoreVideosLink;var _htmlUtils=require("./html-utils");function createMoreVideosLink(_ref){var domain=_ref.domain;var isEmbedded=_ref.isEmbedded;return(0,_htmlUtils.createElement)("a",{className:"__player-more-videos-link",href:domain+"/video/index.html",target:isEmbedded?"_blank":"_self",childNodes:[(0,_htmlUtils.createElement)("div",{className:"__player-related-icon-external"}),document.createTextNode("More Videos")]})}module.exports=exports["default"]},{"./html-utils":22}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x3,_x4,_x5){var _again=true;_function:while(_again){var object=_x3,property=_x4,receiver=_x5;desc=parent=getter=undefined;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x3=parent;_x4=property;_x5=receiver;_again=true;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass}var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _events=require("events");var _classList=require("class-list");var _classList2=_interopRequireDefault(_classList);var defaultState=function defaultState(){return{currentOverlay:null,wasPlaying:false}};var Overlay=function(_EventEmitter){_inherits(Overlay,_EventEmitter);function Overlay(player,content){var options=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];_classCallCheck(this,Overlay);_get(Object.getPrototypeOf(Overlay.prototype),"constructor",this).call(this);player.overlayState=player.overlayState||defaultState();this.player=player;this.options=options;this.node=this.createOverlay(content,options);this.classList=(0,_classList2["default"])(this.node)}_createClass(Overlay,[{key:"state",value:function state(){return this.player.overlayState}},{key:"show",value:function show(){if(this.player.videoElementAvailable&&!this.player.isPaused()&&!this.state().wasPlaying){this.player.pause();this.state().wasPlaying=true}if(this.state().currentOverlay){this.state().currentOverlay.hide(false)}this.state().currentOverlay=this;this.player.node.appendChild(this.state().currentOverlay.node);this.emit("open");this.player.classList.add("__player--overlay-open");if(this.options.name){this.player.classList.add("__player--overlay-"+this.options.name+"-open")}return this}},{key:"hide",value:function hide(){var resumePlay=arguments.length<=0||arguments[0]===undefined?true:arguments[0];if(this.state().currentOverlay&&this.state().currentOverlay.node===this.node){this.state().currentOverlay=null;this.node.parentNode.removeChild(this.node);this.player.classList.remove("__player--overlay-open");if(this.options.name){this.player.classList.remove("__player--overlay-"+this.options.name+"-open")}if(resumePlay){if(this.state().wasPlaying){this.player.play()}this.state().wasPlaying=false}this.emit("close")}return this}},{key:"createOverlay",value:function createOverlay(content,options){var _this=this;var dialog=_htmlUtils2["default"].createElement("div",{className:"__player-overlay"+(options.name?" __player-overlay--"+options.name:"")});if(options.centered){var wrapper=_htmlUtils2["default"].createElement("div",{className:"__player-overlay--centered"});var overlayContent=_htmlUtils2["default"].createElement("div",{className:"__player-overlay--centeredContent"});overlayContent.appendChild(content);wrapper.appendChild(overlayContent);dialog.appendChild(wrapper)}else{dialog.appendChild(content)}if(options.closeable){var closeButton=_htmlUtils2["default"].createElement("button",{href:"#",className:"__player-overlay-button-close"});closeButton.appendChild(document.createElement("i"));closeButton.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();_this.hide()},false);dialog.appendChild(closeButton)}return dialog}}],[{key:"title",value:function title(text){return _htmlUtils2["default"].createElement("p",{textContent:text,className:"__player-overlay-title"})}},{key:"description",value:function description(text){return _htmlUtils2["default"].createElement("p",{textContent:text,className:"__player-overlay-description"})}}]);return Overlay}(_events.EventEmitter);exports["default"]=Overlay;module.exports=exports["default"]},{"./html-utils":22,"class-list":1,events:43}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _utils=require("./utils");var _utils2=_interopRequireDefault(_utils);var init=function init(){return require("./video-player")};exports["default"]={init:init,utils:_utils2["default"]};if(typeof window!=="undefined"){window.HBOPlayer=init()}module.exports=exports["default"]},{"./utils":40,"./video-player":41}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _utils=require("./utils");var _htmlUtils=require("./html-utils");var _queryString=require("query-string");var _queryString2=_interopRequireDefault(_queryString);var _overlay=require("./overlay");var _overlay2=_interopRequireDefault(_overlay);var _bufferOverlay=require("./buffer-overlay");var _bufferOverlay2=_interopRequireDefault(_bufferOverlay);var _errorOverlay=require("./error-overlay");var _errorOverlay2=_interopRequireDefault(_errorOverlay);var _carousel=require("./carousel");var _carousel2=_interopRequireDefault(_carousel);var _iconTextButton=require("./icon-text-button");var _iconTextButton2=_interopRequireDefault(_iconTextButton);var _moreVideosLink=require("./more-videos-link");var _moreVideosLink2=_interopRequireDefault(_moreVideosLink);var _text=require("./text");var imagesForWidths=function imagesForWidths(url,widths){var IMAGE_URL_REGEX=/(.+-)(\d+|())\.jpg$/;var baseUrl=url.match(IMAGE_URL_REGEX);return baseUrl?widths.map(function(width){return{width:width,url:""+baseUrl[1]+width+".jpg"}}):[{width:512,url:url}]};var hasProtocol=function hasProtocol(url){return url.match(/^(.+):\/\//)!==null};var Related=function(){function Related(player){var _this=this;_classCallCheck(this,Related);this.player=player;this.overlay=createRelatedOverlay(player);var openAfterPauseTimeout=(0,_utils.createTimeout)(this.player.options.related.openRelatedOverlayAfterPauseTimeout);player.on("related",function(){openAfterPauseTimeout.clear();_this.overlay.show()});player.on("related-close",function(){return _this.overlay.hide()});player.on("videodataloaded",function(){
if(player.videoData.tvma){_this.loadTVMARelatedVideos(_this.player.options.id)}else{_this.loadRelatedVideos(_this.player.options.id)}});player.on("pause-toggle",function(){openAfterPauseTimeout.set(function(){return _this.player.emit("related")})});player.on("play",function(){openAfterPauseTimeout.clear();_this.player.emit("related-close")});player.on("share",function(){return openAfterPauseTimeout.clear()});player.on("open-cc-settings",function(){return openAfterPauseTimeout.clear()});player.on("ended",function(){return _this.player.emit("related")})}_createClass(Related,[{key:"parseVideoXML",value:function parseVideoXML(video){return{id:video.getAttribute("id"),imagePath:(0,_utils.queryText)(video,"standardImage"),urlPath:(0,_utils.queryText)(video,"url"),title:(0,_utils.queryText)(video,"title"),program:(0,_utils.queryText)(video,"program"),runtime:(0,_utils.queryText)(video,"runtime")}}},{key:"mapVideo",value:function mapVideo(_ref){var id=_ref.id;var imagePath=_ref.imagePath;var urlPath=_ref.urlPath;var props=_objectWithoutProperties(_ref,["id","imagePath","urlPath"]);var imageDomain=this.player.options.imageDomain;var imageUrl=hasProtocol(imagePath)?imagePath:imageDomain+imagePath;var imageSizes=imagesForWidths(imageUrl,[200,300,512,1024]);var defaultImageUrl=(0,_utils.find)(imageSizes,function(_ref2){var width=_ref2.width;return width===512}).url;var contextParameters=_queryString2["default"].stringify(this.player.options.related.passThroughContextParameters);var globalVideoPath=contextParameters===""?"video/video.html?autoplay=true&g=u&vid="+id:"video/video.html?autoplay=true&g=u&vid="+id+"&"+contextParameters;var path=this.player.options.related.alwaysLinkToGlobalVideo||!urlPath?globalVideoPath:urlPath;var url=hasProtocol(path)?path:path.substring(0,1)==="/"?this.player.options.domain+path:this.player.options.domain+"/"+path;return _extends({id:id,url:url,path:path,imageSizes:imageSizes,defaultImageUrl:defaultImageUrl},props)}},{key:"parseCategory",value:function parseCategory(allVideos,videoCategory){var _this2=this;return allVideos.concat(videoCategory.map(function(category){return _this2.mapVideo(_this2.parseVideoXML(category))}))}},{key:"loadRelatedVideos",value:function loadRelatedVideos(){var _this3=this;var success=function success(renderResultXML){var videosArray=[(0,_utils.nodelistArray)(renderResultXML.querySelectorAll("videos related clips video"))];var relatedVideos=videosArray.reduce(function(allVideos,videoCategory){return _this3.parseCategory(allVideos,videoCategory)},[]);if(relatedVideos.length>0){_this3.player.emit("related-data-loaded",relatedVideos)}else{_this3.player.emit("related-data-empty")}};var error=function error(){_this3.player.emit("related-data-error",_text.errors.connectionError)};var url=this.player.options.cdn+"/apps/render/rest/v1/videos/metadata/"+this.player.options.id+"/related";this.player.request({url:url,success:success,error:error})}},{key:"loadTVMARelatedVideos",value:function loadTVMARelatedVideos(){var _this4=this;var success=function success(results){var video=results.relatedVideos.hasOwnProperty(_this4.player.options.id)?results.relatedVideos[_this4.player.options.id]:results.relatedVideos["default"];var relatedVideos=video.map(function(relatedVideo){return _this4.mapVideo(relatedVideo)});if(relatedVideos.length>0){_this4.player.emit("related-data-loaded",relatedVideos)}else{_this4.player.emit("related-data-empty")}};var error=function error(){_this4.player.emit("related-data-error",_text.errors.connectionError)};var url=this.player.options.cdn+"/html/vshort/video/related-videos.json";this.player.request({url:url,success:success,error:error,dataType:"json"})}}]);return Related}();exports["default"]=Related;function createRelatedOverlay(player){var content=document.createDocumentFragment();var loadingIndicator=_bufferOverlay2["default"].createLoadingIndicator();content.appendChild(loadingIndicator);content.appendChild(createControlButtons(player));var carousel=null;player.on("related-data-loaded",function(relatedVideos){carousel=new _carousel2["default"](relatedVideos,createItemNode.bind(null,player));var videoList=carousel.node;var overlayTitle=createOverlayTitle({initialText:carousel.items[0].item.overlayTitle,defaultText:"Watch Next"});var carouselWrapper=(0,_htmlUtils.createElement)("div",{className:"__player-related-carousel-wrapper",childNodes:[overlayTitle.node,videoList]});loadingIndicator.parentNode.replaceChild(carouselWrapper,loadingIndicator);carousel.computeSizes();carousel.on("stopped",function(item){overlayTitle.update(item.overlayTitle)})});player.on("related-data-error",function(message){var center=(0,_htmlUtils.createElement)("div",{className:"__player-overlay--centered",childNodes:[(0,_htmlUtils.createElement)("div",{className:"__player-overlay--centeredContent __player-related-error-wrapper",childNodes:[_errorOverlay2["default"].errorContent({message:message})]})]});loadingIndicator.parentNode.replaceChild(center,loadingIndicator)});player.on("related-data-empty",function(){var center=(0,_htmlUtils.createElement)("div",{className:"__player-overlay--centered",childNodes:[(0,_htmlUtils.createElement)("div",{className:"__player-overlay--centeredContent __player-related-error-wrapper",childNodes:[(0,_moreVideosLink2["default"])({domain:player.options.domain,isEmbedded:player.options.isEmbedded})]})]});loadingIndicator.parentNode.replaceChild(center,loadingIndicator)});var relatedOverlay=new _overlay2["default"](player,content,{centered:false,name:"related",closeable:true});relatedOverlay.on("open",function(){if(carousel){carousel.computeSizes()}});return relatedOverlay}function createOverlayTitle(_ref3){var initialText=_ref3.initialText;var defaultText=_ref3.defaultText;var title=(0,_htmlUtils.createElement)("div",{className:"__player-overlay-title",textContent:typeof initialText!=="undefined"?initialText:defaultText});var node=(0,_htmlUtils.createElement)("div",{className:"__player-overlay-titleWrapper",childNodes:[title]});var update=function update(text){title.textContent=typeof text!=="undefined"?text:defaultText};return{node:node,update:update}}function createShareButton(player){return(0,_iconTextButton2["default"])({icon:"share",textContent:"Share",className:"__player-related-button-share",onClick:function onClick(){return player.emit("share","share")}})}function createResumeButton(player){return(0,_iconTextButton2["default"])({icon:"play",textContent:"Resume Video",className:"__player-related-button-resume",onClick:function onClick(){player.emit("related-close");player.play()}})}function createReplayButton(player){return(0,_iconTextButton2["default"])({icon:"replay",textContent:"Replay Video",className:"__player-related-button-replay",onClick:function onClick(){player.emit("related-close");player.play()}})}function createControlButtons(player){return(0,_htmlUtils.createElement)("div",{className:"__player-button-bar",childNodes:[createShareButton(player),createResumeButton(player),createReplayButton(player)]})}function createItemNode(player,item,carousel){return item.type==="cta"?createCTAItemNode(player,item,carousel):createVideoItemNode(player,item,carousel)}function createCTAItemNode(player,item,carousel){var image=(0,_htmlUtils.createElement)("div",{className:"__player-related-imageWrapper __player-related-imageWrapper--cta",childNodes:[(0,_htmlUtils.createElement)("img",{className:"__player-related-video-image",src:item.defaultImageUrl,srcset:item.imageSizes.map(function(_ref4){var url=_ref4.url;var width=_ref4.width;return url+" "+width+"w"}).join(", ")})]});var metadata=(0,_htmlUtils.createElement)("div",{className:"__player-related-video-metadata __player-related-video-metadata-cta",childNodes:[(0,_htmlUtils.createElement)("span",{className:"__player-related-video-cta",textContent:item.ctaText})]});return createCard(player,item,carousel,image,metadata)}function createVideoItemNode(player,item,carousel){var image=(0,_htmlUtils.createElement)("div",{className:"__player-related-imageWrapper",childNodes:[(0,_htmlUtils.createElement)("img",{className:"__player-related-video-image",src:item.defaultImageUrl,srcset:item.imageSizes.map(function(_ref5){var url=_ref5.url;var width=_ref5.width;return url+" "+width+"w"}).join(", ")}),(0,_htmlUtils.createElement)("div",{className:"__player-related-play"})]});var metadata=(0,_htmlUtils.createElement)("div",{className:"__player-related-video-metadata",childNodes:[(0,_htmlUtils.createElement)("span",{className:"__player-related-video-program",textContent:item.program}),(0,_htmlUtils.createElement)("span",{className:"__player-related-video-title",textContent:item.title+" ("+item.runtime+")"})]});return createCard(player,item,carousel,image,metadata)}function createCard(player,item,carousel,top,bottom){var link=(0,_htmlUtils.createElement)("a",{className:"__player-related-video-link",href:item.url,target:"_blank",childNodes:[top,bottom]});link.addEventListener("click",function(event){var itemIndex=carousel.items.indexOf(carousel.itemById(item.id))+1;var numItems=carousel.items.length;player.emit("related-item-clicked",{item:item,event:event,itemIndex:itemIndex,numItems:numItems})});carousel.on("resized",function(width){link.style.width=width+"px"});return link}module.exports=exports["default"]},{"./buffer-overlay":7,"./carousel":10,"./error-overlay":17,"./html-utils":22,"./icon-text-button":23,"./more-videos-link":31,"./overlay":32,"./text":37,"./utils":40,"query-string":80}],35:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _htmlUtils=require("./html-utils");var _queryString=require("query-string");var _queryString2=_interopRequireDefault(_queryString);var _utils=require("./utils");var _utils2=_interopRequireDefault(_utils);var _overlay=require("./overlay");var _overlay2=_interopRequireDefault(_overlay);var _text=require("./text");var _iconTextButton=require("./icon-text-button");var _iconTextButton2=_interopRequireDefault(_iconTextButton);var ShareDialogModifier="share";var Sharing=function(){function Sharing(player){var _this=this;_classCallCheck(this,Sharing);this.player=player;player.once("videodataloaded",function(){_this.overlay=createShareOverlay(player);_this.node=createSidebox(_this.player);player.node.appendChild(_this.node);_this.hide()});player.once("tvmaapproved",function(){return _this.show()});this.timeout=_utils2["default"].createTimeout();player.on("pause",function(){return _this.show()});player.on("play",function(){_this.overlay.hide();_this.fadeOut()});player.on("click",function(){if(!player.isPaused()){_this.show().fadeOut()}});player.on("share",function(type){if(type==="share"){_this.overlay.show()}});player.on("sharing-close",function(){_this.overlay.hide();_this.player.play()})}_createClass(Sharing,[{key:"show",value:function show(){this.timeout.clear();this.node.className="__player-dialog--share __player-controls--fadein";return this}},{key:"hide",value:function hide(){this.node.className="__player-dialog--share __player-controls--fadeout";return this}},{key:"fadeOut",value:function fadeOut(){this.timeout.set(this.hide.bind(this));return this}}]);return Sharing}();exports["default"]=Sharing;function createSidebox(player){return(0,_htmlUtils.createElement)("div",{className:_htmlUtils.PlayerDialogNameWithModifier+ShareDialogModifier,childNodes:[createShareButton(player),createRelatedButton(player)]})}function createSharable(el){return(0,_htmlUtils.createElement)("li",{childNodes:[el]})}function createShareOverlay(player){var sharableList=(0,_htmlUtils.createElement)("ul",{className:"__player-share-link-list",childNodes:[createSharable(createFBShareButton(player)),createSharable(createTwitterShareButton(player)),createSharable(createEmailButton(player)),createSharable(createEmbedButton(player))]});var textarea=(0,_htmlUtils.createElement)("textarea",{className:"__player-embed-code",readonly:true,value:embedCode(player)});textarea.addEventListener("click",function(event){event.target.select()});var embedWrapper=(0,_htmlUtils.createElement)("div",{className:"__player-share-embed-wrapper",childNodes:[_overlay2["default"].description(_text.share.embed.description),textarea]});var container=document.createDocumentFragment();var center=(0,_htmlUtils.createElement)("div",{className:"__player-share-link-list-embed-wrapper __player-overlay--centered",childNodes:[(0,_htmlUtils.createElement)("div",{className:"__player-overlay--centeredContent",childNodes:[sharableList,embedWrapper]})]});container.appendChild(createOverlayTitle(player.videoData.programName,player.videoData.title));container.appendChild(center);container.appendChild(createControlButtons(player));var overlay=new _overlay2["default"](player,container,{closeable:true,centered:false,name:"share"});player.on("share",function(type){if(type==="embed"){overlay.classList.toggle("__player-overlay--share--embed-open");textarea.select()}});return overlay}function createControlButtons(player){var resumeOrReplay=function resumeOrReplay(){player.emit("sharing-close");player.play()};return(0,_htmlUtils.createElement)("div",{className:"__player-button-bar",childNodes:[createRelatedControlButton(function(){return player.emit("related")}),createResumeButton(resumeOrReplay),createReplayButton(resumeOrReplay)]})}function createRelatedControlButton(onClick){return(0,_iconTextButton2["default"])({icon:"related",textContent:"Watch Next",className:"__player-share-button-related",onClick:onClick})}function createResumeButton(onClick){return(0,_iconTextButton2["default"])({icon:"play",textContent:"Resume Video",className:"__player-share-button-resume",onClick:onClick})}function createReplayButton(onClick){return(0,_iconTextButton2["default"])({icon:"replay",textContent:"Replay Video",className:"__player-share-button-replay",onClick:onClick})}function createOverlayTitle(program,videoTitle){var title=(0,_htmlUtils.createElement)("div",{className:"__player-overlay-title",textContent:"Share"});var description=(0,_htmlUtils.createElement)("div",{className:"__player-overlay-description",textContent:program?program+": "+videoTitle:videoTitle});return(0,_htmlUtils.createElement)("div",{className:"__player-overlay-titleWrapper",childNodes:[title,description]})}function createButton(player,id,emitArgs){var button=(0,_htmlUtils.createElement)("button",{className:"__player-button-"+id});button.addEventListener("click",function(e){e.preventDefault();player.emit.apply(player,_toConsumableArray(emitArgs))},false);return button}function createShareButton(player){return createButton(player,"share",["share","share",player.videoData.title])}function createRelatedButton(player){return createButton(player,"related",["related"])}function createEmailButton(player){var emailBody="Dear Friend, %0A%0AI thought you might be interested in this content from HBO.%0A%0A"+player.videoData.title+"%0A%0A"+encodeURIComponent(player.options.domain+player.options.videoPath)+"%0A%0AThank you! %0A%0ADont have HBO? Order HBO: "+player.options.domain+"/order";var link=(0,_htmlUtils.createElement)("a",{className:"__player-button-share-email",href:"mailto:%20?subject=HBO.com Share&body="+emailBody,target:"_parent"});link.addEventListener("click",function(e){e.stopPropagation();player.emit("share","email",player.videoData.title)});return link}function createEmbedButton(player){var button=(0,_htmlUtils.createElement)("a",{href:"#",className:"__player-button-share-embed"});button.addEventListener("click",function(e){e.stopPropagation();e.preventDefault();player.emit("share","embed")});return button}function createFBShareButton(player){var link=(0,_htmlUtils.createElement)("a",{className:"__player-button-share-facebook",href:"https://www.facebook.com/sharer/sharer.php?"+_queryString2["default"].stringify({s:100,u:player.options.domain+player.options.videoPath}),target:"_blank"});link.addEventListener("click",function(e){e.stopPropagation();e.preventDefault();openPopup(e);player.emit("share","facebook")});return link}function createTwitterShareButton(player){var link=(0,_htmlUtils.createElement)("a",{className:"__player-button-share-twitter",href:"https://twitter.com/intent/tweet?"+_queryString2["default"].stringify({text:player.videoData.title+" "+player.options.domain+player.options.videoPath+" via @hbo",source:"webclient"}),target:"_blank"});link.addEventListener("click",function(e){e.stopPropagation();e.preventDefault();openPopup(e);player.emit("share","twitter")});return link}function openPopup(event){var winHeight=screen.height;var winWidth=screen.width;var width=550;var height=420;var options={width:width,height:height,scrollbars:"yes",resizable:"yes",toolbar:"no",location:"yes",left:Math.round(winWidth/2-width/2),top:winHeight>height?Math.round(winHeight/2-height/2):0};var windowOptions=Object.keys(options).map(function(key){return key+"="+options[key]}).join(",");window.open(event.currentTarget.href,"intent",windowOptions)}function embedCode(_ref){var videoData=_ref.videoData;var options=_ref.options;return'<iframe src="'+options.domain+"/data/content/global/videos/embed/data/"+videoData.id+".html?"+_queryString2["default"].stringify(options.embedDimensions)+'" width="'+options.embedDimensions.width+'" height="'+options.embedDimensions.height+'" style="overflow:hidden" scrolling="no" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" seamless="seamless" frameborder="0" type="text/html"></iframe><div><a title="'+videoData.title+'" href="'+options.domain+"/video/video.html?autoplay=true&vid="+videoData.id+"&filter="+(videoData.pageUrl?videoData.pageUrl:"")+'&view=null">'+videoData.title+"</a></div>"}module.exports=exports["default"]},{"./html-utils":22,"./icon-text-button":23,"./overlay":32,"./text":37,"./utils":40,"query-string":80}],36:[function(require,module,exports){"use strict";exports.set=function(key,value){try{localStorage.setItem(key,value)}catch(e){}};exports.get=function(key){if(typeof localStorage!=="undefined"){return localStorage.getItem(key)}return null};exports.STORAGE_CC_SETTINGS="ccSettings";exports.STORAGE_CC_ENABLED="ccEnabled"},{}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tvma={title:"We need a few details",dateOfBirthLabel:"Date of birth",error:{date:"Please enter a valid birth date.",tooYoung:"You are not old enough to view this content.",email:"Please enter a valid email address.",signupServiceRequestFail:"Connection error. Check your internet connection and try again."},month:{label:"MM"},day:{label:"DD"},year:{label:"YY"},email:{label:"Email"},playButton:{label:"Play"},newsApproval:{label:"Yes, I would like to receive occasional news, updates, and gifts from HBO and its affiliates."}};exports.tvma=tvma;var share={embed:{description:"Copy and paste the link below on your website or blog"}};exports.share=share;var ccSettings={title:"Closed caption settings"};exports.ccSettings=ccSettings;var errors={notAvailable:"This video is not available for your device",noLongerAvailable:"We're sorry. This video is no longer available.",geoFiltered:"We're sorry. This video is not available in your region.",connectionError:"An error has occurred while trying to connect to the server. Please check your internet connection before proceeding or try again shortly.",liveNotSupported:"Live video is currently not supported on this platform"};exports.errors=errors;var live={starting:"This Live Video Event Will Begin Shortly",ended:"This Live Video Event Has Ended"};exports.live=live},{}],38:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.parse=parse;exports.parseStyling=parseStyling;exports.parseContainer=parseContainer;exports.parsettp=parsettp;exports.length=length;exports.parseStyles=parseStyles;exports.parseRegions=parseRegions;exports.parseChildren=parseChildren;exports.parseParagraph=parseParagraph;exports.parseColor=parseColor;exports.timeExpression=timeExpression;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}else{return Array.from(arr)}}var _objectAssign=require("object-assign");var _objectAssign2=_interopRequireDefault(_objectAssign);var _utils=require("./utils");function parse(xml){var ttp=parsettp(xml.getElementsByTagName("tt").item(0));var regions=parseRegions(xml.getElementsByTagName("region"),ttp);var referenceStyles=parseStyling(xml.getElementsByTagName("styling").item(0),ttp);var body=xml.getElementsByTagName("body").item(0);var paragraphs=parseContainer(body,ttp,referenceStyles,regions);var lookupInterval=15;var premappedTimings=paragraphs.reduce(function(map,paragraph){for(var i=Math.floor(paragraph.begin/lookupInterval),len=Math.floor(paragraph.end/lookupInterval);i<=len;i++){if(!map[i]){map[i]=[]}map[i].push(paragraph)}return map},{});var root=document.createElement("div");assignStyles(root,parseStyles(body,ttp,referenceStyles));var getTime=function getTime(position){return(premappedTimings[Math.floor(position/lookupInterval)]||[]).filter(function(p){return p.begin<=position&&p.end>position})};return{paragraphs:paragraphs,premappedTimings:premappedTimings,time:getTime,root:root,fragmentAtTime:function fragmentAtTime(time){var ps=getTime(time);var _ps$reduce=ps.reduce(function(collection,p){if(collection.original.indexOf(p.container)===-1){collection.original.push(p.container);collection.containers.push(p.container.cloneNode(true))}var clonedContainer=collection.containers[collection.original.indexOf(p.container)];var paragraph=document.createElement("p");assignStyles(paragraph,p.style);paragraph.appendChild(p.nodes.cloneNode(true));clonedContainer.appendChild(paragraph);return collection},{containers:[],original:[]});var containers=_ps$reduce.containers;var fragment=document.createDocumentFragment();containers.forEach(function(container){fragment.appendChild(container)});return fragment}}}function getChildStyles(node){var ttp=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return(0,_utils.nodelistArray)(node.getElementsByTagName("style")).reduce(function(collection,style){return(0,_objectAssign2["default"])(collection,parseStyles(style,ttp))},{})}function parseStyling(node){var ttp=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!node){return{}}return(0,_utils.nodelistArray)(node.getElementsByTagName("style")).reduce(function(collection,style){collection[style.getAttribute("xml:id")]=parseStyles(style,ttp);return collection},{})}function parseContainer(node,ttp,styling){var regions=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];var timeContainer=node.getAttribute("timeContainer")||"par";if(timeContainer!=="par"){throw new Error("Only parallel timeContainer attributes supported")}if(node.hasAttribute("begin")||node.hasAttribute("end")||node.hasAttribute("dur")){throw new Error("Time expressions not supported on other than <p> nodes")}var region=regions[node.getAttribute("region")]||{};var inlineStyles=parseStyles(node,ttp,styling);var style=(0,_objectAssign2["default"])({},region.style||{},inlineStyles);var newContainer=document.createElement(node.tagName);assignStyles(newContainer,style);var paragraphs=[];for(var i=0,len=node.childNodes.length;i<len;i++){var child=node.childNodes.item(i);if(/^div$/i.test(child.tagName)){paragraphs.splice.apply(paragraphs,[paragraphs.length,0].concat(_toConsumableArray(parseContainer(child,ttp,styling,regions))))}else if(/^p$/i.test(child.tagName)){paragraphs.push(parseParagraph(child,newContainer,ttp,styling,regions))}}return paragraphs}function parsettp(node){var cellResolution=(node.getAttribute("ttp:cellResolution")||"32 15").split(/\s+/).map(asInt);var clockMode=node.getAttribute("ttp:clockMode")||"utc";var dropMode=node.getAttribute("ttp:dropMode")||"nonDrop";var _split=(node.getAttribute("ttp:frameRateMultiplier")||"1 1").split(/\s+/);var _split2=_slicedToArray(_split,2);var frameRateMultiplierNumerator=_split2[0];var frameRateMultiplierDenominator=_split2[1];var frameRate=parseInt(node.getAttribute("ttp:frameRate")||"30",10)*(frameRateMultiplierNumerator/frameRateMultiplierDenominator);var markerMode=node.getAttribute("ttp:markerMode")||"discontinuous";var pixelAspectRatio=(node.getAttribute("ttp:pixelAspectRatio")||"1 1").split(/\s+/).map(asInt);var subFrameRate=parseFloat(node.getAttribute("ttp:subFrameRate")||"1");var timeBase=node.getAttribute("ttp:timeBase")||"media";if(timeBase!=="media"){throw new Error("Unsupported timeBase format "+timeBase)}return{cellResolution:cellResolution,clockMode:clockMode,dropMode:dropMode,frameRate:frameRate,markerMode:markerMode,subFrameRate:subFrameRate,timeBase:timeBase,pixelAspectRatio:pixelAspectRatio}}var LENGTH=/^((\+|-)?([0-9]+|[0-9]*\.[0-9]+))(px|em|c|%)$/;function length(value){var cells=arguments.length<=1||arguments[1]===undefined?32:arguments[1];var match=value.match(LENGTH);if(match){switch(match[4]){case"c":return parseFloat(match[1])/cells*100+"%";default:return parseFloat(match[1])+match[4]}}throw new Error("Invalid length value "+value)}function parseStyles(node){var _ref=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _ref$cellResolution=_ref.cellResolution;var cellResolution=_ref$cellResolution===undefined?[32,15]:_ref$cellResolution;var styling=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var coordinateLength=function coordinateLength(value,i){return length(value,cellResolution[i])};var backgroundColor=parseColor(node.getAttribute("tts:backgroundColor")||"");var color=parseColor(node.getAttribute("tts:color")||"");var direction=node.getAttribute("tts:direction");var display=node.getAttribute("tts:display");var extent=node.getAttribute("tts:extent");var _ref2=extent?/auto/i.test(extent)?["100%","100%"]:extent.split(/\s+/).map(coordinateLength):[];var _ref22=_slicedToArray(_ref2,2);var width=_ref22[0];var height=_ref22[1];var fontFamily=node.getAttribute("tts:fontFamily");var fontSize=node.getAttribute("tts:fontSize");var fontStyle=node.getAttribute("tts:fontStyle");var fontWeight=node.getAttribute("tts:fontWeight");var lineHeight=node.getAttribute("tts:lineHeight");var opacity=node.getAttribute("tts:opacity");var origin=node.getAttribute("tts:origin");var _ref3=origin?/auto/i.test(origin)?["0px","0px"]:origin.split(/\s+/).map(coordinateLength):[];var _ref32=_slicedToArray(_ref3,2);var left=_ref32[0];var top=_ref32[1];var overflow=node.getAttribute("tts:overflow");var padding=node.getAttribute("tts:padding");var showBackground=node.getAttribute("tts:showBackground");var textAlign=node.getAttribute("tts:textAlign");var textDecoration=node.getAttribute("tts:textDecoration");var textOutline=node.getAttribute("tts:textOutline");var visibility=node.getAttribute("tts:visibility");var refStyle=node.getAttribute("style");var inlineStyles=removeEmptyKeys({backgroundColor:backgroundColor,color:color,direction:direction,display:display,width:width,height:height,fontFamily:fontFamily,fontSize:fontSize,fontStyle:fontStyle,fontWeight:fontWeight,lineHeight:lineHeight,opacity:opacity,top:top,left:left,overflow:overflow,padding:padding,showBackground:showBackground,textAlign:textAlign,textDecoration:textDecoration,textOutline:textOutline,visibility:visibility});var referencedStyles=refStyle&&styling[refStyle]?styling[refStyle]:{};return(0,_objectAssign2["default"])({},referencedStyles,inlineStyles)}function parseRegions(regions){var ttp=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return(0,_utils.nodelistArray)(regions).reduce(function(collection,region){if(region.hasAttribute("begin")||region.hasAttribute("end")||region.hasAttribute("dur")){throw new Error("Time expressions not supported on <region> nodes")}var inlineStyles=parseStyles(region,ttp);var style=(0,_objectAssign2["default"])({},getChildStyles(region),inlineStyles);collection[region.getAttribute("xml:id")]={style:style};return collection},{})}function assignStyles(node,styles){Object.keys(styles).forEach(function(style){return node.style[style]=styles[style]})}function parseChildren(node,container){var ttp=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var styling=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];for(var i=0,len=node.childNodes.length;i<len;i++){var child=node.childNodes.item(i);if(child.nodeType===1){if(child.hasAttribute("begin")||child.hasAttribute("end")||child.hasAttribute("dur")){throw new Error("Time expressions not supported on <"+child.tagName+"> nodes")}var newChild=document.createElement(child.tagName);assignStyles(newChild,parseStyles(child,ttp,styling));parseChildren(child,newChild,ttp,styling);container.appendChild(newChild)}else if(child.nodeType===3){container.appendChild(document.createTextNode(child.data))}}return container}function parseParagraph(p,container){var ttp=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var styling=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];var regions=arguments.length<=4||arguments[4]===undefined?{}:arguments[4];var begin=timeExpression(p.getAttribute("begin"),ttp);var end=p.hasAttribute("end")?timeExpression(p.getAttribute("end"),ttp):begin+timeExpression(p.getAttribute("dur"),ttp);var region=regions[p.getAttribute("region")]||{};var style=(0,_objectAssign2["default"])({},region.style||{},parseStyles(p,ttp,styling));if(style.width){style.width="auto"}var nodes=parseChildren(p,document.createDocumentFragment(),ttp,styling);return{begin:begin,end:end,style:style,nodes:nodes,container:container}}var RGBA_COLOR=/^rgba\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3})\)$/;var HEX8_COLOR=/#([a-f0-9]{8})/i;function parseColor(color){var rgba=color.match(RGBA_COLOR);if(rgba){return"rgba("+[rgba[1],rgba[2],rgba[3],rgba[4]/255].join(",")+")"}var hex8=color.match(HEX8_COLOR);if(hex8){return"rgba("+[parseInt(hex8[1].substring(0,2),16),parseInt(hex8[1].substring(2,4),16),parseInt(hex8[1].substring(4,6),16),parseInt(hex8[1].substring(6,8),16)/255].join(",")+")"}return color}var CLOCK_TIME=/^([0-9]{2,}):([0-9]{2}):([0-9]{2})((\.[0-9]+)|:([0-9]{2})(\.([0-9]+))?)?$/;var OFFSET_TIME=/^([0-9]+(\.[0-9]+)?)(h|m|s|ms|f|t)$/;function timeExpression(time){var _ref4=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _ref4$frameRate=_ref4.frameRate;var frameRate=_ref4$frameRate===undefined?30:_ref4$frameRate;var _ref4$subFrameRate=_ref4.subFrameRate;var subFrameRate=_ref4$subFrameRate===undefined?1:_ref4$subFrameRate;

var clockTime=time.match(CLOCK_TIME);if(clockTime){var _clockTime=_slicedToArray(clockTime,8);var hour=_clockTime[1];var minute=_clockTime[2];var second=_clockTime[3];var fractions=_clockTime[5];var _frames=_clockTime[6];var subFrames=_clockTime[7];var hourSeconds=hour*60*60;var minuteSeconds=minute*60;var seconds=parseInt(second,10);var secondFractions=fractions?parseFloat(fractions):0;var frameSeconds=_frames?_frames/frameRate:0;var subFrameSeconds=subFrames?parseFloat(subFrames)/subFrameRate:0;return hourSeconds+minuteSeconds+seconds+secondFractions+frameSeconds+subFrameSeconds}var offsetTime=time.match(OFFSET_TIME);if(offsetTime){var unit=parseFloat(offsetTime[1]);switch(offsetTime[3]){case"h":return unit*60*60;case"m":return unit*60;case"s":return unit;case"ms":return unit/1e3;case"f":return unit/frameRate;case"t":throw new Error("Tick rate based timing values not supported")}}throw new Error("Invalid timeExpression format")}var removeEmptyKeys=function removeEmptyKeys(object){return Object.keys(object).reduce(function(collection,key){if(object[key]){collection[key]=object[key]}return collection},{})};var asInt=function asInt(value){return parseInt(value,10)}},{"./utils":40,"object-assign":5}],39:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _emailValidator=require("email-validator");var _storage=require("./storage");var _storage2=_interopRequireDefault(_storage);var _overlay=require("./overlay");var _overlay2=_interopRequireDefault(_overlay);var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _text=require("./text");var _eloqua=require("./eloqua");var TVMA_STORAGE_KEY="tvma-email-Approved";function isTvmaValidated(){var expiration=_storage2["default"].get(TVMA_STORAGE_KEY);return expiration!==null&&expiration>(new Date).getTime()}function calculateTvmaExpiration(){var expiration=new Date;expiration.setDate(expiration.getDate()+14);return expiration.getTime()}var Tvma=function(){function Tvma(player){var _this=this;_classCallCheck(this,Tvma);this.overlay=null;this.player=player;player.on("videodataloaded",function(videoData){if(videoData.tvma&&!isTvmaValidated()){_this.overlay=createTvmaConfirmation(player).show()}else{player.emit("tvmaapproved")}});player.on("tvmacheck",function(mm,dd,yy,email,newsApproval){if(!Tvma.validateBirthday(mm,dd,yy)){player.emit("tvmaerror",_text.tvma.error.date)}else if(!Tvma.isOldEnough(mm,dd,yy)){player.emit("tvmaerror",_text.tvma.error.tooYoung)}else if(!(0,_emailValidator.validate)(email)){player.emit("tvmaerror",_text.tvma.error.email)}else{(0,_eloqua.sendEmailToSignupService)(email,player,function(){_this.overlay.hide();_storage2["default"].set(TVMA_STORAGE_KEY,calculateTvmaExpiration());player.emit("tvmaemailcaptured",newsApproval);player.emit("tvmaapproved")},function(){player.emit("tvmaerror",_text.tvma.error.signupServiceRequestFail)})}})}_createClass(Tvma,null,[{key:"isOldEnough",value:function isOldEnough(mm,dd,yy){var currentYear=parseInt((new Date).getFullYear().toString().substr(2,2),10);var fullYear=yy<currentYear?2e3+yy:1900+yy;var birthday=new Date(fullYear+18,mm-1,dd).getTime();var now=(new Date).getTime();return birthday<now}},{key:"validateBirthday",value:function validateBirthday(mm,dd,yy){function isMaxTwoDigits(x){return/^\d{1,2}$/.test(x.toString())}if(!isMaxTwoDigits(mm)||!isMaxTwoDigits(dd)||!isMaxTwoDigits(yy)){return false}var currentYear=parseInt((new Date).getFullYear().toString().substr(2,2),10);var fullYear=yy<currentYear?2e3+yy:1900+yy;var date=new Date(fullYear,mm-1,dd);return date&&date.getMonth()+1===mm&&date.getDate()===dd}}]);return Tvma}();exports["default"]=Tvma;function createHeader(){return _htmlUtils2["default"].createElement("h2",{textContent:_text.tvma.title,className:"__player-tvma-title"})}function createDateOfBirthLabel(){return _htmlUtils2["default"].createElement("label",{textContent:_text.tvma.dateOfBirthLabel,className:"__player-tvma-date-label"})}function createDateOfBirthContainer(yearInput,monthInput,dayInput){var dateContainer=_htmlUtils2["default"].createElement("div",{className:"__player-tvma-form-field __player-tvma-date-container"});dateContainer.appendChild(monthInput);dateContainer.appendChild(_htmlUtils2["default"].createElement("span",{textContent:"/"}));dateContainer.appendChild(dayInput);dateContainer.appendChild(_htmlUtils2["default"].createElement("span",{textContent:"/"}));dateContainer.appendChild(yearInput);dateContainer.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player-tvma-date-background"}));return dateContainer}function createNewsApproval(newsApprovalInput){var newsApprovalContainer=_htmlUtils2["default"].createElement("div",{className:"__player-tvma-news-approval-container"});var newsApprovalLabel=_htmlUtils2["default"].createElement("label",{textContent:_text.tvma.newsApproval.label,className:""});newsApprovalLabel.insertBefore(newsApprovalInput,newsApprovalLabel.firstChild);newsApprovalContainer.appendChild(newsApprovalLabel);return newsApprovalContainer}function createTvmaConfirmation(player){function createTwoDigitInput(props){var MAX_LENGTH=2;var input=_htmlUtils2["default"].createElement("input",props);input.addEventListener("input",function(){function removeNonDigits(x){return x.replace(/[^0-9]/g,"")}function truncateToMaxLength(x){if(x.length>MAX_LENGTH){return x.slice(0,MAX_LENGTH)}return x}input.value=truncateToMaxLength(removeNonDigits(input.value))});return input}var monthInput=createTwoDigitInput({className:"__player-tvma-input __player-tvma-date-input",type:"text",pattern:"\\d*",inputmode:"numeric",placeholder:_text.tvma.month.label});var dayInput=createTwoDigitInput({className:"__player-tvma-input __player-tvma-date-input",type:"text",pattern:"\\d*",inputmode:"numeric",placeholder:_text.tvma.day.label});var yearInput=createTwoDigitInput({className:"__player-tvma-input __player-tvma-date-input",type:"text",pattern:"\\d*",inputmode:"numeric",placeholder:_text.tvma.year.label});var emailInput=_htmlUtils2["default"].createElement("input",{className:"__player-tvma-input __player-tvma-form-field __player-tvma-email-input",type:"text",name:"email",placeholder:_text.tvma.email.label});var newsApprovalInput=_htmlUtils2["default"].createElement("input",{type:"checkbox",name:"newsApproval",checked:true});var playButtonContainer=_htmlUtils2["default"].createElement("div",{className:"__player-tvma-button-container"});var playButton=_htmlUtils2["default"].createElement("button",{textContent:_text.tvma.playButton.label,className:"button",type:"submit",disabled:true});playButtonContainer.appendChild(playButton);var form=_htmlUtils2["default"].createElement("form",{className:"__player-form __player-form--tvma"});form.appendChild(createDateOfBirthContainer(yearInput,monthInput,dayInput));form.appendChild(emailInput);form.appendChild(playButtonContainer);form.appendChild(createNewsApproval(newsApprovalInput));form.addEventListener("input",function(){function isEmpty(x){return x===""}var someFieldHasEmptyValue=isEmpty(monthInput.value)||isEmpty(dayInput.value)||isEmpty(yearInput.value)||isEmpty(emailInput.value);playButton.disabled=someFieldHasEmptyValue});form.addEventListener("submit",function(event){event.preventDefault();player.emit("tvmacheck",parseInt(monthInput.value,10),parseInt(dayInput.value,10),parseInt(yearInput.value,10),emailInput.value,newsApprovalInput.checked,event)},false);var docFragment=document.createDocumentFragment();var container=_htmlUtils2["default"].createElement("div",{className:"__player-tvma-container"});docFragment.appendChild(container);container.appendChild(createHeader());container.appendChild(createDateOfBirthLabel());container.appendChild(form);player.on("tvmaerror",function(errorText){var errors=document.getElementsByClassName("__player-form--error");if(errors.length>0){form.removeChild(errors[0])}form.insertBefore(_htmlUtils2["default"].createElement("p",{textContent:errorText,className:"__player-form--error __player-tvma-error"}),playButtonContainer)});var overlay=new _overlay2["default"](player,docFragment,{centered:true,name:"tvma"});var scaleTvmaFonts=function scaleTvmaFonts(){var width=overlay.node.offsetWidth;var baseFontSize=width/35;container.className="__player-tvma-container "+(width>=600?"__player-tvma-container--600":width>=500?"__player-tvma-container--500":"");overlay.node.querySelector(".__player-overlay--centeredContent").style.fontSize=baseFontSize+"px"};overlay.on("open",function(){player.emit("tvmashown");scaleTvmaFonts();window.addEventListener("resize",scaleTvmaFonts)});overlay.on("close",function(){window.removeEventListener("resize",scaleTvmaFonts)});return overlay}module.exports=exports["default"]},{"./eloqua":15,"./html-utils":22,"./overlay":32,"./storage":36,"./text":37,"email-validator":4}],40:[function(require,module,exports){"use strict";var _configuration=require("./configuration");exports.sniffDeviceProfile=function(){var profile={};var processUserAgentString=function processUserAgentString(){var str=window.navigator.userAgent.toLowerCase();var rOsVersion=/ (?:[0-9]+\.)+[0-9]+|(?:[0-9]+_)+[0-9]+/;var isDeviceMatched;var device;var os;profile.userAgent.string=str;profile.os_version=rOsVersion.exec(str)?rOsVersion.exec(str)[0]:"";profile.os_major_version=parseInt(profile.os_version,10).toString();for(device in _configuration.devices){if(_configuration.devices.hasOwnProperty(device)){if(str.search(_configuration.devices[device].test)>0){isDeviceMatched=true;profile.name=_configuration.devices[device].name;profile.os=_configuration.devices[device].os;profile.platform=_configuration.devices[device].platform}}}if(!isDeviceMatched){for(var i in _configuration.devices.OS_DEFAULTS){os=_configuration.devices.OS_DEFAULTS[i];if(_configuration.devices.hasOwnProperty(os)&&str.search(_configuration.devices[os].test)>0){profile.name=_configuration.devices[os].name;profile.os=_configuration.devices[os].os;profile.platform=_configuration.devices[os].platform;break}}}profile.os_version=profile.os_version.replace(/_/g,".")};profile.orientation="landscape";profile.name="desktop";profile.os="VARIOUS";profile.os_version="";profile.screen_configuration="";profile.platform=_configuration.PLATFORM_DESKTOP;profile.retina=window.devicePixelRatio>1;profile.userAgent={};profile.online=navigator.onLine;processUserAgentString();return profile};exports.chooseVideoUrl=function(urls,profile){switch(profile.name){case _configuration.devices.IPHONE.name:return tryHLS(profile.retina?"w6":"w5");case _configuration.devices.IPAD.name:return tryHLS(profile.retina?"w8":"w7");case _configuration.devices.KINDLE_FIRE_HD.name:return tryHLS("w5");case _configuration.devices.KINDLE_FIRE_HD_7.name:return tryHLS("w5");default:return fallback()}function refersTarball(url){var regex=/\.tar$/;return regex.test(url.trim())}function manifestFromTarballUrl(url,manifestFile){var tarballPath=url.replace(/\.tar$/i,"");return tarballPath+"/"+manifestFile}function fallback(){if(typeof urls.dash==="string"&&urls.dash.length&&exports.supportsDASH()){var url=refersTarball(urls.dash)?manifestFromTarballUrl(urls.dash,"manifest.mpd"):urls.dash;return{url:url,type:"dash"}}var pro5={url:urls.pro5,type:"pro5"};var high3g={url:urls.high3g,type:"high3g"};var low={url:urls.low,type:"low"};return typeof pro5.url==="string"&&pro5.url!==""?pro5:typeof high3g.url==="string"&&high3g.url!==""?high3g:low}function tryHLS(streamValue){if(typeof urls.hls==="string"&&urls.hls.length){var url=refersTarball(urls.hls)?manifestFromTarballUrl(urls.hls,"base_index.m3u8"):urls.hls;return{url:url,type:"hls"}}return tryTarball(streamValue)}function tryTarball(streamValue){var tarball=urls.tarball;if(typeof tarball==="string"&&tarball.length){return{url:manifestFromTarballUrl(tarball,"base_index_"+streamValue+".m3u8"),type:"tarball"}}return fallback()}};exports.isVideoFileHTMLCompatible=function(profile,url){return!(profile.os===_configuration.devices.ANDROID.os&&endsWith(url,".mov"))&&protocol(url)!=="rtmp:"};function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function protocol(url){var a=document.createElement("a");a.href=url;return a.protocol}exports.isIPhone=function(profile){return _configuration.devices.IPHONE.name===profile.name};exports.supportsDASH=function(){return"MediaSource"in window};exports.createSource=function(src,onError){var source=document.createElement("source");source.src=src;source.addEventListener("error",onError);return source};exports.createTimeout=function(){var timeout=arguments.length<=0||arguments[0]===undefined?3e3:arguments[0];var timeoutId;return{clear:function clear(){if(typeof timeoutId==="number"){clearTimeout(timeoutId)}},set:function set(f){this.clear();timeoutId=setTimeout(f,timeout)}}};exports.queryText=function(xml,selector){var node=xml.querySelector(selector);return node?node.textContent:node};exports.nodelistArray=function(nodelist){var array=[];for(var i=0,len=nodelist.length;i<len;i++){array.push(nodelist.item(i))}return array};exports.find=function(items,predicate){var value=null;items.some(function(item){var matched=predicate(item);if(matched){value=item}return matched});return value}},{"./configuration":11}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x2,_x3,_x4){var _again=true;_function:while(_again){var object=_x2,property=_x3,receiver=_x4;desc=parent=getter=undefined;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x2=parent;_x3=property;_x4=receiver;_again=true;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)subClass.__proto__=superClass}var _tvma=require("./tvma");var _tvma2=_interopRequireDefault(_tvma);var _utils=require("./utils");var _controls=require("./controls");var _controls2=_interopRequireDefault(_controls);var _embedMetadata=require("./embed-metadata");var _embedMetadata2=_interopRequireDefault(_embedMetadata);var _bufferOverlay=require("./buffer-overlay");var _bufferOverlay2=_interopRequireDefault(_bufferOverlay);var _errorOverlay=require("./error-overlay");var _errorOverlay2=_interopRequireDefault(_errorOverlay);var _liveOverlay=require("./live-overlay");var _liveOverlay2=_interopRequireDefault(_liveOverlay);var _sharing=require("./sharing");var _sharing2=_interopRequireDefault(_sharing);var _related=require("./related");var _related2=_interopRequireDefault(_related);var _captions=require("./captions");var _captions2=_interopRequireDefault(_captions);var _captionSettings=require("./caption-settings");var _captionSettings2=_interopRequireDefault(_captionSettings);var _keyboardControls=require("./keyboard-controls");var _keyboardControls2=_interopRequireDefault(_keyboardControls);var _fullscreen=require("./fullscreen");var _fullscreen2=_interopRequireDefault(_fullscreen);var _events=require("events");var _classList=require("class-list");var _classList2=_interopRequireDefault(_classList);var _live=require("./live");var live=_interopRequireWildcard(_live);var _objectAssign=require("object-assign");var _objectAssign2=_interopRequireDefault(_objectAssign);var _text=require("./text");var _htmlUtils=require("./html-utils");var _htmlUtils2=_interopRequireDefault(_htmlUtils);var _configuration=require("./configuration");var _htmlCanvas=require("./html-canvas");var _htmlCanvas2=_interopRequireDefault(_htmlCanvas);var _flashCanvas=require("./flash-canvas");var _flashCanvas2=_interopRequireDefault(_flashCanvas);var _iphoneCanvas=require("./iphone-canvas");var _iphoneCanvas2=_interopRequireDefault(_iphoneCanvas);var _conviva=require("./conviva");var _conviva2=_interopRequireDefault(_conviva);var _playerVersion=require("../playerVersion");var _playerVersion2=_interopRequireDefault(_playerVersion);function contentAvailable(urls){return Object.keys(urls).filter(function(key){return!!urls[key]}).length>0}var getNextId=function(v){return(v.nextId++).toString()}.bind(null,{nextId:0});var videoDataValidators=[function(_ref){var videoData=_ref.videoData;return videoData.geoFiltered?_text.errors.geoFiltered:null},function(_ref2){var videoData=_ref2.videoData;return!contentAvailable(videoData.urls)?_text.errors.noLongerAvailable:null}];var validateVideoData=function validateVideoData(_x5,_x6){var _left;var _again2=true;_function2:while(_again2){var _ref3=_x5,_ref4=_x6;videoData=profile=_ref42=validator=validators=undefined;var videoData=_ref3.videoData;var profile=_ref3.profile;_again2=false;var _ref42=_toArray(_ref4);var validator=_ref42[0];var validators=_ref42.slice(1);if(typeof validator==="function"){if(_left=validator({videoData:videoData,profile:profile})){return _left}_x5={videoData:videoData,profile:profile};_x6=validators;_again2=true;continue _function2}else{return null}}};var defaultOptions={autoplay:true,bufferTime:5,livePollInterval:5e3,defaultVolume:.75,embedDimensions:{width:640,height:360},related:{alwaysLinkToGlobalVideo:false,openRelatedOverlayAfterPauseTimeout:5e3,passThroughContextParameters:{}},imageDomain:"http://i.lv3.hbo.com",eloqua:{},logging:false};var removeUndefinedProperties=function removeUndefinedProperties(options){return Object.keys(options).reduce(function(obj,key){if(typeof options[key]!=="undefined"){obj[key]=options[key]}return obj},{})};var VideoPlayer=function(_EventEmitter){_inherits(VideoPlayer,_EventEmitter);function VideoPlayer(){var _this=this;var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];_classCallCheck(this,VideoPlayer);_get(Object.getPrototypeOf(VideoPlayer.prototype),"constructor",this).call(this);this.setMaxListeners(15);this.videoDataValidators=videoDataValidators;this.id=getNextId();this.options=(0,_objectAssign2["default"])({},defaultOptions,removeUndefinedProperties(options));(0,_conviva2["default"])(this.options);this.node=options.node.appendChild(_htmlUtils2["default"].createElement("div",{className:"__player"}));this.classList=(0,_classList2["default"])(this.node);this.profile=(0,_utils.sniffDeviceProfile)();if(this.profile.platform!==_configuration.PLATFORM_DESKTOP){this.classList.add("__player--mobile")}if(this.options.isEmbedded){this.classList.add("__player--embedded")}this.overlayState=null;this.sharing=new _sharing2["default"](this);this.related=new _related2["default"](this);this.captions=new _captions2["default"](this);this.controls=new _controls2["default"](this);this.embedmetadata=new _embedMetadata2["default"](this);this.bufferOverlay=new _bufferOverlay2["default"](this);this.errorOverlay=new _errorOverlay2["default"](this);this.liveOverlay=new _liveOverlay2["default"](this);this.tvma=new _tvma2["default"](this);this.loadedmetadata=false;this.seeking=false;this.videoData={};this.liveState=null;this.videoElementAvailable=false;this.version=_playerVersion2["default"];new _fullscreen2["default"](this);new _captionSettings2["default"](this);new _keyboardControls2["default"](this);this.on("loadedmetadata",function(){return _this.loadedmetadata=true});this.on("seeking",function(){return _this.seeking=true});this.on("seeked",function(){return _this.seeking=false});this.on("play",function(){_this.classList.add("__player--playing");_this.classList.remove("__player--ended")});this.on("pause",function(){return _this.classList.remove("__player--playing")});this.on("ended",function(){return _this.classList.add("__player--ended")});this.on("videodataloaded",function(){if(_this.live){_this.classList.add("__player--live")}});this.on("videoinit",function(){_this.videoElementAvailable=true;if(_this.live){_this.pollLiveState(_this.options.livePollInterval)}});this.on("tvmaapproved",function(){return _this.canvas.createVideoElement()});this.loadVideodata();this.on("liveStateChanged",function(state){switch(state){case live.states.NOT_STARTED:case live.states.ENDED:_this.pause();break;case live.states.STARTED:_this.play();break}})}_createClass(VideoPlayer,[{key:"destroy",value:function destroy(){this.emit("destroy");this.options.node.removeChild(this.node)}},{key:"request",value:function request(_ref5){var _this2=this;var _ref5$method=_ref5.method;var method=_ref5$method===undefined?"GET":_ref5$method;var url=_ref5.url;var success=_ref5.success;var error=_ref5.error;var data=_ref5.data;var _ref5$dataType=_ref5.dataType;var dataType=_ref5$dataType===undefined?"xml":_ref5$dataType;var xhr=new XMLHttpRequest;xhr.open(method,url,true);var emitConnectionError=typeof error==="function"?error:function(){return _this2.emit("error",_text.errors.connectionError)};xhr.onload=function(){if(this.status===200){if(dataType==="xml"){success(this.responseXML)}else if(dataType==="json"){success(JSON.parse(this.response))}}else{emitConnectionError()}};xhr.onerror=emitConnectionError;if(typeof data!=="undefined"){xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.send(data)}else{xhr.send()}this.on("destroy",function(){return xhr.abort()})}},{key:"loadVideodata",value:function loadVideodata(){var _this3=this;this.emit("waiting");this.request({url:this.options.cdn+"/data/content/global/videos/data/"+this.options.id+".xml",success:function success(xml){var tvma=(0,_utils.queryText)(xml,"tvma")==="true";var rating=tvma?"tvma":"tv14";var androidBreakingUrlParams=/\?ri=1024&rs=1024$/;var replaceAndroidBreakingUrlParams=function replaceAndroidBreakingUrlParams(url){return typeof url==="string"?url.replace(androidBreakingUrlParams,""):url};var urls={high:(0,_utils.queryText)(xml,'videos size[width="1920"] '+rating+" path"),low:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,'videos size[width="640"] '+rating+" path")),tarball:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos tarball")),high3g:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos high3g")),highwifi:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos highwifi")),med3g:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos med3g")),medwifi:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos medwifi")),pro5:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos pro5")),pro6:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos pro6")),pro7:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos pro7")),dash:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos dash")),hls:replaceAndroidBreakingUrlParams((0,_utils.queryText)(xml,"videos hls"))};_this3.videoData={id:(0,_utils.queryText)(xml,"id"),title:(0,_utils.queryText)(xml,"title"),programName:(0,_utils.queryText)(xml,"embedProgramTitle"),tuneIn:(0,_utils.queryText)(xml,"tuneInText")||"",pageUrl:(0,_utils.queryText)(xml,"programTargetUrl"),type:(0,_utils.queryText)(xml,"category"),videoType:(0,_utils.queryText)(xml,"type"),urls:urls,geoFiltered:(0,_utils.queryText)(xml,"geop")==="true",poster:(0,_utils.queryText)(xml,'titleCardSizes size[width="1280"] path'),tvma:tvma,captionUrl:(0,_utils.queryText)(xml,"captionUrl"),forumId:(0,_utils.queryText)(xml,"forumId"),duration:parseTime((0,_utils.queryText)(xml,"duration "+rating)),live:(0,_utils.queryText)(xml,"type")==="ASSET_LIVE_VIDEO"};_this3.live=_this3.videoData.live;_this3.canvas=(0,_utils.isIPhone)(_this3.profile)?new _iphoneCanvas2["default"](_this3):_this3.profile.name!=="desktop"||(0,_utils.supportsDASH)()&&urls.dash?new _htmlCanvas2["default"](_this3):new _flashCanvas2["default"](_this3);var errorMessage=validateVideoData({videoData:_this3.videoData,profile:_this3.profile},_this3.videoDataValidators);if(errorMessage){_this3.emit("error",errorMessage)}else{_this3.emit("videodataloaded",_this3.videoData)}}})}},{key:"pollLiveState",value:function pollLiveState(interval){var _this4=this;var url=this.options.cdn+"/live/getVideoState.xml?vid="+this.options.id;this.request({url:url,success:function success(xml){var newLiveState=(0,_utils.queryText)(xml,"VideoState state");if(newLiveState!==_this4.liveState){_this4.emit("liveStateChanged",newLiveState)}_this4.liveState=newLiveState;if(_this4.liveState!==live.states.ENDED){setTimeout(function(){return _this4.pollLiveState(interval)},interval)}}})}},{key:"togglePlay",value:function togglePlay(){if(this.isPaused()||this.hasEnded()){this.play();this.emit("play-toggle")}else{this.pause();if(!this.live){this.emit("pause-toggle")}}}},{key:"getDuration",value:function getDuration(){return this.canvas?this.canvas.getDuration():this.videoData.duration}},{key:"isMuted",value:function isMuted(){return this.canvas?this.canvas.isMuted():true}},{key:"getCurrentTime",value:function getCurrentTime(){return this.canvas?this.canvas.getCurrentTime():0}},{key:"getCurrentStreamUrl",value:function getCurrentStreamUrl(){return this.canvas&&this.canvas.getCurrentStreamUrl?this.canvas.getCurrentStreamUrl():null}},{key:"isPaused",value:function isPaused(){return this.canvas?this.canvas.isPaused():true}},{key:"hasEnded",value:function hasEnded(){return this.canvas?this.canvas.hasEnded():false}},{key:"mute",value:function mute(){if(this.canvas){this.canvas.mute()}}},{key:"unmute",value:function unmute(){if(this.canvas){this.canvas.unmute()}}},{key:"play",value:function play(){if(this.canvas){this.canvas.play()}}},{key:"pause",value:function pause(){if(this.canvas){this.canvas.pause()}}},{key:"seek",value:function seek(time){if(this.canvas){this.canvas.seek(time)}}},{key:"setVolume",value:function setVolume(volume){if(this.canvas){this.canvas.setVolume(volume)}}},{key:"getVolume",value:function getVolume(){return this.canvas?this.canvas.getVolume():100}}]);return VideoPlayer}(_events.EventEmitter);exports["default"]=VideoPlayer;var parseTime=function parseTime(timeString){var _timeString$split$map=timeString.split(":").map(function(x){return parseInt(x,10)});var _timeString$split$map2=_slicedToArray(_timeString$split$map,2);var minutes=_timeString$split$map2[0];var seconds=_timeString$split$map2[1];return minutes*60+seconds};module.exports=exports["default"]},{"../playerVersion":6,"./buffer-overlay":7,"./caption-settings":8,"./captions":9,"./configuration":11,"./controls":12,"./conviva":14,"./embed-metadata":16,"./error-overlay":17,"./flash-canvas":18,"./fullscreen":20,"./html-canvas":21,"./html-utils":22,"./iphone-canvas":24,"./keyboard-controls":25,"./live":30,"./live-overlay":29,"./related":34,"./sharing":35,"./text":37,"./tvma":39,"./utils":40,"class-list":1,events:43,"object-assign":5}],42:[function(require,module,exports){(function(global){(function(){var Bacon,BufferingSource,Bus,CompositeUnsubscribe,ConsumingSource,Desc,Dispatcher,End,Error,Event,EventStream,Exception,Initial,Next,None,Observable,Property,PropertyDispatcher,Some,Source,UpdateBarrier,addPropertyInitValueToStream,assert,assertArray,assertEventStream,assertFunction,assertNoArguments,assertObservable,assertString,cloneArray,compositeUnsubscribe,constantToFunction,containsDuplicateDeps,convertArgsToFunction,describe,endEvent,eventIdCounter,findDeps,flatMap_,former,idCounter,initialEvent,isArray,isFieldKey,isObservable,latter,liftCallback,makeFunction,makeFunctionArgs,makeFunction_,makeObservable,makeSpawner,nextEvent,nop,partiallyApplied,recursionDepth,registerObs,spys,toCombinator,toEvent,toFieldExtractor,toFieldKey,toOption,toSimpleExtractor,valueAndEnd,withDescription,withMethodCallSupport,_,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__slice=[].slice,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};Bacon={toString:function(){return"Bacon"}};Bacon.version="0.7.43";Exception=(typeof global!=="undefined"&&global!==null?global:this).Error;nop=function(){};latter=function(_,x){return x};former=function(x,_){return x};cloneArray=function(xs){return xs.slice(0)};assert=function(message,condition){if(!condition){throw new Exception(message)}};assertEventStream=function(event){if(!(event instanceof EventStream)){throw new Exception("not an EventStream : "+event)}};assertObservable=function(event){if(!(event instanceof Observable)){throw new Exception("not an Observable : "+event)}};assertFunction=function(f){return assert("not a function : "+f,_.isFunction(f))};isArray=function(xs){return xs instanceof Array};isObservable=function(x){return x instanceof Observable};assertArray=function(xs){if(!isArray(xs)){throw new Exception("not an array : "+xs)}};assertNoArguments=function(args){return assert("no arguments supported",args.length===0)};assertString=function(x){if(typeof x!=="string"){throw new Exception("not a string : "+x)}};_={indexOf:Array.prototype.indexOf?function(xs,x){return xs.indexOf(x)}:function(xs,x){var i,y,_i,_len;for(i=_i=0,_len=xs.length;_i<_len;i=++_i){y=xs[i];if(x===y){return i}}return-1},indexWhere:function(xs,f){var i,y,_i,_len;for(i=_i=0,_len=xs.length;_i<_len;i=++_i){y=xs[i];if(f(y)){return i}}return-1},head:function(xs){return xs[0]},always:function(x){return function(){return x}},negate:function(f){
return function(x){return!f(x)}},empty:function(xs){return xs.length===0},tail:function(xs){return xs.slice(1,xs.length)},filter:function(f,xs){var filtered,x,_i,_len;filtered=[];for(_i=0,_len=xs.length;_i<_len;_i++){x=xs[_i];if(f(x)){filtered.push(x)}}return filtered},map:function(f,xs){var x,_i,_len,_results;_results=[];for(_i=0,_len=xs.length;_i<_len;_i++){x=xs[_i];_results.push(f(x))}return _results},each:function(xs,f){var key,value;for(key in xs){value=xs[key];f(key,value)}return void 0},toArray:function(xs){if(isArray(xs)){return xs}else{return[xs]}},contains:function(xs,x){return _.indexOf(xs,x)!==-1},id:function(x){return x},last:function(xs){return xs[xs.length-1]},all:function(xs,f){var x,_i,_len;if(f==null){f=_.id}for(_i=0,_len=xs.length;_i<_len;_i++){x=xs[_i];if(!f(x)){return false}}return true},any:function(xs,f){var x,_i,_len;if(f==null){f=_.id}for(_i=0,_len=xs.length;_i<_len;_i++){x=xs[_i];if(f(x)){return true}}return false},without:function(x,xs){return _.filter(function(y){return y!==x},xs)},remove:function(x,xs){var i;i=_.indexOf(xs,x);if(i>=0){return xs.splice(i,1)}},fold:function(xs,seed,f){var x,_i,_len;for(_i=0,_len=xs.length;_i<_len;_i++){x=xs[_i];seed=f(seed,x)}return seed},flatMap:function(f,xs){return _.fold(xs,[],function(ys,x){return ys.concat(f(x))})},cached:function(f){var value;value=None;return function(){if(value===None){value=f();f=void 0}return value}},isFunction:function(f){return typeof f==="function"},toString:function(obj){var ex,internals,key,value;try{recursionDepth++;if(obj==null){return"undefined"}else if(_.isFunction(obj)){return"function"}else if(isArray(obj)){if(recursionDepth>5){return"[..]"}return"["+_.map(_.toString,obj).toString()+"]"}else if((obj!=null?obj.toString:void 0)!=null&&obj.toString!==Object.prototype.toString){return obj.toString()}else if(typeof obj==="object"){if(recursionDepth>5){return"{..}"}internals=function(){var _results;_results=[];for(key in obj){if(!__hasProp.call(obj,key))continue;value=function(){try{return obj[key]}catch(_error){ex=_error;return ex}}();_results.push(_.toString(key)+":"+_.toString(value))}return _results}();return"{"+internals+"}"}else{return obj}}finally{recursionDepth--}}};recursionDepth=0;Bacon._=_;UpdateBarrier=function(){var afterTransaction,afters,aftersIndex,currentEventId,flush,flushDepsOf,flushWaiters,hasWaiters,inTransaction,rootEvent,waiterObs,waiters,whenDoneWith,wrappedSubscribe;rootEvent=void 0;waiterObs=[];waiters={};afters=[];aftersIndex=0;afterTransaction=function(f){if(rootEvent){return afters.push(f)}else{return f()}};whenDoneWith=function(obs,f){var obsWaiters;if(rootEvent){obsWaiters=waiters[obs.id];if(obsWaiters==null){obsWaiters=waiters[obs.id]=[f];return waiterObs.push(obs)}else{return obsWaiters.push(f)}}else{return f()}};flush=function(){while(waiterObs.length>0){flushWaiters(0)}return void 0};flushWaiters=function(index){var f,obs,obsId,obsWaiters,_i,_len;obs=waiterObs[index];obsId=obs.id;obsWaiters=waiters[obsId];waiterObs.splice(index,1);delete waiters[obsId];flushDepsOf(obs);for(_i=0,_len=obsWaiters.length;_i<_len;_i++){f=obsWaiters[_i];f()}return void 0};flushDepsOf=function(obs){var dep,deps,index,_i,_len;deps=obs.internalDeps();for(_i=0,_len=deps.length;_i<_len;_i++){dep=deps[_i];flushDepsOf(dep);if(waiters[dep.id]){index=_.indexOf(waiterObs,dep);flushWaiters(index)}}return void 0};inTransaction=function(event,context,f,args){var after,result;if(rootEvent){return f.apply(context,args)}else{rootEvent=event;try{result=f.apply(context,args);flush()}finally{rootEvent=void 0;while(aftersIndex<afters.length){after=afters[aftersIndex];aftersIndex++;after()}aftersIndex=0;afters=[]}return result}};currentEventId=function(){if(rootEvent){return rootEvent.id}else{return void 0}};wrappedSubscribe=function(obs,sink){var doUnsub,shouldUnsub,unsub,unsubd;unsubd=false;shouldUnsub=false;doUnsub=function(){return shouldUnsub=true};unsub=function(){unsubd=true;return doUnsub()};doUnsub=obs.dispatcher.subscribe(function(event){return afterTransaction(function(){var reply;if(!unsubd){reply=sink(event);if(reply===Bacon.noMore){return unsub()}}})});if(shouldUnsub){doUnsub()}return unsub};hasWaiters=function(){return waiterObs.length>0};return{whenDoneWith:whenDoneWith,hasWaiters:hasWaiters,inTransaction:inTransaction,currentEventId:currentEventId,wrappedSubscribe:wrappedSubscribe,afterTransaction:afterTransaction}}();Source=function(){function Source(obs,sync,lazy){this.obs=obs;this.sync=sync;this.lazy=lazy!=null?lazy:false;this.queue=[]}Source.prototype.subscribe=function(sink){return this.obs.dispatcher.subscribe(sink)};Source.prototype.toString=function(){return this.obs.toString()};Source.prototype.markEnded=function(){return this.ended=true};Source.prototype.consume=function(){if(this.lazy){return{value:_.always(this.queue[0])}}else{return this.queue[0]}};Source.prototype.push=function(x){return this.queue=[x]};Source.prototype.mayHave=function(){return true};Source.prototype.hasAtLeast=function(){return this.queue.length};Source.prototype.flatten=true;return Source}();ConsumingSource=function(_super){__extends(ConsumingSource,_super);function ConsumingSource(){return ConsumingSource.__super__.constructor.apply(this,arguments)}ConsumingSource.prototype.consume=function(){return this.queue.shift()};ConsumingSource.prototype.push=function(x){return this.queue.push(x)};ConsumingSource.prototype.mayHave=function(c){return!this.ended||this.queue.length>=c};ConsumingSource.prototype.hasAtLeast=function(c){return this.queue.length>=c};ConsumingSource.prototype.flatten=false;return ConsumingSource}(Source);BufferingSource=function(_super){__extends(BufferingSource,_super);function BufferingSource(obs){BufferingSource.__super__.constructor.call(this,obs,true)}BufferingSource.prototype.consume=function(){var values;values=this.queue;this.queue=[];return{value:function(){return values}}};BufferingSource.prototype.push=function(x){return this.queue.push(x.value())};BufferingSource.prototype.hasAtLeast=function(){return true};return BufferingSource}(Source);Source.isTrigger=function(s){if(s instanceof Source){return s.sync}else{return s instanceof EventStream}};Source.fromObservable=function(s){if(s instanceof Source){return s}else if(s instanceof Property){return new Source(s,false)}else{return new ConsumingSource(s,true)}};Desc=function(){function Desc(context,method,args){this.context=context;this.method=method;this.args=args;this.cached=void 0}Desc.prototype.deps=function(){return this.cached||(this.cached=findDeps([this.context].concat(this.args)))};Desc.prototype.apply=function(obs){obs.desc=this;return obs};Desc.prototype.toString=function(){return _.toString(this.context)+"."+_.toString(this.method)+"("+_.map(_.toString,this.args)+")"};return Desc}();describe=function(){var args,context,method;context=arguments[0],method=arguments[1],args=3<=arguments.length?__slice.call(arguments,2):[];if((context||method)instanceof Desc){return context||method}else{return new Desc(context,method,args)}};withDescription=function(){var desc,obs,_i;desc=2<=arguments.length?__slice.call(arguments,0,_i=arguments.length-1):(_i=0,[]),obs=arguments[_i++];return describe.apply(null,desc).apply(obs)};findDeps=function(x){if(isArray(x)){return _.flatMap(findDeps,x)}else if(isObservable(x)){return[x]}else if(x instanceof Source){return[x.obs]}else{return[]}};withMethodCallSupport=function(wrapped){return function(){var args,context,f,methodName;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(typeof f==="object"&&args.length){context=f;methodName=args[0];f=function(){return context[methodName].apply(context,arguments)};args=args.slice(1)}return wrapped.apply(null,[f].concat(__slice.call(args)))}};makeFunctionArgs=function(args){args=Array.prototype.slice.call(args);return makeFunction_.apply(null,args)};partiallyApplied=function(f,applied){return function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];return f.apply(null,applied.concat(args))}};toSimpleExtractor=function(args){return function(key){return function(value){var fieldValue;if(value==null){return void 0}else{fieldValue=value[key];if(_.isFunction(fieldValue)){return fieldValue.apply(value,args)}else{return fieldValue}}}}};toFieldExtractor=function(f,args){var partFuncs,parts;parts=f.slice(1).split(".");partFuncs=_.map(toSimpleExtractor(args),parts);return function(value){var _i,_len;for(_i=0,_len=partFuncs.length;_i<_len;_i++){f=partFuncs[_i];value=f(value)}return value}};isFieldKey=function(f){return typeof f==="string"&&f.length>1&&f.charAt(0)==="."};makeFunction_=withMethodCallSupport(function(){var args,f;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(_.isFunction(f)){if(args.length){return partiallyApplied(f,args)}else{return f}}else if(isFieldKey(f)){return toFieldExtractor(f,args)}else{return _.always(f)}});makeFunction=function(f,args){return makeFunction_.apply(null,[f].concat(__slice.call(args)))};convertArgsToFunction=function(obs,f,args,method){var sampled;if(f instanceof Property){sampled=f.sampledBy(obs,function(p,s){return[p,s]});return method.call(sampled,function(_arg){var p,s;p=_arg[0],s=_arg[1];return p}).map(function(_arg){var p,s;p=_arg[0],s=_arg[1];return s})}else{f=makeFunction(f,args);return method.call(obs,f)}};toCombinator=function(f){var key;if(_.isFunction(f)){return f}else if(isFieldKey(f)){key=toFieldKey(f);return function(left,right){return left[key](right)}}else{return assert("not a function or a field key: "+f,false)}};toFieldKey=function(f){return f.slice(1)};Some=function(){function Some(value){this.value=value}Some.prototype.getOrElse=function(){return this.value};Some.prototype.get=function(){return this.value};Some.prototype.filter=function(f){if(f(this.value)){return new Some(this.value)}else{return None}};Some.prototype.map=function(f){return new Some(f(this.value))};Some.prototype.forEach=function(f){return f(this.value)};Some.prototype.isDefined=true;Some.prototype.toArray=function(){return[this.value]};Some.prototype.inspect=function(){return"Some("+this.value+")"};Some.prototype.toString=function(){return this.inspect()};return Some}();None={getOrElse:function(value){return value},filter:function(){return None},map:function(){return None},forEach:function(){},isDefined:false,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}};toOption=function(v){if(v instanceof Some||v===None){return v}else{return new Some(v)}};Bacon.noMore=["<no-more>"];Bacon.more=["<more>"];idCounter=0;registerObs=function(){};Observable=function(){function Observable(desc){this.id=++idCounter;withDescription(desc,this);this.initialDesc=this.desc}Observable.prototype.subscribe=function(sink){return UpdateBarrier.wrappedSubscribe(this,sink)};Observable.prototype.subscribeInternal=function(sink){return this.dispatcher.subscribe(sink)};Observable.prototype.onValue=function(){var f;f=makeFunctionArgs(arguments);return this.subscribe(function(event){if(event.hasValue()){return f(event.value())}})};Observable.prototype.onValues=function(f){return this.onValue(function(args){return f.apply(null,args)})};Observable.prototype.onError=function(){var f;f=makeFunctionArgs(arguments);return this.subscribe(function(event){if(event.isError()){return f(event.error)}})};Observable.prototype.onEnd=function(){var f;f=makeFunctionArgs(arguments);return this.subscribe(function(event){if(event.isEnd()){return f()}})};Observable.prototype.errors=function(){return withDescription(this,"errors",this.filter(function(){return false}))};Observable.prototype.name=function(name){this._name=name;return this};Observable.prototype.withDescription=function(){return describe.apply(null,arguments).apply(this)};Observable.prototype.toString=function(){if(this._name){return this._name}else{return this.desc.toString()}};Observable.prototype.internalDeps=function(){return this.initialDesc.deps()};return Observable}();Observable.prototype.assign=Observable.prototype.onValue;Observable.prototype.forEach=Observable.prototype.onValue;Observable.prototype.inspect=Observable.prototype.toString;Bacon.Observable=Observable;compositeUnsubscribe=function(){var ss;ss=1<=arguments.length?__slice.call(arguments,0):[];return new CompositeUnsubscribe(ss).unsubscribe};CompositeUnsubscribe=function(){function CompositeUnsubscribe(ss){var s,_i,_len;if(ss==null){ss=[]}this.unsubscribe=__bind(this.unsubscribe,this);this.unsubscribed=false;this.subscriptions=[];this.starting=[];for(_i=0,_len=ss.length;_i<_len;_i++){s=ss[_i];this.add(s)}}CompositeUnsubscribe.prototype.add=function(subscription){var ended,unsub,unsubMe;if(this.unsubscribed){return}ended=false;unsub=nop;this.starting.push(subscription);unsubMe=function(_this){return function(){if(_this.unsubscribed){return}ended=true;_this.remove(unsub);return _.remove(subscription,_this.starting)}}(this);unsub=subscription(this.unsubscribe,unsubMe);if(!(this.unsubscribed||ended)){this.subscriptions.push(unsub)}_.remove(subscription,this.starting);return unsub};CompositeUnsubscribe.prototype.remove=function(unsub){if(this.unsubscribed){return}if(_.remove(unsub,this.subscriptions)!==void 0){return unsub()}};CompositeUnsubscribe.prototype.unsubscribe=function(){var s,_i,_len,_ref;if(this.unsubscribed){return}this.unsubscribed=true;_ref=this.subscriptions;for(_i=0,_len=_ref.length;_i<_len;_i++){s=_ref[_i];s()}this.subscriptions=[];return this.starting=[]};CompositeUnsubscribe.prototype.count=function(){if(this.unsubscribed){return 0}return this.subscriptions.length+this.starting.length};CompositeUnsubscribe.prototype.empty=function(){return this.count()===0};return CompositeUnsubscribe}();Bacon.CompositeUnsubscribe=CompositeUnsubscribe;Bacon.when=function(){var f,i,index,ix,len,needsBarrier,pat,patSources,pats,patterns,resultStream,s,sources,triggerFound,usage,_i,_j,_len,_len1,_ref;if(arguments.length===0){return Bacon.never()}len=arguments.length;usage="when: expecting arguments in the form (Observable+,function)+";assert(usage,len%2===0);sources=[];pats=[];i=0;patterns=[];while(i<len){patterns[i]=arguments[i];patterns[i+1]=arguments[i+1];patSources=_.toArray(arguments[i]);f=constantToFunction(arguments[i+1]);pat={f:f,ixs:[]};triggerFound=false;for(_i=0,_len=patSources.length;_i<_len;_i++){s=patSources[_i];index=_.indexOf(sources,s);if(!triggerFound){triggerFound=Source.isTrigger(s)}if(index<0){sources.push(s);index=sources.length-1}_ref=pat.ixs;for(_j=0,_len1=_ref.length;_j<_len1;_j++){ix=_ref[_j];if(ix.index===index){ix.count++}}pat.ixs.push({index:index,count:1})}assert("At least one EventStream required",triggerFound||!patSources.length);if(patSources.length>0){pats.push(pat)}i=i+2}if(!sources.length){return Bacon.never()}sources=_.map(Source.fromObservable,sources);needsBarrier=_.any(sources,function(s){return s.flatten})&&containsDuplicateDeps(_.map(function(s){return s.obs},sources));return resultStream=new EventStream(describe.apply(null,[Bacon,"when"].concat(__slice.call(patterns))),function(sink){var cannotMatch,cannotSync,ends,match,nonFlattened,part,triggers;triggers=[];ends=false;match=function(p){var _k,_len2,_ref1;_ref1=p.ixs;for(_k=0,_len2=_ref1.length;_k<_len2;_k++){i=_ref1[_k];if(!sources[i.index].hasAtLeast(i.count)){return false}}return true};cannotSync=function(source){return!source.sync||source.ended};cannotMatch=function(p){var _k,_len2,_ref1;_ref1=p.ixs;for(_k=0,_len2=_ref1.length;_k<_len2;_k++){i=_ref1[_k];if(!sources[i.index].mayHave(i.count)){return true}}};nonFlattened=function(trigger){return!trigger.source.flatten};part=function(source){return function(unsubAll){var flush,flushLater,flushWhileTriggers;flushLater=function(){return UpdateBarrier.whenDoneWith(resultStream,flush)};flushWhileTriggers=function(){var events,p,reply,trigger,_k,_len2;if(triggers.length>0){reply=Bacon.more;trigger=triggers.pop();for(_k=0,_len2=pats.length;_k<_len2;_k++){p=pats[_k];if(match(p)){events=function(){var _l,_len3,_ref1,_results;_ref1=p.ixs;_results=[];for(_l=0,_len3=_ref1.length;_l<_len3;_l++){i=_ref1[_l];_results.push(sources[i.index].consume())}return _results}();reply=sink(trigger.e.apply(function(){var event,values;values=function(){var _l,_len3,_results;_results=[];for(_l=0,_len3=events.length;_l<_len3;_l++){event=events[_l];_results.push(event.value())}return _results}();return p.f.apply(p,values)}));if(triggers.length){triggers=_.filter(nonFlattened,triggers)}if(reply===Bacon.noMore){return reply}else{return flushWhileTriggers()}}}}else{return Bacon.more}};flush=function(){var reply;reply=flushWhileTriggers();if(ends){ends=false;if(_.all(sources,cannotSync)||_.all(pats,cannotMatch)){reply=Bacon.noMore;sink(endEvent())}}if(reply===Bacon.noMore){unsubAll()}return reply};return source.subscribe(function(e){var reply;if(e.isEnd()){ends=true;source.markEnded();flushLater()}else if(e.isError()){reply=sink(e)}else{source.push(e);if(source.sync){triggers.push({source:source,e:e});if(needsBarrier||UpdateBarrier.hasWaiters()){flushLater()}else{flush()}}}if(reply===Bacon.noMore){unsubAll()}return reply||Bacon.more})}};return compositeUnsubscribe.apply(null,function(){var _k,_len2,_results;_results=[];for(_k=0,_len2=sources.length;_k<_len2;_k++){s=sources[_k];_results.push(part(s))}return _results}())})};containsDuplicateDeps=function(observables,state){var checkObservable;if(state==null){state=[]}checkObservable=function(obs){var deps;if(_.contains(state,obs)){return true}else{deps=obs.internalDeps();if(deps.length){state.push(obs);return _.any(deps,checkObservable)}else{state.push(obs);return false}}};return _.any(observables,checkObservable)};constantToFunction=function(f){if(_.isFunction(f)){return f}else{return _.always(f)}};Bacon.groupSimultaneous=function(){var s,sources,streams;streams=1<=arguments.length?__slice.call(arguments,0):[];if(streams.length===1&&isArray(streams[0])){streams=streams[0]}sources=function(){var _i,_len,_results;_results=[];for(_i=0,_len=streams.length;_i<_len;_i++){s=streams[_i];_results.push(new BufferingSource(s))}return _results}();return withDescription.apply(null,[Bacon,"groupSimultaneous"].concat(__slice.call(streams),[Bacon.when(sources,function(){var xs;xs=1<=arguments.length?__slice.call(arguments,0):[];return xs})]))};eventIdCounter=0;Event=function(){function Event(){this.id=++eventIdCounter}Event.prototype.isEvent=function(){return true};Event.prototype.isEnd=function(){return false};Event.prototype.isInitial=function(){return false};Event.prototype.isNext=function(){return false};Event.prototype.isError=function(){return false};Event.prototype.hasValue=function(){return false};Event.prototype.filter=function(){return true};Event.prototype.inspect=function(){return this.toString()};Event.prototype.log=function(){return this.toString()};return Event}();Next=function(_super){__extends(Next,_super);function Next(valueF,eager){Next.__super__.constructor.call(this);if(!eager&&_.isFunction(valueF)||valueF instanceof Next){this.valueF=valueF;this.valueInternal=void 0}else{this.valueF=void 0;this.valueInternal=valueF}}Next.prototype.isNext=function(){return true};Next.prototype.hasValue=function(){return true};Next.prototype.value=function(){if(this.valueF instanceof Next){this.valueInternal=this.valueF.value();this.valueF=void 0}else if(this.valueF){this.valueInternal=this.valueF();this.valueF=void 0}return this.valueInternal};Next.prototype.fmap=function(f){var event,value;if(this.valueInternal){value=this.valueInternal;return this.apply(function(){return f(value)})}else{event=this;return this.apply(function(){return f(event.value())})}};Next.prototype.apply=function(value){return new Next(value)};Next.prototype.filter=function(f){return f(this.value())};Next.prototype.toString=function(){return _.toString(this.value())};Next.prototype.log=function(){return this.value()};return Next}(Event);Initial=function(_super){__extends(Initial,_super);function Initial(){return Initial.__super__.constructor.apply(this,arguments)}Initial.prototype.isInitial=function(){return true};Initial.prototype.isNext=function(){return false};Initial.prototype.apply=function(value){return new Initial(value)};Initial.prototype.toNext=function(){return new Next(this)};return Initial}(Next);End=function(_super){__extends(End,_super);function End(){return End.__super__.constructor.apply(this,arguments)}End.prototype.isEnd=function(){return true};End.prototype.fmap=function(){return this};End.prototype.apply=function(){return this};End.prototype.toString=function(){return"<end>"};return End}(Event);Error=function(_super){__extends(Error,_super);function Error(error){this.error=error}Error.prototype.isError=function(){return true};Error.prototype.fmap=function(){return this};Error.prototype.apply=function(){return this};Error.prototype.toString=function(){return"<error> "+_.toString(this.error)};return Error}(Event);Bacon.Initial=Initial;Bacon.Next=Next;Bacon.End=End;Bacon.Error=Error;initialEvent=function(value){return new Initial(value,true)};nextEvent=function(value){return new Next(value,true)};endEvent=function(){return new End};toEvent=function(x){if(x instanceof Event){return x}else{return nextEvent(x)}};Dispatcher=function(){function Dispatcher(_subscribe,_handleEvent){this._subscribe=_subscribe;this._handleEvent=_handleEvent;this.subscribe=__bind(this.subscribe,this);this.handleEvent=__bind(this.handleEvent,this);this.subscriptions=[];this.queue=[];this.pushing=false;this.ended=false;this.prevError=void 0;this.unsubSrc=void 0}Dispatcher.prototype.hasSubscribers=function(){return this.subscriptions.length>0};Dispatcher.prototype.removeSub=function(subscription){return this.subscriptions=_.without(subscription,this.subscriptions)};Dispatcher.prototype.push=function(event){if(event.isEnd()){this.ended=true}return UpdateBarrier.inTransaction(event,this,this.pushIt,[event])};Dispatcher.prototype.pushToSubscriptions=function(event){var e,reply,sub,tmp,_i,_len;try{tmp=this.subscriptions;for(_i=0,_len=tmp.length;_i<_len;_i++){sub=tmp[_i];reply=sub.sink(event);if(reply===Bacon.noMore||event.isEnd()){this.removeSub(sub)}}return true}catch(_error){e=_error;this.pushing=false;this.queue=[];throw e}};Dispatcher.prototype.pushIt=function(event){if(!this.pushing){if(event===this.prevError){return}if(event.isError()){this.prevError=event}this.pushing=true;this.pushToSubscriptions(event);this.pushing=false;while(this.queue.length){event=this.queue.shift();this.push(event)}if(this.hasSubscribers()){return Bacon.more}else{this.unsubscribeFromSource();return Bacon.noMore}}else{this.queue.push(event);return Bacon.more}};Dispatcher.prototype.handleEvent=function(event){if(this._handleEvent){return this._handleEvent(event)}else{return this.push(event)}};Dispatcher.prototype.unsubscribeFromSource=function(){if(this.unsubSrc){this.unsubSrc()}return this.unsubSrc=void 0};Dispatcher.prototype.subscribe=function(sink){var subscription;if(this.ended){sink(endEvent());return nop}else{assertFunction(sink);subscription={sink:sink};this.subscriptions.push(subscription);if(this.subscriptions.length===1){this.unsubSrc=this._subscribe(this.handleEvent);assertFunction(this.unsubSrc)}return function(_this){return function(){_this.removeSub(subscription);if(!_this.hasSubscribers()){return _this.unsubscribeFromSource()}}}(this)}};return Dispatcher}();EventStream=function(_super){__extends(EventStream,_super);function EventStream(desc,subscribe,handler){if(_.isFunction(desc)){handler=subscribe;subscribe=desc;desc=[]}EventStream.__super__.constructor.call(this,desc);assertFunction(subscribe);this.dispatcher=new Dispatcher(subscribe,handler);registerObs(this)}EventStream.prototype.toProperty=function(initValue_){var disp,initValue;initValue=arguments.length===0?None:toOption(function(){return initValue_});disp=this.dispatcher;return new Property(describe(this,"toProperty",initValue_),function(sink){var initSent,reply,sendInit,unsub;initSent=false;unsub=nop;reply=Bacon.more;sendInit=function(){if(!initSent){return initValue.forEach(function(value){initSent=true;reply=sink(new Initial(value));if(reply===Bacon.noMore){unsub();return unsub=nop}})}};unsub=disp.subscribe(function(event){if(event.hasValue()){if(initSent&&event.isInitial()){return Bacon.more}else{if(!event.isInitial()){sendInit()}initSent=true;initValue=new Some(event);return sink(event)}}else{if(event.isEnd()){reply=sendInit()}if(reply!==Bacon.noMore){return sink(event)}}});sendInit();return unsub})};EventStream.prototype.toEventStream=function(){return this};EventStream.prototype.startWith=function(seed){return withDescription(this,"startWith",seed,Bacon.once(seed).concat(this))};EventStream.prototype.withHandler=function(handler){return new EventStream(describe(this,"withHandler",handler),this.dispatcher.subscribe,handler)};return EventStream}(Observable);Bacon.EventStream=EventStream;PropertyDispatcher=function(_super){__extends(PropertyDispatcher,_super);function PropertyDispatcher(property,subscribe,handleEvent){this.property=property;this.subscribe=__bind(this.subscribe,this);PropertyDispatcher.__super__.constructor.call(this,subscribe,handleEvent);this.current=None;this.currentValueRootId=void 0;this.propertyEnded=false}PropertyDispatcher.prototype.push=function(event){if(event.isEnd()){this.propertyEnded=true}if(event.hasValue()){this.current=new Some(event);this.currentValueRootId=UpdateBarrier.currentEventId()}return PropertyDispatcher.__super__.push.call(this,event)};PropertyDispatcher.prototype.maybeSubSource=function(sink,reply){if(reply===Bacon.noMore){return nop}else if(this.propertyEnded){sink(endEvent());return nop}else{return Dispatcher.prototype.subscribe.call(this,sink)}};PropertyDispatcher.prototype.subscribe=function(sink){var dispatchingId,initSent,reply,valId;initSent=false;reply=Bacon.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){dispatchingId=UpdateBarrier.currentEventId();valId=this.currentValueRootId;if(!this.propertyEnded&&valId&&dispatchingId&&dispatchingId!==valId){UpdateBarrier.whenDoneWith(this.property,function(_this){return function(){if(_this.currentValueRootId===valId){return sink(initialEvent(_this.current.get().value()))}}}(this));return this.maybeSubSource(sink,reply)}else{UpdateBarrier.inTransaction(void 0,this,function(){return reply=sink(initialEvent(this.current.get().value()))},[]);return this.maybeSubSource(sink,reply)}}else{return this.maybeSubSource(sink,reply)}};return PropertyDispatcher}(Dispatcher);Property=function(_super){__extends(Property,_super);function Property(desc,subscribe,handler){if(_.isFunction(desc)){handler=subscribe;subscribe=desc;desc=[]}Property.__super__.constructor.call(this,desc);assertFunction(subscribe);this.dispatcher=new PropertyDispatcher(this,subscribe,handler);registerObs(this)}Property.prototype.changes=function(){return new EventStream(describe(this,"changes"),function(_this){return function(sink){return _this.dispatcher.subscribe(function(event){if(!event.isInitial()){return sink(event)}})}}(this))};Property.prototype.withHandler=function(handler){return new Property(describe(this,"withHandler",handler),this.dispatcher.subscribe,handler)};Property.prototype.toProperty=function(){assertNoArguments(arguments);return this};Property.prototype.toEventStream=function(){return new EventStream(describe(this,"toEventStream"),function(_this){return function(sink){return _this.dispatcher.subscribe(function(event){if(event.isInitial()){event=event.toNext()}return sink(event)})}}(this))};return Property}(Observable);Bacon.Property=Property;Bacon.fromBinder=function(binder,eventTransformer){if(eventTransformer==null){eventTransformer=_.id}return new EventStream(describe(Bacon,"fromBinder",binder,eventTransformer),function(sink){var shouldUnbind,unbind,unbinder,unbound;unbound=false;shouldUnbind=false;unbind=function(){if(!unbound){if(typeof unbinder!=="undefined"&&unbinder!==null){unbinder();return unbound=true}else{return shouldUnbind=true}}};unbinder=binder(function(){var args,event,reply,value,_i,_len;args=1<=arguments.length?__slice.call(arguments,0):[];value=eventTransformer.apply(this,args);if(!(isArray(value)&&_.last(value)instanceof Event)){value=[value]}reply=Bacon.more;for(_i=0,_len=value.length;_i<_len;_i++){event=value[_i];reply=sink(event=toEvent(event));if(reply===Bacon.noMore||event.isEnd()){unbind();return reply}}return reply});if(shouldUnbind){unbind()}return unbind})};Bacon.fromEventTarget=function(target,eventName,eventTransformer){var sub,unsub,_ref,_ref1,_ref2,_ref3,_ref4,_ref5;sub=(_ref=(_ref1=(_ref2=target.addEventListener)!=null?_ref2:target.addListener)!=null?_ref1:target.bind)!=null?_ref:target.on;unsub=(_ref3=(_ref4=(_ref5=target.removeEventListener)!=null?_ref5:target.removeListener)!=null?_ref4:target.unbind)!=null?_ref3:target.off;return withDescription(Bacon,"fromEventTarget",target,eventName,Bacon.fromBinder(function(handler){sub.call(target,eventName,handler);return function(){return unsub.call(target,eventName,handler)}},eventTransformer))};Bacon.fromEvent=Bacon.fromEventTarget;Bacon.constant=function(value){return new Property(describe(Bacon,"constant",value),function(sink){sink(initialEvent(value));sink(endEvent());return nop})};Bacon.never=function(){return new EventStream(describe(Bacon,"never"),function(sink){sink(endEvent());return nop})};Bacon.once=function(value){return new EventStream(describe(Bacon,"once",value),function(sink){sink(toEvent(value));sink(endEvent());return nop})};Bacon.fromArray=function(values){var i;assertArray(values);if(!values.length){return withDescription(Bacon,"fromArray",values,Bacon.never())}else{i=0;return new EventStream(describe(Bacon,"fromArray",values),function(sink){var push,reply,unsubd;unsubd=false;reply=Bacon.more;push=function(){var value;if(reply!==Bacon.noMore&&!unsubd){value=values[i++];reply=sink(toEvent(value));if(reply!==Bacon.noMore){if(i===values.length){return sink(endEvent())}else{return UpdateBarrier.afterTransaction(push)}}}};push();return function(){return unsubd=true}})}};Bacon.combineAsArray=function(){var index,s,sources,stream,streams,_i,_len;streams=1<=arguments.length?__slice.call(arguments,0):[];if(streams.length===1&&isArray(streams[0])){streams=streams[0]}for(index=_i=0,_len=streams.length;_i<_len;index=++_i){stream=streams[index];if(!isObservable(stream)){streams[index]=Bacon.constant(stream)}}if(streams.length){sources=function(){var _j,_len1,_results;_results=[];for(_j=0,_len1=streams.length;_j<_len1;_j++){s=streams[_j];_results.push(new Source(s,true))}return _results}();return withDescription.apply(null,[Bacon,"combineAsArray"].concat(__slice.call(streams),[Bacon.when(sources,function(){var xs;xs=1<=arguments.length?__slice.call(arguments,0):[];return xs}).toProperty()]))}else{return Bacon.constant([])}};Bacon.onValues=function(){var f,streams,_i;streams=2<=arguments.length?__slice.call(arguments,0,_i=arguments.length-1):(_i=0,[]),f=arguments[_i++];return Bacon.combineAsArray(streams).onValues(f)};Bacon.combineWith=function(){var f,streams;f=arguments[0],streams=2<=arguments.length?__slice.call(arguments,1):[];return withDescription.apply(null,[Bacon,"combineWith",f].concat(__slice.call(streams),[Bacon.combineAsArray(streams).map(function(values){return f.apply(null,values)})]))};Bacon.combineTemplate=function(template){var applyStreamValue,combinator,compile,compileTemplate,constantValue,current,funcs,mkContext,setValue,streams;funcs=[];streams=[];current=function(ctxStack){return ctxStack[ctxStack.length-1]};setValue=function(ctxStack,key,value){return current(ctxStack)[key]=value};applyStreamValue=function(key,index){return function(ctxStack,values){return setValue(ctxStack,key,values[index])}};constantValue=function(key,value){return function(ctxStack){return setValue(ctxStack,key,value)}};mkContext=function(template){if(isArray(template)){return[]}else{return{}}};compile=function(key,value){var popContext,pushContext;if(isObservable(value)){streams.push(value);return funcs.push(applyStreamValue(key,streams.length-1));

}else if(value===Object(value)&&typeof value!=="function"&&!(value instanceof RegExp)&&!(value instanceof Date)){pushContext=function(key){return function(ctxStack){var newContext;newContext=mkContext(value);setValue(ctxStack,key,newContext);return ctxStack.push(newContext)}};popContext=function(ctxStack){return ctxStack.pop()};funcs.push(pushContext(key));compileTemplate(value);return funcs.push(popContext)}else{return funcs.push(constantValue(key,value))}};compileTemplate=function(template){return _.each(template,compile)};compileTemplate(template);combinator=function(values){var ctxStack,f,rootContext,_i,_len;rootContext=mkContext(template);ctxStack=[rootContext];for(_i=0,_len=funcs.length;_i<_len;_i++){f=funcs[_i];f(ctxStack,values)}return rootContext};return withDescription(Bacon,"combineTemplate",template,Bacon.combineAsArray(streams).map(combinator))};Bacon.Observable.prototype.combine=function(other,f){var combinator;combinator=toCombinator(f);return withDescription(this,"combine",other,f,Bacon.combineAsArray(this,other).map(function(values){return combinator(values[0],values[1])}))};Bacon.Observable.prototype.decode=function(cases){return withDescription(this,"decode",cases,this.combine(Bacon.combineTemplate(cases),function(key,values){return values[key]}))};Bacon.Observable.prototype.withStateMachine=function(initState,f){var state;state=initState;return withDescription(this,"withStateMachine",initState,f,this.withHandler(function(event){var fromF,newState,output,outputs,reply,_i,_len;fromF=f(state,event);newState=fromF[0],outputs=fromF[1];state=newState;reply=Bacon.more;for(_i=0,_len=outputs.length;_i<_len;_i++){output=outputs[_i];reply=this.push(output);if(reply===Bacon.noMore){return reply}}return reply}))};Bacon.Observable.prototype.skipDuplicates=function(isEqual){if(isEqual==null){isEqual=function(a,b){return a===b}}return withDescription(this,"skipDuplicates",this.withStateMachine(None,function(prev,event){if(!event.hasValue()){return[prev,[event]]}else if(event.isInitial()||prev===None||!isEqual(prev.get(),event.value())){return[new Some(event.value()),[event]]}else{return[prev,[]]}}))};Bacon.Observable.prototype.awaiting=function(other){return withDescription(this,"awaiting",other,Bacon.groupSimultaneous(this,other).map(function(_arg){var myValues,otherValues;myValues=_arg[0],otherValues=_arg[1];return otherValues.length===0}).toProperty(false).skipDuplicates())};Bacon.Observable.prototype.not=function(){return withDescription(this,"not",this.map(function(x){return!x}))};Bacon.Property.prototype.and=function(other){return withDescription(this,"and",other,this.combine(other,function(x,y){return x&&y}))};Bacon.Property.prototype.or=function(other){return withDescription(this,"or",other,this.combine(other,function(x,y){return x||y}))};Bacon.scheduler={setTimeout:function(f,d){return setTimeout(f,d)},setInterval:function(f,i){return setInterval(f,i)},clearInterval:function(id){return clearInterval(id)},now:function(){return(new Date).getTime()}};Bacon.EventStream.prototype.bufferWithTime=function(delay){return withDescription(this,"bufferWithTime",delay,this.bufferWithTimeOrCount(delay,Number.MAX_VALUE))};Bacon.EventStream.prototype.bufferWithCount=function(count){return withDescription(this,"bufferWithCount",count,this.bufferWithTimeOrCount(void 0,count))};Bacon.EventStream.prototype.bufferWithTimeOrCount=function(delay,count){var flushOrSchedule;flushOrSchedule=function(buffer){if(buffer.values.length===count){return buffer.flush()}else if(delay!==void 0){return buffer.schedule()}};return withDescription(this,"bufferWithTimeOrCount",delay,count,this.buffer(delay,flushOrSchedule,flushOrSchedule))};Bacon.EventStream.prototype.buffer=function(delay,onInput,onFlush){var buffer,delayMs,reply;if(onInput==null){onInput=nop}if(onFlush==null){onFlush=nop}buffer={scheduled:false,end:void 0,values:[],flush:function(){var reply;this.scheduled=false;if(this.values.length>0){reply=this.push(nextEvent(this.values));this.values=[];if(this.end!=null){return this.push(this.end)}else if(reply!==Bacon.noMore){return onFlush(this)}}else{if(this.end!=null){return this.push(this.end)}}},schedule:function(){if(!this.scheduled){this.scheduled=true;return delay(function(_this){return function(){return _this.flush()}}(this))}}};reply=Bacon.more;if(!_.isFunction(delay)){delayMs=delay;delay=function(f){return Bacon.scheduler.setTimeout(f,delayMs)}}return withDescription(this,"buffer",this.withHandler(function(event){buffer.push=function(_this){return function(event){return _this.push(event)}}(this);if(event.isError()){reply=this.push(event)}else if(event.isEnd()){buffer.end=event;if(!buffer.scheduled){buffer.flush()}}else{buffer.values.push(event.value());onInput(buffer)}return reply}))};Bacon.Observable.prototype.filter=function(){var args,f;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return convertArgsToFunction(this,f,args,function(f){return withDescription(this,"filter",f,this.withHandler(function(event){if(event.filter(f)){return this.push(event)}else{return Bacon.more}}))})};Bacon.EventStream.prototype.concat=function(right){var left;left=this;return new EventStream(describe(left,"concat",right),function(sink){var unsubLeft,unsubRight;unsubRight=nop;unsubLeft=left.dispatcher.subscribe(function(e){if(e.isEnd()){return unsubRight=right.dispatcher.subscribe(sink)}else{return sink(e)}});return function(){unsubLeft();return unsubRight()}})};Bacon.Observable.prototype.flatMap=function(){return flatMap_(this,makeSpawner(arguments))};Bacon.Observable.prototype.flatMapFirst=function(){return flatMap_(this,makeSpawner(arguments),true)};flatMap_=function(root,f,firstOnly,limit){var childDeps,result,rootDep;rootDep=[root];childDeps=[];result=new EventStream(describe(root,"flatMap"+(firstOnly?"First":""),f),function(sink){var checkEnd,checkQueue,composite,queue,spawn;composite=new CompositeUnsubscribe;queue=[];spawn=function(event){var child;child=makeObservable(f(event.value()));childDeps.push(child);return composite.add(function(unsubAll,unsubMe){return child.dispatcher.subscribe(function(event){var reply;if(event.isEnd()){_.remove(child,childDeps);checkQueue();checkEnd(unsubMe);return Bacon.noMore}else{if(event instanceof Initial){event=event.toNext()}reply=sink(event);if(reply===Bacon.noMore){unsubAll()}return reply}})})};checkQueue=function(){var event;event=queue.shift();if(event){return spawn(event)}};checkEnd=function(unsub){unsub();if(composite.empty()){return sink(endEvent())}};composite.add(function(__,unsubRoot){return root.dispatcher.subscribe(function(event){if(event.isEnd()){return checkEnd(unsubRoot)}else if(event.isError()){return sink(event)}else if(firstOnly&&composite.count()>1){return Bacon.more}else{if(composite.unsubscribed){return Bacon.noMore}if(limit&&composite.count()>limit){return queue.push(event)}else{return spawn(event)}}})});return composite.unsubscribe});result.internalDeps=function(){if(childDeps.length){return rootDep.concat(childDeps)}else{return rootDep}};return result};makeSpawner=function(args){if(args.length===1&&isObservable(args[0])){return _.always(args[0])}else{return makeFunctionArgs(args)}};makeObservable=function(x){if(isObservable(x)){return x}else{return Bacon.once(x)}};Bacon.Observable.prototype.flatMapWithConcurrencyLimit=function(){var args,limit;limit=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return withDescription.apply(null,[this,"flatMapWithConcurrencyLimit",limit].concat(__slice.call(args),[flatMap_(this,makeSpawner(args),false,limit)]))};Bacon.Observable.prototype.flatMapConcat=function(){return withDescription.apply(null,[this,"flatMapConcat"].concat(__slice.call(arguments),[this.flatMapWithConcurrencyLimit.apply(this,[1].concat(__slice.call(arguments)))]))};Bacon.Observable.prototype.bufferingThrottle=function(minimumInterval){return withDescription(this,"bufferingThrottle",minimumInterval,this.flatMapConcat(function(x){return Bacon.once(x).concat(Bacon.later(minimumInterval).filter(false))}))};Bacon.Property.prototype.bufferingThrottle=function(){return Bacon.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()};Bus=function(_super){__extends(Bus,_super);function Bus(){this.guardedSink=__bind(this.guardedSink,this);this.subscribeAll=__bind(this.subscribeAll,this);this.unsubAll=__bind(this.unsubAll,this);this.sink=void 0;this.subscriptions=[];this.ended=false;Bus.__super__.constructor.call(this,describe(Bacon,"Bus"),this.subscribeAll)}Bus.prototype.unsubAll=function(){var sub,_i,_len,_ref;_ref=this.subscriptions;for(_i=0,_len=_ref.length;_i<_len;_i++){sub=_ref[_i];if(typeof sub.unsub==="function"){sub.unsub()}}return void 0};Bus.prototype.subscribeAll=function(newSink){var subscription,_i,_len,_ref;this.sink=newSink;_ref=cloneArray(this.subscriptions);for(_i=0,_len=_ref.length;_i<_len;_i++){subscription=_ref[_i];this.subscribeInput(subscription)}return this.unsubAll};Bus.prototype.guardedSink=function(input){return function(_this){return function(event){if(event.isEnd()){_this.unsubscribeInput(input);return Bacon.noMore}else{return _this.sink(event)}}}(this)};Bus.prototype.subscribeInput=function(subscription){return subscription.unsub=subscription.input.dispatcher.subscribe(this.guardedSink(subscription.input))};Bus.prototype.unsubscribeInput=function(input){var i,sub,_i,_len,_ref;_ref=this.subscriptions;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){sub=_ref[i];if(sub.input===input){if(typeof sub.unsub==="function"){sub.unsub()}this.subscriptions.splice(i,1);return}}};Bus.prototype.plug=function(input){var sub;assertObservable(input);if(this.ended){return}sub={input:input};this.subscriptions.push(sub);if(this.sink!=null){this.subscribeInput(sub)}return function(_this){return function(){return _this.unsubscribeInput(input)}}(this)};Bus.prototype.end=function(){this.ended=true;this.unsubAll();return typeof this.sink==="function"?this.sink(endEvent()):void 0};Bus.prototype.push=function(value){return typeof this.sink==="function"?this.sink(nextEvent(value)):void 0};Bus.prototype.error=function(error){return typeof this.sink==="function"?this.sink(new Error(error)):void 0};return Bus}(EventStream);Bacon.Bus=Bus;liftCallback=function(desc,wrapped){return withMethodCallSupport(function(){var args,f,stream;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];stream=partiallyApplied(wrapped,[function(values,callback){return f.apply(null,__slice.call(values).concat([callback]))}]);return withDescription.apply(null,[Bacon,desc,f].concat(__slice.call(args),[Bacon.combineAsArray(args).flatMap(stream)]))})};Bacon.fromCallback=liftCallback("fromCallback",function(){var args,f;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return Bacon.fromBinder(function(handler){makeFunction(f,args)(handler);return nop},function(value){return[value,endEvent()]})});Bacon.fromNodeCallback=liftCallback("fromNodeCallback",function(){var args,f;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return Bacon.fromBinder(function(handler){makeFunction(f,args)(handler);return nop},function(error,value){if(error){return[new Error(error),endEvent()]}return[value,endEvent()]})});addPropertyInitValueToStream=function(property,stream){var justInitValue;justInitValue=new EventStream(describe(property,"justInitValue"),function(sink){var unsub,value;value=void 0;unsub=property.dispatcher.subscribe(function(event){if(!event.isEnd()){value=event}return Bacon.noMore});UpdateBarrier.whenDoneWith(justInitValue,function(){if(value!=null){sink(value)}return sink(endEvent())});return unsub});return justInitValue.concat(stream).toProperty()};Bacon.Observable.prototype.mapEnd=function(){var f;f=makeFunctionArgs(arguments);return withDescription(this,"mapEnd",f,this.withHandler(function(event){if(event.isEnd()){this.push(nextEvent(f(event)));this.push(endEvent());return Bacon.noMore}else{return this.push(event)}}))};Bacon.Observable.prototype.skipErrors=function(){return withDescription(this,"skipErrors",this.withHandler(function(event){if(event.isError()){return Bacon.more}else{return this.push(event)}}))};Bacon.EventStream.prototype.takeUntil=function(stopper){var endMarker;endMarker={};return withDescription(this,"takeUntil",stopper,Bacon.groupSimultaneous(this.mapEnd(endMarker),stopper.skipErrors()).withHandler(function(event){var data,reply,value,_i,_len,_ref;if(!event.hasValue()){return this.push(event)}else{_ref=event.value(),data=_ref[0],stopper=_ref[1];if(stopper.length){return this.push(endEvent())}else{reply=Bacon.more;for(_i=0,_len=data.length;_i<_len;_i++){value=data[_i];if(value===endMarker){reply=this.push(endEvent())}else{reply=this.push(nextEvent(value))}}return reply}}}))};Bacon.Property.prototype.takeUntil=function(stopper){var changes;changes=this.changes().takeUntil(stopper);return withDescription(this,"takeUntil",stopper,addPropertyInitValueToStream(this,changes))};Bacon.Observable.prototype.flatMapLatest=function(){var f,stream;f=makeSpawner(arguments);stream=this.toEventStream();return withDescription(this,"flatMapLatest",f,stream.flatMap(function(value){return makeObservable(f(value)).takeUntil(stream)}))};Bacon.fromPoll=function(delay,poll){return withDescription(Bacon,"fromPoll",delay,poll,Bacon.fromBinder(function(handler){var id;id=Bacon.scheduler.setInterval(handler,delay);return function(){return Bacon.scheduler.clearInterval(id)}},poll))};Bacon.later=function(delay,value){return withDescription(Bacon,"later",delay,value,Bacon.fromPoll(delay,function(){return[value,endEvent()]}))};Bacon.sequentially=function(delay,values){var index;index=0;return withDescription(Bacon,"sequentially",delay,values,Bacon.fromPoll(delay,function(){var value;value=values[index++];if(index<values.length){return value}else if(index===values.length){return[value,endEvent()]}else{return endEvent()}}))};Bacon.repeatedly=function(delay,values){var index;index=0;return withDescription(Bacon,"repeatedly",delay,values,Bacon.fromPoll(delay,function(){return values[index++%values.length]}))};Bacon.interval=function(delay,value){if(value==null){value={}}return withDescription(Bacon,"interval",delay,value,Bacon.fromPoll(delay,function(){return nextEvent(value)}))};Bacon.EventStream.prototype.delay=function(delay){return withDescription(this,"delay",delay,this.flatMap(function(value){return Bacon.later(delay,value)}))};Bacon.Property.prototype.delay=function(delay){return this.delayChanges("delay",delay,function(changes){return changes.delay(delay)})};Bacon.Property.prototype.delayChanges=function(){var desc,f,_i;desc=2<=arguments.length?__slice.call(arguments,0,_i=arguments.length-1):(_i=0,[]),f=arguments[_i++];return withDescription.apply(null,[this].concat(__slice.call(desc),[addPropertyInitValueToStream(this,f(this.changes()))]))};Bacon.EventStream.prototype.debounce=function(delay){return withDescription(this,"debounce",delay,this.flatMapLatest(function(value){return Bacon.later(delay,value)}))};Bacon.Property.prototype.debounce=function(delay){return this.delayChanges("debounce",delay,function(changes){return changes.debounce(delay)})};Bacon.EventStream.prototype.debounceImmediate=function(delay){return withDescription(this,"debounceImmediate",delay,this.flatMapFirst(function(value){return Bacon.once(value).concat(Bacon.later(delay).filter(false))}))};Bacon.Observable.prototype.scan=function(seed,f){var acc,resultProperty,subscribe;f=toCombinator(f);acc=toOption(seed);subscribe=function(_this){return function(sink){var initSent,reply,sendInit,unsub;initSent=false;unsub=nop;reply=Bacon.more;sendInit=function(){if(!initSent){return acc.forEach(function(value){initSent=true;reply=sink(new Initial(function(){return value}));if(reply===Bacon.noMore){unsub();return unsub=nop}})}};unsub=_this.dispatcher.subscribe(function(event){var next,prev;if(event.hasValue()){if(initSent&&event.isInitial()){return Bacon.more}else{if(!event.isInitial()){sendInit()}initSent=true;prev=acc.getOrElse(void 0);next=f(prev,event.value());acc=new Some(next);return sink(event.apply(function(){return next}))}}else{if(event.isEnd()){reply=sendInit()}if(reply!==Bacon.noMore){return sink(event)}}});UpdateBarrier.whenDoneWith(resultProperty,sendInit);return unsub}}(this);return resultProperty=new Property(describe(this,"scan",seed,f),subscribe)};Bacon.Observable.prototype.diff=function(start,f){f=toCombinator(f);return withDescription(this,"diff",start,f,this.scan([start],function(prevTuple,next){return[next,f(prevTuple[0],next)]}).filter(function(tuple){return tuple.length===2}).map(function(tuple){return tuple[1]}))};Bacon.Observable.prototype.doAction=function(){var f;f=makeFunctionArgs(arguments);return withDescription(this,"doAction",f,this.withHandler(function(event){if(event.hasValue()){f(event.value())}return this.push(event)}))};Bacon.Observable.prototype.endOnError=function(){var args,f;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(f==null){f=true}return convertArgsToFunction(this,f,args,function(f){return withDescription(this,"endOnError",this.withHandler(function(event){if(event.isError()&&f(event.error)){this.push(event);return this.push(endEvent())}else{return this.push(event)}}))})};valueAndEnd=function(value){return[value,endEvent()]};Bacon.fromPromise=function(promise,abort){return withDescription(Bacon,"fromPromise",promise,Bacon.fromBinder(function(handler){promise.then(handler,function(e){return handler(new Error(e))});return function(){if(abort){return typeof promise.abort==="function"?promise.abort():void 0}}},valueAndEnd))};Bacon.Observable.prototype.mapError=function(){var f;f=makeFunctionArgs(arguments);return withDescription(this,"mapError",f,this.withHandler(function(event){if(event.isError()){return this.push(nextEvent(f(event.error)))}else{return this.push(event)}}))};Bacon.Observable.prototype.flatMapError=function(fn){return withDescription(this,"flatMapError",fn,this.mapError(function(err){return new Error(err)}).flatMap(function(x){if(x instanceof Error){return fn(x.error)}else{return Bacon.once(x)}}))};Bacon.EventStream.prototype.sampledBy=function(sampler,combinator){return withDescription(this,"sampledBy",sampler,combinator,this.toProperty().sampledBy(sampler,combinator))};Bacon.Property.prototype.sampledBy=function(sampler,combinator){var lazy,result,samplerSource,stream,thisSource;if(combinator!=null){combinator=toCombinator(combinator)}else{lazy=true;combinator=function(f){return f.value()}}thisSource=new Source(this,false,lazy);samplerSource=new Source(sampler,true,lazy);stream=Bacon.when([thisSource,samplerSource],combinator);result=sampler instanceof Property?stream.toProperty():stream;return withDescription(this,"sampledBy",sampler,combinator,result)};Bacon.Property.prototype.sample=function(interval){return withDescription(this,"sample",interval,this.sampledBy(Bacon.interval(interval,{})))};Bacon.Observable.prototype.map=function(){var args,p;p=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(p instanceof Property){return p.sampledBy(this,former)}else{return convertArgsToFunction(this,p,args,function(f){return withDescription(this,"map",f,this.withHandler(function(event){return this.push(event.fmap(f))}))})}};Bacon.Observable.prototype.fold=function(seed,f){return withDescription(this,"fold",seed,f,this.scan(seed,f).sampledBy(this.filter(false).mapEnd().toProperty()))};Observable.prototype.reduce=Observable.prototype.fold;Bacon.EventStream.prototype.merge=function(right){var left;assertEventStream(right);left=this;return withDescription(left,"merge",right,Bacon.mergeAll(this,right))};Bacon.mergeAll=function(){var streams;streams=1<=arguments.length?__slice.call(arguments,0):[];if(isArray(streams[0])){streams=streams[0]}if(streams.length){return new EventStream(describe.apply(null,[Bacon,"mergeAll"].concat(__slice.call(streams))),function(sink){var ends,sinks,smartSink;ends=0;smartSink=function(obs){return function(unsubBoth){return obs.dispatcher.subscribe(function(event){var reply;if(event.isEnd()){ends++;if(ends===streams.length){return sink(endEvent())}else{return Bacon.more}}else{reply=sink(event);if(reply===Bacon.noMore){unsubBoth()}return reply}})}};sinks=_.map(smartSink,streams);return compositeUnsubscribe.apply(null,sinks)})}else{return Bacon.never()}};Bacon.Observable.prototype.take=function(count){if(count<=0){return Bacon.never()}return withDescription(this,"take",count,this.withHandler(function(event){if(!event.hasValue()){return this.push(event)}else{count--;if(count>0){return this.push(event)}else{if(count===0){this.push(event)}this.push(endEvent());return Bacon.noMore}}}))};Bacon.EventStream.prototype.holdWhen=function(valve){var putToHold,releaseHold,valve_;valve_=valve.startWith(false);releaseHold=valve_.filter(function(x){return!x});putToHold=valve_.filter(_.id);return withDescription(this,"holdWhen",valve,this.filter(false).merge(valve_.flatMapConcat(function(_this){return function(shouldHold){if(!shouldHold){return _this.takeUntil(putToHold)}else{return _this.scan([],function(xs,x){return xs.concat(x)}).sampledBy(releaseHold).take(1).flatMap(Bacon.fromArray)}}}(this))))};Bacon.$={};Bacon.$.asEventStream=function(eventName,selector,eventTransformer){var _ref;if(_.isFunction(selector)){_ref=[selector,void 0],eventTransformer=_ref[0],selector=_ref[1]}return withDescription(this.selector||this,"asEventStream",eventName,Bacon.fromBinder(function(_this){return function(handler){_this.on(eventName,selector,handler);return function(){return _this.off(eventName,selector,handler)}}}(this),eventTransformer))};if((_ref=typeof jQuery!=="undefined"&&jQuery!==null?jQuery:typeof Zepto!=="undefined"&&Zepto!==null?Zepto:void 0)!=null){_ref.fn.asEventStream=Bacon.$.asEventStream}Bacon.Observable.prototype.log=function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];this.subscribe(function(event){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log.apply(console,__slice.call(args).concat([event.log()])):void 0:void 0});return this};Bacon.retry=function(options){var delay,isRetryable,maxRetries,retries,retry,source;if(!_.isFunction(options.source)){throw new Exception("'source' option has to be a function")}source=options.source;retries=options.retries||0;maxRetries=options.maxRetries||retries;delay=options.delay||function(){return 0};isRetryable=options.isRetryable||function(){return true};retry=function(context){var delayedRetry,nextAttemptOptions;nextAttemptOptions={source:source,retries:retries-1,maxRetries:maxRetries,delay:delay,isRetryable:isRetryable};delayedRetry=function(){return Bacon.retry(nextAttemptOptions)};return Bacon.later(delay(context)).filter(false).concat(Bacon.once().flatMap(delayedRetry))};return withDescription(Bacon,"retry",options,source().flatMapError(function(e){if(isRetryable(e)&&retries>0){return retry({error:e,retriesDone:maxRetries-retries})}else{return Bacon.once(new Error(e))}}))};Bacon.Observable.prototype.skip=function(count){return withDescription(this,"skip",count,this.withHandler(function(event){if(!event.hasValue()){return this.push(event)}else if(count>0){count--;return Bacon.more}else{return this.push(event)}}))};Bacon.EventStream.prototype.skipUntil=function(starter){var started;started=starter.take(1).map(true).toProperty(false);return withDescription(this,"skipUntil",starter,this.filter(started))};Bacon.EventStream.prototype.skipWhile=function(){var args,f,ok;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];ok=false;return convertArgsToFunction(this,f,args,function(f){return withDescription(this,"skipWhile",f,this.withHandler(function(event){if(ok||!event.hasValue()||!f(event.value())){if(event.hasValue()){ok=true}return this.push(event)}else{return Bacon.more}}))})};Bacon.Observable.prototype.slidingWindow=function(n,minValues){if(minValues==null){minValues=0}return withDescription(this,"slidingWindow",n,minValues,this.scan([],function(window,value){return window.concat([value]).slice(-n)}).filter(function(values){return values.length>=minValues}))};Bacon.spy=function(spy){return spys.push(spy)};spys=[];registerObs=function(obs){var spy,_i,_len;if(spys.length){if(!registerObs.running){try{registerObs.running=true;for(_i=0,_len=spys.length;_i<_len;_i++){spy=spys[_i];spy(obs)}}finally{delete registerObs.running}}}return void 0};Bacon.Property.prototype.startWith=function(value){return withDescription(this,"startWith",value,this.scan(value,function(prev,next){return next}))};Bacon.Observable.prototype.takeWhile=function(){var args,f;f=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return convertArgsToFunction(this,f,args,function(f){return withDescription(this,"takeWhile",f,this.withHandler(function(event){if(event.filter(f)){return this.push(event)}else{this.push(endEvent());return Bacon.noMore}}))})};Bacon.EventStream.prototype.throttle=function(delay){return withDescription(this,"throttle",delay,this.bufferWithTime(delay).map(function(values){return values[values.length-1]}))};Bacon.Property.prototype.throttle=function(delay){return this.delayChanges("throttle",delay,function(changes){return changes.throttle(delay)})};Bacon.update=function(){var i,initial,lateBindFirst,patterns;initial=arguments[0],patterns=2<=arguments.length?__slice.call(arguments,1):[];lateBindFirst=function(f){return function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];return function(i){return f.apply(null,[i].concat(args))}}};i=patterns.length-1;while(i>0){if(!(patterns[i]instanceof Function)){patterns[i]=function(x){return function(){return x}}(patterns[i])}patterns[i]=lateBindFirst(patterns[i]);i=i-2}return withDescription.apply(null,[Bacon,"update",initial].concat(__slice.call(patterns),[Bacon.when.apply(Bacon,patterns).scan(initial,function(x,f){return f(x)})]))};Bacon.zipAsArray=function(){var streams;streams=1<=arguments.length?__slice.call(arguments,0):[];if(isArray(streams[0])){streams=streams[0]}return withDescription.apply(null,[Bacon,"zipAsArray"].concat(__slice.call(streams),[Bacon.zipWith(streams,function(){var xs;xs=1<=arguments.length?__slice.call(arguments,0):[];return xs})]))};Bacon.zipWith=function(){var f,streams,_ref1;f=arguments[0],streams=2<=arguments.length?__slice.call(arguments,1):[];if(!_.isFunction(f)){_ref1=[f,streams[0]],streams=_ref1[0],f=_ref1[1]}streams=_.map(function(s){return s.toEventStream()},streams);return withDescription.apply(null,[Bacon,"zipWith",f].concat(__slice.call(streams),[Bacon.when(streams,f)]))};Bacon.Observable.prototype.zip=function(other,f){if(f==null){f=Array}return withDescription(this,"zip",other,Bacon.zipWith([this,other],f))};if(typeof define!=="undefined"&&define!==null&&define.amd!=null){define([],function(){return Bacon});this.Bacon=Bacon}else if(typeof module!=="undefined"&&module!==null&&module.exports!=null){module.exports=Bacon;Bacon.Bacon=Bacon}else{this.Bacon=Bacon}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],43:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else{while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],44:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;function drainQueue(){if(draining){return}draining=true;var currentQueue;

var len=queue.length;while(len){currentQueue=queue;queue=[];var i=-1;while(++i<len){currentQueue[i]()}len=queue.length}draining=false}process.nextTick=function(fun){queue.push(fun);if(!draining){setTimeout(drainQueue,0)}};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],45:[function(require,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports;var freeModule=typeof module=="object"&&module&&module.exports==freeExports&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw RangeError(errors[type])}function map(array,fn){var length=array.length;while(length--){array[length]=fn(array[length])}return array}function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join(".")}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(domain){return mapDomain(domain,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(domain){return mapDomain(domain,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.2.4",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&!freeExports.nodeType){if(freeModule){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],46:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{}],47:[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},{}],48:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode")},{"./decode":46,"./encode":47}],49:[function(require,module,exports){var punycode=require("punycode");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var rest=url;rest=rest.trim();var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){var domainArray=this.hostname.split(".");var newOut=[];for(var i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}this.hostname=newOut.join(".")}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;Object.keys(this).forEach(function(k){result[k]=this[k]},this);result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){Object.keys(relative).forEach(function(k){if(k!=="protocol")result[k]=relative[k]});if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){Object.keys(relative).forEach(function(k){result[k]=relative[k]});result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!isNull(result.pathname)||!isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last=="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!isNull(result.pathname)||!isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host};function isString(arg){return typeof arg==="string"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isNull(arg){return arg===null}function isNullOrUndefined(arg){return arg==null}},{punycode:45,querystring:48}],50:[function(require,module,exports){function classNames(){var classes="";var arg;for(var i=0;i<arguments.length;i++){arg=arguments[i];if(!arg){continue}if("string"===typeof arg||"number"===typeof arg){classes+=" "+arg}else if(Object.prototype.toString.call(arg)==="[object Array]"){classes+=" "+classNames.apply(null,arg)}else if("object"===typeof arg){for(var key in arg){if(!arg.hasOwnProperty(key)||!arg[key]){continue}classes+=" "+key}}}return classes.substr(1)}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}},{}],51:[function(require,module,exports){var serialize=function(name,val,opt){opt=opt||{};var enc=opt.encode||encode;var pairs=[name+"="+enc(val)];if(null!=opt.maxAge){var maxAge=opt.maxAge-0;if(isNaN(maxAge))throw new Error("maxAge should be a Number");pairs.push("Max-Age="+maxAge)}if(opt.domain)pairs.push("Domain="+opt.domain);if(opt.path)pairs.push("Path="+opt.path);if(opt.expires)pairs.push("Expires="+opt.expires.toUTCString());if(opt.httpOnly)pairs.push("HttpOnly");if(opt.secure)pairs.push("Secure");return pairs.join("; ")};var parse=function(str,opt){opt=opt||{};var obj={};var pairs=str.split(/; */);var dec=opt.decode||decode;pairs.forEach(function(pair){var eq_idx=pair.indexOf("=");if(eq_idx<0){return}var key=pair.substr(0,eq_idx).trim();var val=pair.substr(++eq_idx,pair.length).trim();if('"'==val[0]){val=val.slice(1,-1)}if(undefined==obj[key]){try{obj[key]=dec(val)}catch(e){obj[key]=val}}});return obj};var encode=encodeURIComponent;var decode=decodeURIComponent;module.exports.serialize=serialize;module.exports.parse=parse},{}],52:[function(require,module,exports){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.returnExports=factory()}})(this,function(){var call=Function.prototype.call;var prototypeOfObject=Object.prototype;var owns=call.bind(prototypeOfObject.hasOwnProperty);var defineGetter;var defineSetter;var lookupGetter;var lookupSetter;var supportsAccessors=owns(prototypeOfObject,"__defineGetter__");if(supportsAccessors){defineGetter=call.bind(prototypeOfObject.__defineGetter__);defineSetter=call.bind(prototypeOfObject.__defineSetter__);lookupGetter=call.bind(prototypeOfObject.__lookupGetter__);lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)}if(!Object.getPrototypeOf){Object.getPrototypeOf=function getPrototypeOf(object){var proto=object.__proto__;if(proto||proto===null){return proto}else if(object.constructor){return object.constructor.prototype}else{return prototypeOfObject}}}function doesGetOwnPropertyDescriptorWork(object){try{object.sentinel=0;return Object.getOwnPropertyDescriptor(object,"sentinel").value===0}catch(exception){}}if(Object.defineProperty){var getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({});var getOwnPropertyDescriptorWorksOnDom=typeof document==="undefined"||doesGetOwnPropertyDescriptorWork(document.createElement("div"));if(!getOwnPropertyDescriptorWorksOnDom||!getOwnPropertyDescriptorWorksOnObject){var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(object,property){if(typeof object!=="object"&&typeof object!=="function"||object===null){throw new TypeError(ERR_NON_OBJECT+object)}if(getOwnPropertyDescriptorFallback){try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}}var descriptor;if(!owns(object,property)){return descriptor}descriptor={enumerable:true,configurable:true};if(supportsAccessors){var prototype=object.__proto__;var notPrototypeOfObject=object!==prototypeOfObject;if(notPrototypeOfObject){object.__proto__=prototypeOfObject}var getter=lookupGetter(object,property);var setter=lookupSetter(object,property);if(notPrototypeOfObject){object.__proto__=prototype}if(getter||setter){if(getter){descriptor.get=getter}if(setter){descriptor.set=setter}return descriptor}}descriptor.value=object[property];descriptor.writable=true;return descriptor}}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function getOwnPropertyNames(object){return Object.keys(object)}}if(!Object.create){var createEmpty;var supportsProto=!({__proto__:null}instanceof Object);if(supportsProto||typeof document==="undefined"){createEmpty=function(){return{__proto__:null}}}else{createEmpty=function(){var iframe=document.createElement("iframe");var parent=document.body||document.documentElement;iframe.style.display="none";parent.appendChild(iframe);iframe.src="javascript:";var empty=iframe.contentWindow.Object.prototype;parent.removeChild(iframe);iframe=null;delete empty.constructor;delete empty.hasOwnProperty;delete empty.propertyIsEnumerable;delete empty.isPrototypeOf;delete empty.toLocaleString;delete empty.toString;delete empty.valueOf;empty.__proto__=null;function Empty(){}Empty.prototype=empty;createEmpty=function(){return new Empty};return new Empty}}Object.create=function create(prototype,properties){var object;function Type(){}if(prototype===null){object=createEmpty()}else{if(typeof prototype!=="object"&&typeof prototype!=="function"){throw new TypeError("Object prototype may only be an Object or null")}Type.prototype=prototype;object=new Type;object.__proto__=prototype}if(properties!==void 0){Object.defineProperties(object,properties)}return object}}function doesDefinePropertyWork(object){try{Object.defineProperty(object,"sentinel",{});return"sentinel"in object}catch(exception){}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({});var definePropertyWorksOnDom=typeof document==="undefined"||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom){var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ";var ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ";var ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function defineProperty(object,property,descriptor){if(typeof object!=="object"&&typeof object!=="function"||object===null){throw new TypeError(ERR_NON_OBJECT_TARGET+object)}if(typeof descriptor!=="object"&&typeof descriptor!=="function"||descriptor===null){throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor)}if(definePropertyFallback){try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}}if("value"in descriptor){if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject;delete object[property];object[property]=descriptor.value;object.__proto__=prototype}else{object[property]=descriptor.value}}else{if(!supportsAccessors){throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED)}if("get"in descriptor){defineGetter(object,property,descriptor.get)}if("set"in descriptor){defineSetter(object,property,descriptor.set)}}return object}}if(!Object.defineProperties||definePropertiesFallback){Object.defineProperties=function defineProperties(object,properties){if(definePropertiesFallback){try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}}for(var property in properties){if(owns(properties,property)&&property!=="__proto__"){Object.defineProperty(object,property,properties[property])}}return object}}if(!Object.seal){Object.seal=function seal(object){if(Object(object)!==object){throw new TypeError("Object.seal can only be called on Objects.")}return object}}if(!Object.freeze){Object.freeze=function freeze(object){if(Object(object)!==object){throw new TypeError("Object.freeze can only be called on Objects.")}return object}}try{Object.freeze(function(){})}catch(exception){Object.freeze=function freeze(freezeObject){return function freeze(object){if(typeof object==="function"){return object}else{return freezeObject(object)}}}(Object.freeze)}if(!Object.preventExtensions){Object.preventExtensions=function preventExtensions(object){if(Object(object)!==object){throw new TypeError("Object.preventExtensions can only be called on Objects.")}return object}}if(!Object.isSealed){Object.isSealed=function isSealed(object){if(Object(object)!==object){throw new TypeError("Object.isSealed can only be called on Objects.")}return false}}if(!Object.isFrozen){Object.isFrozen=function isFrozen(object){if(Object(object)!==object){throw new TypeError("Object.isFrozen can only be called on Objects.")}return false}}if(!Object.isExtensible){Object.isExtensible=function isExtensible(object){if(Object(object)!==object){throw new TypeError("Object.isExtensible can only be called on Objects.")}var name="";while(owns(object,name)){name+="?"}object[name]=true;var returnValue=owns(object,name);delete object[name];return returnValue}}})},{}],53:[function(require,module,exports){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.returnExports=factory()}})(this,function(){var ArrayPrototype=Array.prototype;var ObjectPrototype=Object.prototype;var FunctionPrototype=Function.prototype;var StringPrototype=String.prototype;var NumberPrototype=Number.prototype;var array_slice=ArrayPrototype.slice;var array_splice=ArrayPrototype.splice;var array_push=ArrayPrototype.push;var array_unshift=ArrayPrototype.unshift;var call=FunctionPrototype.call;var to_string=ObjectPrototype.toString;var isArray=Array.isArray||function isArray(obj){return to_string.call(obj)==="[object Array]"};var hasToStringTag=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var isCallable;var fnToStr=Function.prototype.toString,tryFunctionObject=function tryFunctionObject(value){try{fnToStr.call(value);return true}catch(e){return false}},fnClass="[object Function]",genClass="[object GeneratorFunction]";isCallable=function isCallable(value){if(typeof value!=="function"){return false}if(hasToStringTag){return tryFunctionObject(value)}var strClass=to_string.call(value);return strClass===fnClass||strClass===genClass};var isRegex;var regexExec=RegExp.prototype.exec,tryRegexExec=function tryRegexExec(value){try{regexExec.call(value);return true}catch(e){return false}},regexClass="[object RegExp]";isRegex=function isRegex(value){if(typeof value!=="object"){return false}return hasToStringTag?tryRegexExec(value):to_string.call(value)===regexClass};var isString;var strValue=String.prototype.valueOf,tryStringObject=function tryStringObject(value){try{strValue.call(value);return true}catch(e){return false}},stringClass="[object String]";isString=function isString(value){if(typeof value==="string"){return true}if(typeof value!=="object"){return false}return hasToStringTag?tryStringObject(value):to_string.call(value)===stringClass};var isArguments=function isArguments(value){var str=to_string.call(value);var isArgs=str==="[object Arguments]";if(!isArgs){isArgs=!isArray(value)&&value!==null&&typeof value==="object"&&typeof value.length==="number"&&value.length>=0&&isCallable(value.callee)}return isArgs};var defineProperties=function(has){var supportsDescriptors=Object.defineProperty&&function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}}();var defineProperty;if(supportsDescriptors){defineProperty=function(object,name,method,forceAssign){if(!forceAssign&&name in object){return}Object.defineProperty(object,name,{configurable:true,enumerable:false,writable:true,value:method})}}else{defineProperty=function(object,name,method,forceAssign){if(!forceAssign&&name in object){return}object[name]=method}}return function defineProperties(object,map,forceAssign){for(var name in map){if(has.call(map,name)){defineProperty(object,name,map[name],forceAssign)}}}}(ObjectPrototype.hasOwnProperty);function isPrimitive(input){var type=typeof input;return input===null||type==="undefined"||type==="boolean"||type==="number"||type==="string"}var ES={ToInteger:function ToInteger(num){var n=+num;if(n!==n){n=0}else if(n!==0&&n!==1/0&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n))}return n},ToPrimitive:function ToPrimitive(input){var val,valueOf,toStr;if(isPrimitive(input)){return input}valueOf=input.valueOf;if(isCallable(valueOf)){val=valueOf.call(input);if(isPrimitive(val)){return val}}toStr=input.toString;if(isCallable(toStr)){val=toStr.call(input);if(isPrimitive(val)){return val}}throw new TypeError},ToObject:function(o){if(o==null){throw new TypeError("can't convert "+o+" to object");

}return Object(o)},ToUint32:function ToUint32(x){return x>>>0}};var Empty=function Empty(){};defineProperties(FunctionPrototype,{bind:function bind(that){var target=this;if(!isCallable(target)){throw new TypeError("Function.prototype.bind called on incompatible "+target)}var args=array_slice.call(arguments,1);var bound;var binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(array_slice.call(arguments)));if(Object(result)===result){return result}return this}else{return target.apply(that,args.concat(array_slice.call(arguments)))}};var boundLength=Math.max(0,target.length-args.length);var boundArgs=[];for(var i=0;i<boundLength;i++){boundArgs.push("$"+i)}bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this, arguments); }")(binder);if(target.prototype){Empty.prototype=target.prototype;bound.prototype=new Empty;Empty.prototype=null}return bound}});var owns=call.bind(ObjectPrototype.hasOwnProperty);var spliceNoopReturnsEmptyArray=function(){var a=[1,2];var result=a.splice();return a.length===2&&isArray(result)&&result.length===0}();defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){if(arguments.length===0){return[]}else{return array_splice.apply(this,arguments)}}},!spliceNoopReturnsEmptyArray);var spliceWorksWithEmptyObject=function(){var obj={};ArrayPrototype.splice.call(obj,0,0,1);return obj.length===1}();defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){if(arguments.length===0){return[]}var args=arguments;this.length=Math.max(ES.ToInteger(this.length),0);if(arguments.length>0&&typeof deleteCount!=="number"){args=array_slice.call(arguments);if(args.length<2){args.push(this.length-start)}else{args[1]=ES.ToInteger(deleteCount)}}return array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var hasUnshiftReturnValueBug=[].unshift(0)!==1;defineProperties(ArrayPrototype,{unshift:function(){array_unshift.apply(this,arguments);return this.length}},hasUnshiftReturnValueBug);defineProperties(Array,{isArray:isArray});var boxedString=Object("a");var splitString=boxedString[0]!=="a"||!(0 in boxedString);var properlyBoxesContext=function properlyBoxed(method){var properlyBoxesNonStrict=true;var properlyBoxesStrict=true;if(method){method.call("foo",function(_,__,context){if(typeof context!=="object"){properlyBoxesNonStrict=false}});method.call([1],function(){"use strict";properlyBoxesStrict=typeof this==="string"},"x")}return!!method&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function forEach(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(!isCallable(fun)){throw new TypeError}while(++i<length){if(i in self){fun.call(thisp,self[i],i,object)}}}},!properlyBoxesContext(ArrayPrototype.forEach));defineProperties(ArrayPrototype,{map:function map(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(!isCallable(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self){result[i]=fun.call(thisp,self[i],i,object)}}return result}},!properlyBoxesContext(ArrayPrototype.map));defineProperties(ArrayPrototype,{filter:function filter(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=[],value,thisp=arguments[1];if(!isCallable(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self){value=self[i];if(fun.call(thisp,value,i,object)){result.push(value)}}}return result}},!properlyBoxesContext(ArrayPrototype.filter));defineProperties(ArrayPrototype,{every:function every(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if(!isCallable(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self&&!fun.call(thisp,self[i],i,object)){return false}}return true}},!properlyBoxesContext(ArrayPrototype.every));defineProperties(ArrayPrototype,{some:function some(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if(!isCallable(fun)){throw new TypeError(fun+" is not a function")}for(var i=0;i<length;i++){if(i in self&&fun.call(thisp,self[i],i,object)){return true}}return false}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=false;if(ArrayPrototype.reduce){reduceCoercesToObject=typeof ArrayPrototype.reduce.call("es5",function(_,__,___,list){return list})==="object"}defineProperties(ArrayPrototype,{reduce:function reduce(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0;if(!isCallable(fun)){throw new TypeError(fun+" is not a function")}if(!length&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var result;if(arguments.length>=2){result=arguments[1]}else{do{if(i in self){result=self[i++];break}if(++i>=length){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<length;i++){if(i in self){result=fun.call(void 0,result,self[i],i,object)}}return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=false;if(ArrayPrototype.reduceRight){reduceRightCoercesToObject=typeof ArrayPrototype.reduceRight.call("es5",function(_,__,___,list){return list})==="object"}defineProperties(ArrayPrototype,{reduceRight:function reduceRight(fun){var object=ES.ToObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0;if(!isCallable(fun)){throw new TypeError(fun+" is not a function")}if(!length&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var result,i=length-1;if(arguments.length>=2){result=arguments[1]}else{do{if(i in self){result=self[i--];break}if(--i<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(i<0){return result}do{if(i in self){result=fun.call(void 0,result,self[i],i,object)}}while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;defineProperties(ArrayPrototype,{indexOf:function indexOf(sought){var self=splitString&&isString(this)?this.split(""):ES.ToObject(this),length=self.length>>>0;if(!length){return-1}var i=0;if(arguments.length>1){i=ES.ToInteger(arguments[1])}i=i>=0?i:Math.max(0,length+i);for(;i<length;i++){if(i in self&&self[i]===sought){return i}}return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;defineProperties(ArrayPrototype,{lastIndexOf:function lastIndexOf(sought){var self=splitString&&isString(this)?this.split(""):ES.ToObject(this),length=self.length>>>0;if(!length){return-1}var i=length-1;if(arguments.length>1){i=Math.min(i,ES.ToInteger(arguments[1]))}i=i>=0?i:length-Math.abs(i);for(;i>=0;i--){if(i in self&&sought===self[i]){return i}}return-1}},hasFirefox2LastIndexOfBug);var hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),hasStringEnumBug=!owns("x","0"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;defineProperties(Object,{keys:function keys(object){var isFn=isCallable(object),isArgs=isArguments(object),isObject=object!==null&&typeof object==="object",isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs){throw new TypeError("Object.keys called on a non-object")}var theKeys=[];var skipProto=hasProtoEnumBug&&isFn;if(isStr&&hasStringEnumBug||isArgs){for(var i=0;i<object.length;++i){theKeys.push(String(i))}}if(!isArgs){for(var name in object){if(!(skipProto&&name==="prototype")&&owns(object,name)){theKeys.push(String(name))}}}if(hasDontEnumBug){var ctor=object.constructor,skipConstructor=ctor&&ctor.prototype===object;for(var j=0;j<dontEnumsLength;j++){var dontEnum=dontEnums[j];if(!(skipConstructor&&dontEnum==="constructor")&&owns(object,dontEnum)){theKeys.push(dontEnum)}}}return theKeys}});var keysWorksWithArguments=Object.keys&&function(){return Object.keys(arguments).length===2}(1,2);var originalKeys=Object.keys;defineProperties(Object,{keys:function keys(object){if(isArguments(object)){return originalKeys(ArrayPrototype.slice.call(object))}else{return originalKeys(object)}}},!keysWorksWithArguments);var negativeDate=-621987552e5;var negativeYearString="-000001";var hasNegativeDateBug=Date.prototype.toISOString&&new Date(negativeDate).toISOString().indexOf(negativeYearString)===-1;defineProperties(Date.prototype,{toISOString:function toISOString(){var result,length,value,year,month;if(!isFinite(this)){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}year=this.getUTCFullYear();month=this.getUTCMonth();year+=Math.floor(month/12);month=(month%12+12)%12;result=[month+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];year=(year<0?"-":year>9999?"+":"")+("00000"+Math.abs(year)).slice(0<=year&&year<=9999?-4:-6);length=result.length;while(length--){value=result[length];if(value<10){result[length]="0"+value}}return year+"-"+result.slice(0,2).join("-")+"T"+result.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},hasNegativeDateBug);var dateToJSONIsSupported=false;try{dateToJSONIsSupported=Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(negativeDate).toJSON().indexOf(negativeYearString)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(e){}if(!dateToJSONIsSupported){Date.prototype.toJSON=function toJSON(key){var o=Object(this),tv=ES.ToPrimitive(o),toISO;if(typeof tv==="number"&&!isFinite(tv)){return null}toISO=o.toISOString;if(typeof toISO!=="function"){throw new TypeError("toISOString property is not callable")}return toISO.call(o)}}var supportsExtendedYears=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"));var doesNotParseY2KNewYear=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(!Date.parse||doesNotParseY2KNewYear||acceptsInvalidDates||!supportsExtendedYears){Date=function(NativeDate){function Date(Y,M,D,h,m,s,ms){var length=arguments.length;if(this instanceof NativeDate){var date=length===1&&String(Y)===Y?new NativeDate(Date.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,s,ms):length>=6?new NativeDate(Y,M,D,h,m,s):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y):new NativeDate;date.constructor=Date;return date}return NativeDate.apply(this,arguments)}var isoDateExpression=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var months=[0,31,59,90,120,151,181,212,243,273,304,334,365];function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)}function toUTC(t){return Number(new NativeDate(1970,0,1,0,0,0,t))}for(var key in NativeDate){Date[key]=NativeDate[key]}Date.now=NativeDate.now;Date.UTC=NativeDate.UTC;Date.prototype=NativeDate.prototype;Date.prototype.constructor=Date;Date.parse=function parse(string){var match=isoDateExpression.exec(string);if(match){var year=Number(match[1]),month=Number(match[2]||1)-1,day=Number(match[3]||1)-1,hour=Number(match[4]||0),minute=Number(match[5]||0),second=Number(match[6]||0),millisecond=Math.floor(Number(match[7]||0)*1e3),isLocalTime=Boolean(match[4]&&!match[8]),signOffset=match[9]==="-"?1:-1,hourOffset=Number(match[10]||0),minuteOffset=Number(match[11]||0),result;if(hour<(minute>0||second>0||millisecond>0?24:25)&&minute<60&&second<60&&millisecond<1e3&&month>-1&&month<12&&hourOffset<24&&minuteOffset<60&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)){result=((dayFromMonth(year,month)+day)*24+hour+hourOffset*signOffset)*60;result=((result+minute+minuteOffset*signOffset)*60+second)*1e3+millisecond;if(isLocalTime){result=toUTC(result)}if(-864e13<=result&&result<=864e13){return result}}return NaN}return NativeDate.parse.apply(this,arguments)};return Date}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var hasToFixedBugs=NumberPrototype.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128");var toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(n,c){var i=-1;while(++i<toFixedHelpers.size){c+=n*toFixedHelpers.data[i];toFixedHelpers.data[i]=c%toFixedHelpers.base;c=Math.floor(c/toFixedHelpers.base)}},divide:function divide(n){var i=toFixedHelpers.size,c=0;while(--i>=0){c+=toFixedHelpers.data[i];toFixedHelpers.data[i]=Math.floor(c/n);c=c%n*toFixedHelpers.base}},numToString:function numToString(){var i=toFixedHelpers.size;var s="";while(--i>=0){if(s!==""||i===0||toFixedHelpers.data[i]!==0){var t=String(toFixedHelpers.data[i]);if(s===""){s=t}else{s+="0000000".slice(0,7-t.length)+t}}}return s},pow:function pow(x,n,acc){return n===0?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function log(x){var n=0;while(x>=4096){n+=12;x/=4096}while(x>=2){n+=1;x/=2}return n}};defineProperties(NumberPrototype,{toFixed:function toFixed(fractionDigits){var f,x,s,m,e,z,j,k;f=Number(fractionDigits);f=f!==f?0:Math.floor(f);if(f<0||f>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}x=Number(this);if(x!==x){return"NaN"}if(x<=-1e21||x>=1e21){return String(x)}s="";if(x<0){s="-";x=-x}m="0";if(x>1e-21){e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69;z=e<0?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1);z*=4503599627370496;e=52-e;if(e>0){toFixedHelpers.multiply(0,z);j=f;while(j>=7){toFixedHelpers.multiply(1e7,0);j-=7}toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0);j=e-1;while(j>=23){toFixedHelpers.divide(1<<23);j-=23}toFixedHelpers.divide(1<<j);toFixedHelpers.multiply(1,1);toFixedHelpers.divide(2);m=toFixedHelpers.numToString()}else{toFixedHelpers.multiply(0,z);toFixedHelpers.multiply(1<<-e,0);m=toFixedHelpers.numToString()+"0.00000000000000000000".slice(2,2+f)}}if(f>0){k=m.length;if(k<=f){m=s+"0.0000000000000000000".slice(0,f-k+2)+m}else{m=s+m.slice(0,k-f)+"."+m.slice(k-f)}}else{m=s+m}return m}},hasToFixedBugs);var string_split=StringPrototype.split;if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var compliantExecNpcg=typeof/()??/.exec("")[1]==="undefined";StringPrototype.split=function(separator,limit){var string=this;if(typeof separator==="undefined"&&limit===0){return[]}if(!isRegex(separator)){return string_split.call(this,separator,limit)}var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator2,match,lastIndex,lastLength;separator=new RegExp(separator.source,flags+"g");string+="";if(!compliantExecNpcg){separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)}limit=typeof limit==="undefined"?-1>>>0:ES.ToUint32(limit);match=separator.exec(string);while(match){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(typeof arguments[i]==="undefined"){match[i]=void 0}}})}if(match.length>1&&match.index<string.length){array_push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}match=separator.exec(string)}if(lastLastIndex===string.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(string.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output}})()}else if("0".split(void 0,0).length){StringPrototype.split=function split(separator,limit){if(typeof separator==="undefined"&&limit===0){return[]}return string_split.call(this,separator,limit)}}var str_replace=StringPrototype.replace;var replaceReportsGroupsCorrectly=function(){var groups=[];"x".replace(/x(.)?/g,function(match,group){groups.push(group)});return groups.length===1&&typeof groups[0]==="undefined"}();if(!replaceReportsGroupsCorrectly){StringPrototype.replace=function replace(searchValue,replaceValue){var isFn=isCallable(replaceValue);var hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(!isFn||!hasCapturingGroups){return str_replace.call(this,searchValue,replaceValue)}else{var wrappedReplaceValue=function(match){var length=arguments.length;var originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];searchValue.lastIndex=originalLastIndex;args.push(arguments[length-2],arguments[length-1]);return replaceValue.apply(this,args)};return str_replace.call(this,searchValue,wrappedReplaceValue)}}}var string_substr=StringPrototype.substr;var hasNegativeSubstrBug="".substr&&"0b".substr(-1)!=="b";defineProperties(StringPrototype,{substr:function substr(start,length){return string_substr.call(this,start<0?(start=this.length+start)<0?0:start:start,length)}},hasNegativeSubstrBug);var ws="	\n\f\r "+"\u2028"+"\u2029\ufeff";var zeroWidth="";var wsRegexChars="["+ws+"]";var trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*");var trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$");var hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!zeroWidth.trim());defineProperties(StringPrototype,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug);if(parseInt(ws+"08")!==8||parseInt(ws+"0x16")!==22){parseInt=function(origParseInt){var hexRegex=/^0[xX]/;return function parseIntES5(str,radix){str=String(str).trim();if(!Number(radix)){radix=hexRegex.test(str)?16:10}return origParseInt(str,radix)}}(parseInt)}})},{}],54:[function(require,module,exports){(function(){"use strict";function FastClick(layer,options){var oldOnClick;options=options||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=options.touchBoundary||10;this.layer=layer;this.tapDelay=options.tapDelay||200;this.tapTimeout=options.tapTimeout||700;if(FastClick.notNeeded(layer)){return}function bind(method,context){return function(){return method.apply(context,arguments)}}var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var context=this;for(var i=0,l=methods.length;i<l;i++){context[methods[i]]=bind(context[methods[i]],context)}if(deviceIsAndroid){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true)}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,callback.hijacked||callback,capture)}else{rmv.call(layer,type,callback,capture)}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event)}}),capture)}else{adv.call(layer,type,callback,capture)}}}if(typeof layer.onclick==="function"){oldOnClick=layer.onclick;layer.addEventListener("click",function(event){oldOnClick(event)},false);layer.onclick=null}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0;var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone;var deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent);var deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled){return true}break;case"input":if(deviceIsIOS&&target.type==="file"||target.disabled){return true}break;case"label":case"iframe":case"video":return true}return/\bneedsclick\b/.test(target.className)};FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return true;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}};FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur()}touch=event.changedTouches[0];clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent)};FastClick.prototype.determineEventType=function(targetElement){if(deviceIsAndroid&&targetElement.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(targetElement){var length;if(deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf("date")!==0&&targetElement.type!=="time"&&targetElement.type!=="month"){length=targetElement.value.length;targetElement.setSelectionRange(length,length)}else{targetElement.focus()}};FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode}return eventTarget};FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1){return true}targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true}if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement)}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if(event.timeStamp-this.lastClickTime<this.tapDelay){event.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true}return false};FastClick.prototype.onTouchMove=function(event){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(labelElement){if(labelElement.control!==undefined){return labelElement.control}if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor)}return labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true}if(event.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}if(event.timeStamp-this.trackingClickStart>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent}targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==="label"){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(deviceIsAndroid){return false}targetElement=forElement}}else if(this.needsFocus(targetElement)){if(event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&targetTagName==="input"){this.targetElement=null;return false}this.focus(targetElement);this.sendClick(targetElement,event);if(!deviceIsIOS||targetTagName!=="select"){this.targetElement=null;event.preventDefault()}return false}if(deviceIsIOS&&!deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true}}if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(event){if(!this.targetElement){return true}if(event.forwardedTouchEvent){return true}if(!event.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation()}else{event.propagationStopped=true}event.stopPropagation();event.preventDefault();return false}return true};FastClick.prototype.onClick=function(event){var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(event.target.type==="submit"&&event.detail===0){return true}permitted=this.onMouse(event);if(!permitted){this.targetElement=null}return permitted};FastClick.prototype.destroy=function(){var layer=this.layer;if(deviceIsAndroid){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true)}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(layer){var metaViewport;var chromeVersion;var blackberryVersion;var firefoxVersion;if(typeof window.ontouchstart==="undefined"){return true}chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(deviceIsAndroid){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(deviceIsBlackBerry10){blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(blackberryVersion[1]>=10&&blackberryVersion[2]>=3){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(layer.style.msTouchAction==="none"||layer.style.touchAction==="manipulation"){return true}firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(firefoxVersion>=27){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport&&(metaViewport.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(layer.style.touchAction==="none"||layer.style.touchAction==="manipulation"){return true}return false};FastClick.attach=function(layer,options){return new FastClick(layer,options)};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return FastClick})}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}})()},{}],55:[function(require,module,exports){module.exports={version:"2014j",zones:["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q","Africa/Accra|LMT GMT GHST|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE","Africa/Addis_Ababa|LMT EAT BEAT BEAUT|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ","Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0","Africa/Bangui|LMT WAT|-d.A -10|01|-22y0d.A","Africa/Bissau|LMT WAT GMT|12.k 10 0|012|-2ldWV.E 2xonV.E","Africa/Blantyre|LMT CAT|-2a.k -20|01|-2GJea.k","Africa/Cairo|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 1o10 jz0 gN0 pb0 1qN0 dX0 e10 xz0 1o10 bb0 e10 An0 1o10 5z0 e10 FX0 1o10 2L0 e10 IL0 1C10 Lz0 1wp0 TX0 1qN0 WL0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0","Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|012121212121212121312121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0 11A0 5c0 e00 17A0 WM0 2o0 e00 1ao0 19A0 1g00 16M0 1iM0 1400 1lA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qo0 1200 1kM0 14M0 1i00","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1y7p0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/El_Aaiun|LMT WAT WET WEST|Q.M 10 0 -10|0123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0 11A0 5c0 e00 17A0 WM0 2o0 e00 1ao0 19A0 1g00 16M0 1iM0 1400 1lA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qo0 1200 1kM0 14M0 1i00","Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0","Africa/Juba|LMT CAT CAST EAT|-2a.8 -20 -30 -30|01212121212121212121212121212121213|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0","Africa/Monrovia|MMT LRT GMT|H.8 I.u 0|012|-23Lzg.Q 29s01.m","Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0","Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00","Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00","Africa/Windhoek|SWAT SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|012134545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2GJdu 1Ajdu 1cL0 1SqL0 9NA0 11D0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0","America/Adak|NST NWT NPT BST BDT AHST HAST HADT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|CAT CAWT CAPT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|LMT AST|46.4 40|01|-2kNvR.U","America/Antigua|LMT EST AST|47.c 50 40|012|-2kNvQ.M 1yxAQ.M","America/Araguaina|LMT BRT BRST|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0","America/Argentina/Buenos_Aires|CMT ART ARST ART ARST|4g.M 40 30 30 20|0121212121212121212121212121212121212121213434343434343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0","America/Argentina/Catamarca|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0","America/Argentina/Cordoba|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343454343234343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0 1qN0 WL0","America/Argentina/Jujuy|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 g0p0 10M0 j3c0 uL0","America/Argentina/La_Rioja|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0","America/Argentina/Mendoza|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|0121212121212121212121212121212121212121213434345656543235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 g0p0 10M0 agM0 Op0 7TX0 uL0","America/Argentina/Rio_Gallegos|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ako0 7B0 8zb0 uL0","America/Argentina/Salta|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434543432343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 j3c0 uL0","America/Argentina/San_Juan|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|01212121212121212121212121212121212121212134343434534343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 g0p0 10M0 ak00 m10 8lb0 uL0","America/Argentina/San_Luis|CMT ART ARST ART ARST WART WARST|4g.M 40 30 30 20 40 30|01212121212121212121212121212121212121212134343456536353465653|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 kin0 10M0 ak00 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0","America/Argentina/Tucuman|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|012121212121212121212121212121212121212121343434345434323534343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 g0p0 10M0 ako0 4N0 8BX0 uL0 1qN0 WL0","America/Argentina/Ushuaia|CMT ART ARST ART ARST WART|4g.M 40 30 30 20 40|0121212121212121212121212121212121212121213434343434343235343|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 g0p0 10M0 ajA0 8p0 8zb0 uL0","America/Aruba|LMT ANT AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d","America/Asuncion|AMT PYT PYT PYST|3O.E 40 30 30|012131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0","America/Bahia|LMT BRT BRST|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0","America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0","America/Belem|LMT BRT BRST|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0","America/Belize|LMT CST CHDT CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0","America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0","America/Boa_Vista|LMT AMT AMST|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0","America/Bogota|BMT COT COST|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0","America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Cambridge_Bay|zzz MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|LMT AMT AMST|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0","America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Caracas|CMT VET VET|4r.E 4u 40|0121|-2kV7w.k 28KM2.k 1IwOu","America/Cayenne|LMT GFT GFT|3t.k 40 30|012|-2mrwu.E 2gWou.E","America/Cayman|KMT EST|57.b 50|01|-2l1uQ.N","America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0","America/Creston|MST PST|70 80|010|-29DR0 43B0","America/Cuiaba|LMT AMT AMST|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0","America/Danmarkshavn|LMT WGT WGST GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0","America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0","America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|01234252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 Jy10 SL0 dnB0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|LMT ACT ACST AMT|4D.s 50 40 40|0121212121212121212121212121212131|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0","America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0","America/Ensenada|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOP0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Fortaleza|LMT BRT BRST|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0","America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|LMT WGT WGST|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|KMT EST EDT AST|57.b 50 40 40|0121212121212121212121212121212121212121212121212121212121212121212121212123|-2l1uQ.N 2HHBQ.N 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0","America/Guayaquil|QMT ECT|5e 50|01|-1yVSK","America/Guyana|LMT GBGT GYT GYT GYT|3Q.E 3J 3J 30 40|01234|-2dvU7.k 24JzQ.k mlc0 Bxbf","America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0","America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Inuvik|zzz PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Iqaluit|zzz EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Jamaica|KMT EST EDT|57.b 50 40|0121212121212121212121|-2l1uQ.N 2uM1Q.N 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0","America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/La_Paz|CMT BOST BOT|4w.A 3w.A 40|012|-1x37r.o 13b0","America/Lima|LMT PET PEST|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0","America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp0 1Vb0 3dB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Maceio|LMT BRT BRST|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0","America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0","America/Manaus|LMT AMT AMST|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0","America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0","America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST PWT PPT PDT|80 70 70 70|0120303030303030303030303030303030|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0","America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Miquelon|LMT AST PMST PMDT|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Montevideo|MMT UYT UYHST UYST UYT UYHST|3I.I 3u 30 20 30 2u|012121212121212121212121213434343434345454543453434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-20UIf.g 8jzJ.g 1cLu 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1qMu WLu 1qMu 11zu 1o0u 11zu NAu 11bu 2iMu zWu Dq10 19X0 pd0 jz0 cm10 19X0 1fB0 1on0 11d0 1oL0 1nB0 1fzu 1aou 1fzu 1aou 1fzu 3nAu Jb0 3MN0 1SLu 4jzu 2PB0 Lb0 3Dd0 1pb0 ixd0 An0 1MN0 An0 1wp0 On0 1wp0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10","America/Montreal|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-28tR0 bV0 2m30 1in0 121u 1nb0 1g10 11z0 1o0u 11zu 1o0u 11zu 3VAu Rzu 1qMu WLu 1qMu WLu 1qKu WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kO0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Noronha|LMT FNT FNST|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0","America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Panama|CMT EST|5j.A 50|01|-2uduE.o","America/Pangnirtung|zzz AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|LMT PMT PMT NEGT SRT SRT|3E.E 3E.Q 3E.A 3u 3u 30|012345|-2nDUj.k Wqo0.c qanX.I 1dmLN.o lzc0","America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0","America/Port-au-Prince|PPMT EST EDT|4N 50 40|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Porto_Acre|LMT ACT ACST AMT|4v.c 50 40 40|01212121212121212121212121212131|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0","America/Porto_Velho|LMT AMT AMST|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0","America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0","America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Rankin_Inlet|zzz CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Recife|LMT BRT BRST|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0","America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0","America/Resolute|zzz CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|LMT MST PST PDT PWT PPT|7D.s 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOP0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santarem|LMT AMT AMST BRT|3C.M 40 30 30|0121212121212121212121212121213|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0","America/Santiago|SMT CLT CLT CLST CLST|4G.K 50 40 40 30|010203131313131313124242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424|-2q5Th.e fNch.e 5gLG.K 21bh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9UK0 1Je0 Qen0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","America/Santo_Domingo|SDMT EST EDT EHDT AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00","America/Sao_Paulo|LMT BRT BRST|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0","America/Scoresbysund|LMT CGT CGST EGST EGT|1r.Q 20 10 0 10|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0","America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0","America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 1Be0 xDz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Yellowknife|zzz MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|zzz AWST CAST|0 -80 -b0|012121|-2q00 1DjS0 T90 40P0 KL0","Antarctica/Davis|zzz DAVT DAVT|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0","Antarctica/DumontDUrville|zzz PMT DDUT|0 -a0 -a0|0102|-U0o0 cfq0 bFm0","Antarctica/Macquarie|AEST AEDT zzz MIST|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0","Antarctica/Mawson|zzz MAWT MAWT|0 -60 -50|012|-CEo0 2fyk0","Antarctica/McMurdo|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Palmer|zzz ARST ART ART ARST CLT CLST|0 30 40 30 20 40 30|012121212123435656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","Antarctica/Rothera|zzz ROTT|0 30|01|gOo0","Antarctica/Syowa|zzz SYOT|0 -30|01|-vs00","Antarctica/Troll|zzz UTC CEST|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|zzz VOST|0 -60|01|-tjA0","Arctic/Longyearbyen|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Aden|LMT AST|-2X.S -30|01|-MG2X.S","Asia/Almaty|LMT ALMT ALMT ALMST|-57.M -50 -60 -70|0123232323232323232323232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3Cl0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Asia/Anadyr|LMT ANAT ANAT ANAST ANAST ANAST ANAT|-bN.U -c0 -d0 -e0 -d0 -c0 -b0|01232414141414141414141561414141414141414141414141414141414141561|-1PcbN.U eUnN.U 23CL0 1db0 1cN0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0","Asia/Aqtau|LMT FORT FORT SHET SHET SHEST AQTT AQTST AQTST AQTT|-3l.4 -40 -50 -50 -60 -60 -50 -60 -50 -40|012345353535353535353536767676898989898989898989896|-1Pc3l.4 eUnl.4 1jcL0 JDc0 1cL0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cN0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 RW0","Asia/Aqtobe|LMT AKTT AKTT AKTST AKTT AQTT AQTST|-3M.E -40 -50 -60 -60 -50 -60|01234323232323232323232565656565656565656565656565|-1Pc3M.E eUnM.E 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Ashgabat|LMT ASHT ASHT ASHST ASHST TMT TMT|-3R.w -40 -50 -60 -50 -40 -50|012323232323232323232324156|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 ba0 xC0","Asia/Baghdad|BMT AST ADT|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0","Asia/Bahrain|LMT GST AST|-3m.k -40 -30|012|-21Jfm.k 27BXm.k","Asia/Baku|LMT BAKT BAKT BAKST BAKST AZST AZT AZT AZST|-3j.o -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245657878787878787878787878787878787878787878787878787878787878787878787878787878787878787|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 10K0 c30 1cJ0 1cL0 8wu0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|BMT ICT|-6G.4 -70|01|-218SG.4","Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|LMT FRUT FRUT FRUST FRUST KGT KGST KGT|-4W.o -50 -60 -70 -60 -50 -60 -60|01232323232323232323232456565656565656565656565656567|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11c0 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 T8u","Asia/Brunei|LMT BNT BNT|-7D.E -7u -80|012|-1KITD.E gDc9.E","Asia/Calcutta|HMT BURT IST IST|-5R.k -6u -5u -6u|01232|-18LFR.k 1unn.k HB0 7zX0","Asia/Chita|LMT YAKT YAKT YAKST YAKST YAKT IRKT|-7x.Q -80 -90 -a0 -90 -a0 -80|012323232323232323232324123232323232323232323232323232323232323256|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Choibalsan|LMT ULAT ULAT CHOST CHOT CHOT|-7C -70 -80 -a0 -90 -80|012343434343434343434343434343434343434343434345|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0","Asia/Chongqing|CST CDT|-80 -90|01010101010101010|-1c1I0 LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0","Asia/Colombo|MMT IST IHST IST LKT LKT|-5j.w -5u -60 -6u -6u -60|01231451|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu","Asia/Dacca|HMT BURT IST DACT BDT BDST|-5R.k -6u -5u -60 -60 -70|01213454|-18LFR.k 1unn.k HB0 m6n0 LqMu 1x6n0 1i00","Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0","Asia/Dili|LMT TLT JST TLT WITA|-8m.k -80 -90 -90 -80|012343|-2le8m.k 1dnXm.k 8HA0 1ew00 Xld0","Asia/Dubai|LMT GST|-3F.c -40|01|-21JfF.c","Asia/Dushanbe|LMT DUST DUST DUSST DUSST TJT|-4z.c -50 -60 -70 -60 -50|0123232323232323232323245|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 14N0","Asia/Gaza|EET EET EEST IST IDT|-20 -30 -30 -20 -30|010101010102020202020202020202023434343434343434343434343430202020202020202020202020202020202020202020202020202020202020202020202020202020202020|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hebron|EET EET EEST IST IDT|-20 -30 -30 -20 -30|01010101010202020202020202020202343434343434343434343434343020202020202020202020202020202020202020202020202020202020202020202020202020202020202020|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Ho_Chi_Minh|LMT PLMT ICT IDT JST|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0","Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0","Asia/Hovd|LMT HOVT HOVT HOVST|-66.A -60 -70 -80|01232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0","Asia/Irkutsk|IMT IRKT IRKT IRKST IRKST IRKT|-6V.5 -70 -80 -90 -80 -90|012323232323232323232324123232323232323232323232323232323232323252|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Istanbul|IMT EET EEST TRST TRT|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1df0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|BMT JAVT WIB JST WIB WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu","Asia/Jayapura|LMT WIT ACST|-9m.M -90 -9u|0121|-1uu9m.M sMMm.M L4nu","Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT AFT|-40 -4u|01|-10Qs0","Asia/Kamchatka|LMT PETT PETT PETST PETST|-ay.A -b0 -c0 -d0 -c0|01232323232323232323232412323232323232323232323232323232323232412|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0","Asia/Karachi|LMT IST IST KART PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy01 1cL0 dK0X 11b0 1610 1jX0","Asia/Kashgar|LMT XJT|-5O.k -60|01|-1GgtO.k","Asia/Kathmandu|LMT IST NPT|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g","Asia/Khandyga|LMT YAKT YAKT YAKST YAKST VLAT VLAST VLAT YAKT|-92.d -80 -90 -a0 -90 -a0 -b0 -b0 -a0|01232323232323232323232412323232323232323232323232565656565656565782|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|LMT KRAT KRAT KRAST KRAST KRAT|-6b.q -60 -70 -80 -70 -80|012323232323232323232324123232323232323232323232323232323232323252|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|SMT MALT MALST MALT MALT JST MYT|-6T.p -70 -7k -7k -7u -90 -80|01234546|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu 1so1u","Asia/Kuching|LMT BORT BORT BORTST JST MYT|-7l.k -7u -80 -8k -90 -80|01232323232323232425|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0 1so10","Asia/Kuwait|LMT AST|-3b.U -30|01|-MG3b.U","Asia/Macao|LMT MOT MOST CST|-7y.k -80 -90 -80|0121212121212121212121212121212121212121213|-2le7y.k 1XO34.k 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0 KEp0","Asia/Magadan|LMT MAGT MAGT MAGST MAGST MAGT|-a3.c -a0 -b0 -c0 -b0 -c0|012323232323232323232324123232323232323232323232323232323232323251|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Makassar|LMT MMT WITA JST|-7V.A -7V.A -80 -90|01232|-21JjV.A vfc0 myLV.A 8ML0","Asia/Manila|PHT PHST JST|-80 -90 -90|010201010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0","Asia/Muscat|LMT GST|-3S.o -40|01|-21JfS.o","Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|LMT KRAT KRAT KRAST KRAST NOVST NOVT NOVT|-5M.M -60 -70 -80 -70 -70 -60 -70|012323232323232323232324123232323232323232323232323232323232325672|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0 8Hz0","Asia/Novosibirsk|LMT NOVT NOVT NOVST NOVST|-5v.E -60 -70 -80 -70|0123232323232323232323241232341414141414141414141414141414141414121|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Omsk|LMT OMST OMST OMSST OMSST OMST|-4R.u -50 -60 -70 -60 -70|012323232323232323232324123232323232323232323232323232323232323252|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Oral|LMT URAT URAT URAST URAT URAST ORAT ORAST ORAT|-3p.o -40 -50 -60 -60 -50 -40 -50 -50|012343232323232323251516767676767676767676767676768|-1Pc3p.o eUnp.o 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 2UK0 Fz0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 RW0","Asia/Pontianak|LMT PMT WIB JST WIB WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu","Asia/Pyongyang|LMT KST JCST JST KST|-8n -8u -90 -90 -90|01234|-2um8n 97XR 12FXu jdA0","Asia/Qatar|LMT GST AST|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8","Asia/Qyzylorda|LMT KIZT KIZT KIZST KIZT QYZT QYZT QYZST|-4l.Q -40 -50 -60 -60 -50 -60 -70|012343232323232323232325676767676767676767676767676|-1Pc4l.Q eUol.Q 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2UK0 dC0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Rangoon|RMT BURT JST MMT|-6o.E -6u -90 -6u|0123|-21Jio.E SmnS.E 7j9u","Asia/Riyadh|LMT AST|-36.Q -30|01|-TvD6.Q","Asia/Sakhalin|LMT JCST JST SAKT SAKST SAKST SAKT|-9u.M -90 -90 -b0 -c0 -b0 -a0|0123434343434343434343435634343434343565656565656565656565656565636|-2AGVu.M 1iaMu.M je00 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o10 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Samarkand|LMT SAMT SAMT SAMST TAST UZST UZT|-4r.R -40 -50 -60 -60 -60 -50|01234323232323232323232356|-1Pc4r.R eUor.R 23CL0 1db0 1cM0 1dc0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11x0 bf0","Asia/Seoul|LMT KST JCST JST KST KDT KDT|-8r.Q -8u -90 -90 -90 -9u -a0|01234151515151515146464|-2um8r.Q 97XV.Q 12FXu jjA0 kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0","Asia/Singapore|SMT MALT MALST MALT MALT JST SGT SGT|-6T.p -70 -7k -7k -7u -90 -7u -80|012345467|-2Bg6T.p 17anT.p 7hXE dM00 17bO 8Fyu Mspu DTA0","Asia/Srednekolymsk|LMT MAGT MAGT MAGST MAGST MAGT SRET|-ae.Q -a0 -b0 -c0 -b0 -c0 -b0|012323232323232323232324123232323232323232323232323232323232323256|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Taipei|JWST JST CST CDT|-80 -90 -80 -90|01232323232323232323232323232323232323232|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0","Asia/Tashkent|LMT TAST TAST TASST TASST UZST UZT|-4B.b -50 -60 -70 -60 -60 -50|01232323232323232323232456|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 11y0 bf0","Asia/Tbilisi|TBMT TBIT TBIT TBIST TBIST GEST GET GET GEST|-2X.b -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245656565787878787878787878567|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 3y0 19f0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cM0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0","Asia/Tehran|LMT TMT IRST IRST IRDT IRDT|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|LMT IST BTT|-5W.A -5u -60|012|-Su5W.A 1BGMs.A","Asia/Tokyo|JCST JST JDT|-90 -90 -a0|0121212121|-1iw90 pKq0 QL0 1lB0 13X0 1zB0 NX0 1zB0 NX0","Asia/Ulaanbaatar|LMT ULAT ULAT ULAST|-77.w -70 -80 -90|01232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0","Asia/Ust-Nera|LMT YAKT YAKT MAGST MAGT MAGST MAGT MAGT VLAT VLAT|-9w.S -80 -90 -c0 -b0 -b0 -a0 -c0 -b0 -a0|0123434343434343434343456434343434343434343434343434343434343434789|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|LMT VLAT VLAT VLAST VLAST VLAT|-8L.v -90 -a0 -b0 -a0 -b0|012323232323232323232324123232323232323232323232323232323232323252|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Yakutsk|LMT YAKT YAKT YAKST YAKST YAKT|-8C.W -80 -90 -a0 -90 -a0|012323232323232323232324123232323232323232323232323232323232323252|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|LMT PMT SVET SVET SVEST SVEST YEKT YEKST YEKT|-42.x -3J.5 -40 -50 -60 -50 -50 -60 -60|0123434343434343434343435267676767676767676767676767676767676767686|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Asia/Yerevan|LMT YERT YERT YERST YERST AMST AMT AMT AMST|-2W -30 -40 -50 -40 -40 -30 -40 -50|0123232323232323232323245656565657878787878787878787878787878787|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1am0 2r0 1cJ0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fb0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Atlantic/Azores|HMT AZOT AZOST AZOMT AZOT AZOST WET|1S.w 20 10 0 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545456545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldW5.s aPX5.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Atlantic/Canary|LMT CANT WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|LMT CVT CVST CVT|1y.4 20 10 10|01213|-2xomp.U 1qOMp.U 7zX0 1djf0","Atlantic/Faeroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Madeira|FMT MADT MADST MADMT WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldWQ.o aPWQ.o Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Reykjavik|RMT IST ISST GMT|1r.M 10 0 0|01212121212121212121212121212121212121212121212121212121212121213|-2uWmw.c mfaw.c 1Bd0 ML0 1LB0 NLX0 1pe0 zd0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|SMT FKT FKST FKT FKST|3P.o 40 30 30 20|0121212121212134343212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 U10 1qM0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10","Australia/ACT|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0","Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0","Australia/Eucla|ACWST ACWDT|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0","Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/LHI|AEST LHST LHDT LHDT|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0","Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0","CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Chile/EasterIsland|EMT EASST EAST EAST EASST|7h.s 60 70 60 50|012121212121212121212121212121213434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-1uSgG.w nHUG.w op0 9UK0 RXB0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1ld0 14n0 1qN0 11z0 1cN0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","EST|EST|50|0|","EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Eire|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g5X0 14p0 1wn0 17d0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+0|GMT|0|0|","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Amsterdam|AMT NST NEST NET CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Belfast|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Bratislava|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Busingen|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|0123232323232323232345454676767676767676767623232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1ty0 2bD0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET FET|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454545454676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1cJ0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ldXn.f aPWn.f Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|01010101010101010101010121212121234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-28dd0 11A0 1go0 19A0 1co0 1dA0 b1A0 18o0 3I00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 iyo0 Rc0 18o0 1hc0 1io0 1a00 14o0 5aL0 MM0 1vc0 17A0 1i00 1bc0 1eo0 17d0 1in0 17A0 6hA0 10N0 XIL0 1a10 1in0 17d0 19X0 1cN0 1fz0 1a10 1fX0 1cp0 1cO0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2as10 M00 1cM0 1cM0 14o0 1o00 WM0 1qM0 17c0 1cM0 M3A0 5M20 WM0 1fA0 1cM0 1cM0 1cM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 Lz0 1C10 Lz0 1EN0 Lz0 1C10 Lz0 1zd0 Oo0 1C00 On0 1cp0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Minsk|MMT EET MSK CEST CET MSD EEST FET|-1O -20 -30 -20 -10 -40 -30 -30|012343432525252525252525252616161616161616161616161616161616161616172|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cK0 1cM0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hy0","Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Moscow|MMT MMT MST MDST MSD MSK MSM EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c20 imv.j 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rU0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2as10 M00 1cM0 1cM0 14o0 1o00 WM0 1qM0 17c0 1cM0 M3A0 5M20 WM0 1fA0 1cM0 16K0 1iO0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 Lz0 1C10 Lz0 1EN0 Lz0 1C10 Lz0 1zd0 Oo0 1C00 On0 1C10 Lz0 1zd0 On0 1C10 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Samara|LMT SAMT SAMT KUYT KUYST MSD MSK EEST KUYT SAMST SAMST|-3k.k -30 -40 -40 -50 -40 -30 -30 -30 -50 -40|012343434343434343435656782929292929292929292929292929292929292a12|-22WNk.k qHak.k bcn0 1Qqo0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cN0 8o0 14j0 1cL0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qN0 WM0","Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646464647373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Volgograd|LMT TSAT STAT STAT VOLT VOLST VOLST VOLT MSK MSK|-2V.E -30 -30 -40 -40 -50 -40 -30 -40 -30|012345454545454545454676748989898989898989898989898989898989898989|-21IqV.E cLXV.E cEM0 1gqn0 Lco0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 2pz0 1cJ0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0","Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Zaporozhye|CUT EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","HST|HST|a0|0|","Indian/Chagos|LMT IOT IOT|-4N.E -50 -60|012|-2xosN.E 3AGLN.E","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|zzz TFT|0 -50|01|-MG00","Indian/Mahe|LMT SCT|-3F.M -40|01|-2yO3F.M","Indian/Maldives|MMT MVT|-4S -50|01|-olgS","Indian/Mauritius|LMT MUT MUST|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0","Indian/Reunion|LMT RET|-3F.Q -40|01|-2mDDF.Q","Kwajalein|MHT KWAT MHT|-b0 c0 -c0|012|-AX0 W9X0","MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","MST|MST|70|0|","MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","NZ-CHAT|CHAST CHAST CHADT|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Apia|LMT WSST SST SDT WSDT WSST|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT JST BST|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|LMT VUT VUST|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0","Pacific/Enderbury|PHOT PHOT PHOT|c0 b0 -d0|012|nIc0 B8n0","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|LMT FJT FJST|-bT.I -c0 -d0|012121212121212121212121212121212121212121212121212121212121212|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 xA0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 xA0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 xA0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|LMT ECT GALT|5W.o 50 60|012|-1yVS1.A 2dTz1.A","Pacific/Gambier|LMT GAMT|8X.M 90|01|-2jof0.c","Pacific/Guadalcanal|LMT SBT|-aD.M -b0|01|-2joyD.M","Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0","Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0","Pacific/Kiritimati|LINT LINT LINT|aE a0 -e0|012|nIaE B8nk","Pacific/Kosrae|KOST KOST|-b0 -c0|010|-AX0 1bdz0","Pacific/Majuro|MHT MHT|-b0 -c0|01|-AX0","Pacific/Marquesas|LMT MART|9i 9u|01|-2joeG","Pacific/Midway|NST NDT BST SST|b0 a0 b0 b0|01023|-x3N0 An0 pJd0 EyM0","Pacific/Nauru|LMT NRT JST NRT|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu","Pacific/Niue|NUT NUT NUT|bk bu b0|012|-KfME 17y0a","Pacific/Norfolk|NMT NFT|-bc -bu|01|-Kgbc","Pacific/Noumea|LMT NCT NCST|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0","Pacific/Pago_Pago|LMT NST BST SST|bm.M b0 b0 b0|0123|-2nDMB.c 2gVzB.c EyM0","Pacific/Palau|PWT|-90|0|","Pacific/Pitcairn|PNT PST|8u 80|01|18Vku","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT CKHST CKT|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu","Pacific/Saipan|MPT MPT ChST|-90 -a0 -a0|012|-AV0 1g2n0","Pacific/Tahiti|LMT TAHT|9W.g a0|01|-2joe1.I","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT TOT TOST|-ck -d0 -e0|01212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|","WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"],
links:["Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/St_Helena","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Juba|Africa/Khartoum","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Marigot","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Aruba|America/Curacao","America/Aruba|America/Kralendijk","America/Aruba|America/Lower_Princes","America/Atikokan|America/Coral_Harbour","America/Chicago|US/Central","America/Denver|America/Shiprock","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|Canada/Mountain","America/Ensenada|America/Tijuana","America/Ensenada|Mexico/BajaNorte","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Phoenix|US/Arizona","America/Porto_Acre|America/Rio_Branco","America/Porto_Acre|Brazil/Acre","America/Regina|Canada/East-Saskatchewan","America/Regina|Canada/Saskatchewan","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|Canada/Central","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Arctic/Longyearbyen|Atlantic/Jan_Mayen","Arctic/Longyearbyen|Europe/Oslo","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|PRC","Asia/Dacca|Asia/Dhaka","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Macao|Asia/Macau","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Faeroe|Atlantic/Faroe","Atlantic/Reykjavik|Iceland","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Tasmania","Australia/LHI|Australia/Lord_Howe","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/GMT+0|Etc/GMT","Etc/GMT+0|Etc/GMT-0","Etc/GMT+0|Etc/GMT0","Etc/GMT+0|Etc/Greenwich","Etc/GMT+0|GMT","Etc/GMT+0|GMT+0","Etc/GMT+0|GMT-0","Etc/GMT+0|GMT0","Etc/GMT+0|Greenwich","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Bratislava|Europe/Prague","Europe/Busingen|Europe/Vaduz","Europe/Busingen|Europe/Zurich","Europe/Chisinau|Europe/Tiraspol","Europe/Helsinki|Europe/Mariehamn","Europe/Lisbon|Portugal","Europe/Moscow|W-SU","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Kwajalein|Pacific/Kwajalein","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}},{}],56:[function(require,module,exports){var moment=module.exports=require("./moment-timezone");moment.tz.load(require("./data/packed/latest.json"))},{"./data/packed/latest.json":55,"./moment-timezone":57}],57:[function(require,module,exports){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["moment"],factory)}else if(typeof exports==="object"){module.exports=factory(require("moment"))}else{factory(root.moment)}})(this,function(moment){"use strict";if(moment.tz!==undefined){return moment}var VERSION="0.3.0",zones={},links={},momentVersion=moment.version.split("."),major=+momentVersion[0],minor=+momentVersion[1];if(major<2||major===2&&minor<6){logError("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+moment.version+". See momentjs.com")}function charCodeToInt(charCode){if(charCode>96){return charCode-87}else if(charCode>64){return charCode-29}return charCode-48}function unpackBase60(string){var i=0,parts=string.split("."),whole=parts[0],fractional=parts[1]||"",multiplier=1,num,out=0,sign=1;if(string.charCodeAt(0)===45){i=1;sign=-1}for(i;i<whole.length;i++){num=charCodeToInt(whole.charCodeAt(i));out=60*out+num}for(i=0;i<fractional.length;i++){multiplier=multiplier/60;num=charCodeToInt(fractional.charCodeAt(i));out+=num*multiplier}return out*sign}function arrayToInt(array){for(var i=0;i<array.length;i++){array[i]=unpackBase60(array[i])}}function intToUntil(array,length){for(var i=0;i<length;i++){array[i]=Math.round((array[i-1]||0)+array[i]*6e4)}array[length-1]=Infinity}function mapIndices(source,indices){var out=[],i;for(i=0;i<indices.length;i++){out[i]=source[indices[i]]}return out}function unpack(string){var data=string.split("|"),offsets=data[2].split(" "),indices=data[3].split(""),untils=data[4].split(" ");arrayToInt(offsets);arrayToInt(indices);arrayToInt(untils);intToUntil(untils,indices.length);return{name:data[0],abbrs:mapIndices(data[1].split(" "),indices),offsets:mapIndices(offsets,indices),untils:untils}}function Zone(packedString){if(packedString){this._set(unpack(packedString))}}Zone.prototype={_set:function(unpacked){this.name=unpacked.name;this.abbrs=unpacked.abbrs;this.untils=unpacked.untils;this.offsets=unpacked.offsets},_index:function(timestamp){var target=+timestamp,untils=this.untils,i;for(i=0;i<untils.length;i++){if(target<untils[i]){return i}}},parse:function(timestamp){var target=+timestamp,offsets=this.offsets,untils=this.untils,max=untils.length-1,offset,offsetNext,offsetPrev,i;for(i=0;i<max;i++){offset=offsets[i];offsetNext=offsets[i+1];offsetPrev=offsets[i?i-1:i];if(offset<offsetNext&&tz.moveAmbiguousForward){offset=offsetNext}else if(offset>offsetPrev&&tz.moveInvalidForward){offset=offsetPrev}if(target<untils[i]-offset*6e4){return offsets[i]}}return offsets[max]},abbr:function(mom){return this.abbrs[this._index(mom)]},offset:function(mom){return this.offsets[this._index(mom)]}};function normalizeName(name){return(name||"").toLowerCase().replace(/\//g,"_")}function addZone(packed){var i,zone,zoneName;if(typeof packed==="string"){packed=[packed]}for(i=0;i<packed.length;i++){zone=new Zone(packed[i]);zoneName=normalizeName(zone.name);zones[zoneName]=zone;upgradeLinksToZones(zoneName)}}function getZone(name){return zones[normalizeName(name)]||null}function getNames(){var i,out=[];for(i in zones){if(zones.hasOwnProperty(i)&&zones[i]){out.push(zones[i].name)}}return out.sort()}function addLink(aliases){var i,alias;if(typeof aliases==="string"){aliases=[aliases]}for(i=0;i<aliases.length;i++){alias=aliases[i].split("|");pushLink(alias[0],alias[1]);pushLink(alias[1],alias[0])}}function upgradeLinksToZones(zoneName){if(!links[zoneName]){return}var i,zone=zones[zoneName],linkNames=links[zoneName];for(i=0;i<linkNames.length;i++){copyZoneWithName(zone,linkNames[i])}links[zoneName]=null}function copyZoneWithName(zone,name){var linkZone=zones[normalizeName(name)]=new Zone;linkZone._set(zone);linkZone.name=name}function pushLink(zoneName,linkName){zoneName=normalizeName(zoneName);if(zones[zoneName]){copyZoneWithName(zones[zoneName],linkName)}else{links[zoneName]=links[zoneName]||[];links[zoneName].push(linkName)}}function loadData(data){addZone(data.zones);addLink(data.links);tz.dataVersion=data.version}function zoneExists(name){if(!zoneExists.didShowError){zoneExists.didShowError=true;logError("moment.tz.zoneExists('"+name+"') has been deprecated in favor of !moment.tz.zone('"+name+"')")}return!!getZone(name)}function needsOffset(m){return!!(m._a&&m._tzm===undefined)}function logError(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}}function tz(input){var args=Array.prototype.slice.call(arguments,0,-1),name=arguments[arguments.length-1],zone=getZone(name),out=moment.utc.apply(null,args);if(zone&&!moment.isMoment(input)&&needsOffset(out)){out.add(zone.parse(out),"minutes")}out.tz(name);return out}tz.version=VERSION;tz.dataVersion="";tz._zones=zones;tz._links=links;tz.add=addZone;tz.link=addLink;tz.load=loadData;tz.zone=getZone;tz.zoneExists=zoneExists;tz.names=getNames;tz.Zone=Zone;tz.unpack=unpack;tz.unpackBase60=unpackBase60;tz.needsOffset=needsOffset;tz.moveInvalidForward=true;tz.moveAmbiguousForward=false;var fn=moment.fn;moment.tz=tz;moment.defaultZone=null;moment.updateOffset=function(mom,keepTime){var offset;if(mom._z===undefined){mom._z=moment.defaultZone}if(mom._z){offset=mom._z.offset(mom);if(Math.abs(offset)<16){offset=offset/60}if(mom.utcOffset!==undefined){mom.utcOffset(-offset,keepTime)}else{mom.zone(offset,keepTime)}}};fn.tz=function(name){if(name){this._z=getZone(name);if(this._z){moment.updateOffset(this)}else{logError("Moment Timezone has no data for "+name+". See http://momentjs.com/timezone/docs/#/data-loading/.")}return this}if(this._z){return this._z.name}};function abbrWrap(old){return function(){if(this._z){return this._z.abbr(this)}return old.call(this)}}function resetZoneWrap(old){return function(){this._z=null;return old.apply(this,arguments)}}fn.zoneName=abbrWrap(fn.zoneName);fn.zoneAbbr=abbrWrap(fn.zoneAbbr);fn.utc=resetZoneWrap(fn.utc);moment.tz.setDefault=function(name){if(major<2||major===2&&minor<9){logError("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+moment.version+".")}moment.defaultZone=name?getZone(name):null;return moment};var momentProperties=moment.momentProperties;if(Object.prototype.toString.call(momentProperties)==="[object Array]"){momentProperties.push("_z");momentProperties.push("_a")}else if(momentProperties){momentProperties._z=null}return moment})},{moment:58}],58:[function(require,module,exports){(function(global){(function(undefined){var moment,VERSION="2.9.0",globalScope=typeof global!=="undefined"&&(typeof window==="undefined"||window===global.window)?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=typeof module!=="undefined"&&module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],updateInProgress=false;function dfl(a,b,c){switch(arguments.length){case 2:return a!=null?a:b;case 3:return a!=null?a:b!=null?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function printMsg(msg){if(moment.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){printMsg(msg);firstTime=false}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){if(!deprecations[name]){printMsg(msg);deprecations[name]=true}}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}function monthDiff(a,b){var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)}while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i)}while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function Locale(){}function Moment(config,skipOverflow){if(skipOverflow!==false){checkOverflow(config)}copyConfig(this,config);this._d=new Date(+config._d);if(updateInProgress===false){updateInProgress=true;moment.updateOffset(this);updateInProgress=false}}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=moment.localeData();this._bubble()}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=="undefined"){to._isAMomentObject=from._isAMomentObject}if(typeof from._i!=="undefined"){to._i=from._i}if(typeof from._f!=="undefined"){to._f=from._f}if(typeof from._l!=="undefined"){to._l=from._l}if(typeof from._strict!=="undefined"){to._strict=from._strict}if(typeof from._tzm!=="undefined"){to._tzm=from._tzm}if(typeof from._isUTC!=="undefined"){to._isUTC=from._isUTC}if(typeof from._offset!=="undefined"){to._offset=from._offset}if(typeof from._pf!=="undefined"){to._pf=from._pf}if(typeof from._locale!=="undefined"){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=="undefined"){to[prop]=val}}}return to}function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function leftZeroFill(number,targetLength,forceSign){var output=""+Math.abs(number),sign=number>=0;while(output.length<targetLength){output="0"+output}return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;other=makeAs(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period).");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=moment.duration(val,period);addOrSubtractDurationFromMoment(this,dur,direction);return this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days){rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding)}if(months){rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding)}if(updateOffset){moment.updateOffset(mom,days||months)}}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return Object.prototype.toString.call(input)==="[object Date]"||input instanceof Date}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeList(field){var count,setter;if(field.indexOf("week")===0){count=7;setter="day"}else if(field.indexOf("month")===0){count=12;setter="month"}else{return}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if(typeof format==="number"){index=format;format=undefined}getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}return value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||m._a[HOUR]===24&&(m._a[MINUTE]!==0||m._a[SECOND]!==0||m._a[MILLISECOND]!==0)?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}m._pf.overflow=overflow}}function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0&&m._pf.bigHour===undefined}}return m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule){try{oldLocale=moment.locale();require("./locale/"+name);moment.locale(oldLocale)}catch(e){}}return locales[name]}function makeAs(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-+res;res._d.setTime(+res._d+diff);moment.updateOffset(res,false);return res}else{return moment(input).local()}}extend(Locale.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==="function"){this[i]=prop}else{this["_"+i]=prop}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=moment.utc([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2e3,1]).day(i);regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}return output},isPM:function(input){return(input+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom,now){var output=this._calendar[key];return typeof output==="function"?output.apply(mom,[now]):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return typeof output==="function"?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return typeof format==="function"?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format);

}return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict){return parseTokenOneDigit}case"SS":if(strict){return parseTokenTwoDigits}case"SSS":if(strict){return parseTokenThreeDigits}case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"x":return parseTokenOffsetMs;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"));return a}}function utcOffsetFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?minutes:-minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":if(input!=null){datePartArray[MONTH]=(toInt(input)-1)*3}break;case"M":case"MM":if(input!=null){datePartArray[MONTH]=toInt(input)-1}break;case"MMM":case"MMMM":a=config._locale.monthsParse(input,token,config._strict);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}break;case"D":case"DD":if(input!=null){datePartArray[DATE]=toInt(input)}break;case"Do":if(input!=null){datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10))}break;case"DDD":case"DDDD":if(input!=null){config._dayOfYear=toInt(input)}break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._meridiem=input;break;case"h":case"hh":config._pf.bigHour=true;case"H":case"HH":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(("0."+input)*1e3);break;case"x":config._d=new Date(toInt(input));break;case"X":config._d=new Date(parseFloat(input)*1e3);break;case"Z":case"ZZ":config._useUTC=true;config._tzm=utcOffsetFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input);if(a!=null){config._w=config._w||{};config._w["d"]=a}else{config._pf.invalidWeekday=input}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=toInt(input)}break;case"gg":case"GG":config._w=config._w||{};config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year);week=dfl(w.W,1);weekday=dfl(w.E,1)}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year);week=dfl(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week}}else if(w.e!=null){weekday=w.e+dow}else{weekday=dow}}temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=dfl(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=true}date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}}function dateFromObject(config){var normalizedInput;if(config._d){return}normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}function currentDateArray(config){var now=new Date;if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601){parseISO(config);return}config._a=[];config._pf.empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=false}else{config._pf.unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}if(config._pf.bigHour===true&&config._a[HOUR]<=12){config._pf.bigHour=undefined}config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);dateFromConfig(config);checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}}for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}if(string.match(parseTokenTimezone)){config._f+="Z"}makeDateFromStringAndFormat(config)}else{config._isValid=false}}function makeDateFromString(config){parseISO(config);if(config._isValid===false){delete config._isValid;moment.createFromInputFallback(config)}}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function makeDateFromInput(config){var input=config._i,matched;if(input===undefined){config._d=new Date}else if(isDate(input)){config._d=new Date(+input)}else if((matched=aspNetJsonRegex.exec(input))!==null){config._d=new Date(+matched[1])}else if(typeof input==="string"){makeDateFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});dateFromConfig(config)}else if(typeof input==="object"){dateFromObject(config)}else if(typeof input==="number"){config._d=new Date(input)}else{moment.createFromInputFallback(config)}}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}return date}function parseWeekday(input,locale){if(typeof input==="string"){if(!isNaN(input)){input=parseInt(input,10)}else{input=locale.weekdaysParse(input);if(typeof input!=="number"){return null}}}return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||minutes===1&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||hours===1&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||days===1&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||months===1&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||years===1&&["y"]||["yy",years];args[2]=withoutSuffix;args[3]=+posNegDuration>0;args[4]=locale;return substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}adjustedMoment=moment(mom).add(daysToDayOfWeek,"d");return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f,res;config._locale=config._locale||moment.localeData(config._l);if(input===null||format===undefined&&input===""){return moment.invalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(moment.isMoment(input)){return new Moment(input,true)}else if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}res=new Moment(config);if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}moment=function(input,format,locale,strict){var c;if(typeof locale==="boolean"){strict=locale;locale=undefined}c={};c._isAMomentObject=true;c._i=input;c._f=format;c._l=locale;c._strict=strict;c._isUTC=false;c._pf=defaultParsingFlags();return makeMoment(c)};moment.suppressDeprecationWarnings=false;moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return moment()}res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i]}}return res}moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)};moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)};moment.utc=function(input,format,locale,strict){var c;if(typeof locale==="boolean"){strict=locale;locale=undefined}c={};c._isAMomentObject=true;c._useUTC=true;c._isUTC=true;c._l=locale;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc()};moment.unix=function(input){return moment(input*1e3)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoDurationRegex.exec(input))){sign=match[1]==="-"?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(moment(duration.from),moment(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(moment.isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.ISO_8601=function(){};moment.momentProperties=momentProperties;moment.updateOffset=function(){};moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined){return false}if(limit===undefined){return relativeTimeThresholds[threshold]}relativeTimeThresholds[threshold]=limit;return true};moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)});moment.locale=function(key,values){var data;if(key){if(typeof values!=="undefined"){data=moment.defineLocale(key,values)}else{data=moment.localeData(key)}if(data){moment.duration._locale=moment._locale=data}}return moment._locale._abbr};moment.defineLocale=function(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale}locales[name].set(values);moment.locale(name);return locales[name]}else{delete locales[name];return null}};moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)});moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return moment._locale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)};moment.isMoment=function(obj){return obj instanceof Moment||obj!=null&&hasOwnProp(obj,"_isAMomentObject")};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=true}return m};moment.parseZone=function(){return moment.apply(null,arguments).parseZone()};moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};moment.isDate=isDate;extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){if("function"===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}return false},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},local:function(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(this._dateUtcOffset(),"m")}}return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(that.utcOffset()-this.utcOffset())*6e4,anchor,diff,output,daysAdjust;units=normalizeUnits(units);if(units==="year"||units==="month"||units==="quarter"){output=monthDiff(this,that);if(units==="quarter"){output=output/3}else if(units==="year"){output=output/12}}else{diff=this-that;output=units==="second"?diff/1e3:units==="minute"?diff/6e4:units==="hour"?diff/36e5:units==="day"?(diff-zoneDiff)/864e5:units==="week"?(diff-zoneDiff)/6048e5:diff}return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}},month:makeAccessor("Month",true),startOf:function(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}else if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this},endOf:function(units){units=normalizeUnits(units);if(units===undefined||units==="millisecond"){return this}return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")},isAfter:function(input,units){var inputMs;units=normalizeUnits(typeof units!=="undefined"?units:"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this>+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return inputMs<+this.clone().startOf(units)}},isBefore:function(input,units){var inputMs;units=normalizeUnits(typeof units!=="undefined"?units:"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this<+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return+this.clone().endOf(units)<inputMs}},isBetween:function(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)},isSame:function(input,units){var inputMs;units=normalizeUnits(units||"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this===+input}else{inputMs=+moment(input);return+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)}},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){other=moment.apply(null,arguments);return other<this?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){other=moment.apply(null,arguments);return other>this?this:other}),zone:deprecate("moment().zone is deprecated, use moment().utcOffset instead. "+"https://github.com/moment/moment/issues/1779",function(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}),utcOffset:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==="string"){input=utcOffsetFromString(input)}if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=this._dateUtcOffset()}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){addOrSubtractDurationFromMoment(this,moment.duration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;moment.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:this._dateUtcOffset()}},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(utcOffsetFromString(this._i))}return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).utcOffset()}return(this.utcOffset()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){var unit;if(typeof units==="object"){for(unit in units){this.set(unit,units[unit])}}else{units=normalizeUnits(units);if(typeof this[units]==="function"){this[units](value)}}return this},locale:function(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=moment.localeData(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}},lang:deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});function rawMonthSetter(mom,value){var dayOfMonth;if(typeof value==="string"){value=mom.localeData().monthsParse(value);if(typeof value!=="number"){return mom}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){if(unit==="Month"){return rawMonthSetter(mom,value)}else{return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}function makeAccessor(unit,keepTime){return function(value){if(value!=null){rawSetter(this,unit,value);moment.updateOffset(this,keepTime);return this}else{return rawGetter(this,unit)}}}moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",false);moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",false);moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",false);moment.fn.hour=moment.fn.hours=makeAccessor("Hours",true);moment.fn.date=makeAccessor("Date",true);moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",true));moment.fn.year=makeAccessor("FullYear",true);moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",true));moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.quarters=moment.fn.quarter;moment.fn.toJSON=moment.fn.toISOString;moment.fn.isUTC=moment.fn.isUtc;function daysToYears(days){return days*400/146097}function yearsToDays(years){return years*146097/400}extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1e3;seconds=absRound(milliseconds/1e3);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);years=absRound(daysToYears(days));days-=absRound(yearsToDays(years));months+=absRound(days/30);days%=30;years+=absRound(months/12);months%=12;data.days=days;data.months=months;data.years=years},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix){output=this.localeData().pastFuture(+this,output)}return this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+"s"]()},as:function(units){var days,months;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+this._milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==="month"?months:months/12}else{days=this._days+Math.round(yearsToDays(this._months/12));switch(units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return days*24+this._milliseconds/36e5;case"minute":return days*24*60+this._milliseconds/6e4;case"second":return days*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(days*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead "+"(notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});moment.duration.fn.toString=moment.duration.fn.toISOString;function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}for(i in unitMillisecondFactors){if(hasOwnProp(unitMillisecondFactors,i)){makeDurationGetter(i.toLowerCase())}}moment.duration.fn.asMilliseconds=function(){return this.as("ms")};moment.duration.fn.asSeconds=function(){return this.as("s")};moment.duration.fn.asMinutes=function(){return this.as("m")};moment.duration.fn.asHours=function(){return this.as("h")};moment.duration.fn.asDays=function(){return this.as("d")};moment.duration.fn.asWeeks=function(){return this.as("weeks")};moment.duration.fn.asMonths=function(){return this.as("M")};moment.duration.fn.asYears=function(){return this.as("y")};moment.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});function makeGlobal(shouldDeprecate){if(typeof ender!=="undefined"){return}oldGlobalMoment=globalScope.moment;if(shouldDeprecate){globalScope.moment=deprecate("Accessing Moment through the global scope is "+"deprecated, and will be removed in an upcoming "+"release.",moment)}else{globalScope.moment=moment}}if(hasModule){module.exports=moment}else if(typeof define==="function"&&define.amd){define(function(require,exports,module){if(module.config&&module.config()&&module.config().noGlobal===true){globalScope.moment=oldGlobalMoment}return moment});makeGlobal(true)}else{makeGlobal()}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],59:[function(require,module,exports){"use strict";module.exports=require("./src/js/main")},{"./src/js/main":65}],60:[function(require,module,exports){"use strict";function oldAdd(element,className){var classes=element.className.split(" ");

if(classes.indexOf(className)<0){classes.push(className)}element.className=classes.join(" ")}function oldRemove(element,className){var classes=element.className.split(" ");var idx=classes.indexOf(className);if(idx>=0){classes.splice(idx,1)}element.className=classes.join(" ")}exports.add=function(element,className){if(element.classList){element.classList.add(className)}else{oldAdd(element,className)}};exports.remove=function(element,className){if(element.classList){element.classList.remove(className)}else{oldRemove(element,className)}};exports.list=function(element){if(element.classList){return element.classList}else{return element.className.split(" ")}}},{}],61:[function(require,module,exports){"use strict";exports.e=function(tagName,className){var element=document.createElement(tagName);element.className=className;return element};exports.appendTo=function(child,parent){parent.appendChild(child);return child};function cssGet(element,styleName){return window.getComputedStyle(element)[styleName]}function cssSet(element,styleName,styleValue){if(typeof styleValue==="number"){styleValue=styleValue.toString()+"px"}element.style[styleName]=styleValue;return element}function cssMultiSet(element,obj){for(var key in obj){var val=obj[key];if(typeof val==="number"){val=val.toString()+"px"}element.style[key]=val}return element}exports.css=function(element,styleNameOrObject,styleValue){if(typeof styleNameOrObject==="object"){return cssMultiSet(element,styleNameOrObject)}else{if(typeof styleValue==="undefined"){return cssGet(element,styleNameOrObject)}else{return cssSet(element,styleNameOrObject,styleValue)}}};exports.matches=function(element,query){if(typeof element.matches!=="undefined"){return element.matches(query)}else{if(typeof element.matchesSelector!=="undefined"){return element.matchesSelector(query)}else if(typeof element.webkitMatchesSelector!=="undefined"){return element.webkitMatchesSelector(query)}else if(typeof element.mozMatchesSelector!=="undefined"){return element.mozMatchesSelector(query)}else if(typeof element.msMatchesSelector!=="undefined"){return element.msMatchesSelector(query)}}};exports.remove=function(element){if(typeof element.remove!=="undefined"){element.remove()}else{element.parentNode.removeChild(element)}}},{}],62:[function(require,module,exports){"use strict";var EventElement=function(element){this.element=element;this.events={}};EventElement.prototype.bind=function(eventName,handler){if(typeof this.events[eventName]==="undefined"){this.events[eventName]=[]}this.events[eventName].push(handler);this.element.addEventListener(eventName,handler,false)};EventElement.prototype.unbind=function(eventName,handler){var isHandlerProvided=typeof handler!=="undefined";this.events[eventName]=this.events[eventName].filter(function(hdlr){if(isHandlerProvided&&hdlr!==handler){return true}this.element.removeEventListener(eventName,hdlr,false);return false},this)};EventElement.prototype.unbindAll=function(){for(var name in this.events){this.unbind(name)}};var EventManager=function(){this.eventElements=[]};EventManager.prototype.eventElement=function(element){var ee=this.eventElements.filter(function(eventElement){return eventElement.element===element})[0];if(typeof ee==="undefined"){ee=new EventElement(element);this.eventElements.push(ee)}return ee};EventManager.prototype.bind=function(element,eventName,handler){this.eventElement(element).bind(eventName,handler)};EventManager.prototype.unbind=function(element,eventName,handler){this.eventElement(element).unbind(eventName,handler)};EventManager.prototype.unbindAll=function(){for(var i=0;i<this.eventElements.length;i++){this.eventElements[i].unbindAll()}};EventManager.prototype.once=function(element,eventName,handler){var ee=this.eventElement(element);var onceHandler=function(e){ee.unbind(eventName,onceHandler);handler(e)};ee.bind(eventName,onceHandler)};module.exports=EventManager},{}],63:[function(require,module,exports){"use strict";module.exports=function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}}()},{}],64:[function(require,module,exports){"use strict";var cls=require("./class"),d=require("./dom");exports.toInt=function(x){if(typeof x==="string"){return parseInt(x,10)}else{return~~x}};exports.clone=function(obj){if(obj===null){return null}else if(typeof obj==="object"){var result={};for(var key in obj){result[key]=this.clone(obj[key])}return result}else{return obj}};exports.extend=function(original,source){var result=this.clone(original);for(var key in source){result[key]=this.clone(source[key])}return result};exports.isEditable=function(el){return d.matches(el,"input,[contenteditable]")||d.matches(el,"select,[contenteditable]")||d.matches(el,"textarea,[contenteditable]")||d.matches(el,"button,[contenteditable]")};exports.removePsClasses=function(element){var clsList=cls.list(element);for(var i=0;i<clsList.length;i++){var className=clsList[i];if(className.indexOf("ps-")===0){cls.remove(element,className)}}};exports.outerWidth=function(element){return this.toInt(d.css(element,"width"))+this.toInt(d.css(element,"paddingLeft"))+this.toInt(d.css(element,"paddingRight"))+this.toInt(d.css(element,"borderLeftWidth"))+this.toInt(d.css(element,"borderRightWidth"))};exports.startScrolling=function(element,axis){cls.add(element,"ps-in-scrolling");if(typeof axis!=="undefined"){cls.add(element,"ps-"+axis)}else{cls.add(element,"ps-x");cls.add(element,"ps-y")}};exports.stopScrolling=function(element,axis){cls.remove(element,"ps-in-scrolling");if(typeof axis!=="undefined"){cls.remove(element,"ps-"+axis)}else{cls.remove(element,"ps-x");cls.remove(element,"ps-y")}};exports.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:window.navigator.msMaxTouchPoints!==null}},{"./class":60,"./dom":61}],65:[function(require,module,exports){"use strict";var destroy=require("./plugin/destroy"),initialize=require("./plugin/initialize"),update=require("./plugin/update");module.exports={initialize:initialize,update:update,destroy:destroy}},{"./plugin/destroy":67,"./plugin/initialize":75,"./plugin/update":78}],66:[function(require,module,exports){"use strict";module.exports={wheelSpeed:1,wheelPropagation:false,swipePropagation:true,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:false,useKeyboard:true,suppressScrollX:false,suppressScrollY:false,scrollXMarginOffset:0,scrollYMarginOffset:0}},{}],67:[function(require,module,exports){"use strict";var d=require("../lib/dom"),h=require("../lib/helper"),instances=require("./instances");module.exports=function(element){var i=instances.get(element);i.event.unbindAll();d.remove(i.scrollbarX);d.remove(i.scrollbarY);d.remove(i.scrollbarXRail);d.remove(i.scrollbarYRail);h.removePsClasses(element);instances.remove(element)}},{"../lib/dom":61,"../lib/helper":64,"./instances":76}],68:[function(require,module,exports){"use strict";var h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry");function bindClickRailHandler(element,i){function pageOffset(el){return el.getBoundingClientRect()}var stopPropagation=window.Event.prototype.stopPropagation.bind;i.event.bind(i.scrollbarY,"click",stopPropagation);i.event.bind(i.scrollbarYRail,"click",function(e){var halfOfScrollbarLength=h.toInt(i.scrollbarYHeight/2);var positionTop=e.pageY-pageOffset(i.scrollbarYRail).top-halfOfScrollbarLength;var maxPositionTop=i.containerHeight-i.scrollbarYHeight;var positionRatio=positionTop/maxPositionTop;if(positionRatio<0){positionRatio=0}else if(positionRatio>1){positionRatio=1}element.scrollTop=(i.contentHeight-i.containerHeight)*positionRatio;updateGeometry(element)});i.event.bind(i.scrollbarX,"click",stopPropagation);i.event.bind(i.scrollbarXRail,"click",function(e){var halfOfScrollbarLength=h.toInt(i.scrollbarXWidth/2);var positionLeft=e.pageX-pageOffset(i.scrollbarXRail).left-halfOfScrollbarLength;console.log(e.pageX,i.scrollbarXRail.offsetLeft);var maxPositionLeft=i.containerWidth-i.scrollbarXWidth;var positionRatio=positionLeft/maxPositionLeft;if(positionRatio<0){positionRatio=0}else if(positionRatio>1){positionRatio=1}element.scrollLeft=(i.contentWidth-i.containerWidth)*positionRatio;updateGeometry(element)})}module.exports=function(element){var i=instances.get(element);bindClickRailHandler(element,i)}},{"../../lib/helper":64,"../instances":76,"../update-geometry":77}],69:[function(require,module,exports){"use strict";var d=require("../../lib/dom"),h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry");function bindMouseScrollXHandler(element,i){var currentLeft=null;var currentPageX=null;function updateScrollLeft(deltaX){var newLeft=currentLeft+deltaX;var maxLeft=i.containerWidth-i.scrollbarXWidth;if(newLeft<0){i.scrollbarXLeft=0}else if(newLeft>maxLeft){i.scrollbarXLeft=maxLeft}else{i.scrollbarXLeft=newLeft}var scrollLeft=h.toInt(i.scrollbarXLeft*(i.contentWidth-i.containerWidth)/(i.containerWidth-i.scrollbarXWidth));element.scrollLeft=scrollLeft}var mouseMoveHandler=function(e){updateScrollLeft(e.pageX-currentPageX);updateGeometry(element);e.stopPropagation();e.preventDefault()};var mouseUpHandler=function(){h.stopScrolling(element,"x");i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)};i.event.bind(i.scrollbarX,"mousedown",function(e){currentPageX=e.pageX;currentLeft=h.toInt(d.css(i.scrollbarX,"left"));h.startScrolling(element,"x");i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler);i.event.once(i.ownerDocument,"mouseup",mouseUpHandler);e.stopPropagation();e.preventDefault()})}function bindMouseScrollYHandler(element,i){var currentTop=null;var currentPageY=null;function updateScrollTop(deltaY){var newTop=currentTop+deltaY;var maxTop=i.containerHeight-i.scrollbarYHeight;if(newTop<0){i.scrollbarYTop=0}else if(newTop>maxTop){i.scrollbarYTop=maxTop}else{i.scrollbarYTop=newTop}var scrollTop=h.toInt(i.scrollbarYTop*(i.contentHeight-i.containerHeight)/(i.containerHeight-i.scrollbarYHeight));element.scrollTop=scrollTop}var mouseMoveHandler=function(e){updateScrollTop(e.pageY-currentPageY);updateGeometry(element);e.stopPropagation();e.preventDefault()};var mouseUpHandler=function(){h.stopScrolling(element,"y");i.event.unbind(i.ownerDocument,"mousemove",mouseMoveHandler)};i.event.bind(i.scrollbarY,"mousedown",function(e){currentPageY=e.pageY;currentTop=h.toInt(d.css(i.scrollbarY,"top"));h.startScrolling(element,"y");i.event.bind(i.ownerDocument,"mousemove",mouseMoveHandler);i.event.once(i.ownerDocument,"mouseup",mouseUpHandler);e.stopPropagation();e.preventDefault()})}module.exports=function(element){var i=instances.get(element);bindMouseScrollXHandler(element,i);bindMouseScrollYHandler(element,i)}},{"../../lib/dom":61,"../../lib/helper":64,"../instances":76,"../update-geometry":77}],70:[function(require,module,exports){"use strict";var h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry");function bindKeyboardHandler(element,i){var hovered=false;i.event.bind(element,"mouseenter",function(){hovered=true});i.event.bind(element,"mouseleave",function(){hovered=false});var shouldPrevent=false;function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;if(deltaX===0){if(!i.scrollbarYActive){return false}if(scrollTop===0&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0){return!i.settings.wheelPropagation}}var scrollLeft=element.scrollLeft;if(deltaY===0){if(!i.scrollbarXActive){return false}if(scrollLeft===0&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0){return!i.settings.wheelPropagation}}return true}i.event.bind(i.ownerDocument,"keydown",function(e){if(e.isDefaultPrevented&&e.isDefaultPrevented()){return}if(!hovered){return}var activeElement=document.activeElement?document.activeElement:i.ownerDocument.activeElement;if(activeElement){while(activeElement.shadowRoot){activeElement=activeElement.shadowRoot.activeElement}if(h.isEditable(activeElement)){return}}var deltaX=0;var deltaY=0;switch(e.which){case 37:deltaX=-30;break;case 38:deltaY=30;break;case 39:deltaX=30;break;case 40:deltaY=-30;break;case 33:deltaY=90;break;case 32:case 34:deltaY=-90;break;case 35:if(e.ctrlKey){deltaY=-i.contentHeight}else{deltaY=-i.containerHeight}break;case 36:if(e.ctrlKey){deltaY=element.scrollTop}else{deltaY=i.containerHeight}break;default:return}element.scrollTop=element.scrollTop-deltaY;element.scrollLeft=element.scrollLeft+deltaX;updateGeometry(element);shouldPrevent=shouldPreventDefault(deltaX,deltaY);if(shouldPrevent){e.preventDefault()}})}module.exports=function(element){var i=instances.get(element);bindKeyboardHandler(element,i)}},{"../../lib/helper":64,"../instances":76,"../update-geometry":77}],71:[function(require,module,exports){"use strict";var h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry");function bindMouseWheelHandler(element,i){var shouldPrevent=false;function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;if(deltaX===0){if(!i.scrollbarYActive){return false}if(scrollTop===0&&deltaY>0||scrollTop>=i.contentHeight-i.containerHeight&&deltaY<0){return!i.settings.wheelPropagation}}var scrollLeft=element.scrollLeft;if(deltaY===0){if(!i.scrollbarXActive){return false}if(scrollLeft===0&&deltaX<0||scrollLeft>=i.contentWidth-i.containerWidth&&deltaX>0){return!i.settings.wheelPropagation}}return true}function getDeltaFromEvent(e){var deltaX=e.deltaX;var deltaY=-1*e.deltaY;if(typeof deltaX==="undefined"||typeof deltaY==="undefined"){deltaX=-1*e.wheelDeltaX/6;deltaY=e.wheelDeltaY/6}if(e.deltaMode&&e.deltaMode===1){deltaX*=10;deltaY*=10}if(deltaX!==deltaX&&deltaY!==deltaY){deltaX=0;deltaY=e.wheelDelta}return[deltaX,deltaY]}function mousewheelHandler(e){if(!h.env.isWebKit&&element.querySelector("select:focus")){return}var delta=getDeltaFromEvent(e);var deltaX=delta[0];var deltaY=delta[1];shouldPrevent=false;if(!i.settings.useBothWheelAxes){element.scrollTop=element.scrollTop-deltaY*i.settings.wheelSpeed;element.scrollLeft=element.scrollLeft+deltaX*i.settings.wheelSpeed}else if(i.scrollbarYActive&&!i.scrollbarXActive){if(deltaY){element.scrollTop=element.scrollTop-deltaY*i.settings.wheelSpeed}else{element.scrollTop=element.scrollTop+deltaX*i.settings.wheelSpeed}shouldPrevent=true}else if(i.scrollbarXActive&&!i.scrollbarYActive){if(deltaX){element.scrollLeft=element.scrollLeft+deltaX*i.settings.wheelSpeed}else{element.scrollLeft=element.scrollLeft-deltaY*i.settings.wheelSpeed}shouldPrevent=true}updateGeometry(element);shouldPrevent=shouldPrevent||shouldPreventDefault(deltaX,deltaY);if(shouldPrevent){e.stopPropagation();e.preventDefault()}}if(typeof window.onwheel!=="undefined"){i.event.bind(element,"wheel",mousewheelHandler)}else if(typeof window.onmousewheel!=="undefined"){i.event.bind(element,"mousewheel",mousewheelHandler)}}module.exports=function(element){var i=instances.get(element);bindMouseWheelHandler(element,i)}},{"../../lib/helper":64,"../instances":76,"../update-geometry":77}],72:[function(require,module,exports){"use strict";var instances=require("../instances"),updateGeometry=require("../update-geometry");function bindNativeScrollHandler(element,i){i.event.bind(element,"scroll",function(){updateGeometry(element)})}module.exports=function(element){var i=instances.get(element);bindNativeScrollHandler(element,i)}},{"../instances":76,"../update-geometry":77}],73:[function(require,module,exports){"use strict";var h=require("../../lib/helper"),instances=require("../instances"),updateGeometry=require("../update-geometry");function bindSelectionHandler(element,i){function getRangeNode(){var selection=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";if(selection.toString().length===0){return null}else{return selection.getRangeAt(0).commonAncestorContainer}}var scrollingLoop=null;var scrollDiff={top:0,left:0};function startScrolling(){if(!scrollingLoop){scrollingLoop=setInterval(function(){if(!instances.get(element)){clearInterval(scrollingLoop);return}element.scrollTop=element.scrollTop+scrollDiff.top;element.scrollLeft=element.scrollLeft+scrollDiff.left;updateGeometry(element)},50)}}function stopScrolling(){if(scrollingLoop){clearInterval(scrollingLoop);scrollingLoop=null}h.stopScrolling(element)}var isSelected=false;i.event.bind(i.ownerDocument,"selectionchange",function(){if(element.contains(getRangeNode())){isSelected=true}else{isSelected=false;stopScrolling()}});i.event.bind(window,"mouseup",function(){if(isSelected){isSelected=false;stopScrolling()}});i.event.bind(window,"mousemove",function(e){if(isSelected){var mousePosition={x:e.pageX,y:e.pageY};var containerGeometry={left:element.offsetLeft,right:element.offsetLeft+element.offsetWidth,top:element.offsetTop,bottom:element.offsetTop+element.offsetHeight};if(mousePosition.x<containerGeometry.left+3){scrollDiff.left=-5;h.startScrolling(element,"x")}else if(mousePosition.x>containerGeometry.right-3){scrollDiff.left=5;h.startScrolling(element,"x")}else{scrollDiff.left=0}if(mousePosition.y<containerGeometry.top+3){if(containerGeometry.top+3-mousePosition.y<5){scrollDiff.top=-5}else{scrollDiff.top=-20}h.startScrolling(element,"y")}else if(mousePosition.y>containerGeometry.bottom-3){if(mousePosition.y-containerGeometry.bottom+3<5){scrollDiff.top=5}else{scrollDiff.top=20}h.startScrolling(element,"y")}else{scrollDiff.top=0}if(scrollDiff.top===0&&scrollDiff.left===0){stopScrolling()}else{startScrolling()}}})}module.exports=function(element){var i=instances.get(element);bindSelectionHandler(element,i)}},{"../../lib/helper":64,"../instances":76,"../update-geometry":77}],74:[function(require,module,exports){"use strict";var instances=require("../instances"),updateGeometry=require("../update-geometry");function bindTouchHandler(element,i,supportsTouch,supportsIePointer){function shouldPreventDefault(deltaX,deltaY){var scrollTop=element.scrollTop;var scrollLeft=element.scrollLeft;var magnitudeX=Math.abs(deltaX);var magnitudeY=Math.abs(deltaY);if(magnitudeY>magnitudeX){if(deltaY<0&&scrollTop===i.contentHeight-i.containerHeight||deltaY>0&&scrollTop===0){return!i.settings.swipePropagation}}else if(magnitudeX>magnitudeY){if(deltaX<0&&scrollLeft===i.contentWidth-i.containerWidth||deltaX>0&&scrollLeft===0){return!i.settings.swipePropagation}}return true}function applyTouchMove(differenceX,differenceY){element.scrollTop=element.scrollTop-differenceY;element.scrollLeft=element.scrollLeft-differenceX;updateGeometry(element)}var startOffset={};var startTime=0;var speed={};var easingLoop=null;var inGlobalTouch=false;var inLocalTouch=false;function globalTouchStart(){inGlobalTouch=true}function globalTouchEnd(){inGlobalTouch=false}function getTouch(e){if(e.targetTouches){return e.targetTouches[0]}else{return e}}function shouldHandle(e){if(e.targetTouches&&e.targetTouches.length===1){return true}if(e.pointerType&&e.pointerType!=="mouse"&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){return true}return false}function touchStart(e){if(shouldHandle(e)){inLocalTouch=true;var touch=getTouch(e);startOffset.pageX=touch.pageX;startOffset.pageY=touch.pageY;startTime=(new Date).getTime();if(easingLoop!==null){clearInterval(easingLoop)}e.stopPropagation()}}function touchMove(e){if(!inGlobalTouch&&inLocalTouch&&shouldHandle(e)){var touch=getTouch(e);var currentOffset={pageX:touch.pageX,pageY:touch.pageY};var differenceX=currentOffset.pageX-startOffset.pageX;var differenceY=currentOffset.pageY-startOffset.pageY;applyTouchMove(differenceX,differenceY);startOffset=currentOffset;var currentTime=(new Date).getTime();var timeGap=currentTime-startTime;if(timeGap>0){speed.x=differenceX/timeGap;speed.y=differenceY/timeGap;startTime=currentTime}if(shouldPreventDefault(differenceX,differenceY)){e.stopPropagation();e.preventDefault()}}}function touchEnd(){if(!inGlobalTouch&&inLocalTouch){inLocalTouch=false;clearInterval(easingLoop);easingLoop=setInterval(function(){if(!instances.get(element)){clearInterval(easingLoop);return}if(Math.abs(speed.x)<.01&&Math.abs(speed.y)<.01){clearInterval(easingLoop);return}applyTouchMove(speed.x*30,speed.y*30);speed.x*=.8;speed.y*=.8},10)}}if(supportsTouch){i.event.bind(window,"touchstart",globalTouchStart);i.event.bind(window,"touchend",globalTouchEnd);i.event.bind(element,"touchstart",touchStart);i.event.bind(element,"touchmove",touchMove);i.event.bind(element,"touchend",touchEnd)}if(supportsIePointer){if(window.PointerEvent){i.event.bind(window,"pointerdown",globalTouchStart);i.event.bind(window,"pointerup",globalTouchEnd);i.event.bind(element,"pointerdown",touchStart);i.event.bind(element,"pointermove",touchMove);i.event.bind(element,"pointerup",touchEnd)}else if(window.MSPointerEvent){i.event.bind(window,"MSPointerDown",globalTouchStart);i.event.bind(window,"MSPointerUp",globalTouchEnd);i.event.bind(element,"MSPointerDown",touchStart);i.event.bind(element,"MSPointerMove",touchMove);i.event.bind(element,"MSPointerUp",touchEnd)}}}module.exports=function(element,supportsTouch,supportsIePointer){var i=instances.get(element);bindTouchHandler(element,i,supportsTouch,supportsIePointer)}},{"../instances":76,"../update-geometry":77}],75:[function(require,module,exports){"use strict";var cls=require("../lib/class"),h=require("../lib/helper"),instances=require("./instances"),updateGeometry=require("./update-geometry");var clickRailHandler=require("./handler/click-rail"),dragScrollbarHandler=require("./handler/drag-scrollbar"),keyboardHandler=require("./handler/keyboard"),mouseWheelHandler=require("./handler/mouse-wheel"),nativeScrollHandler=require("./handler/native-scroll"),selectionHandler=require("./handler/selection"),touchHandler=require("./handler/touch");module.exports=function(element,userSettings){userSettings=typeof userSettings==="object"?userSettings:{};cls.add(element,"ps-container");var i=instances.add(element);i.settings=h.extend(i.settings,userSettings);clickRailHandler(element);dragScrollbarHandler(element);mouseWheelHandler(element);nativeScrollHandler(element);selectionHandler(element);if(h.env.supportsTouch||h.env.supportsIePointer){touchHandler(element,h.env.supportsTouch,h.env.supportsIePointer)}if(i.settings.useKeyboard){keyboardHandler(element)}updateGeometry(element)}},{"../lib/class":60,"../lib/helper":64,"./handler/click-rail":68,"./handler/drag-scrollbar":69,"./handler/keyboard":70,"./handler/mouse-wheel":71,"./handler/native-scroll":72,"./handler/selection":73,"./handler/touch":74,"./instances":76,"./update-geometry":77}],76:[function(require,module,exports){"use strict";var d=require("../lib/dom"),defaultSettings=require("./default-setting"),EventManager=require("../lib/event-manager"),guid=require("../lib/guid"),h=require("../lib/helper");var instances={};function Instance(element){var i=this;i.settings=h.clone(defaultSettings);i.containerWidth=null;i.containerHeight=null;i.contentWidth=null;i.contentHeight=null;i.isRtl=d.css(element,"direction")==="rtl";i.event=new EventManager;i.ownerDocument=element.ownerDocument||document;i.scrollbarXRail=d.appendTo(d.e("div","ps-scrollbar-x-rail"),element);i.scrollbarX=d.appendTo(d.e("div","ps-scrollbar-x"),i.scrollbarXRail);i.scrollbarXActive=null;i.scrollbarXWidth=null;i.scrollbarXLeft=null;i.scrollbarXBottom=h.toInt(d.css(i.scrollbarXRail,"bottom"));i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom;i.scrollbarXTop=i.isScrollbarXUsingBottom?null:h.toInt(d.css(i.scrollbarXRail,"top"));i.railBorderXWidth=h.toInt(d.css(i.scrollbarXRail,"borderLeftWidth"))+h.toInt(d.css(i.scrollbarXRail,"borderRightWidth"));i.railXMarginWidth=h.toInt(d.css(i.scrollbarXRail,"marginLeft"))+h.toInt(d.css(i.scrollbarXRail,"marginRight"));i.railXWidth=null;i.scrollbarYRail=d.appendTo(d.e("div","ps-scrollbar-y-rail"),element);i.scrollbarY=d.appendTo(d.e("div","ps-scrollbar-y"),i.scrollbarYRail);i.scrollbarYActive=null;i.scrollbarYHeight=null;i.scrollbarYTop=null;i.scrollbarYRight=h.toInt(d.css(i.scrollbarYRail,"right"));i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight;i.scrollbarYLeft=i.isScrollbarYUsingRight?null:h.toInt(d.css(i.scrollbarYRail,"left"));i.scrollbarYOuterWidth=i.isRtl?h.outerWidth(i.scrollbarY):null;i.railBorderYWidth=h.toInt(d.css(i.scrollbarYRail,"borderTopWidth"))+h.toInt(d.css(i.scrollbarYRail,"borderBottomWidth"));i.railYMarginHeight=h.toInt(d.css(i.scrollbarYRail,"marginTop"))+h.toInt(d.css(i.scrollbarYRail,"marginBottom"));i.railYHeight=null}function getId(element){if(typeof element.dataset==="undefined"){return element.getAttribute("data-ps-id")}else{return element.dataset.psId}}function setId(element,id){if(typeof element.dataset==="undefined"){element.setAttribute("data-ps-id",id)}else{element.dataset.psId=id}}function removeId(element){if(typeof element.dataset==="undefined"){element.removeAttribute("data-ps-id")}else{delete element.dataset.psId}}exports.add=function(element){var newId=guid();setId(element,newId);instances[newId]=new Instance(element);return instances[newId]};exports.remove=function(element){delete instances[getId(element)];removeId(element)};exports.get=function(element){return instances[getId(element)]}},{"../lib/dom":61,"../lib/event-manager":62,"../lib/guid":63,"../lib/helper":64,"./default-setting":66}],77:[function(require,module,exports){"use strict";var cls=require("../lib/class"),d=require("../lib/dom"),h=require("../lib/helper"),instances=require("./instances");function getThumbSize(i,thumbSize){if(i.settings.minScrollbarLength){thumbSize=Math.max(thumbSize,i.settings.minScrollbarLength)}if(i.settings.maxScrollbarLength){thumbSize=Math.min(thumbSize,i.settings.maxScrollbarLength)}return thumbSize}function updateCss(element,i){var xRailOffset={width:i.railXWidth};if(i.isRtl){xRailOffset.left=element.scrollLeft+i.containerWidth-i.contentWidth}else{xRailOffset.left=element.scrollLeft}if(i.isScrollbarXUsingBottom){xRailOffset.bottom=i.scrollbarXBottom-element.scrollTop}else{xRailOffset.top=i.scrollbarXTop+element.scrollTop}d.css(i.scrollbarXRail,xRailOffset);var yRailOffset={top:element.scrollTop,height:i.railYHeight};if(i.isScrollbarYUsingRight){if(i.isRtl){yRailOffset.right=i.contentWidth-element.scrollLeft-i.scrollbarYRight-i.scrollbarYOuterWidth}else{yRailOffset.right=i.scrollbarYRight-element.scrollLeft}}else{if(i.isRtl){yRailOffset.left=element.scrollLeft+i.containerWidth*2-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth}else{yRailOffset.left=i.scrollbarYLeft+element.scrollLeft}}d.css(i.scrollbarYRail,yRailOffset);d.css(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth});d.css(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}module.exports=function(element){var i=instances.get(element);i.containerWidth=element.clientWidth;i.containerHeight=element.clientHeight;i.contentWidth=element.scrollWidth;i.contentHeight=element.scrollHeight;if(!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth){i.scrollbarXActive=true;i.railXWidth=i.containerWidth-i.railXMarginWidth;i.scrollbarXWidth=getThumbSize(i,h.toInt(i.railXWidth*i.containerWidth/i.contentWidth));i.scrollbarXLeft=h.toInt(element.scrollLeft*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))}else{i.scrollbarXActive=false;i.scrollbarXWidth=0;i.scrollbarXLeft=0;element.scrollLeft=0}if(!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight){i.scrollbarYActive=true;i.railYHeight=i.containerHeight-i.railYMarginHeight;i.scrollbarYHeight=getThumbSize(i,h.toInt(i.railYHeight*i.containerHeight/i.contentHeight));i.scrollbarYTop=h.toInt(element.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))}else{i.scrollbarYActive=false;i.scrollbarYHeight=0;i.scrollbarYTop=0;element.scrollTop=0}if(i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth){i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth}if(i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight){i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight}updateCss(element,i);cls[i.scrollbarXActive?"add":"remove"](element,"ps-active-x");cls[i.scrollbarYActive?"add":"remove"](element,"ps-active-y")}},{"../lib/class":60,"../lib/dom":61,"../lib/helper":64,"./instances":76}],78:[function(require,module,exports){"use strict";var d=require("../lib/dom"),destroy=require("./destroy"),initialize=require("./initialize"),instances=require("./instances"),updateGeometry=require("./update-geometry");module.exports=function(element){var i=instances.get(element);if(!i.scrollbarXRail||!element.contains(i.scrollbarXRail)||!i.scrollbarYRail||!element.contains(i.scrollbarYRail)){destroy(element);initialize(element)}else{d.css(i.scrollbarXRail,"display","none");d.css(i.scrollbarYRail,"display","none");updateGeometry(element);d.css(i.scrollbarXRail,"display","block");d.css(i.scrollbarYRail,"display","block")}}},{"../lib/dom":61,"./destroy":67,"./initialize":75,"./instances":76,"./update-geometry":77}],79:[function(require,module,exports){window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet){style.styleSheet.cssText=text}else{style.textContent=text}return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(w,doc,image){"use strict";function expose(picturefill){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=picturefill}else if(typeof define==="function"&&define.amd){define("picturefill",function(){return picturefill})}if(typeof w==="object"){w.picturefill=picturefill}}if(w.HTMLPictureElement){expose(function(){});return}doc.createElement("picture");var pf=w.picturefill||{};var lengthCache={};w.addEventListener("resize",function(){lengthCache={}},false);var regWDesc=/\s+\+?\d+(e\d+)?w/;pf.ns="picturefill";(function(){pf.srcsetSupported="srcset"in image;pf.sizesSupported="sizes"in image;pf.curSrcSupported="currentSrc"in image})();pf.trim=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")};pf.makeUrl=function(){var anchor=doc.createElement("a");return function(src){anchor.href=src;return anchor.href}}();pf.restrictsMixedContent=function(){return w.location.protocol==="https:"};pf.matchesMedia=function(media){return w.matchMedia&&w.matchMedia(media).matches};pf.getDpr=function(){return w.devicePixelRatio||1};pf.getWidthFromLength=function(length){var cssValue;if(!(length&&length.indexOf("%")>-1===false&&(parseFloat(length)>0||length.indexOf("calc(")>-1))){return false}length=length.replace("vw","%");if(!lengthCache[length]){if(!pf.lengthEl){pf.lengthEl=doc.createElement("div");pf.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden";pf.lengthEl.className="helper-from-picturefill-js"}pf.lengthEl.style.width="0px";try{pf.lengthEl.style.width=length}catch(e){}doc.body.appendChild(pf.lengthEl);cssValue=pf.lengthEl.offsetWidth;if(cssValue<=0){cssValue=false}doc.body.removeChild(pf.lengthEl);return lengthCache[length]=cssValue}return lengthCache[length]};pf.detectTypeSupport=function(type,typeUri){var image=new w.Image;image.onerror=function(){pf.types[type]=false;picturefill()};image.onload=function(){pf.types[type]=image.width===1;picturefill()};image.src=typeUri;return"pending"};pf.types=pf.types||{};

pf.initTypeDetects=function(){pf.types["image/jpeg"]=true;pf.types["image/gif"]=true;pf.types["image/png"]=true;pf.types["image/svg+xml"]=doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");pf.types["image/webp"]=pf.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")};pf.verifyTypeSupport=function(source){var type=source.getAttribute("type");if(type===null||type===""){return true}else{var pfType=pf.types[type];if(typeof pfType==="string"&&pfType!=="pending"){pf.types[type]=pf.detectTypeSupport(type,pfType);return"pending"}else if(typeof pfType==="function"){pfType();return"pending"}else{return pfType}}};pf.parseSize=function(sourceSizeStr){var match=/(\([^)]+\))?\s*(.+)/g.exec(sourceSizeStr);return{media:match&&match[1],length:match&&match[2]}};pf.findWidthFromSourceSize=function(sourceSizeListStr){var sourceSizeList=pf.trim(sourceSizeListStr).split(/\s*,\s*/),winningLength;for(var i=0,len=sourceSizeList.length;i<len;i++){var sourceSize=sourceSizeList[i],parsedSize=pf.parseSize(sourceSize),length=parsedSize.length,media=parsedSize.media;if(!length){continue}if((!media||pf.matchesMedia(media))&&(winningLength=pf.getWidthFromLength(length))){break}}return winningLength||Math.max(w.innerWidth||0,doc.documentElement.clientWidth)};pf.parseSrcset=function(srcset){var candidates=[];while(srcset!==""){srcset=srcset.replace(/^\s+/g,"");var pos=srcset.search(/\s/g),url,descriptor=null;if(pos!==-1){url=srcset.slice(0,pos);var last=url.slice(-1);if(last===","||url===""){url=url.replace(/,+$/,"");descriptor=""}srcset=srcset.slice(pos+1);if(descriptor===null){var descpos=srcset.indexOf(",");if(descpos!==-1){descriptor=srcset.slice(0,descpos);srcset=srcset.slice(descpos+1)}else{descriptor=srcset;srcset=""}}}else{url=srcset;srcset=""}if(url||descriptor){candidates.push({url:url,descriptor:descriptor})}}return candidates};pf.parseDescriptor=function(descriptor,sizesattr){var sizes=sizesattr||"100vw",sizeDescriptor=descriptor&&descriptor.replace(/(^\s+|\s+$)/g,""),widthInCssPixels=pf.findWidthFromSourceSize(sizes),resCandidate;if(sizeDescriptor){var splitDescriptor=sizeDescriptor.split(" ");for(var i=splitDescriptor.length-1;i>=0;i--){var curr=splitDescriptor[i],lastchar=curr&&curr.slice(curr.length-1);if((lastchar==="h"||lastchar==="w")&&!pf.sizesSupported){resCandidate=parseFloat(parseInt(curr,10)/widthInCssPixels)}else if(lastchar==="x"){var res=curr&&parseFloat(curr,10);resCandidate=res&&!isNaN(res)?res:1}}}return resCandidate||1};pf.getCandidatesFromSourceSet=function(srcset,sizes){var candidates=pf.parseSrcset(srcset),formattedCandidates=[];for(var i=0,len=candidates.length;i<len;i++){var candidate=candidates[i];formattedCandidates.push({url:candidate.url,resolution:pf.parseDescriptor(candidate.descriptor,sizes)})}return formattedCandidates};pf.dodgeSrcset=function(img){if(img.srcset){img[pf.ns].srcset=img.srcset;img.srcset="";img.setAttribute("data-pfsrcset",img[pf.ns].srcset)}};pf.processSourceSet=function(el){var srcset=el.getAttribute("srcset"),sizes=el.getAttribute("sizes"),candidates=[];if(el.nodeName.toUpperCase()==="IMG"&&el[pf.ns]&&el[pf.ns].srcset){srcset=el[pf.ns].srcset}if(srcset){candidates=pf.getCandidatesFromSourceSet(srcset,sizes)}return candidates};pf.backfaceVisibilityFix=function(picImg){var style=picImg.style||{},WebkitBackfaceVisibility="webkitBackfaceVisibility"in style,currentZoom=style.zoom;if(WebkitBackfaceVisibility){style.zoom=".999";WebkitBackfaceVisibility=picImg.offsetWidth;style.zoom=currentZoom}};pf.setIntrinsicSize=function(){var urlCache={};var setSize=function(picImg,width,res){if(width){picImg.setAttribute("width",parseInt(width/res,10))}};return function(picImg,bestCandidate){var img;if(!picImg[pf.ns]||w.pfStopIntrinsicSize){return}if(picImg[pf.ns].dims===undefined){picImg[pf.ns].dims=picImg.getAttribute("width")||picImg.getAttribute("height")}if(picImg[pf.ns].dims){return}if(bestCandidate.url in urlCache){setSize(picImg,urlCache[bestCandidate.url],bestCandidate.resolution)}else{img=doc.createElement("img");img.onload=function(){urlCache[bestCandidate.url]=img.width;if(!urlCache[bestCandidate.url]){try{doc.body.appendChild(img);urlCache[bestCandidate.url]=img.width||img.offsetWidth;doc.body.removeChild(img)}catch(e){}}if(picImg.src===bestCandidate.url){setSize(picImg,urlCache[bestCandidate.url],bestCandidate.resolution)}picImg=null;img.onload=null;img=null};img.src=bestCandidate.url}}}();pf.applyBestCandidate=function(candidates,picImg){var candidate,length,bestCandidate;candidates.sort(pf.ascendingSort);length=candidates.length;bestCandidate=candidates[length-1];for(var i=0;i<length;i++){candidate=candidates[i];if(candidate.resolution>=pf.getDpr()){bestCandidate=candidate;break}}if(bestCandidate){bestCandidate.url=pf.makeUrl(bestCandidate.url);if(picImg.src!==bestCandidate.url){if(pf.restrictsMixedContent()&&bestCandidate.url.substr(0,"http:".length).toLowerCase()==="http:"){if(window.console!==undefined){console.warn("Blocked mixed content image "+bestCandidate.url)}}else{picImg.src=bestCandidate.url;if(!pf.curSrcSupported){picImg.currentSrc=picImg.src}pf.backfaceVisibilityFix(picImg)}}pf.setIntrinsicSize(picImg,bestCandidate)}};pf.ascendingSort=function(a,b){return a.resolution-b.resolution};pf.removeVideoShim=function(picture){var videos=picture.getElementsByTagName("video");if(videos.length){var video=videos[0],vsources=video.getElementsByTagName("source");while(vsources.length){picture.insertBefore(vsources[0],video)}video.parentNode.removeChild(video)}};pf.getAllElements=function(){var elems=[],imgs=doc.getElementsByTagName("img");for(var h=0,len=imgs.length;h<len;h++){var currImg=imgs[h];if(currImg.parentNode.nodeName.toUpperCase()==="PICTURE"||currImg.getAttribute("srcset")!==null||currImg[pf.ns]&&currImg[pf.ns].srcset!==null){elems.push(currImg)}}return elems};pf.getMatch=function(img,picture){var sources=picture.childNodes,match;for(var j=0,slen=sources.length;j<slen;j++){var source=sources[j];if(source.nodeType!==1){continue}if(source===img){return match}if(source.nodeName.toUpperCase()!=="SOURCE"){continue}if(source.getAttribute("src")!==null&&typeof console!==undefined){console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.")}var media=source.getAttribute("media");if(!source.getAttribute("srcset")){continue}if(!media||pf.matchesMedia(media)){var typeSupported=pf.verifyTypeSupport(source);if(typeSupported===true){match=source;break}else if(typeSupported==="pending"){return false}}}return match};function picturefill(opt){var elements,element,parent,firstMatch,candidates,options=opt||{};elements=options.elements||pf.getAllElements();for(var i=0,plen=elements.length;i<plen;i++){element=elements[i];parent=element.parentNode;firstMatch=undefined;candidates=undefined;if(element.nodeName.toUpperCase()!=="IMG"){continue}if(!element[pf.ns]){element[pf.ns]={}}if(!options.reevaluate&&element[pf.ns].evaluated){continue}if(parent&&parent.nodeName.toUpperCase()==="PICTURE"){pf.removeVideoShim(parent);firstMatch=pf.getMatch(element,parent);if(firstMatch===false){continue}}else{firstMatch=undefined}if(parent&&parent.nodeName.toUpperCase()==="PICTURE"||!pf.sizesSupported&&(element.srcset&&regWDesc.test(element.srcset))){pf.dodgeSrcset(element)}if(firstMatch){candidates=pf.processSourceSet(firstMatch);pf.applyBestCandidate(candidates,element)}else{candidates=pf.processSourceSet(element);if(element.srcset===undefined||element[pf.ns].srcset){pf.applyBestCandidate(candidates,element)}}element[pf.ns].evaluated=true}}function runPicturefill(){pf.initTypeDetects();picturefill();var intervalId=setInterval(function(){picturefill();if(/^loaded|^i|^c/.test(doc.readyState)){clearInterval(intervalId);return}},250);var resizeTimer;var handleResize=function(){picturefill({reevaluate:true})};function checkResize(){clearTimeout(resizeTimer);resizeTimer=setTimeout(handleResize,60)}if(w.addEventListener){w.addEventListener("resize",checkResize,false)}else if(w.attachEvent){w.attachEvent("onresize",checkResize)}}runPicturefill();picturefill._=pf;expose(picturefill)})(window,window.document,new window.Image)},{}],80:[function(require,module,exports){(function(){"use strict";var queryString={};queryString.parse=function(str){if(typeof str!=="string"){return{}}str=str.trim().replace(/^(\?|#)/,"");if(!str){return{}}return str.trim().split("&").reduce(function(ret,param){var parts=param.replace(/\+/g," ").split("=");var key=parts[0];var val=parts[1];key=decodeURIComponent(key);val=val===undefined?null:decodeURIComponent(val);if(!ret.hasOwnProperty(key)){ret[key]=val}else if(Array.isArray(ret[key])){ret[key].push(val)}else{ret[key]=[ret[key],val]}return ret},{})};queryString.stringify=function(obj){return obj?Object.keys(obj).map(function(key){var val=obj[key];if(Array.isArray(val)){return val.map(function(val2){return encodeURIComponent(key)+"="+encodeURIComponent(val2)}).join("&")}return encodeURIComponent(key)+"="+encodeURIComponent(val)}).join("&"):""};if(typeof define==="function"&&define.amd){define(function(){return queryString})}else if(typeof module!=="undefined"&&module.exports){module.exports=queryString}else{window.queryString=queryString}})()},{}],81:[function(require,module,exports){var now=require("performance-now"),global=typeof window==="undefined"?{}:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=global["request"+suffix],caf=global["cancel"+suffix]||global["cancelRequest"+suffix],isNative=true;for(var i=0;i<vendors.length&&!raf;i++){raf=global[vendors[i]+"Request"+suffix];caf=global[vendors[i]+"Cancel"+suffix]||global[vendors[i]+"CancelRequest"+suffix]}if(!raf||!caf){isNative=false;var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(queue.length===0){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now;setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++){if(!cp[i].cancelled){try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}}}},Math.round(next))}queue.push({handle:++id,callback:callback,cancelled:false});return id};caf=function(handle){for(var i=0;i<queue.length;i++){if(queue[i].handle===handle){queue[i].cancelled=true}}}}module.exports=function(fn){if(!isNative){return raf.call(global,fn)}return raf.call(global,function(){try{fn.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}})};module.exports.cancel=function(){caf.apply(global,arguments)}},{"performance-now":82}],82:[function(require,module,exports){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;if(typeof performance!=="undefined"&&performance!==null&&performance.now){module.exports=function(){return performance.now()}}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){module.exports=function(){return(getNanoSeconds()-loadTime)/1e6};hrtime=process.hrtime;getNanoSeconds=function(){var hr;hr=hrtime();return hr[0]*1e9+hr[1]};loadTime=getNanoSeconds()}else if(Date.now){module.exports=function(){return Date.now()-loadTime};loadTime=Date.now()}else{module.exports=function(){return(new Date).getTime()-loadTime};loadTime=(new Date).getTime()}}).call(this)}).call(this,require("_process"))},{_process:44}],83:[function(require,module,exports){(function(){"use strict";var __={ramda:"placeholder"};var _add=function _add(a,b){return a+b};var _all=function _all(fn,list){var idx=-1;while(++idx<list.length){if(!fn(list[idx])){return false}}return true};var _any=function _any(fn,list){var idx=-1;while(++idx<list.length){if(fn(list[idx])){return true}}return false};var _assoc=function _assoc(prop,val,obj){var result={};for(var p in obj){result[p]=obj[p]}result[prop]=val;return result};var _compose=function _compose(f,g){return function(){return f.call(this,g.apply(this,arguments))}};var _concat=function _concat(set1,set2){set1=set1||[];set2=set2||[];var idx;var len1=set1.length;var len2=set2.length;var result=[];idx=-1;while(++idx<len1){result[result.length]=set1[idx]}idx=-1;while(++idx<len2){result[result.length]=set2[idx]}return result};var _containsWith=function _containsWith(pred,x,list){var idx=-1,len=list.length;while(++idx<len){if(pred(x,list[idx])){return true}}return false};var _createMaxMinBy=function _createMaxMinBy(comparator){return function(valueComputer,list){if(!(list&&list.length>0)){return}var idx=0,winner=list[idx],computedWinner=valueComputer(winner),computedCurrent;while(++idx<list.length){computedCurrent=valueComputer(list[idx]);if(comparator(computedCurrent,computedWinner)){computedWinner=computedCurrent;winner=list[idx]}}return winner}};var _curry1=function _curry1(fn){return function f1(a){if(arguments.length===0){return f1}else if(a===__){return f1}else{return fn(a)}}};var _curry2=function _curry2(fn){return function f2(a,b){var n=arguments.length;if(n===0){return f2}else if(n===1&&a===__){return f2}else if(n===1){return _curry1(function(b){return fn(a,b)})}else if(n===2&&a===__&&b===__){return f2}else if(n===2&&a===__){return _curry1(function(a){return fn(a,b)})}else if(n===2&&b===__){return _curry1(function(b){return fn(a,b)})}else{return fn(a,b)}}};var _curry3=function _curry3(fn){return function f3(a,b,c){var n=arguments.length;if(n===0){return f3}else if(n===1&&a===__){return f3}else if(n===1){return _curry2(function(b,c){return fn(a,b,c)})}else if(n===2&&a===__&&b===__){return f3}else if(n===2&&a===__){return _curry2(function(a,c){return fn(a,b,c)})}else if(n===2&&b===__){return _curry2(function(b,c){return fn(a,b,c)})}else if(n===2){return _curry1(function(c){return fn(a,b,c)})}else if(n===3&&a===__&&b===__&&c===__){return f3}else if(n===3&&a===__&&b===__){return _curry2(function(a,b){return fn(a,b,c)})}else if(n===3&&a===__&&c===__){return _curry2(function(a,c){return fn(a,b,c)})}else if(n===3&&b===__&&c===__){return _curry2(function(b,c){return fn(a,b,c)})}else if(n===3&&a===__){return _curry1(function(a){return fn(a,b,c)})}else if(n===3&&b===__){return _curry1(function(b){return fn(a,b,c)})}else if(n===3&&c===__){return _curry1(function(c){return fn(a,b,c)})}else{return fn(a,b,c)}}};var _dissoc=function _dissoc(prop,obj){var result={};for(var p in obj){if(p!==prop){result[p]=obj[p]}}return result};var _filter=function _filter(fn,list){var idx=-1,len=list.length,result=[];while(++idx<len){if(fn(list[idx])){result[result.length]=list[idx]}}return result};var _filterIndexed=function _filterIndexed(fn,list){var idx=-1,len=list.length,result=[];while(++idx<len){if(fn(list[idx],idx,list)){result[result.length]=list[idx]}}return result};var _forEach=function _forEach(fn,list){var idx=-1,len=list.length;while(++idx<len){fn(list[idx])}return list};var _functionsWith=function _functionsWith(fn){return function(obj){return _filter(function(key){return typeof obj[key]==="function"},fn(obj))}};var _gt=function _gt(a,b){return a>b};var _has=function _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)};var _indexOf=function _indexOf(list,item,from){var idx=0,len=list.length;if(typeof from=="number"){idx=from<0?Math.max(0,len+from):from}while(idx<len){if(list[idx]===item){return idx}++idx}return-1};var _isArray=Array.isArray||function _isArray(val){return val!=null&&val.length>=0&&Object.prototype.toString.call(val)==="[object Array]"};var _isInteger=Number.isInteger||function _isInteger(n){return n<<0===n};var _isThenable=function _isThenable(value){return value!=null&&value===Object(value)&&typeof value.then==="function"};var _lastIndexOf=function _lastIndexOf(list,item,from){var idx=list.length;if(typeof from=="number"){idx=from<0?idx+from+1:Math.min(idx,from+1)}while(--idx>=0){if(list[idx]===item){return idx}}return-1};var _lt=function _lt(a,b){return a<b};var _map=function _map(fn,list){var idx=-1,len=list.length,result=[];while(++idx<len){result[idx]=fn(list[idx])}return result};var _multiply=function _multiply(a,b){return a*b};var _nth=function _nth(n,list){return n<0?list[list.length+n]:list[n]};var _pairWith=function _pairWith(fn){return function(obj){return _map(function(key){return[key,obj[key]]},fn(obj))}};var _path=function _path(paths,obj){if(obj==null||paths.length===0){return}else{var val=obj;for(var idx=0,len=paths.length;idx<len&&val!=null;idx+=1){val=val[paths[idx]]}return val}};var _pickAll=function _pickAll(names,obj){var copy={};_forEach(function(name){copy[name]=obj[name]},names);return copy};var _prepend=function _prepend(el,list){return _concat([el],list)};var _reduce=function _reduce(fn,acc,list){var idx=-1,len=list.length;while(++idx<len){acc=fn(acc,list[idx])}return acc};var _satisfiesSpec=function _satisfiesSpec(spec,parsedSpec,testObj){if(spec===testObj){return true}if(testObj==null){return false}parsedSpec.fn=parsedSpec.fn||[];parsedSpec.obj=parsedSpec.obj||[];var key,val,idx=-1,fnLen=parsedSpec.fn.length,j=-1,objLen=parsedSpec.obj.length;while(++idx<fnLen){key=parsedSpec.fn[idx];val=spec[key];if(!(key in testObj)){return false}if(!val(testObj[key],testObj)){return false}}while(++j<objLen){key=parsedSpec.obj[j];if(spec[key]!==testObj[key]){return false}}return true};var _slice=function _slice(args,from,to){switch(arguments.length){case 1:return _slice(args,0,args.length);case 2:return _slice(args,from,args.length);default:var length=Math.max(0,to-from),list=[],idx=-1;while(++idx<length){list[idx]=args[from+idx]}return list}};var add=_curry2(_add);var all=_curry2(_all);var always=_curry1(function always(val){return function(){return val}});var and=_curry2(function and(f,g){return function _and(){return f.apply(this,arguments)&&g.apply(this,arguments)}});var any=_curry2(_any);var apply=_curry2(function apply(fn,args){return fn.apply(this,args)});var arity=_curry2(function(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){void a0;return fn.apply(this,arguments)};case 2:return function(a0,a1){void a1;return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){void a2;return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){void a3;return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){void a4;return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){void a5;return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){void a6;return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){void a7;return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){void a8;return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){void a9;return fn.apply(this,arguments)};default:throw new Error("First argument to arity must be a non-negative integer no greater than ten")}});var assoc=_curry3(_assoc);var bind=_curry2(function bind(fn,thisObj){return arity(fn.length,function(){return fn.apply(thisObj,arguments)})});var comparator=_curry1(function comparator(pred){return function(a,b){return pred(a,b)?-1:pred(b,a)?1:0}});var cond=function cond(){var pairs=arguments;return function(){var idx=-1;while(++idx<pairs.length){if(pairs[idx][0].apply(this,arguments)){return pairs[idx][1].apply(this,arguments)}}}};var containsWith=_curry3(_containsWith);var countBy=_curry2(function countBy(fn,list){var counts={};var len=list.length;var idx=-1;while(++idx<len){var key=fn(list[idx]);counts[key]=(_has(key,counts)?counts[key]:0)+1}return counts});var createMapEntry=_curry2(function(key,val){var obj={};obj[key]=val;return obj});var curryN=_curry2(function curryN(length,fn){return arity(length,function(){var n=arguments.length;var shortfall=length-n;var idx=n;while(idx--){if(arguments[idx]===__){shortfall+=1}}if(shortfall<=0){return fn.apply(this,arguments)}else{var initialArgs=_slice(arguments);return curryN(shortfall,function(){var currentArgs=_slice(arguments);var combinedArgs=[];var idx=-1;while(++idx<n){var val=initialArgs[idx];combinedArgs[idx]=val===__?currentArgs.shift():val}return fn.apply(this,combinedArgs.concat(currentArgs))})}})});var dec=add(-1);var defaultTo=_curry2(function defaultTo(d,v){return v==null?d:v});var differenceWith=_curry3(function differenceWith(pred,first,second){var out=[];var idx=-1;var firstLen=first.length;var containsPred=containsWith(pred);while(++idx<firstLen){if(!containsPred(first[idx],second)&&!containsPred(first[idx],out)){out[idx]=first[idx]}}return out});var dissoc=_curry2(_dissoc);var divide=_curry2(function divide(a,b){return a/b});var dropWhile=_curry2(function dropWhile(pred,list){var idx=-1,len=list.length;while(++idx<len&&pred(list[idx])){}return _slice(list,idx)});var eq=_curry2(function eq(a,b){if(a===0){return 1/a===1/b}else{return a===b||a!==a&&b!==b}});var eqProps=_curry3(function eqProps(prop,obj1,obj2){return obj1[prop]===obj2[prop]});var filterIndexed=_curry2(_filterIndexed);var find=_curry2(function find(fn,list){var idx=-1;var len=list.length;while(++idx<len){if(fn(list[idx])){return list[idx]}}});var findIndex=_curry2(function findIndex(fn,list){var idx=-1;var len=list.length;while(++idx<len){if(fn(list[idx])){return idx}}return-1});var findLast=_curry2(function findLast(fn,list){var idx=list.length;while(idx--){if(fn(list[idx])){return list[idx]}}});var findLastIndex=_curry2(function findLastIndex(fn,list){var idx=list.length;while(idx--){if(fn(list[idx])){return idx}}return-1});var forEach=_curry2(_forEach);var forEachIndexed=_curry2(function forEachIndexed(fn,list){var idx=-1,len=list.length;while(++idx<len){fn(list[idx],idx,list)}return list});var fromPairs=_curry1(function fromPairs(pairs){var idx=-1,len=pairs.length,out={};while(++idx<len){if(_isArray(pairs[idx])&&pairs[idx].length){out[pairs[idx][0]]=pairs[idx][1]}}return out});var gt=_curry2(_gt);var gte=_curry2(function gte(a,b){return a>=b});var has=_curry2(_has);var hasIn=_curry2(function(prop,obj){return prop in obj});var identity=_curry1(function identity(x){return x});var ifElse=_curry3(function ifElse(condition,onTrue,onFalse){return function _ifElse(){return condition.apply(this,arguments)?onTrue.apply(this,arguments):onFalse.apply(this,arguments)}});var inc=add(1);var indexOf=_curry2(function indexOf(target,list){return _indexOf(list,target)});var insertAll=_curry3(function insertAll(idx,elts,list){idx=idx<list.length&&idx>=0?idx:list.length;return _concat(_concat(_slice(list,0,idx),elts),_slice(list,idx))});var is=_curry2(function is(Ctor,val){return val!=null&&val.constructor===Ctor||val instanceof Ctor});var isArrayLike=_curry1(function isArrayLike(x){if(_isArray(x)){return true}if(!x){return false}if(typeof x!=="object"){return false}if(x instanceof String){return false}if(x.nodeType===1){return!!x.length}if(x.length===0){return true}if(x.length>0){return x.hasOwnProperty(0)&&x.hasOwnProperty(x.length-1)}return false});var isEmpty=_curry1(function isEmpty(list){return Object(list).length===0});var isNil=_curry1(function isNil(x){return x==null});var isSet=_curry1(function isSet(list){var len=list.length;var idx=-1;while(++idx<len){if(_indexOf(list,list[idx],idx+1)>=0){return false}}return true});var keysIn=_curry1(function keysIn(obj){var prop,ks=[];for(prop in obj){ks[ks.length]=prop}return ks});var lastIndexOf=_curry2(function lastIndexOf(target,list){return _lastIndexOf(list,target)});var length=_curry1(function length(list){return list!=null&&is(Number,list.length)?list.length:NaN});var lens=_curry2(function lens(get,set){var lns=function(a){return get(a)};lns.set=_curry2(set);lns.map=_curry2(function(fn,a){return set(fn(get(a)),a)});return lns});var lensOn=_curry3(function lensOn(get,set,obj){var lns=function(){return get(obj)};lns.set=set;lns.map=function(fn){return set(fn(get(obj)))};return lns});var lt=_curry2(_lt);var lte=_curry2(function lte(a,b){return a<=b});var mapAccum=_curry3(function mapAccum(fn,acc,list){var idx=-1,len=list.length,result=[],tuple=[acc];while(++idx<len){tuple=fn(tuple[0],list[idx]);result[idx]=tuple[1]}return[tuple[0],result]});var mapAccumRight=_curry3(function mapAccumRight(fn,acc,list){var idx=list.length,result=[],tuple=[acc];while(idx--){tuple=fn(tuple[0],list[idx]);result[idx]=tuple[1]}return[tuple[0],result]});var mapIndexed=_curry2(function mapIndexed(fn,list){var idx=-1,len=list.length,result=[];while(++idx<len){result[idx]=fn(list[idx],idx,list)}return result});var mathMod=_curry2(function mathMod(m,p){if(!_isInteger(m)){return NaN}if(!_isInteger(p)||p<1){return NaN}return(m%p+p)%p});var maxBy=_curry2(_createMaxMinBy(_gt));var memoize=function(){var repr=function(x){return x+"::"+Object.prototype.toString.call(x)};var serialize=function(args){return args.length+":{"+_map(repr,args).join(",")+"}"};return _curry1(function memoize(fn){var cache={};return function(){var key=serialize(arguments);if(!_has(key,cache)){cache[key]=fn.apply(this,arguments)}return cache[key]}})}();var minBy=_curry2(_createMaxMinBy(_lt));var modulo=_curry2(function modulo(a,b){return a%b});var multiply=_curry2(_multiply);var nAry=_curry2(function(n,fn){switch(n){case 0:return function(){return fn.call(this)};case 1:return function(a0){return fn.call(this,a0)};case 2:return function(a0,a1){return fn.call(this,a0,a1)};case 3:return function(a0,a1,a2){return fn.call(this,a0,a1,a2)};case 4:return function(a0,a1,a2,a3){return fn.call(this,a0,a1,a2,a3)};case 5:return function(a0,a1,a2,a3,a4){return fn.call(this,a0,a1,a2,a3,a4)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.call(this,a0,a1,a2,a3,a4,a5)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.call(this,a0,a1,a2,a3,a4,a5,a6)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});var negate=_curry1(function negate(n){return-n});var not=_curry1(function not(f){return function(){return!f.apply(this,arguments)}});var nth=_curry2(_nth);var nthArg=_curry1(function nthArg(n){return function(){return _nth(n,arguments)}});var of=_curry1(function of(x){return[x]});var omit=_curry2(function omit(names,obj){var result={};for(var prop in obj){if(_indexOf(names,prop)<0){result[prop]=obj[prop]}}return result});var once=_curry1(function once(fn){var called=false,result;return function(){if(called){return result}called=true;result=fn.apply(this,arguments);return result}});var or=_curry2(function or(f,g){return function _or(){return f.apply(this,arguments)||g.apply(this,arguments)}});var partition=_curry2(function partition(pred,list){return _reduce(function(acc,elt){var xs=acc[pred(elt)?0:1];xs[xs.length]=elt;return acc},[[],[]],list)});var path=_curry2(_path);var pathEq=_curry3(function pathEq(path,val,obj){return _path(path,obj)===val});var pick=_curry2(function pick(names,obj){var result={};for(var prop in obj){if(_indexOf(names,prop)>=0){result[prop]=obj[prop]}}return result});var pickAll=_curry2(_pickAll);var pickBy=_curry2(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop]}}return result});var prepend=_curry2(_prepend);var prop=_curry2(function prop(p,obj){return obj[p]});var propEq=_curry3(function propEq(name,val,obj){return obj[name]===val});var propOr=_curry3(function propOr(val,p,obj){return _has(p,obj)?obj[p]:val});var props=_curry2(function props(ps,obj){var len=ps.length,out=[],idx=-1;while(++idx<len){out[idx]=obj[ps[idx]]}return out});var range=_curry2(function range(from,to){if(from>=to){return[]}var idx=0,result=[];while(from<to){result[idx]=from++;idx+=1}return result});var reduce=_curry3(_reduce);var reduceIndexed=_curry3(function reduceIndexed(fn,acc,list){var idx=-1,len=list.length;while(++idx<len){acc=fn(acc,list[idx],idx,list)}return acc});var reduceRight=_curry3(function reduceRight(fn,acc,list){var idx=list.length;while(idx--){acc=fn(acc,list[idx])}return acc});var reduceRightIndexed=_curry3(function reduceRightIndexed(fn,acc,list){var idx=list.length;while(idx--){acc=fn(acc,list[idx],idx,list)}return acc});var rejectIndexed=_curry2(function rejectIndexed(fn,list){return _filterIndexed(not(fn),list)});var remove=_curry3(function remove(start,count,list){return _concat(_slice(list,0,Math.min(start,list.length)),_slice(list,Math.min(list.length,start+count)))});var replace=_curry3(function replace(regex,replacement,str){return str.replace(regex,replacement)});var reverse=_curry1(function reverse(list){return _slice(list).reverse()});var scan=_curry3(function scan(fn,acc,list){var idx=0,len=list.length+1,result=[acc];while(++idx<len){acc=fn(acc,list[idx-1]);result[idx]=acc}return result});var sortBy=_curry2(function sortBy(fn,list){return _slice(list).sort(function(a,b){var aa=fn(a);var bb=fn(b);return aa<bb?-1:aa>bb?1:0})});var strIndexOf=_curry2(function strIndexOf(c,str){return str.indexOf(c)});var strLastIndexOf=_curry2(function(c,str){return str.lastIndexOf(c)});var subtract=_curry2(function subtract(a,b){return a-b});var sum=reduce(_add,0);var tap=_curry2(function tap(fn,x){fn(x);return x});var times=_curry2(function times(fn,n){var len=Number(n);var list=new Array(len);var idx=0;while(idx<len){list[idx]=fn(idx);idx+=1}return list});var toPairsIn=_curry1(_pairWith(keysIn));var trim=function(){var ws="	\n\f\r "+"\u2028"+"\u2029\ufeff";var zeroWidth="";var hasProtoTrim=typeof String.prototype.trim==="function";if(!hasProtoTrim||(ws.trim()||!zeroWidth.trim())){return _curry1(function trim(str){var beginRx=new RegExp("^["+ws+"]["+ws+"]*");var endRx=new RegExp("["+ws+"]["+ws+"]*$");return str.replace(beginRx,"").replace(endRx,"")})}else{return _curry1(function trim(str){return str.trim()})}}();var type=_curry1(function type(val){return val===null?"Null":val===undefined?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});var unapply=_curry1(function unapply(fn){return function(){return fn(_slice(arguments))}});var unary=_curry1(function unary(fn){return nAry(1,fn)});var unfold=_curry2(function unfold(fn,seed){var pair=fn(seed);var result=[];while(pair&&pair.length){result[result.length]=pair[0];pair=fn(pair[1])}return result});var uniqWith=_curry2(function uniqWith(pred,list){var idx=-1,len=list.length;var result=[],item;while(++idx<len){item=list[idx];if(!_containsWith(pred,item,result)){result[result.length]=item}}return result});var valuesIn=_curry1(function valuesIn(obj){var prop,vs=[];for(prop in obj){vs[vs.length]=obj[prop]}return vs});var wrap=_curry2(function wrap(fn,wrapper){return curryN(fn.length,function(){return wrapper.apply(this,_concat([fn],arguments))})});var xprod=_curry2(function xprod(a,b){var idx=-1;var ilen=a.length;var j;var jlen=b.length;var result=[];while(++idx<ilen){j=-1;while(++j<jlen){result[result.length]=[a[idx],b[j]]}}return result});var zip=_curry2(function zip(a,b){var rv=[];var idx=-1;var len=Math.min(a.length,b.length);while(++idx<len){rv[idx]=[a[idx],b[idx]]}return rv});var zipObj=_curry2(function zipObj(keys,values){var idx=-1,len=keys.length,out={};while(++idx<len){out[keys[idx]]=values[idx]}return out});var zipWith=_curry3(function zipWith(fn,a,b){var rv=[],idx=-1,len=Math.min(a.length,b.length);while(++idx<len){rv[idx]=fn(a[idx],b[idx])}return rv});var F=always(false);var I=identity;var T=always(true);var _append=function _append(el,list){return _concat(list,[el])};var _assocPath=function _assocPath(path,val,obj){switch(path.length){case 0:return obj;case 1:return _assoc(path[0],val,obj);default:return _assoc(path[0],_assocPath(_slice(path,1),val,Object(obj[path[0]])),obj)}};var _baseCopy=function _baseCopy(value,refFrom,refTo){var copy=function copy(copiedValue){var len=refFrom.length;var idx=-1;while(++idx<len){if(value===refFrom[idx]){return refTo[idx]}}refFrom[idx+1]=value;refTo[idx+1]=copiedValue;for(var key in value){copiedValue[key]=_baseCopy(value[key],refFrom,refTo)}return copiedValue};switch(type(value)){case"Object":return copy({});

case"Array":return copy([]);case"Date":return new Date(value);default:return value}};var _checkForMethod=function _checkForMethod(methodname,fn){return function(){var length=arguments.length;if(length===0){return fn()}var obj=arguments[length-1];return _isArray(obj)||typeof obj[methodname]!=="function"?fn.apply(this,arguments):obj[methodname].apply(obj,_slice(arguments,0,length-1))}};var _composeP=function _composeP(f,g){return function(){var context=this;var value=g.apply(this,arguments);if(_isThenable(value)){return value.then(function(result){return f.call(context,result)})}else{return f.call(this,value)}}};var _contains=function _contains(a,list){return _indexOf(list,a)>=0};var _createComposer=function _createComposer(composeFunction){return function(){var idx=arguments.length-1;var fn=arguments[idx];var length=fn.length;while(idx--){fn=composeFunction(arguments[idx],fn)}return arity(length,fn)}};var _createMaxMin=function _createMaxMin(comparator,initialVal){return _curry1(function(list){var idx=-1,winner=initialVal,computed;while(++idx<list.length){computed=+list[idx];if(comparator(computed,winner)){winner=computed}}return winner})};var _createPartialApplicator=function _createPartialApplicator(concat){return function(fn){var args=_slice(arguments,1);return arity(Math.max(0,fn.length-args.length),function(){return fn.apply(this,concat(args,arguments))})}};var _dissocPath=function _dissocPath(path,obj){switch(path.length){case 0:return obj;case 1:return _dissoc(path[0],obj);default:var head=path[0];var tail=_slice(path,1);return obj[head]==null?obj:_assoc(head,_dissocPath(tail,obj[head]),obj)}};var _hasMethod=function _hasMethod(methodName,obj){return obj!=null&&!_isArray(obj)&&typeof obj[methodName]==="function"};var _makeFlat=function _makeFlat(recursive){return function flatt(list){var value,result=[],idx=-1,j,ilen=list.length,jlen;while(++idx<ilen){if(isArrayLike(list[idx])){value=recursive?flatt(list[idx]):list[idx];j=-1;jlen=value.length;while(++j<jlen){result[result.length]=value[j]}}else{result[result.length]=list[idx]}}return result}};var _pluck=function _pluck(p,list){return _map(prop(p),list)};var append=_curry2(_append);var assocPath=_curry3(_assocPath);var binary=_curry1(function binary(fn){return nAry(2,fn)});var clone=_curry1(function clone(value){return _baseCopy(value,[],[])});var compose=_createComposer(_compose);var composeP=_createComposer(_composeP);var concat=_curry2(function(set1,set2){if(_isArray(set2)){return _concat(set1,set2)}else if(_hasMethod("concat",set1)){return set1.concat(set2)}else{throw new TypeError("can't concat "+typeof set1)}});var contains=_curry2(_contains);var converge=curryN(3,function(after){var fns=_slice(arguments,1);return function(){var args=arguments;return after.apply(this,_map(function(fn){return fn.apply(this,args)},fns))}});var curry=_curry1(function curry(fn){return curryN(fn.length,fn)});var difference=_curry2(function difference(first,second){var out=[];var idx=-1;var firstLen=first.length;while(++idx<firstLen){if(!_contains(first[idx],second)&&!_contains(first[idx],out)){out[out.length]=first[idx]}}return out});var dissocPath=_curry2(_dissocPath);var drop=_curry2(_checkForMethod("drop",function drop(n,list){return n<list.length?_slice(list,n):[]}));var empty=_curry1(function empty(x){return _hasMethod("empty",x)?x.empty():[]});var filter=_curry2(_checkForMethod("filter",_filter));var flatten=_curry1(_makeFlat(true));var flip=_curry1(function flip(fn){return curry(function(a,b){var args=_slice(arguments);args[0]=b;args[1]=a;return fn.apply(this,args)})});var func=curry(function func(funcName,obj){return obj[funcName].apply(obj,_slice(arguments,2))});var functionsIn=_curry1(_functionsWith(keysIn));var get=prop;var groupBy=_curry2(function groupBy(fn,list){return _reduce(function(acc,elt){var key=fn(elt);acc[key]=_append(elt,acc[key]||(acc[key]=[]));return acc},{},list)});var head=nth(0);var insert=_curry3(function insert(idx,elt,list){idx=idx<list.length&&idx>=0?idx:list.length;return _concat(_append(elt,_slice(list,0,idx)),_slice(list,idx))});var intersectionWith=_curry3(function intersectionWith(pred,list1,list2){var results=[],idx=-1;while(++idx<list1.length){if(_containsWith(pred,list1[idx],list2)){results[results.length]=list1[idx]}}return uniqWith(pred,results)});var invoker=curry(function invoker(arity,method){var initialArgs=_slice(arguments,2);var len=arity-initialArgs.length;return curryN(len+1,function(){var target=arguments[len];var args=initialArgs.concat(_slice(arguments,0,len));return target[method].apply(target,args)})});var join=invoker(1,"join");var keys=function(){var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return _curry1(function keys(obj){if(Object(obj)!==obj){return[]}if(Object.keys){return Object.keys(obj)}var prop,ks=[],nIdx;for(prop in obj){if(_has(prop,obj)){ks[ks.length]=prop}}if(hasEnumBug){nIdx=nonEnumerableProps.length;while(nIdx--){prop=nonEnumerableProps[nIdx];if(_has(prop,obj)&&!_contains(prop,ks)){ks[ks.length]=prop}}}return ks})}();var last=nth(-1);var map=_curry2(_checkForMethod("map",_map));var mapObj=_curry2(function mapObject(fn,obj){return _reduce(function(acc,key){acc[key]=fn(obj[key]);return acc},{},keys(obj))});var mapObjIndexed=_curry2(function mapObjectIndexed(fn,obj){return _reduce(function(acc,key){acc[key]=fn(obj[key],key,obj);return acc},{},keys(obj))});var match=invoker(1,"match");var max=_createMaxMin(_gt,-Infinity);var min=_createMaxMin(_lt,Infinity);var partial=curry(_createPartialApplicator(_concat));var partialRight=curry(_createPartialApplicator(flip(_concat)));var pipe=function pipe(){return compose.apply(this,reverse(arguments))};var pipeP=function pipeP(){return composeP.apply(this,reverse(arguments))};var pluck=_curry2(_pluck);var prependTo=flip(_prepend);var product=reduce(_multiply,1);var propOf=flip(prop);var reject=_curry2(function reject(fn,list){return filter(not(fn),list)});var repeat=_curry2(function repeat(value,n){return times(always(value),n)});var slice=_curry3(_checkForMethod("slice",function slice(fromIndex,toIndex,xs){return Array.prototype.slice.call(xs,fromIndex,toIndex)}));var sort=_curry2(function sort(comparator,list){return clone(list).sort(comparator)});var split=invoker(1,"split");var substring=invoker(2,"substring");var substringFrom=flip(substring)(void 0);var substringTo=substring(0);var tail=_checkForMethod("tail",function(list){return _slice(list,1)});var take=_curry2(_checkForMethod("take",function(n,list){return _slice(list,0,Math.min(n,list.length))}));var takeWhile=_curry2(_checkForMethod("takeWhile",function(fn,list){var idx=-1,len=list.length;while(++idx<len&&fn(list[idx])){}return _slice(list,0,idx)}));var toLower=invoker(0,"toLowerCase");var toPairs=_curry1(_pairWith(keys));var toUpper=invoker(0,"toUpperCase");var unionWith=_curry3(function unionWith(pred,list1,list2){return uniqWith(pred,_concat(list1,list2))});var uniq=_curry1(function uniq(list){var idx=-1,len=list.length;var result=[],item;while(++idx<len){item=list[idx];if(!_contains(item,result)){result[result.length]=item}}return result});var unnest=_curry1(_makeFlat(false));var useWith=curry(function useWith(fn){var transformers=_slice(arguments,1);var tlen=transformers.length;return curry(arity(tlen,function(){var args=[],idx=-1;while(++idx<tlen){args[idx]=transformers[idx](arguments[idx])}return fn.apply(this,args.concat(_slice(arguments,tlen)))}))});var values=_curry1(function values(obj){var props=keys(obj);var len=props.length;var vals=[];var idx=-1;while(++idx<len){vals[idx]=obj[props[idx]]}return vals});var where=_curry2(function where(spec,testObj){var parsedSpec=groupBy(function(key){return typeof spec[key]==="function"?"fn":"obj"},keys(spec));return _satisfiesSpec(spec,parsedSpec,testObj)});var _ap=function _ap(fns,vs){return _hasMethod("ap",fns)?fns.ap(vs):_reduce(function(acc,fn){return _concat(acc,_map(fn,vs))},[],fns)};var _eqDeep=function _eqDeep(a,b,stackA,stackB){var typeA=type(a);if(typeA!==type(b)){return false}if(eq(a,b)){return true}if(typeA=="RegExp"){return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline&&a.sticky===b.sticky&&a.unicode===b.unicode}if(Object(a)===a){if(typeA==="Date"&&a.getTime()!=b.getTime()){return false}var keysA=keys(a);if(keysA.length!==keys(b).length){return false}var idx=stackA.length;while(idx--){if(stackA[idx]===a){return stackB[idx]===b}}stackA[stackA.length]=a;stackB[stackB.length]=b;idx=keysA.length;while(idx--){var key=keysA[idx];if(!_has(key,b)||!_eqDeep(b[key],a[key],stackA,stackB)){return false}}stackA.pop();stackB.pop();return true}return false};var _extend=function _extend(destination,other){var props=keys(other),idx=-1,length=props.length;while(++idx<length){destination[props[idx]]=other[props[idx]]}return destination};var _predicateWrap=function _predicateWrap(predPicker){return function(preds){var predIterator=function(){var args=arguments;return predPicker(function(predicate){return predicate.apply(null,args)},preds)};return arguments.length>1?predIterator.apply(null,_slice(arguments,1)):arity(max(_pluck("length",preds)),predIterator)}};var allPass=curry(_predicateWrap(_all));var anyPass=curry(_predicateWrap(_any));var ap=_curry2(_ap);var appendTo=flip(_append);var call=curry(function call(fn){return fn.apply(this,_slice(arguments,1))});var chain=_curry2(_checkForMethod("chain",function chain(f,list){return unnest(_map(f,list))}));var charAt=invoker(1,"charAt");var charCodeAt=invoker(1,"charCodeAt");var commuteMap=_curry3(function commuteMap(fn,of,list){function consF(acc,ftor){return _ap(_map(append,fn(ftor)),acc)}return _reduce(consF,of([]),list)});var constructN=_curry2(function constructN(n,Fn){if(n>10){throw new Error("Constructor with greater than ten arguments")}if(n===0){return function(){return new Fn}}return curry(nAry(n,function($0,$1,$2,$3,$4,$5,$6,$7,$8,$9){switch(arguments.length){case 1:return new Fn($0);case 2:return new Fn($0,$1);case 3:return new Fn($0,$1,$2);case 4:return new Fn($0,$1,$2,$3);case 5:return new Fn($0,$1,$2,$3,$4);case 6:return new Fn($0,$1,$2,$3,$4,$5);case 7:return new Fn($0,$1,$2,$3,$4,$5,$6);case 8:return new Fn($0,$1,$2,$3,$4,$5,$6,$7);case 9:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8);case 10:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8,$9)}}))});var eqDeep=_curry2(function eqDeep(a,b){return _eqDeep(a,b,[],[])});var evolve=_curry2(function evolve(transformations,object){return _extend(_extend({},object),mapObjIndexed(function(fn,key){return fn(object[key])},transformations))});var functions=_curry1(_functionsWith(keys));var init=slice(0,-1);var installTo=_curry1(function(obj){return _extend(obj,R)});var intersection=_curry2(function intersection(list1,list2){return uniq(_filter(flip(_contains)(list1),list2))});var invert=_curry1(function invert(obj){var props=keys(obj);var len=props.length;var idx=-1;var out={};while(++idx<len){var key=props[idx];var val=obj[key];var list=_has(val,out)?out[val]:out[val]=[];list[list.length]=key}return out});var invertObj=_curry1(function invertObj(obj){var props=keys(obj);var len=props.length;var idx=-1;var out={};while(++idx<len){var key=props[idx];out[obj[key]]=key}return out});var liftN=_curry2(function liftN(arity,fn){var lifted=curryN(arity,fn);return curryN(arity,function(){return _reduce(_ap,map(lifted,arguments[0]),_slice(arguments,1))})});var merge=_curry2(function merge(a,b){return _extend(_extend({},a),b)});var mergeAll=_curry1(function mergeAll(list){return reduce(merge,{},list)});var project=useWith(_map,pickAll,identity);var union=_curry2(compose(uniq,_concat));var commute=commuteMap(map(identity));var construct=_curry1(function construct(Fn){return constructN(Fn.length,Fn)});var lift=_curry1(function lift(fn){return liftN(fn.length,fn)});var R={F:F,I:I,T:T,__:__,add:add,all:all,allPass:allPass,always:always,and:and,any:any,anyPass:anyPass,ap:ap,append:append,appendTo:appendTo,apply:apply,arity:arity,assoc:assoc,assocPath:assocPath,binary:binary,bind:bind,call:call,chain:chain,charAt:charAt,charCodeAt:charCodeAt,clone:clone,commute:commute,commuteMap:commuteMap,comparator:comparator,compose:compose,composeP:composeP,concat:concat,cond:cond,construct:construct,constructN:constructN,contains:contains,containsWith:containsWith,converge:converge,countBy:countBy,createMapEntry:createMapEntry,curry:curry,curryN:curryN,dec:dec,defaultTo:defaultTo,difference:difference,differenceWith:differenceWith,dissoc:dissoc,dissocPath:dissocPath,divide:divide,drop:drop,dropWhile:dropWhile,empty:empty,eq:eq,eqDeep:eqDeep,eqProps:eqProps,evolve:evolve,filter:filter,filterIndexed:filterIndexed,find:find,findIndex:findIndex,findLast:findLast,findLastIndex:findLastIndex,flatten:flatten,flip:flip,forEach:forEach,forEachIndexed:forEachIndexed,fromPairs:fromPairs,func:func,functions:functions,functionsIn:functionsIn,get:get,groupBy:groupBy,gt:gt,gte:gte,has:has,hasIn:hasIn,head:head,identity:identity,ifElse:ifElse,inc:inc,indexOf:indexOf,init:init,insert:insert,insertAll:insertAll,installTo:installTo,intersection:intersection,intersectionWith:intersectionWith,invert:invert,invertObj:invertObj,invoker:invoker,is:is,isArrayLike:isArrayLike,isEmpty:isEmpty,isNil:isNil,isSet:isSet,join:join,keys:keys,keysIn:keysIn,last:last,lastIndexOf:lastIndexOf,length:length,lens:lens,lensOn:lensOn,lift:lift,liftN:liftN,lt:lt,lte:lte,map:map,mapAccum:mapAccum,mapAccumRight:mapAccumRight,mapIndexed:mapIndexed,mapObj:mapObj,mapObjIndexed:mapObjIndexed,match:match,mathMod:mathMod,max:max,maxBy:maxBy,memoize:memoize,merge:merge,mergeAll:mergeAll,min:min,minBy:minBy,modulo:modulo,multiply:multiply,nAry:nAry,negate:negate,not:not,nth:nth,nthArg:nthArg,of:of,omit:omit,once:once,or:or,partial:partial,partialRight:partialRight,partition:partition,path:path,pathEq:pathEq,pick:pick,pickAll:pickAll,pickBy:pickBy,pipe:pipe,pipeP:pipeP,pluck:pluck,prepend:prepend,prependTo:prependTo,product:product,project:project,prop:prop,propEq:propEq,propOf:propOf,propOr:propOr,props:props,range:range,reduce:reduce,reduceIndexed:reduceIndexed,reduceRight:reduceRight,reduceRightIndexed:reduceRightIndexed,reject:reject,rejectIndexed:rejectIndexed,remove:remove,repeat:repeat,replace:replace,reverse:reverse,scan:scan,slice:slice,sort:sort,sortBy:sortBy,split:split,strIndexOf:strIndexOf,strLastIndexOf:strLastIndexOf,substring:substring,substringFrom:substringFrom,substringTo:substringTo,subtract:subtract,sum:sum,tail:tail,take:take,takeWhile:takeWhile,tap:tap,times:times,toLower:toLower,toPairs:toPairs,toPairsIn:toPairsIn,toUpper:toUpper,trim:trim,type:type,unapply:unapply,unary:unary,unfold:unfold,union:union,unionWith:unionWith,uniq:uniq,uniqWith:uniqWith,unnest:unnest,useWith:useWith,values:values,valuesIn:valuesIn,where:where,wrap:wrap,xprod:xprod,zip:zip,zipObj:zipObj,zipWith:zipWith};if(typeof exports==="object"){module.exports=R}else if(typeof define==="function"&&define.amd){define(function(){return R})}else{this.R=R}}).call(this)},{}],84:[function(require,module,exports){module.exports=require("./lib/ReactWithAddons")},{"./lib/ReactWithAddons":175}],85:[function(require,module,exports){"use strict";var focusNode=require("./focusNode");var AutoFocusMixin={componentDidMount:function(){if(this.props.autoFocus){focusNode(this.getDOMNode())}}};module.exports=AutoFocusMixin},{"./focusNode":209}],86:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var SyntheticInputEvent=require("./SyntheticInputEvent");var keyOf=require("./keyOf");var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||isPresto());function isPresto(){var opera=window.opera;return typeof opera==="object"&&typeof opera.version==="function"&&parseInt(opera.version(),10)<=12}var SPACEBAR_CODE=32;var SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE);var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]}};var fallbackChars=null;var hasSpaceKeypress=false;function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}var BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var chars;if(canUseTextInputEvent){switch(topLevelType){case topLevelTypes.topKeyPress:var which=nativeEvent.which;if(which!==SPACEBAR_CODE){return}hasSpaceKeypress=true;chars=SPACEBAR_CHAR;break;case topLevelTypes.topTextInput:chars=nativeEvent.data;if(chars===SPACEBAR_CHAR&&hasSpaceKeypress){return}break;default:return}}else{switch(topLevelType){case topLevelTypes.topPaste:fallbackChars=null;break;case topLevelTypes.topKeyPress:if(nativeEvent.which&&!isKeypressCommand(nativeEvent)){fallbackChars=String.fromCharCode(nativeEvent.which)}break;case topLevelTypes.topCompositionEnd:fallbackChars=nativeEvent.data;break}if(fallbackChars===null){return}chars=fallbackChars}if(!chars){return}var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent);event.data=chars;fallbackChars=null;EventPropagators.accumulateTwoPhaseDispatches(event);return event}};module.exports=BeforeInputEventPlugin},{"./EventConstants":100,"./EventPropagators":105,"./ExecutionEnvironment":106,"./SyntheticInputEvent":185,"./keyOf":231}],87:[function(require,module,exports){var invariant=require("./invariant");var CSSCore={addClass:function(element,className){"production"!=="production"?invariant(!/\s/.test(className),'CSSCore.addClass takes only a single class name. "%s" contains '+"multiple classes.",className):invariant(!/\s/.test(className));if(className){if(element.classList){element.classList.add(className)}else if(!CSSCore.hasClass(element,className)){element.className=element.className+" "+className}}return element},removeClass:function(element,className){"production"!=="production"?invariant(!/\s/.test(className),'CSSCore.removeClass takes only a single class name. "%s" contains '+"multiple classes.",className):invariant(!/\s/.test(className));if(className){if(element.classList){element.classList.remove(className)}else if(CSSCore.hasClass(element,className)){element.className=element.className.replace(new RegExp("(^|\\s)"+className+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}}return element},conditionClass:function(element,className,bool){return(bool?CSSCore.addClass:CSSCore.removeClass)(element,className)},hasClass:function(element,className){"production"!=="production"?invariant(!/\s/.test(className),"CSS.hasClass takes only a single class name."):invariant(!/\s/.test(className));if(element.classList){return!!className&&element.classList.contains(className)}return(" "+element.className+" ").indexOf(" "+className+" ")>-1}};module.exports=CSSCore},{"./invariant":224}],88:[function(require,module,exports){"use strict";var isUnitlessNumber={columnCount:true,flex:true,flexGrow:true,flexShrink:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,strokeOpacity:true};function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundImage:true,backgroundPosition:true,backgroundRepeat:true,backgroundColor:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true}};var CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],89:[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty");var ExecutionEnvironment=require("./ExecutionEnvironment");var camelizeStyleName=require("./camelizeStyleName");var dangerousStyleValue=require("./dangerousStyleValue");var hyphenateStyleName=require("./hyphenateStyleName");var memoizeStringOnly=require("./memoizeStringOnly");var warning=require("./warning");var processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)});var styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){if(document.documentElement.style.cssFloat===undefined){styleFloatAccessor="styleFloat"}}if("production"!=="production"){var warnedStyleNames={};var warnHyphenatedStyleName=function(name){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return}warnedStyleNames[name]=true;"production"!=="production"?warning(false,"Unsupported style property "+name+". Did you mean "+camelizeStyleName(name)+"?"):null}}var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}if("production"!=="production"){if(styleName.indexOf("-")>-1){warnHyphenatedStyleName(styleName)}}var styleValue=styles[styleName];if(styleValue!=null){serialized+=processStyleName(styleName)+":";serialized+=dangerousStyleValue(styleName,styleValue)+";"}}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}if("production"!=="production"){if(styleName.indexOf("-")>-1){warnHyphenatedStyleName(styleName)}}var styleValue=dangerousStyleValue(styleName,styles[styleName]);if(styleName==="float"){styleName=styleFloatAccessor}if(styleValue){style[styleName]=styleValue}else{var expansion=CSSProperty.shorthandPropertyExpansions[styleName];if(expansion){for(var individualStyleName in expansion){style[individualStyleName]=""}}else{style[styleName]=""}}}}};module.exports=CSSPropertyOperations},{"./CSSProperty":88,"./ExecutionEnvironment":106,"./camelizeStyleName":196,"./dangerousStyleValue":203,"./hyphenateStyleName":222,"./memoizeStringOnly":233,"./warning":244}],90:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var assign=require("./Object.assign");var invariant=require("./invariant");function CallbackQueue(){this._callbacks=null;this._contexts=null}assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(callback);this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks;var contexts=this._contexts;if(callbacks){"production"!=="production"?invariant(callbacks.length===contexts.length,"Mismatched list of contexts in callback queue"):invariant(callbacks.length===contexts.length);this._callbacks=null;this._contexts=null;for(var i=0,l=callbacks.length;i<l;i++){callbacks[i].call(contexts[i])}callbacks.length=0;contexts.length=0}},reset:function(){this._callbacks=null;this._contexts=null},destructor:function(){this.reset()}});PooledClass.addPoolingTo(CallbackQueue);module.exports=CallbackQueue},{"./Object.assign":112,"./PooledClass":113,"./invariant":224}],91:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var ReactUpdates=require("./ReactUpdates");var SyntheticEvent=require("./SyntheticEvent");var isEventSupported=require("./isEventSupported");var isTextInputElement=require("./isTextInputElement");var keyOf=require("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var activeElementValue=null;var activeElementValueProp=null;function shouldUseChangeEvent(elem){return elem.nodeName==="SELECT"||elem.nodeName==="INPUT"&&elem.type==="file"}var doesChangeEventBubble=false;if(ExecutionEnvironment.canUseDOM){doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8)}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue()}function startWatchingForChangeEventIE8(target,targetID){activeElement=target;activeElementID=targetID;activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){if(!activeElement){return}activeElement.detachEvent("onchange",manualDispatchChangeEvent);activeElement=null;activeElementID=null}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topChange){return topLevelTargetID}}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForChangeEventIE8();startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForChangeEventIE8()}}var isInputEventSupported=false;if(ExecutionEnvironment.canUseDOM){isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9)}var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val;activeElementValueProp.set.call(this,val)}};function startWatchingForValueChange(target,targetID){activeElement=target;activeElementID=targetID;activeElementValue=target.value;activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value");Object.defineProperty(activeElement,"value",newValueProp);activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){if(!activeElement){return}delete activeElement.value;activeElement.detachEvent("onpropertychange",handlePropertyChange);activeElement=null;activeElementID=null;activeElementValue=null;activeElementValueProp=null}function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=="value"){return}var value=nativeEvent.srcElement.value;if(value===activeElementValue){return}activeElementValue=value;manualDispatchChangeEvent(nativeEvent)}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topInput){return topLevelTargetID}}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForValueChange();startWatchingForValueChange(topLevelTarget,topLevelTargetID)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForValueChange()}}function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown){if(activeElement&&activeElement.value!==activeElementValue){activeElementValue=activeElement.value;return activeElementID}}}function shouldUseClickEvent(elem){return elem.nodeName==="INPUT"&&(elem.type==="checkbox"||elem.type==="radio")}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topClick){return topLevelTargetID}}var ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)){if(doesChangeEventBubble){getTargetIDFunc=getTargetIDForChangeEvent}else{handleEventFunc=handleEventsForChangeEventIE8}}else if(isTextInputElement(topLevelTarget)){if(isInputEventSupported){getTargetIDFunc=getTargetIDForInputEvent}else{getTargetIDFunc=getTargetIDForInputEventIE;handleEventFunc=handleEventsForInputEventIE}}else if(shouldUseClickEvent(topLevelTarget)){getTargetIDFunc=getTargetIDForClickEvent}if(getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);return event}}if(handleEventFunc){handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}}};module.exports=ChangeEventPlugin},{"./EventConstants":100,"./EventPluginHub":102,"./EventPropagators":105,"./ExecutionEnvironment":106,"./ReactUpdates":174,"./SyntheticEvent":183,"./isEventSupported":225,"./isTextInputElement":227,"./keyOf":231}],92:[function(require,module,exports){"use strict";var nextReactRootIndex=0;var ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex},{}],93:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("./ExecutionEnvironment");var ReactInputSelection=require("./ReactInputSelection");var SyntheticCompositionEvent=require("./SyntheticCompositionEvent");var getTextContentAccessor=require("./getTextContentAccessor");var keyOf=require("./keyOf");var END_KEYCODES=[9,13,27,32];var START_KEYCODE=229;var useCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window;var useFallbackData=!useCompositionEvent||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11;var topLevelTypes=EventConstants.topLevelTypes;var currentComposition=null;var eventTypes={compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}};function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackEnd(topLevelType,nativeEvent){
switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return true;default:return false}}function FallbackCompositionState(root){this.root=root;this.startSelection=ReactInputSelection.getSelection(root);this.startValue=this.getText()}FallbackCompositionState.prototype.getText=function(){return this.root.value||this.root[getTextContentAccessor()]};FallbackCompositionState.prototype.getData=function(){var endValue=this.getText();var prefixLength=this.startSelection.start;var suffixLength=this.startValue.length-this.startSelection.end;return endValue.substr(prefixLength,endValue.length-suffixLength-prefixLength)};var CompositionEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var eventType;var data;if(useCompositionEvent){eventType=getCompositionEventType(topLevelType)}else if(!currentComposition){if(isFallbackStart(topLevelType,nativeEvent)){eventType=eventTypes.compositionStart}}else if(isFallbackEnd(topLevelType,nativeEvent)){eventType=eventTypes.compositionEnd}if(useFallbackData){if(!currentComposition&&eventType===eventTypes.compositionStart){currentComposition=new FallbackCompositionState(topLevelTarget)}else if(eventType===eventTypes.compositionEnd){if(currentComposition){data=currentComposition.getData();currentComposition=null}}}if(eventType){var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent);if(data){event.data=data}EventPropagators.accumulateTwoPhaseDispatches(event);return event}}};module.exports=CompositionEventPlugin},{"./EventConstants":100,"./EventPropagators":105,"./ExecutionEnvironment":106,"./ReactInputSelection":148,"./SyntheticCompositionEvent":181,"./getTextContentAccessor":219,"./keyOf":231}],94:[function(require,module,exports){"use strict";var Danger=require("./Danger");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var getTextContentAccessor=require("./getTextContentAccessor");var invariant=require("./invariant");var textContentAccessor=getTextContentAccessor();function insertChildAt(parentNode,childNode,index){parentNode.insertBefore(childNode,parentNode.childNodes[index]||null)}var updateTextContent;if(textContentAccessor==="textContent"){updateTextContent=function(node,text){node.textContent=text}}else{updateTextContent=function(node,text){while(node.firstChild){node.removeChild(node.firstChild)}if(text){var doc=node.ownerDocument||document;node.appendChild(doc.createTextNode(text))}}}var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:updateTextContent,processUpdates:function(updates,markupList){var update;var initialChildren=null;var updatedChildren=null;for(var i=0;update=updates[i];i++){if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex;var updatedChild=update.parentNode.childNodes[updatedIndex];var parentID=update.parentID;"production"!=="production"?invariant(updatedChild,"processUpdates(): Unable to find child %s of element. This "+"probably means the DOM was unexpectedly mutated (e.g., by the "+"browser), usually due to forgetting a <tbody> when using tables, "+"nesting tags like <form>, <p>, or <a>, or using non-SVG elements "+"in an <svg> parent. Try inspecting the child nodes of the element "+"with React ID `%s`.",updatedIndex,parentID):invariant(updatedChild);initialChildren=initialChildren||{};initialChildren[parentID]=initialChildren[parentID]||[];initialChildren[parentID][updatedIndex]=updatedChild;updatedChildren=updatedChildren||[];updatedChildren.push(updatedChild)}}var renderedMarkup=Danger.dangerouslyRenderMarkup(markupList);if(updatedChildren){for(var j=0;j<updatedChildren.length;j++){updatedChildren[j].parentNode.removeChild(updatedChildren[j])}}for(var k=0;update=updates[k];k++){switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:updateTextContent(update.parentNode,update.textContent);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:break}}}};module.exports=DOMChildrenOperations},{"./Danger":97,"./ReactMultiChildUpdateTypes":155,"./getTextContentAccessor":219,"./invariant":224}],95:[function(require,module,exports){"use strict";var invariant=require("./invariant");function checkMask(value,bitmask){return(value&bitmask)===bitmask}var DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:32|16,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(domPropertyConfig){var Properties=domPropertyConfig.Properties||{};var DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{};var DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{};var DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};if(domPropertyConfig.isCustomAttribute){DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute)}for(var propName in Properties){"production"!=="production"?invariant(!DOMProperty.isStandardName.hasOwnProperty(propName),"injectDOMPropertyConfig(...): You're trying to inject DOM property "+"'%s' which has already been injected. You may be accidentally "+"injecting the same DOM property config twice, or you may be "+"injecting two configs that have conflicting property names.",propName):invariant(!DOMProperty.isStandardName.hasOwnProperty(propName));DOMProperty.isStandardName[propName]=true;var lowerCased=propName.toLowerCase();DOMProperty.getPossibleStandardName[lowerCased]=propName;if(DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];DOMProperty.getPossibleStandardName[attributeName]=propName;DOMProperty.getAttributeName[propName]=attributeName}else{DOMProperty.getAttributeName[propName]=lowerCased}DOMProperty.getPropertyName[propName]=DOMPropertyNames.hasOwnProperty(propName)?DOMPropertyNames[propName]:propName;if(DOMMutationMethods.hasOwnProperty(propName)){DOMProperty.getMutationMethod[propName]=DOMMutationMethods[propName]}else{DOMProperty.getMutationMethod[propName]=null}var propConfig=Properties[propName];DOMProperty.mustUseAttribute[propName]=checkMask(propConfig,DOMPropertyInjection.MUST_USE_ATTRIBUTE);DOMProperty.mustUseProperty[propName]=checkMask(propConfig,DOMPropertyInjection.MUST_USE_PROPERTY);DOMProperty.hasSideEffects[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_SIDE_EFFECTS);DOMProperty.hasBooleanValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_BOOLEAN_VALUE);DOMProperty.hasNumericValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_NUMERIC_VALUE);DOMProperty.hasPositiveNumericValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_POSITIVE_NUMERIC_VALUE);DOMProperty.hasOverloadedBooleanValue[propName]=checkMask(propConfig,DOMPropertyInjection.HAS_OVERLOADED_BOOLEAN_VALUE);"production"!=="production"?invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName],"DOMProperty: Cannot require using both attribute and property: %s",propName):invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName]);"production"!=="production"?invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName],"DOMProperty: Properties that have side effects must use property: %s",propName):invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName]);"production"!=="production"?invariant(!!DOMProperty.hasBooleanValue[propName]+!!DOMProperty.hasNumericValue[propName]+!!DOMProperty.hasOverloadedBooleanValue[propName]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or "+"numeric value, but not a combination: %s",propName):invariant(!!DOMProperty.hasBooleanValue[propName]+!!DOMProperty.hasNumericValue[propName]+!!DOMProperty.hasOverloadedBooleanValue[propName]<=1)}}};var defaultValueCache={};var DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName)){return true}}return false},getDefaultValueForProperty:function(nodeName,prop){var nodeDefaults=defaultValueCache[nodeName];var testElement;if(!nodeDefaults){defaultValueCache[nodeName]=nodeDefaults={}}if(!(prop in nodeDefaults)){testElement=document.createElement(nodeName);nodeDefaults[prop]=testElement[prop]}return nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty},{"./invariant":224}],96:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var escapeTextForBrowser=require("./escapeTextForBrowser");var memoizeStringOnly=require("./memoizeStringOnly");var warning=require("./warning");function shouldIgnoreValue(name,value){return value==null||DOMProperty.hasBooleanValue[name]&&!value||DOMProperty.hasNumericValue[name]&&isNaN(value)||DOMProperty.hasPositiveNumericValue[name]&&value<1||DOMProperty.hasOverloadedBooleanValue[name]&&value===false}var processAttributeNameAndPrefix=memoizeStringOnly(function(name){return escapeTextForBrowser(name)+'="'});if("production"!=="production"){var reactProps={children:true,dangerouslySetInnerHTML:true,key:true,ref:true};var warnedProperties={};var warnUnknownProperty=function(name){if(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name]){return}warnedProperties[name]=true;var lowerCasedName=name.toLowerCase();var standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null;"production"!=="production"?warning(standardName==null,"Unknown DOM property "+name+". Did you mean "+standardName+"?"):null}}var DOMPropertyOperations={createMarkupForID:function(id){return processAttributeNameAndPrefix(DOMProperty.ID_ATTRIBUTE_NAME)+escapeTextForBrowser(id)+'"'},createMarkupForProperty:function(name,value){if(DOMProperty.isStandardName.hasOwnProperty(name)&&DOMProperty.isStandardName[name]){if(shouldIgnoreValue(name,value)){return""}var attributeName=DOMProperty.getAttributeName[name];if(DOMProperty.hasBooleanValue[name]||DOMProperty.hasOverloadedBooleanValue[name]&&value===true){return escapeTextForBrowser(attributeName)}return processAttributeNameAndPrefix(attributeName)+escapeTextForBrowser(value)+'"'}else if(DOMProperty.isCustomAttribute(name)){if(value==null){return""}return processAttributeNameAndPrefix(name)+escapeTextForBrowser(value)+'"'}else if("production"!=="production"){warnUnknownProperty(name)}return null},setValueForProperty:function(node,name,value){if(DOMProperty.isStandardName.hasOwnProperty(name)&&DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod){mutationMethod(node,value)}else if(shouldIgnoreValue(name,value)){this.deleteValueForProperty(node,name)}else if(DOMProperty.mustUseAttribute[name]){node.setAttribute(DOMProperty.getAttributeName[name],""+value)}else{var propName=DOMProperty.getPropertyName[name];if(!DOMProperty.hasSideEffects[name]||""+node[propName]!==""+value){node[propName]=value}}}else if(DOMProperty.isCustomAttribute(name)){if(value==null){node.removeAttribute(name)}else{node.setAttribute(name,""+value)}}else if("production"!=="production"){warnUnknownProperty(name)}},deleteValueForProperty:function(node,name){if(DOMProperty.isStandardName.hasOwnProperty(name)&&DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod){mutationMethod(node,undefined)}else if(DOMProperty.mustUseAttribute[name]){node.removeAttribute(DOMProperty.getAttributeName[name])}else{var propName=DOMProperty.getPropertyName[name];var defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);if(!DOMProperty.hasSideEffects[name]||""+node[propName]!==defaultValue){node[propName]=defaultValue}}}else if(DOMProperty.isCustomAttribute(name)){node.removeAttribute(name)}else if("production"!=="production"){warnUnknownProperty(name)}}};module.exports=DOMPropertyOperations},{"./DOMProperty":95,"./escapeTextForBrowser":207,"./memoizeStringOnly":233,"./warning":244}],97:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var createNodesFromMarkup=require("./createNodesFromMarkup");var emptyFunction=require("./emptyFunction");var getMarkupWrap=require("./getMarkupWrap");var invariant=require("./invariant");var OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/;var RESULT_INDEX_ATTR="data-danger-index";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var Danger={dangerouslyRenderMarkup:function(markupList){"production"!=="production"?invariant(ExecutionEnvironment.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker "+"thread. Make sure `window` and `document` are available globally "+"before requiring React when unit testing or use "+"React.renderToString for server rendering."):invariant(ExecutionEnvironment.canUseDOM);var nodeName;var markupByNodeName={};for(var i=0;i<markupList.length;i++){"production"!=="production"?invariant(markupList[i],"dangerouslyRenderMarkup(...): Missing markup."):invariant(markupList[i]);nodeName=getNodeName(markupList[i]);nodeName=getMarkupWrap(nodeName)?nodeName:"*";markupByNodeName[nodeName]=markupByNodeName[nodeName]||[];markupByNodeName[nodeName][i]=markupList[i]}var resultList=[];var resultListAssignmentCount=0;for(nodeName in markupByNodeName){if(!markupByNodeName.hasOwnProperty(nodeName)){continue}var markupListByNodeName=markupByNodeName[nodeName];for(var resultIndex in markupListByNodeName){if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}}var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction);for(i=0;i<renderNodes.length;++i){var renderNode=renderNodes[i];if(renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)){resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR);renderNode.removeAttribute(RESULT_INDEX_ATTR);"production"!=="production"?invariant(!resultList.hasOwnProperty(resultIndex),"Danger: Assigning to an already-occupied result index."):invariant(!resultList.hasOwnProperty(resultIndex));resultList[resultIndex]=renderNode;resultListAssignmentCount+=1}else if("production"!=="production"){console.error("Danger: Discarding unexpected node:",renderNode)}}}"production"!=="production"?invariant(resultListAssignmentCount===resultList.length,"Danger: Did not assign to every index of resultList."):invariant(resultListAssignmentCount===resultList.length);"production"!=="production"?invariant(resultList.length===markupList.length,"Danger: Expected markup to render %s nodes, but rendered %s.",markupList.length,resultList.length):invariant(resultList.length===markupList.length);return resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){"production"!=="production"?invariant(ExecutionEnvironment.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a "+"worker thread. Make sure `window` and `document` are available "+"globally before requiring React when unit testing or use "+"React.renderToString for server rendering."):invariant(ExecutionEnvironment.canUseDOM);"production"!=="production"?invariant(markup,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):invariant(markup);"production"!=="production"?invariant(oldChild.tagName.toLowerCase()!=="html","dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the "+"<html> node. This is because browser quirks make this unreliable "+"and/or slow. If you want to render to the root you must use "+"server rendering. See renderComponentToString()."):invariant(oldChild.tagName.toLowerCase()!=="html");var newChild=createNodesFromMarkup(markup,emptyFunction)[0];oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger},{"./ExecutionEnvironment":106,"./createNodesFromMarkup":201,"./emptyFunction":205,"./getMarkupWrap":216,"./invariant":224}],98:[function(require,module,exports){"use strict";var keyOf=require("./keyOf");var DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({CompositionEventPlugin:null}),keyOf({BeforeInputEventPlugin:null}),keyOf({AnalyticsEventPlugin:null}),keyOf({MobileSafariClickEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"./keyOf":231}],99:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var ReactMount=require("./ReactMount");var keyOf=require("./keyOf");var topLevelTypes=EventConstants.topLevelTypes;var getFirstReactDOM=ReactMount.getFirstReactDOM;var eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}};var extractedEvents=[null,null];var EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement)){return null}if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver){return null}var win;if(topLevelTarget.window===topLevelTarget){win=topLevelTarget}else{var doc=topLevelTarget.ownerDocument;if(doc){win=doc.defaultView||doc.parentWindow}else{win=window}}var from,to;if(topLevelType===topLevelTypes.topMouseOut){from=topLevelTarget;to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement)||win}else{from=win;to=topLevelTarget}if(from===to){return null}var fromID=from?ReactMount.getID(from):"";var toID=to?ReactMount.getID(to):"";var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent);leave.type="mouseleave";leave.target=from;leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent);enter.type="mouseenter";enter.target=to;enter.relatedTarget=from;EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID);extractedEvents[0]=leave;extractedEvents[1]=enter;return extractedEvents}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":100,"./EventPropagators":105,"./ReactMount":153,"./SyntheticMouseEvent":187,"./keyOf":231}],100:[function(require,module,exports){"use strict";var keyMirror=require("./keyMirror");var PropagationPhases=keyMirror({bubbled:null,captured:null});var topLevelTypes=keyMirror({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null});var EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"./keyMirror":230}],101:[function(require,module,exports){var emptyFunction=require("./emptyFunction");var EventListener={listen:function(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,false);return{remove:function(){target.removeEventListener(eventType,callback,false)}}}else if(target.attachEvent){target.attachEvent("on"+eventType,callback);return{remove:function(){target.detachEvent("on"+eventType,callback)}}}},capture:function(target,eventType,callback){if(!target.addEventListener){if("production"!=="production"){console.error("Attempted to listen to events during the capture phase on a "+"browser that does not support the capture phase. Your application "+"will not receive some events.")}return{remove:emptyFunction}}else{target.addEventListener(eventType,callback,true);return{remove:function(){target.removeEventListener(eventType,callback,true)}}}},registerDefault:function(){}};module.exports=EventListener},{"./emptyFunction":205}],102:[function(require,module,exports){"use strict";var EventPluginRegistry=require("./EventPluginRegistry");var EventPluginUtils=require("./EventPluginUtils");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var invariant=require("./invariant");var listenerBank={};var eventQueue=null;var executeDispatchesAndRelease=function(event){if(event){var executeDispatch=EventPluginUtils.executeDispatch;var PluginModule=EventPluginRegistry.getPluginModuleForEvent(event);if(PluginModule&&PluginModule.executeDispatch){executeDispatch=PluginModule.executeDispatch}EventPluginUtils.executeDispatchesInOrder(event,executeDispatch);if(!event.isPersistent()){event.constructor.release(event)}}};var InstanceHandle=null;function validateInstanceHandle(){var invalid=!InstanceHandle||!InstanceHandle.traverseTwoPhase||!InstanceHandle.traverseEnterLeave;if(invalid){throw new Error("InstanceHandle not injected before use!")}}var EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle;if("production"!=="production"){validateInstanceHandle()}},getInstanceHandle:function(){if("production"!=="production"){validateInstanceHandle()}return InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){"production"!=="production"?invariant(!listener||typeof listener==="function","Expected %s listener to be a function, instead got type %s",registrationName,typeof listener):invariant(!listener||typeof listener==="function");var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){delete bankForRegistrationName[id]}},deleteAllListeners:function(id){for(var registrationName in listenerBank){delete listenerBank[registrationName][id]}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events;var plugins=EventPluginRegistry.plugins;for(var i=0,l=plugins.length;i<l;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);if(extractedEvents){events=accumulateInto(events,extractedEvents)}}}return events},enqueueEvents:function(events){if(events){eventQueue=accumulateInto(eventQueue,events)}},processEventQueue:function(){var processingEventQueue=eventQueue;eventQueue=null;forEachAccumulated(processingEventQueue,executeDispatchesAndRelease);"production"!=="production"?invariant(!eventQueue,"processEventQueue(): Additional events were enqueued while processing "+"an event queue. Support for this has not yet been implemented."):invariant(!eventQueue)},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub},{"./EventPluginRegistry":103,"./EventPluginUtils":104,"./accumulateInto":193,"./forEachAccumulated":210,"./invariant":224}],103:[function(require,module,exports){"use strict";var invariant=require("./invariant");var EventPluginOrder=null;var namesToPlugins={};function recomputePluginOrdering(){if(!EventPluginOrder){return}for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName];var pluginIndex=EventPluginOrder.indexOf(pluginName);"production"!=="production"?invariant(pluginIndex>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in "+"the plugin ordering, `%s`.",pluginName):invariant(pluginIndex>-1);if(EventPluginRegistry.plugins[pluginIndex]){continue}"production"!=="production"?invariant(PluginModule.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` "+"method, but `%s` does not.",pluginName):invariant(PluginModule.extractEvents);EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents){"production"!=="production"?invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",eventName,pluginName):invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName))}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){"production"!=="production"?invariant(!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName),"EventPluginHub: More than one plugin attempted to publish the same "+"event name, `%s`.",eventName):invariant(!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName));EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames){if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}}return true}else if(dispatchConfig.registrationName){publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName);return true}return false}function publishRegistrationName(registrationName,PluginModule,eventName){"production"!=="production"?invariant(!EventPluginRegistry.registrationNameModules[registrationName],"EventPluginHub: More than one plugin attempted to publish the same "+"registration name, `%s`.",registrationName):invariant(!EventPluginRegistry.registrationNameModules[registrationName]);EventPluginRegistry.registrationNameModules[registrationName]=PluginModule;EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){"production"!=="production"?invariant(!EventPluginOrder,"EventPluginRegistry: Cannot inject event plugin ordering more than "+"once. You are likely trying to load more than one copy of React."):invariant(!EventPluginOrder);EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder);recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=false;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){continue}var PluginModule=injectedNamesToPlugins[pluginName];if(!namesToPlugins.hasOwnProperty(pluginName)||namesToPlugins[pluginName]!==PluginModule){"production"!=="production"?invariant(!namesToPlugins[pluginName],"EventPluginRegistry: Cannot inject two different event plugins "+"using the same name, `%s`.",pluginName):invariant(!namesToPlugins[pluginName]);namesToPlugins[pluginName]=PluginModule;isOrderingDirty=true}}if(isOrderingDirty){recomputePluginOrdering()}},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName){return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null}for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){continue}var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule){return PluginModule}}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins){if(namesToPlugins.hasOwnProperty(pluginName)){delete namesToPlugins[pluginName]}}EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs){if(eventNameDispatchConfigs.hasOwnProperty(eventName)){delete eventNameDispatchConfigs[eventName]}}var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules){if(registrationNameModules.hasOwnProperty(registrationName)){delete registrationNameModules[registrationName]}}}};module.exports=EventPluginRegistry},{"./invariant":224}],104:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var invariant=require("./invariant");var injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount;if("production"!=="production"){"production"!=="production"?invariant(InjectedMount&&InjectedMount.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module "+"is missing getNode."):invariant(InjectedMount&&InjectedMount.getNode)}}};var topLevelTypes=EventConstants.topLevelTypes;function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}var validateEventDispatches;if("production"!=="production"){validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;var listenersIsArr=Array.isArray(dispatchListeners);var idsIsArr=Array.isArray(dispatchIDs);var IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0;var listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;"production"!=="production"?invariant(idsIsArr===listenersIsArr&&IDsLen===listenersLen,"EventPluginUtils: Invalid `event`."):invariant(idsIsArr===listenersIsArr&&IDsLen===listenersLen)}}function forEachEventDispatch(event,cb){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=="production"){validateEventDispatches(event)}if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){
if(event.isPropagationStopped()){break}cb(event,dispatchListeners[i],dispatchIDs[i])}}else if(dispatchListeners){cb(event,dispatchListeners,dispatchIDs)}}function executeDispatch(event,listener,domID){event.currentTarget=injection.Mount.getNode(domID);var returnValue=listener(event,domID);event.currentTarget=null;return returnValue}function executeDispatchesInOrder(event,executeDispatch){forEachEventDispatch(event,executeDispatch);event._dispatchListeners=null;event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=="production"){validateEventDispatches(event)}if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}if(dispatchListeners[i](event,dispatchIDs[i])){return dispatchIDs[i]}}}else if(dispatchListeners){if(dispatchListeners(event,dispatchIDs)){return dispatchIDs}}return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);event._dispatchIDs=null;event._dispatchListeners=null;return ret}function executeDirectDispatch(event){if("production"!=="production"){validateEventDispatches(event)}var dispatchListener=event._dispatchListeners;var dispatchID=event._dispatchIDs;"production"!=="production"?invariant(!Array.isArray(dispatchListener),"executeDirectDispatch(...): Invalid `event`."):invariant(!Array.isArray(dispatchListener));var res=dispatchListener?dispatchListener(event,dispatchID):null;event._dispatchListeners=null;event._dispatchIDs=null;return res}function hasDispatches(event){return!!event._dispatchListeners}var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatch:executeDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,injection:injection,useTouchEvents:false};module.exports=EventPluginUtils},{"./EventConstants":100,"./invariant":224}],105:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var PropagationPhases=EventConstants.PropagationPhases;var getListener=EventPluginHub.getListener;function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){if("production"!=="production"){if(!domID){throw new Error("Dispatching id must not be null")}}var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;var listener=listenerAtPhase(domID,event,phase);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,domID)}}function accumulateTwoPhaseDispatchesSingle(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName;var listener=getListener(id,registrationName);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,id)}}}function accumulateDirectDispatchesSingle(event){if(event&&event.dispatchConfig.registrationName){accumulateDispatches(event.dispatchMarker,null,event)}}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators},{"./EventConstants":100,"./EventPluginHub":102,"./accumulateInto":193,"./forEachAccumulated":210}],106:[function(require,module,exports){"use strict";var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],107:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ExecutionEnvironment=require("./ExecutionEnvironment");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY;var HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE;var HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS;var HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE;var HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;var HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var hasSVG;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,noValidate:HAS_BOOLEAN_VALUE,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,property:null},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=HTMLDOMPropertyConfig},{"./DOMProperty":95,"./ExecutionEnvironment":106}],108:[function(require,module,exports){"use strict";var ReactLink=require("./ReactLink");var ReactStateSetters=require("./ReactStateSetters");var LinkedStateMixin={linkState:function(key){return new ReactLink(this.state[key],ReactStateSetters.createStateKeySetter(this,key))}};module.exports=LinkedStateMixin},{"./ReactLink":151,"./ReactStateSetters":168}],109:[function(require,module,exports){"use strict";var ReactPropTypes=require("./ReactPropTypes");var invariant=require("./invariant");var hasReadOnlyValue={button:true,checkbox:true,image:true,hidden:true,radio:true,reset:true,submit:true};function _assertSingleLink(input){"production"!=="production"?invariant(input.props.checkedLink==null||input.props.valueLink==null,"Cannot provide a checkedLink and a valueLink. If you want to use "+"checkedLink, you probably don't want to use valueLink and vice versa."):invariant(input.props.checkedLink==null||input.props.valueLink==null)}function _assertValueLink(input){_assertSingleLink(input);"production"!=="production"?invariant(input.props.value==null&&input.props.onChange==null,"Cannot provide a valueLink and a value or onChange event. If you want "+"to use value or onChange, you probably don't want to use valueLink."):invariant(input.props.value==null&&input.props.onChange==null)}function _assertCheckedLink(input){_assertSingleLink(input);"production"!=="production"?invariant(input.props.checked==null&&input.props.onChange==null,"Cannot provide a checkedLink and a checked property or onChange event. "+"If you want to use checked or onChange, you probably don't want to "+"use checkedLink"):invariant(input.props.checked==null&&input.props.onChange==null)}function _handleLinkedValueChange(e){this.props.valueLink.requestChange(e.target.value)}function _handleLinkedCheckChange(e){this.props.checkedLink.requestChange(e.target.checked)}var LinkedValueUtils={Mixin:{propTypes:{value:function(props,propName,componentName){if(!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled){return}return new Error("You provided a `value` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultValue`. Otherwise, "+"set either `onChange` or `readOnly`.")},checked:function(props,propName,componentName){if(!props[propName]||props.onChange||props.readOnly||props.disabled){return}return new Error("You provided a `checked` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultChecked`. Otherwise, "+"set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func}},getValue:function(input){if(input.props.valueLink){_assertValueLink(input);return input.props.valueLink.value}return input.props.value},getChecked:function(input){if(input.props.checkedLink){_assertCheckedLink(input);return input.props.checkedLink.value}return input.props.checked},getOnChange:function(input){if(input.props.valueLink){_assertValueLink(input);return _handleLinkedValueChange}else if(input.props.checkedLink){_assertCheckedLink(input);return _handleLinkedCheckChange}return input.props.onChange}};module.exports=LinkedValueUtils},{"./ReactPropTypes":162,"./invariant":224}],110:[function(require,module,exports){"use strict";var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var invariant=require("./invariant");function remove(event){event.remove()}var LocalEventTrapMixin={trapBubbledEvent:function(topLevelType,handlerBaseName){"production"!=="production"?invariant(this.isMounted(),"Must be mounted to trap events"):invariant(this.isMounted());var listener=ReactBrowserEventEmitter.trapBubbledEvent(topLevelType,handlerBaseName,this.getDOMNode());this._localEventListeners=accumulateInto(this._localEventListeners,listener)},componentWillUnmount:function(){if(this._localEventListeners){forEachAccumulated(this._localEventListeners,remove)}}};module.exports=LocalEventTrapMixin},{"./ReactBrowserEventEmitter":116,"./accumulateInto":193,"./forEachAccumulated":210,"./invariant":224}],111:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var emptyFunction=require("./emptyFunction");var topLevelTypes=EventConstants.topLevelTypes;var MobileSafariClickEventPlugin={eventTypes:null,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topTouchStart){var target=nativeEvent.target;if(target&&!target.onclick){target.onclick=emptyFunction}}}};module.exports=MobileSafariClickEventPlugin},{"./EventConstants":100,"./emptyFunction":205}],112:[function(require,module,exports){function assign(target,sources){if(target==null){throw new TypeError("Object.assign target cannot be null or undefined")}var to=Object(target);var hasOwnProperty=Object.prototype.hasOwnProperty;for(var nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(nextSource==null){continue}var from=Object(nextSource);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}}return to}module.exports=assign},{}],113:[function(require,module,exports){"use strict";var invariant=require("./invariant");var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance}else{return new Klass(copyFieldsFrom)}};var twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance}else{return new Klass(a1,a2)}};var threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance}else{return new Klass(a1,a2,a3)}};var fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4,a5);return instance}else{return new Klass(a1,a2,a3,a4,a5)}};var standardReleaser=function(instance){var Klass=this;"production"!=="production"?invariant(instance instanceof Klass,"Trying to release an instance into a pool of a different type."):invariant(instance instanceof Klass);if(instance.destructor){instance.destructor()}if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance)}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE}NewKlass.release=standardReleaser;return NewKlass};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass},{"./invariant":224}],114:[function(require,module,exports){"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations");var EventPluginUtils=require("./EventPluginUtils");var ReactChildren=require("./ReactChildren");var ReactComponent=require("./ReactComponent");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactContext=require("./ReactContext");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactElementValidator=require("./ReactElementValidator");var ReactDOM=require("./ReactDOM");var ReactDOMComponent=require("./ReactDOMComponent");var ReactDefaultInjection=require("./ReactDefaultInjection");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactLegacyElement=require("./ReactLegacyElement");var ReactMount=require("./ReactMount");var ReactMultiChild=require("./ReactMultiChild");var ReactPerf=require("./ReactPerf");var ReactPropTypes=require("./ReactPropTypes");var ReactServerRendering=require("./ReactServerRendering");var ReactTextComponent=require("./ReactTextComponent");var assign=require("./Object.assign");var deprecated=require("./deprecated");var onlyChild=require("./onlyChild");ReactDefaultInjection.inject();var createElement=ReactElement.createElement;var createFactory=ReactElement.createFactory;if("production"!=="production"){createElement=ReactElementValidator.createElement;createFactory=ReactElementValidator.createFactory}createElement=ReactLegacyElement.wrapCreateElement(createElement);createFactory=ReactLegacyElement.wrapCreateFactory(createFactory);var render=ReactPerf.measure("React","render",ReactMount.render);var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,only:onlyChild},DOM:ReactDOM,PropTypes:ReactPropTypes,initializeTouchEvents:function(shouldUseTouch){EventPluginUtils.useTouchEvents=shouldUseTouch},createClass:ReactCompositeComponent.createClass,createElement:createElement,createFactory:createFactory,constructAndRenderComponent:ReactMount.constructAndRenderComponent,constructAndRenderComponentByID:ReactMount.constructAndRenderComponentByID,render:render,renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,unmountComponentAtNode:ReactMount.unmountComponentAtNode,isValidClass:ReactLegacyElement.isValidClass,isValidElement:ReactElement.isValidElement,withContext:ReactContext.withContext,__spread:assign,renderComponent:deprecated("React","renderComponent","render",this,render),renderComponentToString:deprecated("React","renderComponentToString","renderToString",this,ReactServerRendering.renderToString),renderComponentToStaticMarkup:deprecated("React","renderComponentToStaticMarkup","renderToStaticMarkup",this,ReactServerRendering.renderToStaticMarkup),isValidComponent:deprecated("React","isValidComponent","isValidElement",this,ReactElement.isValidElement)};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==="function"){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({Component:ReactComponent,CurrentOwner:ReactCurrentOwner,DOMComponent:ReactDOMComponent,DOMPropertyOperations:DOMPropertyOperations,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,MultiChild:ReactMultiChild,TextComponent:ReactTextComponent})}if("production"!=="production"){var ExecutionEnvironment=require("./ExecutionEnvironment");if(ExecutionEnvironment.canUseDOM&&window.top===window.self){if(navigator.userAgent.indexOf("Chrome")>-1){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"){console.debug("Download the React DevTools for a better development experience: "+"http://fb.me/react-devtools")}}var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var i=0;i<expectedFeatures.length;i++){if(!expectedFeatures[i]){console.error("One or more ES5 shim/shams expected by React are not available: "+"http://fb.me/react-warning-polyfills");break}}}}React.version="0.12.2";module.exports=React},{"./DOMPropertyOperations":96,"./EventPluginUtils":104,"./ExecutionEnvironment":106,"./Object.assign":112,"./ReactChildren":119,"./ReactComponent":120,"./ReactCompositeComponent":123,"./ReactContext":124,"./ReactCurrentOwner":125,"./ReactDOM":126,"./ReactDOMComponent":128,"./ReactDefaultInjection":138,"./ReactElement":141,"./ReactElementValidator":142,"./ReactInstanceHandles":149,"./ReactLegacyElement":150,"./ReactMount":153,"./ReactMultiChild":154,"./ReactPerf":158,"./ReactPropTypes":162,"./ReactServerRendering":166,"./ReactTextComponent":170,"./deprecated":204,"./onlyChild":235}],115:[function(require,module,exports){"use strict";var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactMount=require("./ReactMount");var invariant=require("./invariant");var ReactBrowserComponentMixin={getDOMNode:function(){"production"!=="production"?invariant(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."):invariant(this.isMounted());if(ReactEmptyComponent.isNullComponentID(this._rootNodeID)){return null}return ReactMount.getNode(this._rootNodeID)}};module.exports=ReactBrowserComponentMixin},{"./ReactEmptyComponent":143,"./ReactMount":153,"./invariant":224}],116:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPluginRegistry=require("./EventPluginRegistry");var ReactEventEmitterMixin=require("./ReactEventEmitterMixin");var ViewportMetrics=require("./ViewportMetrics");var assign=require("./Object.assign");var isEventSupported=require("./isEventSupported");var alreadyListeningTo={};var isMonitoringScrollValue=false;var reactTopListenersCounter=0;var topEventMapping={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"};var topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2);function getListeningForDocument(mountAt){if(!Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)){mountAt[topListenersIDKey]=reactTopListenersCounter++;alreadyListeningTo[mountAt[topListenersIDKey]]={}}return alreadyListeningTo[mountAt[topListenersIDKey]]}var ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel);ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){if(ReactBrowserEventEmitter.ReactEventListener){ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)}},isEnabled:function(){return!!(ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){var mountAt=contentDocumentHandle;var isListening=getListeningForDocument(mountAt);var dependencies=EventPluginRegistry.registrationNameDependencies[registrationName];var topLevelTypes=EventConstants.topLevelTypes;for(var i=0,l=dependencies.length;i<l;i++){var dependency=dependencies[i];if(!(isListening.hasOwnProperty(dependency)&&isListening[dependency])){if(dependency===topLevelTypes.topWheel){if(isEventSupported("wheel")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt)}else if(isEventSupported("mousewheel")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt)}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt)}}else if(dependency===topLevelTypes.topScroll){if(isEventSupported("scroll",true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt)}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE)}}else if(dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur){if(isEventSupported("focus",true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt);ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)}else if(isEventSupported("focusin")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt);ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)}isListening[topLevelTypes.topBlur]=true;isListening[topLevelTypes.topFocus]=true}else if(topEventMapping.hasOwnProperty(dependency)){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt)}isListening[dependency]=true}}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);isMonitoringScrollValue=true}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});module.exports=ReactBrowserEventEmitter},{"./EventConstants":100,"./EventPluginHub":102,"./EventPluginRegistry":103,"./Object.assign":112,"./ReactEventEmitterMixin":145,"./ViewportMetrics":192,"./isEventSupported":225}],117:[function(require,module,exports){"use strict";var React=require("./React");var assign=require("./Object.assign");var ReactTransitionGroup=React.createFactory(require("./ReactTransitionGroup"));var ReactCSSTransitionGroupChild=React.createFactory(require("./ReactCSSTransitionGroupChild"));var ReactCSSTransitionGroup=React.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:React.PropTypes.string.isRequired,transitionEnter:React.PropTypes.bool,transitionLeave:React.PropTypes.bool},getDefaultProps:function(){return{transitionEnter:true,transitionLeave:true}},_wrapChild:function(child){return ReactCSSTransitionGroupChild({name:this.props.transitionName,enter:this.props.transitionEnter,leave:this.props.transitionLeave},child)},render:function(){return ReactTransitionGroup(assign({},this.props,{childFactory:this._wrapChild}))}});module.exports=ReactCSSTransitionGroup},{"./Object.assign":112,"./React":114,"./ReactCSSTransitionGroupChild":118,"./ReactTransitionGroup":173}],118:[function(require,module,exports){"use strict";var React=require("./React");var CSSCore=require("./CSSCore");var ReactTransitionEvents=require("./ReactTransitionEvents");var onlyChild=require("./onlyChild");var TICK=17;var NO_EVENT_TIMEOUT=5e3;var noEventListener=null;if("production"!=="production"){noEventListener=function(){console.warn("transition(): tried to perform an animation without "+"an animationend or transitionend event after timeout ("+NO_EVENT_TIMEOUT+"ms). You should either disable this "+"transition in JS or add a CSS animation/transition.")}}var ReactCSSTransitionGroupChild=React.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(animationType,finishCallback){var node=this.getDOMNode();var className=this.props.name+"-"+animationType;var activeClassName=className+"-active";var noEventTimeout=null;var endListener=function(e){if(e&&e.target!==node){return}if("production"!=="production"){clearTimeout(noEventTimeout)}CSSCore.removeClass(node,className);CSSCore.removeClass(node,activeClassName);ReactTransitionEvents.removeEndEventListener(node,endListener);finishCallback&&finishCallback()};ReactTransitionEvents.addEndEventListener(node,endListener);CSSCore.addClass(node,className);this.queueClass(activeClassName);if("production"!=="production"){noEventTimeout=setTimeout(noEventListener,NO_EVENT_TIMEOUT)}},queueClass:function(className){this.classNameQueue.push(className);if(!this.timeout){this.timeout=setTimeout(this.flushClassNameQueue,TICK)}},flushClassNameQueue:function(){if(this.isMounted()){this.classNameQueue.forEach(CSSCore.addClass.bind(CSSCore,this.getDOMNode()))}this.classNameQueue.length=0;this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){if(this.timeout){clearTimeout(this.timeout)}},componentWillEnter:function(done){if(this.props.enter){this.transition("enter",done)}else{done()}},componentWillLeave:function(done){if(this.props.leave){this.transition("leave",done)}else{done()}},render:function(){return onlyChild(this.props.children)}});module.exports=ReactCSSTransitionGroupChild},{"./CSSCore":87,"./React":114,"./ReactTransitionEvents":172,"./onlyChild":235}],119:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var traverseAllChildren=require("./traverseAllChildren");var warning=require("./warning");var twoArgumentPooler=PooledClass.twoArgumentPooler;var threeArgumentPooler=PooledClass.threeArgumentPooler;function ForEachBookKeeping(forEachFunction,forEachContext){this.forEachFunction=forEachFunction;this.forEachContext=forEachContext}PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler);function forEachSingleChild(traverseContext,child,name,i){var forEachBookKeeping=traverseContext;forEachBookKeeping.forEachFunction.call(forEachBookKeeping.forEachContext,child,i)}function forEachChildren(children,forEachFunc,forEachContext){if(children==null){return children}var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext);ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,mapFunction,mapContext){this.mapResult=mapResult;this.mapFunction=mapFunction;this.mapContext=mapContext}PooledClass.addPoolingTo(MapBookKeeping,threeArgumentPooler);function mapSingleChildIntoContext(traverseContext,child,name,i){var mapBookKeeping=traverseContext;var mapResult=mapBookKeeping.mapResult;var keyUnique=!mapResult.hasOwnProperty(name);"production"!=="production"?warning(keyUnique,"ReactChildren.map(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.",name):null;if(keyUnique){var mappedChild=mapBookKeeping.mapFunction.call(mapBookKeeping.mapContext,child,i);mapResult[name]=mappedChild}}function mapChildren(children,func,context){if(children==null){return children}var mapResult={};var traverseContext=MapBookKeeping.getPooled(mapResult,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);MapBookKeeping.release(traverseContext);return mapResult}function forEachSingleChildDummy(traverseContext,child,name,i){return null}function countChildren(children,context){
return traverseAllChildren(children,forEachSingleChildDummy,null)}var ReactChildren={forEach:forEachChildren,map:mapChildren,count:countChildren};module.exports=ReactChildren},{"./PooledClass":113,"./traverseAllChildren":242,"./warning":244}],120:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactOwner=require("./ReactOwner");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var invariant=require("./invariant");var keyMirror=require("./keyMirror");var ComponentLifeCycle=keyMirror({MOUNTED:null,UNMOUNTED:null});var injected=false;var unmountIDFromEnvironment=null;var mountImageIntoNode=null;var ReactComponent={injection:{injectEnvironment:function(ReactComponentEnvironment){"production"!=="production"?invariant(!injected,"ReactComponent: injectEnvironment() can only be called once."):invariant(!injected);mountImageIntoNode=ReactComponentEnvironment.mountImageIntoNode;unmountIDFromEnvironment=ReactComponentEnvironment.unmountIDFromEnvironment;ReactComponent.BackendIDOperations=ReactComponentEnvironment.BackendIDOperations;injected=true}},LifeCycle:ComponentLifeCycle,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===ComponentLifeCycle.MOUNTED},setProps:function(partialProps,callback){var element=this._pendingElement||this._currentElement;this.replaceProps(assign({},element.props,partialProps),callback)},replaceProps:function(props,callback){"production"!=="production"?invariant(this.isMounted(),"replaceProps(...): Can only update a mounted component."):invariant(this.isMounted());"production"!=="production"?invariant(this._mountDepth===0,"replaceProps(...): You called `setProps` or `replaceProps` on a "+"component with a parent. This is an anti-pattern since props will "+"get reactively updated when rendered. Instead, change the owner's "+"`render` method to pass the correct value as props to the component "+"where it is created."):invariant(this._mountDepth===0);this._pendingElement=ReactElement.cloneAndReplaceProps(this._pendingElement||this._currentElement,props);ReactUpdates.enqueueUpdate(this,callback)},_setPropsInternal:function(partialProps,callback){var element=this._pendingElement||this._currentElement;this._pendingElement=ReactElement.cloneAndReplaceProps(element,assign({},element.props,partialProps));ReactUpdates.enqueueUpdate(this,callback)},construct:function(element){this.props=element.props;this._owner=element._owner;this._lifeCycleState=ComponentLifeCycle.UNMOUNTED;this._pendingCallbacks=null;this._currentElement=element;this._pendingElement=null},mountComponent:function(rootID,transaction,mountDepth){"production"!=="production"?invariant(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. "+"Make sure to avoid storing components between renders or reusing a "+"single component instance in multiple places.",rootID):invariant(!this.isMounted());var ref=this._currentElement.ref;if(ref!=null){var owner=this._currentElement._owner;ReactOwner.addComponentAsRefTo(this,ref,owner)}this._rootNodeID=rootID;this._lifeCycleState=ComponentLifeCycle.MOUNTED;this._mountDepth=mountDepth},unmountComponent:function(){"production"!=="production"?invariant(this.isMounted(),"unmountComponent(): Can only unmount a mounted component."):invariant(this.isMounted());var ref=this._currentElement.ref;if(ref!=null){ReactOwner.removeComponentAsRefFrom(this,ref,this._owner)}unmountIDFromEnvironment(this._rootNodeID);this._rootNodeID=null;this._lifeCycleState=ComponentLifeCycle.UNMOUNTED},receiveComponent:function(nextElement,transaction){"production"!=="production"?invariant(this.isMounted(),"receiveComponent(...): Can only update a mounted component."):invariant(this.isMounted());this._pendingElement=nextElement;this.performUpdateIfNecessary(transaction)},performUpdateIfNecessary:function(transaction){if(this._pendingElement==null){return}var prevElement=this._currentElement;var nextElement=this._pendingElement;this._currentElement=nextElement;this.props=nextElement.props;this._owner=nextElement._owner;this._pendingElement=null;this.updateComponent(transaction,prevElement)},updateComponent:function(transaction,prevElement){var nextElement=this._currentElement;if(nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref){if(prevElement.ref!=null){ReactOwner.removeComponentAsRefFrom(this,prevElement.ref,prevElement._owner)}if(nextElement.ref!=null){ReactOwner.addComponentAsRefTo(this,nextElement.ref,nextElement._owner)}}},mountComponentIntoNode:function(rootID,container,shouldReuseMarkup){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled();transaction.perform(this._mountComponentIntoNode,this,rootID,container,transaction,shouldReuseMarkup);ReactUpdates.ReactReconcileTransaction.release(transaction)},_mountComponentIntoNode:function(rootID,container,transaction,shouldReuseMarkup){var markup=this.mountComponent(rootID,transaction,0);mountImageIntoNode(markup,container,shouldReuseMarkup)},isOwnedBy:function(owner){return this._owner===owner},getSiblingByRef:function(ref){var owner=this._owner;if(!owner||!owner.refs){return null}return owner.refs[ref]}}};module.exports=ReactComponent},{"./Object.assign":112,"./ReactElement":141,"./ReactOwner":157,"./ReactUpdates":174,"./invariant":224,"./keyMirror":230}],121:[function(require,module,exports){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations");var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var ReactReconcileTransaction=require("./ReactReconcileTransaction");var getReactRootElementInContainer=require("./getReactRootElementInContainer");var invariant=require("./invariant");var setInnerHTML=require("./setInnerHTML");var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var ReactComponentBrowserEnvironment={ReactReconcileTransaction:ReactReconcileTransaction,BackendIDOperations:ReactDOMIDOperations,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)},mountImageIntoNode:ReactPerf.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(markup,container,shouldReuseMarkup){"production"!=="production"?invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE),"mountComponentIntoNode(...): Target container is not valid."):invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE));if(shouldReuseMarkup){if(ReactMarkupChecksum.canReuseMarkup(markup,getReactRootElementInContainer(container))){return}else{"production"!=="production"?invariant(container.nodeType!==DOC_NODE_TYPE,"You're trying to render a component to the document using "+"server rendering but the checksum was invalid. This usually "+"means you rendered a different component type or props on "+"the client from the one on the server, or your render() "+"methods are impure. React cannot handle this case due to "+"cross-browser quirks by rendering at the document root. You "+"should look for environment dependent code in your components "+"and ensure the props are the same client and server side."):invariant(container.nodeType!==DOC_NODE_TYPE);if("production"!=="production"){console.warn("React attempted to use reuse markup in a container but the "+"checksum was invalid. This generally means that you are "+"using server rendering and the markup generated on the "+"server was not what the client was expecting. React injected "+"new markup to compensate which works but you have lost many "+"of the benefits of server rendering. Instead, figure out "+"why the markup being generated is different on the client "+"or server.")}}}"production"!=="production"?invariant(container.nodeType!==DOC_NODE_TYPE,"You're trying to render a component to the document but "+"you didn't use server rendering. We can't do this "+"without using server rendering due to cross-browser quirks. "+"See renderComponentToString() for server rendering."):invariant(container.nodeType!==DOC_NODE_TYPE);setInnerHTML(container,markup)})};module.exports=ReactComponentBrowserEnvironment},{"./ReactDOMIDOperations":130,"./ReactMarkupChecksum":152,"./ReactMount":153,"./ReactPerf":158,"./ReactReconcileTransaction":164,"./getReactRootElementInContainer":218,"./invariant":224,"./setInnerHTML":238}],122:[function(require,module,exports){"use strict";var shallowEqual=require("./shallowEqual");var ReactComponentWithPureRenderMixin={shouldComponentUpdate:function(nextProps,nextState){return!shallowEqual(this.props,nextProps)||!shallowEqual(this.state,nextState)}};module.exports=ReactComponentWithPureRenderMixin},{"./shallowEqual":239}],123:[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactContext=require("./ReactContext");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactElementValidator=require("./ReactElementValidator");var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactErrorUtils=require("./ReactErrorUtils");var ReactLegacyElement=require("./ReactLegacyElement");var ReactOwner=require("./ReactOwner");var ReactPerf=require("./ReactPerf");var ReactPropTransferer=require("./ReactPropTransferer");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var instantiateReactComponent=require("./instantiateReactComponent");var invariant=require("./invariant");var keyMirror=require("./keyMirror");var keyOf=require("./keyOf");var monitorCodeUse=require("./monitorCodeUse");var mapObject=require("./mapObject");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var warning=require("./warning");var MIXINS_KEY=keyOf({mixins:null});var SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var injectedMixins=[];var ReactCompositeComponentInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i])}}},childContextTypes:function(Constructor,childContextTypes){validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext);Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context);Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){if(Constructor.getDefaultProps){Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps)}else{Constructor.getDefaultProps=getDefaultProps}},propTypes:function(Constructor,propTypes){validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop);Constructor.propTypes=assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)}};function getDeclarationErrorAddendum(component){var owner=component._owner||null;if(owner&&owner.constructor&&owner.constructor.displayName){return" Check the render method of `"+owner.constructor.displayName+"`."}return""}function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef){if(typeDef.hasOwnProperty(propName)){"production"!=="production"?invariant(typeof typeDef[propName]=="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",Constructor.displayName||"ReactCompositeComponent",ReactPropTypeLocationNames[location],propName):invariant(typeof typeDef[propName]=="function")}}}function validateMethodOverride(proto,name){var specPolicy=ReactCompositeComponentInterface.hasOwnProperty(name)?ReactCompositeComponentInterface[name]:null;if(ReactCompositeComponentMixin.hasOwnProperty(name)){"production"!=="production"?invariant(specPolicy===SpecPolicy.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override "+"`%s` from your class specification. Ensure that your method names "+"do not overlap with React methods.",name):invariant(specPolicy===SpecPolicy.OVERRIDE_BASE)}if(proto.hasOwnProperty(name)){"production"!=="production"?invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define "+"`%s` on your component more than once. This conflict may be due "+"to a mixin.",name):invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED)}}function validateLifeCycleOnReplaceState(instance){var compositeLifeCycleState=instance._compositeLifeCycleState;"production"!=="production"?invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."):invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING);"production"!=="production"?invariant(ReactCurrentOwner.current==null,"replaceState(...): Cannot update during an existing state transition "+"(such as within `render`). Render methods should be a pure function "+"of props and state."):invariant(ReactCurrentOwner.current==null);"production"!=="production"?invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This "+"usually means you called setState() on an unmounted component."):invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING)}function mixSpecIntoComponent(Constructor,spec){if(!spec){return}"production"!=="production"?invariant(!ReactLegacyElement.isValidFactory(spec),"ReactCompositeComponent: You're attempting to "+"use a component class as a mixin. Instead, just use a regular object."):invariant(!ReactLegacyElement.isValidFactory(spec));"production"!=="production"?invariant(!ReactElement.isValidElement(spec),"ReactCompositeComponent: You're attempting to "+"use a component as a mixin. Instead, just use a regular object."):invariant(!ReactElement.isValidElement(spec));var proto=Constructor.prototype;if(spec.hasOwnProperty(MIXINS_KEY)){RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins)}for(var name in spec){if(!spec.hasOwnProperty(name)){continue}if(name===MIXINS_KEY){continue}var property=spec[name];validateMethodOverride(proto,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property)}else{var isCompositeComponentMethod=ReactCompositeComponentInterface.hasOwnProperty(name);var isAlreadyDefined=proto.hasOwnProperty(name);var markedDontBind=property&&property.__reactDontBind;var isFunction=typeof property==="function";var shouldAutoBind=isFunction&&!isCompositeComponentMethod&&!isAlreadyDefined&&!markedDontBind;if(shouldAutoBind){if(!proto.__reactAutoBindMap){proto.__reactAutoBindMap={}}proto.__reactAutoBindMap[name]=property;proto[name]=property}else{if(isAlreadyDefined){var specPolicy=ReactCompositeComponentInterface[name];"production"!=="production"?invariant(isCompositeComponentMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s "+"when mixing in component specs.",specPolicy,name):invariant(isCompositeComponentMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY));if(specPolicy===SpecPolicy.DEFINE_MANY_MERGED){proto[name]=createMergedResultFunction(proto[name],property)}else if(specPolicy===SpecPolicy.DEFINE_MANY){proto[name]=createChainedFunction(proto[name],property)}}else{proto[name]=property;if("production"!=="production"){if(typeof property==="function"&&spec.displayName){proto[name].displayName=spec.displayName+"_"+name}}}}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(!statics){return}for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name)){continue}var isReserved=name in RESERVED_SPEC_KEYS;"production"!=="production"?invariant(!isReserved,"ReactCompositeComponent: You are attempting to define a reserved "+'property, `%s`, that shouldn\'t be on the "statics" key. Define it '+"as an instance property instead; it will still be accessible on the "+"constructor.",name):invariant(!isReserved);var isInherited=name in Constructor;"production"!=="production"?invariant(!isInherited,"ReactCompositeComponent: You are attempting to define "+"`%s` on your component more than once. This conflict may be "+"due to a mixin.",name):invariant(!isInherited);Constructor[name]=property}}function mergeObjectsWithNoDuplicateKeys(one,two){"production"!=="production"?invariant(one&&two&&typeof one==="object"&&typeof two==="object","mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"):invariant(one&&two&&typeof one==="object"&&typeof two==="object");mapObject(two,function(value,key){"production"!=="production"?invariant(one[key]===undefined,"mergeObjectsWithNoDuplicateKeys(): "+"Tried to merge two objects with the same key: `%s`. This conflict "+"may be due to a mixin; in particular, this may be caused by two "+"getInitialState() or getDefaultProps() methods returning objects "+"with clashing keys.",key):invariant(one[key]===undefined);one[key]=value});return one}function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments);var b=two.apply(this,arguments);if(a==null){return b}else if(b==null){return a}return mergeObjectsWithNoDuplicateKeys(a,b)}}function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments)}}var CompositeLifeCycle=keyMirror({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null});var ReactCompositeComponentMixin={construct:function(element){ReactComponent.Mixin.construct.apply(this,arguments);ReactOwner.Mixin.construct.apply(this,arguments);this.state=null;this._pendingState=null;this.context=null;this._compositeLifeCycleState=null},isMounted:function(){return ReactComponent.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==CompositeLifeCycle.MOUNTING},mountComponent:ReactPerf.measure("ReactCompositeComponent","mountComponent",function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);this._compositeLifeCycleState=CompositeLifeCycle.MOUNTING;if(this.__reactAutoBindMap){this._bindAutoBindMethods()}this.context=this._processContext(this._currentElement._context);this.props=this._processProps(this.props);this.state=this.getInitialState?this.getInitialState():null;"production"!=="production"?invariant(typeof this.state==="object"&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"):invariant(typeof this.state==="object"&&!Array.isArray(this.state));this._pendingState=null;this._pendingForceUpdate=false;if(this.componentWillMount){this.componentWillMount();if(this._pendingState){this.state=this._pendingState;this._pendingState=null}}this._renderedComponent=instantiateReactComponent(this._renderValidatedComponent(),this._currentElement.type);this._compositeLifeCycleState=null;var markup=this._renderedComponent.mountComponent(rootID,transaction,mountDepth+1);if(this.componentDidMount){transaction.getReactMountReady().enqueue(this.componentDidMount,this)}return markup}),unmountComponent:function(){this._compositeLifeCycleState=CompositeLifeCycle.UNMOUNTING;if(this.componentWillUnmount){this.componentWillUnmount()}this._compositeLifeCycleState=null;this._renderedComponent.unmountComponent();this._renderedComponent=null;ReactComponent.Mixin.unmountComponent.call(this)},setState:function(partialState,callback){"production"!=="production"?invariant(typeof partialState==="object"||partialState==null,"setState(...): takes an object of state variables to update."):invariant(typeof partialState==="object"||partialState==null);if("production"!=="production"){"production"!=="production"?warning(partialState!=null,"setState(...): You passed an undefined or null state object; "+"instead, use forceUpdate()."):null}this.replaceState(assign({},this._pendingState||this.state,partialState),callback)},replaceState:function(completeState,callback){validateLifeCycleOnReplaceState(this);this._pendingState=completeState;if(this._compositeLifeCycleState!==CompositeLifeCycle.MOUNTING){ReactUpdates.enqueueUpdate(this,callback)}},_processContext:function(context){var maskedContext=null;var contextTypes=this.constructor.contextTypes;if(contextTypes){maskedContext={};for(var contextName in contextTypes){maskedContext[contextName]=context[contextName]}if("production"!=="production"){this._checkPropTypes(contextTypes,maskedContext,ReactPropTypeLocations.context)}}return maskedContext},_processChildContext:function(currentContext){var childContext=this.getChildContext&&this.getChildContext();var displayName=this.constructor.displayName||"ReactCompositeComponent";if(childContext){"production"!=="production"?invariant(typeof this.constructor.childContextTypes==="object","%s.getChildContext(): childContextTypes must be defined in order to "+"use getChildContext().",displayName):invariant(typeof this.constructor.childContextTypes==="object");if("production"!=="production"){this._checkPropTypes(this.constructor.childContextTypes,childContext,ReactPropTypeLocations.childContext)}for(var name in childContext){"production"!=="production"?invariant(name in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',displayName,name):invariant(name in this.constructor.childContextTypes)}return assign({},currentContext,childContext)}return currentContext},_processProps:function(newProps){if("production"!=="production"){var propTypes=this.constructor.propTypes;if(propTypes){this._checkPropTypes(propTypes,newProps,ReactPropTypeLocations.prop)}}return newProps},_checkPropTypes:function(propTypes,props,location){var componentName=this.constructor.displayName;for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error=propTypes[propName](props,propName,componentName,location);if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);"production"!=="production"?warning(false,error.message+addendum):null}}}},performUpdateIfNecessary:function(transaction){var compositeLifeCycleState=this._compositeLifeCycleState;if(compositeLifeCycleState===CompositeLifeCycle.MOUNTING||compositeLifeCycleState===CompositeLifeCycle.RECEIVING_PROPS){return}if(this._pendingElement==null&&this._pendingState==null&&!this._pendingForceUpdate){return}var nextContext=this.context;var nextProps=this.props;var nextElement=this._currentElement;if(this._pendingElement!=null){nextElement=this._pendingElement;nextContext=this._processContext(nextElement._context);nextProps=this._processProps(nextElement.props);this._pendingElement=null;this._compositeLifeCycleState=CompositeLifeCycle.RECEIVING_PROPS;if(this.componentWillReceiveProps){this.componentWillReceiveProps(nextProps,nextContext)}}this._compositeLifeCycleState=null;var nextState=this._pendingState||this.state;this._pendingState=null;var shouldUpdate=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(nextProps,nextState,nextContext);if("production"!=="production"){if(typeof shouldUpdate==="undefined"){console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a "+"boolean value. Make sure to return true or false.")}}if(shouldUpdate){this._pendingForceUpdate=false;this._performComponentUpdate(nextElement,nextProps,nextState,nextContext,transaction)}else{this._currentElement=nextElement;this.props=nextProps;this.state=nextState;this.context=nextContext;this._owner=nextElement._owner}},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction){var prevElement=this._currentElement;var prevProps=this.props;var prevState=this.state;var prevContext=this.context;if(this.componentWillUpdate){this.componentWillUpdate(nextProps,nextState,nextContext)}this._currentElement=nextElement;this.props=nextProps;this.state=nextState;this.context=nextContext;this._owner=nextElement._owner;this.updateComponent(transaction,prevElement);if(this.componentDidUpdate){transaction.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,prevProps,prevState,prevContext),this)}},receiveComponent:function(nextElement,transaction){if(nextElement===this._currentElement&&nextElement._owner!=null){return}ReactComponent.Mixin.receiveComponent.call(this,nextElement,transaction)},updateComponent:ReactPerf.measure("ReactCompositeComponent","updateComponent",function(transaction,prevParentElement){ReactComponent.Mixin.updateComponent.call(this,transaction,prevParentElement);var prevComponentInstance=this._renderedComponent;var prevElement=prevComponentInstance._currentElement;var nextElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevElement,nextElement)){prevComponentInstance.receiveComponent(nextElement,transaction)}else{var thisID=this._rootNodeID;var prevComponentID=prevComponentInstance._rootNodeID;prevComponentInstance.unmountComponent();this._renderedComponent=instantiateReactComponent(nextElement,this._currentElement.type);var nextMarkup=this._renderedComponent.mountComponent(thisID,transaction,this._mountDepth+1);ReactComponent.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(prevComponentID,nextMarkup)}}),forceUpdate:function(callback){var compositeLifeCycleState=this._compositeLifeCycleState;"production"!=="production"?invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting "+"components."):invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING);"production"!=="production"?invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING&&ReactCurrentOwner.current==null,"forceUpdate(...): Cannot force an update while unmounting component "+"or within a `render` function."):invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING&&ReactCurrentOwner.current==null);this._pendingForceUpdate=true;ReactUpdates.enqueueUpdate(this,callback)},_renderValidatedComponent:ReactPerf.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var renderedComponent;var previousContext=ReactContext.current;ReactContext.current=this._processChildContext(this._currentElement._context);ReactCurrentOwner.current=this;try{renderedComponent=this.render();if(renderedComponent===null||renderedComponent===false){renderedComponent=ReactEmptyComponent.getEmptyComponent();ReactEmptyComponent.registerNullComponentID(this._rootNodeID)}else{ReactEmptyComponent.deregisterNullComponentID(this._rootNodeID)}}finally{ReactContext.current=previousContext;ReactCurrentOwner.current=null}"production"!=="production"?invariant(ReactElement.isValidElement(renderedComponent),"%s.render(): A valid ReactComponent must be returned. You may have "+"returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"):invariant(ReactElement.isValidElement(renderedComponent));return renderedComponent}),_bindAutoBindMethods:function(){for(var autoBindKey in this.__reactAutoBindMap){if(!this.__reactAutoBindMap.hasOwnProperty(autoBindKey)){continue}var method=this.__reactAutoBindMap[autoBindKey];this[autoBindKey]=this._bindAutoBindMethod(ReactErrorUtils.guard(method,this.constructor.displayName+"."+autoBindKey))}},_bindAutoBindMethod:function(method){var component=this;var boundMethod=method.bind(component);if("production"!=="production"){boundMethod.__reactBoundContext=component;boundMethod.__reactBoundMethod=method;boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName;var _bind=boundMethod.bind;boundMethod.bind=function(newThis){for(var args=[],$__0=1,$__1=arguments.length;$__0<$__1;$__0++)args.push(arguments[$__0]);if(newThis!==component&&newThis!==null){monitorCodeUse("react_bind_warning",{component:componentName});console.warn("bind(): React component methods may only be bound to the "+"component instance. See "+componentName)}else if(!args.length){monitorCodeUse("react_bind_warning",{component:componentName});console.warn("bind(): You are binding a component method to the component. "+"React does this for you automatically in a high-performance "+"way, so you can safely remove this call. See "+componentName);return boundMethod}var reboundMethod=_bind.apply(boundMethod,arguments);reboundMethod.__reactBoundContext=component;reboundMethod.__reactBoundMethod=method;reboundMethod.__reactBoundArguments=args;return reboundMethod}}return boundMethod}};var ReactCompositeComponentBase=function(){};assign(ReactCompositeComponentBase.prototype,ReactComponent.Mixin,ReactOwner.Mixin,ReactPropTransferer.Mixin,ReactCompositeComponentMixin);var ReactCompositeComponent={LifeCycle:CompositeLifeCycle,Base:ReactCompositeComponentBase,createClass:function(spec){var Constructor=function(props){};Constructor.prototype=new ReactCompositeComponentBase;Constructor.prototype.constructor=Constructor;injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor));mixSpecIntoComponent(Constructor,spec);if(Constructor.getDefaultProps){Constructor.defaultProps=Constructor.getDefaultProps()}"production"!=="production"?invariant(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method."):invariant(Constructor.prototype.render);if("production"!=="production"){if(Constructor.prototype.componentShouldUpdate){monitorCodeUse("react_component_should_update_warning",{component:spec.displayName});console.warn((spec.displayName||"A component")+" has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.")}}for(var methodName in ReactCompositeComponentInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null}}if("production"!=="production"){return ReactLegacyElement.wrapFactory(ReactElementValidator.createFactory(Constructor))}return ReactLegacyElement.wrapFactory(ReactElement.createFactory(Constructor))},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactCompositeComponent},{"./Object.assign":112,"./ReactComponent":120,"./ReactContext":124,"./ReactCurrentOwner":125,"./ReactElement":141,"./ReactElementValidator":142,"./ReactEmptyComponent":143,"./ReactErrorUtils":144,"./ReactLegacyElement":150,"./ReactOwner":157,"./ReactPerf":158,"./ReactPropTransferer":159,"./ReactPropTypeLocationNames":160,"./ReactPropTypeLocations":161,"./ReactUpdates":174,"./instantiateReactComponent":223,"./invariant":224,"./keyMirror":230,"./keyOf":231,"./mapObject":232,"./monitorCodeUse":234,"./shouldUpdateReactComponent":240,"./warning":244}],124:[function(require,module,exports){"use strict";var assign=require("./Object.assign");var ReactContext={
current:{},withContext:function(newContext,scopedCallback){var result;var previousContext=ReactContext.current;ReactContext.current=assign({},previousContext,newContext);try{result=scopedCallback()}finally{ReactContext.current=previousContext}return result}};module.exports=ReactContext},{"./Object.assign":112}],125:[function(require,module,exports){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],126:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactElementValidator=require("./ReactElementValidator");var ReactLegacyElement=require("./ReactLegacyElement");var mapObject=require("./mapObject");function createDOMFactory(tag){if("production"!=="production"){return ReactLegacyElement.markNonLegacyFactory(ReactElementValidator.createFactory(tag))}return ReactLegacyElement.markNonLegacyFactory(ReactElement.createFactory(tag))}var ReactDOM=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOM},{"./ReactElement":141,"./ReactElementValidator":142,"./ReactLegacyElement":150,"./mapObject":232}],127:[function(require,module,exports){"use strict";var AutoFocusMixin=require("./AutoFocusMixin");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var keyMirror=require("./keyMirror");var button=ReactElement.createFactory(ReactDOM.button.type);var mouseListenerNames=keyMirror({onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true});var ReactDOMButton=ReactCompositeComponent.createClass({displayName:"ReactDOMButton",mixins:[AutoFocusMixin,ReactBrowserComponentMixin],render:function(){var props={};for(var key in this.props){if(this.props.hasOwnProperty(key)&&(!this.props.disabled||!mouseListenerNames[key])){props[key]=this.props[key]}}return button(props,this.props.children)}});module.exports=ReactDOMButton},{"./AutoFocusMixin":85,"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141,"./keyMirror":230}],128:[function(require,module,exports){"use strict";var CSSPropertyOperations=require("./CSSPropertyOperations");var DOMProperty=require("./DOMProperty");var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactComponent=require("./ReactComponent");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactMount=require("./ReactMount");var ReactMultiChild=require("./ReactMultiChild");var ReactPerf=require("./ReactPerf");var assign=require("./Object.assign");var escapeTextForBrowser=require("./escapeTextForBrowser");var invariant=require("./invariant");var isEventSupported=require("./isEventSupported");var keyOf=require("./keyOf");var monitorCodeUse=require("./monitorCodeUse");var deleteListener=ReactBrowserEventEmitter.deleteListener;var listenTo=ReactBrowserEventEmitter.listenTo;var registrationNameModules=ReactBrowserEventEmitter.registrationNameModules;var CONTENT_TYPES={string:true,number:true};var STYLE=keyOf({style:null});var ELEMENT_NODE_TYPE=1;function assertValidProps(props){if(!props){return}"production"!=="production"?invariant(props.children==null||props.dangerouslySetInnerHTML==null,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):invariant(props.children==null||props.dangerouslySetInnerHTML==null);if("production"!=="production"){if(props.contentEditable&&props.children!=null){console.warn("A component is `contentEditable` and contains `children` managed by "+"React. It is now your responsibility to guarantee that none of those "+"nodes are unexpectedly modified or duplicated. This is probably not "+"intentional.")}}"production"!=="production"?invariant(props.style==null||typeof props.style==="object","The `style` prop expects a mapping from style properties to values, "+"not a string."):invariant(props.style==null||typeof props.style==="object")}function putListener(id,registrationName,listener,transaction){if("production"!=="production"){if(registrationName==="onScroll"&&!isEventSupported("scroll",true)){monitorCodeUse("react_no_scroll_event");console.warn("This browser doesn't support the `onScroll` event")}}var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getPutListenerQueue().enqueuePutListener(id,registrationName,listener)}var omittedCloseTags={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var validatedTagCache={};var hasOwnProperty={}.hasOwnProperty;function validateDangerousTag(tag){if(!hasOwnProperty.call(validatedTagCache,tag)){"production"!=="production"?invariant(VALID_TAG_REGEX.test(tag),"Invalid tag: %s",tag):invariant(VALID_TAG_REGEX.test(tag));validatedTagCache[tag]=true}}function ReactDOMComponent(tag){validateDangerousTag(tag);this._tag=tag;this.tagName=tag.toUpperCase()}ReactDOMComponent.displayName="ReactDOMComponent";ReactDOMComponent.Mixin={mountComponent:ReactPerf.measure("ReactDOMComponent","mountComponent",function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);assertValidProps(this.props);var closeTag=omittedCloseTags[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(transaction)+this._createContentMarkup(transaction)+closeTag}),_createOpenTagMarkupAndPutListeners:function(transaction){var props=this.props;var ret="<"+this._tag;for(var propKey in props){if(!props.hasOwnProperty(propKey)){continue}var propValue=props[propKey];if(propValue==null){continue}if(registrationNameModules.hasOwnProperty(propKey)){putListener(this._rootNodeID,propKey,propValue,transaction)}else{if(propKey===STYLE){if(propValue){propValue=props.style=assign({},props.style)}propValue=CSSPropertyOperations.createMarkupForStyles(propValue)}var markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue);if(markup){ret+=" "+markup}}}if(transaction.renderToStaticMarkup){return ret+">"}var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID+">"},_createContentMarkup:function(transaction){var innerHTML=this.props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){return innerHTML.__html}}else{var contentToUse=CONTENT_TYPES[typeof this.props.children]?this.props.children:null;var childrenToUse=contentToUse!=null?null:this.props.children;if(contentToUse!=null){return escapeTextForBrowser(contentToUse)}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction);return mountImages.join("")}}return""},receiveComponent:function(nextElement,transaction){if(nextElement===this._currentElement&&nextElement._owner!=null){return}ReactComponent.Mixin.receiveComponent.call(this,nextElement,transaction)},updateComponent:ReactPerf.measure("ReactDOMComponent","updateComponent",function(transaction,prevElement){assertValidProps(this._currentElement.props);ReactComponent.Mixin.updateComponent.call(this,transaction,prevElement);this._updateDOMProperties(prevElement.props,transaction);this._updateDOMChildren(prevElement.props,transaction)}),_updateDOMProperties:function(lastProps,transaction){var nextProps=this.props;var propKey;var styleName;var styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)){continue}if(propKey===STYLE){var lastStyle=lastProps[propKey];for(styleName in lastStyle){if(lastStyle.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}}else if(registrationNameModules.hasOwnProperty(propKey)){deleteListener(this._rootNodeID,propKey)}else if(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey)){ReactComponent.BackendIDOperations.deletePropertyByID(this._rootNodeID,propKey)}}for(propKey in nextProps){var nextProp=nextProps[propKey];var lastProp=lastProps[propKey];if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp){continue}if(propKey===STYLE){if(nextProp){nextProp=nextProps.style=assign({},nextProp)}if(lastProp){for(styleName in lastProp){if(lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}for(styleName in nextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){styleUpdates=styleUpdates||{};styleUpdates[styleName]=nextProp[styleName]}}}else{styleUpdates=nextProp}}else if(registrationNameModules.hasOwnProperty(propKey)){putListener(this._rootNodeID,propKey,nextProp,transaction)}else if(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey)){ReactComponent.BackendIDOperations.updatePropertyByID(this._rootNodeID,propKey,nextProp)}}if(styleUpdates){ReactComponent.BackendIDOperations.updateStylesByID(this._rootNodeID,styleUpdates)}},_updateDOMChildren:function(lastProps,transaction){var nextProps=this.props;var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null;var nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null;var lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html;var nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html;var lastChildren=lastContent!=null?null:lastProps.children;var nextChildren=nextContent!=null?null:nextProps.children;var lastHasContentOrHtml=lastContent!=null||lastHtml!=null;var nextHasContentOrHtml=nextContent!=null||nextHtml!=null;if(lastChildren!=null&&nextChildren==null){this.updateChildren(null,transaction)}else if(lastHasContentOrHtml&&!nextHasContentOrHtml){this.updateTextContent("")}if(nextContent!=null){if(lastContent!==nextContent){this.updateTextContent(""+nextContent)}}else if(nextHtml!=null){if(lastHtml!==nextHtml){ReactComponent.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,nextHtml)}}else if(nextChildren!=null){this.updateChildren(nextChildren,transaction)}},unmountComponent:function(){this.unmountChildren();ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID);ReactComponent.Mixin.unmountComponent.call(this)}};assign(ReactDOMComponent.prototype,ReactComponent.Mixin,ReactDOMComponent.Mixin,ReactMultiChild.Mixin,ReactBrowserComponentMixin);module.exports=ReactDOMComponent},{"./CSSPropertyOperations":89,"./DOMProperty":95,"./DOMPropertyOperations":96,"./Object.assign":112,"./ReactBrowserComponentMixin":115,"./ReactBrowserEventEmitter":116,"./ReactComponent":120,"./ReactMount":153,"./ReactMultiChild":154,"./ReactPerf":158,"./escapeTextForBrowser":207,"./invariant":224,"./isEventSupported":225,"./keyOf":231,"./monitorCodeUse":234}],129:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var LocalEventTrapMixin=require("./LocalEventTrapMixin");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var form=ReactElement.createFactory(ReactDOM.form.type);var ReactDOMForm=ReactCompositeComponent.createClass({displayName:"ReactDOMForm",mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return form(this.props)},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset");this.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit")}});module.exports=ReactDOMForm},{"./EventConstants":100,"./LocalEventTrapMixin":110,"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141}],130:[function(require,module,exports){"use strict";var CSSPropertyOperations=require("./CSSPropertyOperations");var DOMChildrenOperations=require("./DOMChildrenOperations");var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var invariant=require("./invariant");var setInnerHTML=require("./setInnerHTML");var INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."};var ReactDOMIDOperations={updatePropertyByID:ReactPerf.measure("ReactDOMIDOperations","updatePropertyByID",function(id,name,value){var node=ReactMount.getNode(id);"production"!=="production"?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name),"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name));if(value!=null){DOMPropertyOperations.setValueForProperty(node,name,value)}else{DOMPropertyOperations.deleteValueForProperty(node,name)}}),deletePropertyByID:ReactPerf.measure("ReactDOMIDOperations","deletePropertyByID",function(id,name,value){var node=ReactMount.getNode(id);"production"!=="production"?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name),"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name));DOMPropertyOperations.deleteValueForProperty(node,name,value)}),updateStylesByID:ReactPerf.measure("ReactDOMIDOperations","updateStylesByID",function(id,styles){var node=ReactMount.getNode(id);CSSPropertyOperations.setValueForStyles(node,styles)}),updateInnerHTMLByID:ReactPerf.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(id,html){var node=ReactMount.getNode(id);setInnerHTML(node,html)}),updateTextContentByID:ReactPerf.measure("ReactDOMIDOperations","updateTextContentByID",function(id,content){var node=ReactMount.getNode(id);DOMChildrenOperations.updateTextContent(node,content)}),dangerouslyReplaceNodeWithMarkupByID:ReactPerf.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)}),dangerouslyProcessChildrenUpdates:ReactPerf.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(updates,markup){for(var i=0;i<updates.length;i++){updates[i].parentNode=ReactMount.getNode(updates[i].parentID)}DOMChildrenOperations.processUpdates(updates,markup)})};module.exports=ReactDOMIDOperations},{"./CSSPropertyOperations":89,"./DOMChildrenOperations":94,"./DOMPropertyOperations":96,"./ReactMount":153,"./ReactPerf":158,"./invariant":224,"./setInnerHTML":238}],131:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var LocalEventTrapMixin=require("./LocalEventTrapMixin");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var img=ReactElement.createFactory(ReactDOM.img.type);var ReactDOMImg=ReactCompositeComponent.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[ReactBrowserComponentMixin,LocalEventTrapMixin],render:function(){return img(this.props)},componentDidMount:function(){this.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load");this.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error")}});module.exports=ReactDOMImg},{"./EventConstants":100,"./LocalEventTrapMixin":110,"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141}],132:[function(require,module,exports){"use strict";var AutoFocusMixin=require("./AutoFocusMixin");var DOMPropertyOperations=require("./DOMPropertyOperations");var LinkedValueUtils=require("./LinkedValueUtils");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var ReactMount=require("./ReactMount");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var invariant=require("./invariant");var input=ReactElement.createFactory(ReactDOM.input.type);var instancesByReactID={};function forceUpdateIfMounted(){if(this.isMounted()){this.forceUpdate()}}var ReactDOMInput=ReactCompositeComponent.createClass({displayName:"ReactDOMInput",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||false,initialValue:defaultValue!=null?defaultValue:null}},render:function(){var props=assign({},this.props);props.defaultChecked=null;props.defaultValue=null;var value=LinkedValueUtils.getValue(this);props.value=value!=null?value:this.state.initialValue;var checked=LinkedValueUtils.getChecked(this);props.checked=checked!=null?checked:this.state.initialChecked;props.onChange=this._handleChange;return input(props,this.props.children)},componentDidMount:function(){var id=ReactMount.getID(this.getDOMNode());instancesByReactID[id]=this},componentWillUnmount:function(){var rootNode=this.getDOMNode();var id=ReactMount.getID(rootNode);delete instancesByReactID[id]},componentDidUpdate:function(prevProps,prevState,prevContext){var rootNode=this.getDOMNode();if(this.props.checked!=null){DOMPropertyOperations.setValueForProperty(rootNode,"checked",this.props.checked||false)}var value=LinkedValueUtils.getValue(this);if(value!=null){DOMPropertyOperations.setValueForProperty(rootNode,"value",""+value)}},_handleChange:function(event){var returnValue;var onChange=LinkedValueUtils.getOnChange(this);if(onChange){returnValue=onChange.call(this,event)}ReactUpdates.asap(forceUpdateIfMounted,this);var name=this.props.name;if(this.props.type==="radio"&&name!=null){var rootNode=this.getDOMNode();var queryRoot=rootNode;while(queryRoot.parentNode){queryRoot=queryRoot.parentNode}var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]');for(var i=0,groupLen=group.length;i<groupLen;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.form!==rootNode.form){continue}var otherID=ReactMount.getID(otherNode);"production"!=="production"?invariant(otherID,"ReactDOMInput: Mixing React and non-React radio inputs with the "+"same `name` is not supported."):invariant(otherID);var otherInstance=instancesByReactID[otherID];"production"!=="production"?invariant(otherInstance,"ReactDOMInput: Unknown radio button ID %s.",otherID):invariant(otherInstance);ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}return returnValue}});module.exports=ReactDOMInput},{"./AutoFocusMixin":85,"./DOMPropertyOperations":96,"./LinkedValueUtils":109,"./Object.assign":112,"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141,"./ReactMount":153,"./ReactUpdates":174,"./invariant":224}],133:[function(require,module,exports){"use strict";var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var warning=require("./warning");var option=ReactElement.createFactory(ReactDOM.option.type);var ReactDOMOption=ReactCompositeComponent.createClass({displayName:"ReactDOMOption",mixins:[ReactBrowserComponentMixin],componentWillMount:function(){if("production"!=="production"){"production"!=="production"?warning(this.props.selected==null,"Use the `defaultValue` or `value` props on <select> instead of "+"setting `selected` on <option>."):null}},render:function(){return option(this.props,this.props.children)}});module.exports=ReactDOMOption},{"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141,"./warning":244}],134:[function(require,module,exports){"use strict";var AutoFocusMixin=require("./AutoFocusMixin");var LinkedValueUtils=require("./LinkedValueUtils");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var select=ReactElement.createFactory(ReactDOM.select.type);function updateWithPendingValueIfMounted(){if(this.isMounted()){this.setState({value:this._pendingValue});this._pendingValue=0}}function selectValueType(props,propName,componentName){if(props[propName]==null){return}if(props.multiple){if(!Array.isArray(props[propName])){return new Error("The `"+propName+"` prop supplied to <select> must be an array if "+"`multiple` is true.")}}else{if(Array.isArray(props[propName])){return new Error("The `"+propName+"` prop supplied to <select> must be a scalar "+"value if `multiple` is false.")}}}function updateOptions(component,propValue){var multiple=component.props.multiple;var value=propValue!=null?propValue:component.state.value;var options=component.getDOMNode().options;var selectedValue,i,l;if(multiple){selectedValue={};for(i=0,l=value.length;i<l;++i){selectedValue[""+value[i]]=true}}else{selectedValue=""+value}for(i=0,l=options.length;i<l;i++){var selected=multiple?selectedValue.hasOwnProperty(options[i].value):options[i].value===selectedValue;if(selected!==options[i].selected){options[i].selected=selected}}}var ReactDOMSelect=ReactCompositeComponent.createClass({displayName:"ReactDOMSelect",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],propTypes:{defaultValue:selectValueType,value:selectValueType},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillMount:function(){this._pendingValue=null},componentWillReceiveProps:function(nextProps){if(!this.props.multiple&&nextProps.multiple){this.setState({value:[this.state.value]})}else if(this.props.multiple&&!nextProps.multiple){this.setState({value:this.state.value[0]})}},render:function(){var props=assign({},this.props);props.onChange=this._handleChange;props.value=null;return select(props,this.props.children)},componentDidMount:function(){updateOptions(this,LinkedValueUtils.getValue(this))},componentDidUpdate:function(prevProps){var value=LinkedValueUtils.getValue(this);var prevMultiple=!!prevProps.multiple;var multiple=!!this.props.multiple;if(value!=null||prevMultiple!==multiple){updateOptions(this,value)}},_handleChange:function(event){var returnValue;var onChange=LinkedValueUtils.getOnChange(this);if(onChange){returnValue=onChange.call(this,event)}var selectedValue;if(this.props.multiple){selectedValue=[];var options=event.target.options;for(var i=0,l=options.length;i<l;i++){if(options[i].selected){selectedValue.push(options[i].value)}}}else{selectedValue=event.target.value}this._pendingValue=selectedValue;ReactUpdates.asap(updateWithPendingValueIfMounted,this);return returnValue}});module.exports=ReactDOMSelect},{"./AutoFocusMixin":85,"./LinkedValueUtils":109,"./Object.assign":112,"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141,"./ReactUpdates":174}],135:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var getNodeForCharacterOffset=require("./getNodeForCharacterOffset");var getTextContentAccessor=require("./getTextContentAccessor");function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection;var selectedRange=selection.createRange();var selectedLength=selectedRange.text.length;var fromStart=selectedRange.duplicate();fromStart.moveToElementText(node);fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length;var endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||selection.rangeCount===0){return null}var anchorNode=selection.anchorNode;var anchorOffset=selection.anchorOffset;var focusNode=selection.focusNode;var focusOffset=selection.focusOffset;var currentRange=selection.getRangeAt(0);var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset);var rangeLength=isSelectionCollapsed?0:currentRange.toString().length;var tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node);tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset);var start=isTempRangeCollapsed?0:tempRange.toString().length;var end=start+rangeLength;var detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset);detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate();var start,end;if(typeof offsets.end==="undefined"){start=offsets.start;end=start}else if(offsets.start>offsets.end){start=offsets.end;end=offsets.start}else{start=offsets.start;end=offsets.end}range.moveToElementText(node);range.moveStart("character",start);range.setEndPoint("EndToStart",range);range.moveEnd("character",end-start);range.select()}function setModernOffsets(node,offsets){if(!window.getSelection){return}var selection=window.getSelection();var length=node[getTextContentAccessor()].length;var start=Math.min(offsets.start,length);var end=typeof offsets.end==="undefined"?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start;start=temp}var startMarker=getNodeForCharacterOffset(node,start);var endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();if(start>end){selection.addRange(range);selection.extend(endMarker.node,endMarker.offset)}else{range.setEnd(endMarker.node,endMarker.offset);selection.addRange(range)}}}var useIEOffsets=ExecutionEnvironment.canUseDOM&&document.selection;var ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection},{"./ExecutionEnvironment":106,"./getNodeForCharacterOffset":217,"./getTextContentAccessor":219}],136:[function(require,module,exports){"use strict";var AutoFocusMixin=require("./AutoFocusMixin");var DOMPropertyOperations=require("./DOMPropertyOperations");var LinkedValueUtils=require("./LinkedValueUtils");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var ReactDOM=require("./ReactDOM");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var invariant=require("./invariant");var warning=require("./warning");var textarea=ReactElement.createFactory(ReactDOM.textarea.type);function forceUpdateIfMounted(){if(this.isMounted()){this.forceUpdate()}}var ReactDOMTextarea=ReactCompositeComponent.createClass({displayName:"ReactDOMTextarea",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;var children=this.props.children;if(children!=null){if("production"!=="production"){"production"!=="production"?warning(false,"Use the `defaultValue` or `value` props instead of setting "+"children on <textarea>."):null}"production"!=="production"?invariant(defaultValue==null,"If you supply `defaultValue` on a <textarea>, do not pass children."):invariant(defaultValue==null);if(Array.isArray(children)){"production"!=="production"?invariant(children.length<=1,"<textarea> can only have at most one child."):invariant(children.length<=1);children=children[0]}defaultValue=""+children}if(defaultValue==null){defaultValue=""}var value=LinkedValueUtils.getValue(this);return{initialValue:""+(value!=null?value:defaultValue)}},render:function(){var props=assign({},this.props);"production"!=="production"?invariant(props.dangerouslySetInnerHTML==null,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):invariant(props.dangerouslySetInnerHTML==null);props.defaultValue=null;props.value=null;props.onChange=this._handleChange;return textarea(props,this.state.initialValue)},componentDidUpdate:function(prevProps,prevState,prevContext){var value=LinkedValueUtils.getValue(this);if(value!=null){var rootNode=this.getDOMNode();DOMPropertyOperations.setValueForProperty(rootNode,"value",""+value)}},_handleChange:function(event){var returnValue;var onChange=LinkedValueUtils.getOnChange(this);if(onChange){returnValue=onChange.call(this,event)}ReactUpdates.asap(forceUpdateIfMounted,this);return returnValue}});module.exports=ReactDOMTextarea},{"./AutoFocusMixin":85,"./DOMPropertyOperations":96,"./LinkedValueUtils":109,"./Object.assign":112,"./ReactBrowserComponentMixin":115,"./ReactCompositeComponent":123,"./ReactDOM":126,"./ReactElement":141,"./ReactUpdates":174,"./invariant":224,"./warning":244}],137:[function(require,module,exports){"use strict";var ReactUpdates=require("./ReactUpdates");var Transaction=require("./Transaction");var assign=require("./Object.assign");var emptyFunction=require("./emptyFunction");var RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=false}};var FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}
});var transaction=new ReactDefaultBatchingStrategyTransaction;var ReactDefaultBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback,a,b){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=true;if(alreadyBatchingUpdates){callback(a,b)}else{transaction.perform(callback,null,a,b)}}};module.exports=ReactDefaultBatchingStrategy},{"./Object.assign":112,"./ReactUpdates":174,"./Transaction":191,"./emptyFunction":205}],138:[function(require,module,exports){"use strict";var BeforeInputEventPlugin=require("./BeforeInputEventPlugin");var ChangeEventPlugin=require("./ChangeEventPlugin");var ClientReactRootIndex=require("./ClientReactRootIndex");var CompositionEventPlugin=require("./CompositionEventPlugin");var DefaultEventPluginOrder=require("./DefaultEventPluginOrder");var EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin");var ExecutionEnvironment=require("./ExecutionEnvironment");var HTMLDOMPropertyConfig=require("./HTMLDOMPropertyConfig");var MobileSafariClickEventPlugin=require("./MobileSafariClickEventPlugin");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment");var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy");var ReactDOMComponent=require("./ReactDOMComponent");var ReactDOMButton=require("./ReactDOMButton");var ReactDOMForm=require("./ReactDOMForm");var ReactDOMImg=require("./ReactDOMImg");var ReactDOMInput=require("./ReactDOMInput");var ReactDOMOption=require("./ReactDOMOption");var ReactDOMSelect=require("./ReactDOMSelect");var ReactDOMTextarea=require("./ReactDOMTextarea");var ReactEventListener=require("./ReactEventListener");var ReactInjection=require("./ReactInjection");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMount=require("./ReactMount");var SelectEventPlugin=require("./SelectEventPlugin");var ServerReactRootIndex=require("./ServerReactRootIndex");var SimpleEventPlugin=require("./SimpleEventPlugin");var SVGDOMPropertyConfig=require("./SVGDOMPropertyConfig");var createFullPageComponent=require("./createFullPageComponent");function inject(){ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener);ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles);ReactInjection.EventPluginHub.injectMount(ReactMount);ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,CompositionEventPlugin:CompositionEventPlugin,MobileSafariClickEventPlugin:MobileSafariClickEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin});ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent);ReactInjection.NativeComponent.injectComponentClasses({button:ReactDOMButton,form:ReactDOMForm,img:ReactDOMImg,input:ReactDOMInput,option:ReactDOMOption,select:ReactDOMSelect,textarea:ReactDOMTextarea,html:createFullPageComponent("html"),head:createFullPageComponent("head"),body:createFullPageComponent("body")});ReactInjection.CompositeComponent.injectMixin(ReactBrowserComponentMixin);ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig);ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig);ReactInjection.EmptyComponent.injectEmptyComponent("noscript");ReactInjection.Updates.injectReconcileTransaction(ReactComponentBrowserEnvironment.ReactReconcileTransaction);ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy);ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex);ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment);if("production"!=="production"){var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(url)){var ReactDefaultPerf=require("./ReactDefaultPerf");ReactDefaultPerf.start()}}}module.exports={inject:inject}},{"./BeforeInputEventPlugin":86,"./ChangeEventPlugin":91,"./ClientReactRootIndex":92,"./CompositionEventPlugin":93,"./DefaultEventPluginOrder":98,"./EnterLeaveEventPlugin":99,"./ExecutionEnvironment":106,"./HTMLDOMPropertyConfig":107,"./MobileSafariClickEventPlugin":111,"./ReactBrowserComponentMixin":115,"./ReactComponentBrowserEnvironment":121,"./ReactDOMButton":127,"./ReactDOMComponent":128,"./ReactDOMForm":129,"./ReactDOMImg":131,"./ReactDOMInput":132,"./ReactDOMOption":133,"./ReactDOMSelect":134,"./ReactDOMTextarea":136,"./ReactDefaultBatchingStrategy":137,"./ReactDefaultPerf":139,"./ReactEventListener":146,"./ReactInjection":147,"./ReactInstanceHandles":149,"./ReactMount":153,"./SVGDOMPropertyConfig":176,"./SelectEventPlugin":177,"./ServerReactRootIndex":178,"./SimpleEventPlugin":179,"./createFullPageComponent":200}],139:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ReactDefaultPerfAnalysis=require("./ReactDefaultPerfAnalysis");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var performanceNow=require("./performanceNow");function roundFloat(val){return Math.floor(val*100)/100}function addValue(obj,key,val){obj[key]=(obj[key]||0)+val}var ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:false,start:function(){if(!ReactDefaultPerf._injected){ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure)}ReactDefaultPerf._allMeasurements.length=0;ReactPerf.enableMeasure=true},stop:function(){ReactPerf.enableMeasure=false},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Exclusive mount time (ms)":roundFloat(item.exclusive),"Exclusive render time (ms)":roundFloat(item.render),"Mount time per instance (ms)":roundFloat(item.exclusive/item.count),"Render time per instance (ms)":roundFloat(item.render/item.count),Instances:item.count}}))},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}}));console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,true);return summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements));console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id;result["type"]=item.type;result["args"]=JSON.stringify(item.args);return result}));console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[];writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){for(var args=[],$__0=0,$__1=arguments.length;$__0<$__1;$__0++)args.push(arguments[$__0]);var totalTime;var rv;var start;if(fnName==="_renderNewRootComponent"||fnName==="flushBatchedUpdates"){ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0});start=performanceNow();rv=func.apply(this,args);ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start;return rv}else if(moduleName==="ReactDOMIDOperations"||moduleName==="ReactComponentBrowserEnvironment"){start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(fnName==="mountImageIntoNode"){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else if(fnName==="dangerouslyProcessChildrenUpdates"){args[0].forEach(function(update){var writeArgs={};if(update.fromIndex!==null){writeArgs.fromIndex=update.fromIndex}if(update.toIndex!==null){writeArgs.toIndex=update.toIndex}if(update.textContent!==null){writeArgs.textContent=update.textContent}if(update.markupIndex!==null){writeArgs.markup=args[1][update.markupIndex]}ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)})}else{ReactDefaultPerf._recordWrite(args[0],fnName,totalTime,Array.prototype.slice.call(args,1))}return rv}else if(moduleName==="ReactCompositeComponent"&&(fnName==="mountComponent"||fnName==="updateComponent"||fnName==="_renderValidatedComponent")){var rootNodeID=fnName==="mountComponent"?args[0]:this._rootNodeID;var isRender=fnName==="_renderValidatedComponent";var isMount=fnName==="mountComponent";var mountStack=ReactDefaultPerf._mountStack;var entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender){addValue(entry.counts,rootNodeID,1)}else if(isMount){mountStack.push(0)}start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(isRender){addValue(entry.render,rootNodeID,totalTime)}else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime;addValue(entry.exclusive,rootNodeID,totalTime-subMountTime);addValue(entry.inclusive,rootNodeID,totalTime)}else{addValue(entry.inclusive,rootNodeID,totalTime)}entry.displayNames[rootNodeID]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"};return rv}else{return func.apply(this,args)}}}};module.exports=ReactDefaultPerf},{"./DOMProperty":95,"./ReactDefaultPerfAnalysis":140,"./ReactMount":153,"./ReactPerf":158,"./performanceNow":237}],140:[function(require,module,exports){var assign=require("./Object.assign");var DONT_CARE_THRESHOLD=1.2;var DOM_OPERATION_TYPES={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"};function getTotalTime(measurements){var totalTime=0;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){var items=[];for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var id;for(id in measurement.writes){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})}}return items}function getExclusiveSummary(measurements){var candidates={};var displayName;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){displayName=measurement.displayNames[id].current;candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0};if(measurement.render[id]){candidates[displayName].render+=measurement.render[id]}if(measurement.exclusive[id]){candidates[displayName].exclusive+=measurement.exclusive[id]}if(measurement.inclusive[id]){candidates[displayName].inclusive+=measurement.inclusive[id]}if(measurement.counts[id]){candidates[displayName].count+=measurement.counts[id]}}}var arr=[];for(displayName in candidates){if(candidates[displayName].exclusive>=DONT_CARE_THRESHOLD){arr.push(candidates[displayName])}}arr.sort(function(a,b){return b.exclusive-a.exclusive});return arr}function getInclusiveSummary(measurements,onlyClean){var candidates={};var inclusiveKey;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);var cleanComponents;if(onlyClean){cleanComponents=getUnchangedComponents(measurement)}for(var id in allIDs){if(onlyClean&&!cleanComponents[id]){continue}var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current;candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0};if(measurement.inclusive[id]){candidates[inclusiveKey].time+=measurement.inclusive[id]}if(measurement.counts[id]){candidates[inclusiveKey].count+=measurement.counts[id]}}}var arr=[];for(inclusiveKey in candidates){if(candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD){arr.push(candidates[inclusiveKey])}}arr.sort(function(a,b){return b.time-a.time});return arr}function getUnchangedComponents(measurement){var cleanComponents={};var dirtyLeafIDs=Object.keys(measurement.writes);var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){var isDirty=false;for(var i=0;i<dirtyLeafIDs.length;i++){if(dirtyLeafIDs[i].indexOf(id)===0){isDirty=true;break}}if(!isDirty&&measurement.counts[id]>0){cleanComponents[id]=true}}return cleanComponents}var ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis},{"./Object.assign":112}],141:[function(require,module,exports){"use strict";var ReactContext=require("./ReactContext");var ReactCurrentOwner=require("./ReactCurrentOwner");var warning=require("./warning");var RESERVED_PROPS={key:true,ref:true};function defineWarningProperty(object,key){Object.defineProperty(object,key,{configurable:false,enumerable:true,get:function(){if(!this._store){return null}return this._store[key]},set:function(value){"production"!=="production"?warning(false,"Don't set the "+key+" property of the component. "+"Mutate the existing props object instead."):null;this._store[key]=value}})}var useMutationMembrane=false;function defineMutationMembrane(prototype){try{var pseudoFrozenProperties={props:true};for(var key in pseudoFrozenProperties){defineWarningProperty(prototype,key)}useMutationMembrane=true}catch(x){}}var ReactElement=function(type,key,ref,owner,context,props){this.type=type;this.key=key;this.ref=ref;this._owner=owner;this._context=context;if("production"!=="production"){this._store={validated:false,props:props};if(useMutationMembrane){Object.freeze(this);return}}this.props=props};ReactElement.prototype={_isReactElement:true};if("production"!=="production"){defineMutationMembrane(ReactElement.prototype)}ReactElement.createElement=function(type,config,children){var propName;var props={};var key=null;var ref=null;if(config!=null){ref=config.ref===undefined?null:config.ref;if("production"!=="production"){"production"!=="production"?warning(config.key!==null,"createElement(...): Encountered component with a `key` of null. In "+"a future version, this will be treated as equivalent to the string "+"'null'; instead, provide an explicit key or use undefined."):null}key=config.key==null?null:""+config.key;for(propName in config){if(config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName]}}}var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2]}props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps){if(typeof props[propName]==="undefined"){props[propName]=defaultProps[propName]}}}return new ReactElement(type,key,ref,ReactCurrentOwner.current,ReactContext.current,props)};ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);factory.type=type;return factory};ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=new ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._owner,oldElement._context,newProps);if("production"!=="production"){newElement._store.validated=oldElement._store.validated}return newElement};ReactElement.isValidElement=function(object){var isElement=!!(object&&object._isReactElement);return isElement};module.exports=ReactElement},{"./ReactContext":124,"./ReactCurrentOwner":125,"./warning":244}],142:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactCurrentOwner=require("./ReactCurrentOwner");var monitorCodeUse=require("./monitorCodeUse");var warning=require("./warning");var ownerHasKeyUseWarning={react_key_warning:{},react_numeric_key_warning:{}};var ownerHasMonitoredObjectMap={};var loggedTypeFailures={};var NUMERIC_PROPERTY_REGEX=/^\d+$/;function getCurrentOwnerDisplayName(){var current=ReactCurrentOwner.current;return current&&current.constructor.displayName||undefined}function validateExplicitKey(component,parentType){if(component._store.validated||component.key!=null){return}component._store.validated=true;warnAndMonitorForKeyUse("react_key_warning",'Each child in an array should have a unique "key" prop.',component,parentType)}function validatePropertyKey(name,component,parentType){if(!NUMERIC_PROPERTY_REGEX.test(name)){return}warnAndMonitorForKeyUse("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",component,parentType)}function warnAndMonitorForKeyUse(warningID,message,component,parentType){var ownerName=getCurrentOwnerDisplayName();var parentName=parentType.displayName;var useName=ownerName||parentName;var memoizer=ownerHasKeyUseWarning[warningID];if(memoizer.hasOwnProperty(useName)){return}memoizer[useName]=true;message+=ownerName?" Check the render method of "+ownerName+".":" Check the renderComponent call using <"+parentName+">.";var childOwnerName=null;if(component._owner&&component._owner!==ReactCurrentOwner.current){childOwnerName=component._owner.constructor.displayName;message+=" It was passed a child from "+childOwnerName+"."}message+=" See http://fb.me/react-warning-keys for more information.";monitorCodeUse(warningID,{component:useName,componentOwner:childOwnerName});console.warn(message)}function monitorUseOfObjectMap(){var currentName=getCurrentOwnerDisplayName()||"";if(ownerHasMonitoredObjectMap.hasOwnProperty(currentName)){return}ownerHasMonitoredObjectMap[currentName]=true;monitorCodeUse("react_object_map_children")}function validateChildKeys(component,parentType){if(Array.isArray(component)){for(var i=0;i<component.length;i++){var child=component[i];if(ReactElement.isValidElement(child)){validateExplicitKey(child,parentType)}}}else if(ReactElement.isValidElement(component)){component._store.validated=true}else if(component&&typeof component==="object"){monitorUseOfObjectMap();for(var name in component){validatePropertyKey(name,component[name],parentType)}}}function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error;try{error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;monitorCodeUse("react_failed_descriptor_type_check",{message:error.message})}}}}var ReactElementValidator={createElement:function(type,props,children){"production"!=="production"?warning(type!=null,"React.createElement: type should not be null or undefined. It should "+"be a string (for DOM elements) or a ReactClass (for composite "+"components)."):null;var element=ReactElement.createElement.apply(this,arguments);if(element==null){return element}for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],type)}if(type){var name=type.displayName;if(type.propTypes){checkPropTypes(name,type.propTypes,element.props,ReactPropTypeLocations.prop)}if(type.contextTypes){checkPropTypes(name,type.contextTypes,element._context,ReactPropTypeLocations.context)}}return element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);validatedFactory.type=type;return validatedFactory}};module.exports=ReactElementValidator},{"./ReactCurrentOwner":125,"./ReactElement":141,"./ReactPropTypeLocations":161,"./monitorCodeUse":234,"./warning":244}],143:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var invariant=require("./invariant");var component;var nullComponentIdsRegistry={};var ReactEmptyComponentInjection={injectEmptyComponent:function(emptyComponent){component=ReactElement.createFactory(emptyComponent)}};function getEmptyComponent(){"production"!=="production"?invariant(component,"Trying to return null from a render, but no null placeholder component "+"was injected."):invariant(component);return component()}function registerNullComponentID(id){nullComponentIdsRegistry[id]=true}function deregisterNullComponentID(id){delete nullComponentIdsRegistry[id]}function isNullComponentID(id){return nullComponentIdsRegistry[id]}var ReactEmptyComponent={deregisterNullComponentID:deregisterNullComponentID,getEmptyComponent:getEmptyComponent,injection:ReactEmptyComponentInjection,isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID};module.exports=ReactEmptyComponent},{"./ReactElement":141,"./invariant":224}],144:[function(require,module,exports){"use strict";var ReactErrorUtils={guard:function(func,name){return func}};module.exports=ReactErrorUtils},{}],145:[function(require,module,exports){"use strict";var EventPluginHub=require("./EventPluginHub");function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events);EventPluginHub.processEventQueue()}var ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);runEventQueueInBatch(events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":102}],146:[function(require,module,exports){"use strict";var EventListener=require("./EventListener");var ExecutionEnvironment=require("./ExecutionEnvironment");var PooledClass=require("./PooledClass");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMount=require("./ReactMount");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var getEventTarget=require("./getEventTarget");var getUnboundedScrollPosition=require("./getUnboundedScrollPosition");function findParent(node){var nodeID=ReactMount.getID(node);var rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);var container=ReactMount.findReactContainerForID(rootID);var parent=ReactMount.getFirstReactDOM(container);return parent}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType;this.nativeEvent=nativeEvent;this.ancestors=[]}assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0}});PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);function handleTopLevelImpl(bookKeeping){var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window;var ancestor=topLevelTarget;while(ancestor){bookKeeping.ancestors.push(ancestor);ancestor=findParent(ancestor)}for(var i=0,l=bookKeeping.ancestors.length;i<l;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent)}}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var ReactEventListener={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return}return EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType))},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return}return EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType))},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback);EventListener.listen(window,"resize",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(!ReactEventListener._enabled){return}var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}};module.exports=ReactEventListener},{"./EventListener":101,"./ExecutionEnvironment":106,"./Object.assign":112,"./PooledClass":113,"./ReactInstanceHandles":149,"./ReactMount":153,"./ReactUpdates":174,"./getEventTarget":215,"./getUnboundedScrollPosition":220}],147:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var EventPluginHub=require("./EventPluginHub");var ReactComponent=require("./ReactComponent");var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactNativeComponent=require("./ReactNativeComponent");var ReactPerf=require("./ReactPerf");var ReactRootIndex=require("./ReactRootIndex");var ReactUpdates=require("./ReactUpdates");var ReactInjection={Component:ReactComponent.injection,CompositeComponent:ReactCompositeComponent.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection},{"./DOMProperty":95,"./EventPluginHub":102,"./ReactBrowserEventEmitter":116,"./ReactComponent":120,"./ReactCompositeComponent":123,"./ReactEmptyComponent":143,"./ReactNativeComponent":156,"./ReactPerf":158,"./ReactRootIndex":165,"./ReactUpdates":174}],148:[function(require,module,exports){"use strict";var ReactDOMSelection=require("./ReactDOMSelection");var containsNode=require("./containsNode");var focusNode=require("./focusNode");var getActiveElement=require("./getActiveElement");function isInDocument(node){return containsNode(document.documentElement,node)}var ReactInputSelection={hasSelectionCapabilities:function(elem){return elem&&(elem.nodeName==="INPUT"&&elem.type==="text"||elem.nodeName==="TEXTAREA"||elem.contentEditable==="true")},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement();var priorFocusedElem=priorSelectionInformation.focusedElem;var priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)){if(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)){ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange)}focusNode(priorFocusedElem)}},getSelection:function(input){var selection;if("selectionStart"in input){selection={start:input.selectionStart,end:input.selectionEnd}}else if(document.selection&&input.nodeName==="INPUT"){var range=document.selection.createRange();if(range.parentElement()===input){selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)}}}else{selection=ReactDOMSelection.getOffsets(input)}return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start;var end=offsets.end;if(typeof end==="undefined"){end=start}if("selectionStart"in input){input.selectionStart=start;input.selectionEnd=Math.min(end,input.value.length)}else if(document.selection&&input.nodeName==="INPUT"){var range=input.createTextRange();range.collapse(true);range.moveStart("character",start);range.moveEnd("character",end-start);range.select()}else{ReactDOMSelection.setOffsets(input,offsets)}}};module.exports=ReactInputSelection},{"./ReactDOMSelection":135,"./containsNode":198,"./focusNode":209,"./getActiveElement":211}],149:[function(require,module,exports){"use strict";var ReactRootIndex=require("./ReactRootIndex");var invariant=require("./invariant");var SEPARATOR=".";var SEPARATOR_LENGTH=SEPARATOR.length;var MAX_TREE_DEPTH=100;function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return id===""||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return descendantID.indexOf(ancestorID)===0&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){"production"!=="production"?invariant(isValidID(ancestorID)&&isValidID(destinationID),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",ancestorID,destinationID):invariant(isValidID(ancestorID)&&isValidID(destinationID));"production"!=="production"?invariant(isAncestorIDOf(ancestorID,destinationID),"getNextDescendantID(...): React has made an invalid assumption about "+"the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",ancestorID,destinationID):invariant(isAncestorIDOf(ancestorID,destinationID));if(ancestorID===destinationID){return ancestorID}var start=ancestorID.length+SEPARATOR_LENGTH;for(var i=start;i<destinationID.length;i++){if(isBoundary(destinationID,i)){break}}return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(minLength===0){return""}var lastCommonMarkerIndex=0;for(var i=0;i<=minLength;i++){if(isBoundary(oneID,i)&&isBoundary(twoID,i)){lastCommonMarkerIndex=i}else if(oneID.charAt(i)!==twoID.charAt(i)){break}}var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);"production"!=="production"?invariant(isValidID(longestCommonID),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",oneID,twoID,longestCommonID):invariant(isValidID(longestCommonID));return longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"";stop=stop||"";"production"!=="production"?invariant(start!==stop,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",start):invariant(start!==stop);var traverseUp=isAncestorIDOf(stop,start);"production"!=="production"?invariant(traverseUp||isAncestorIDOf(start,stop),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do "+"not have a parent path.",start,stop):invariant(traverseUp||isAncestorIDOf(start,stop));

var depth=0;var traverse=traverseUp?getParentID:getNextDescendantID;for(var id=start;;id=traverse(id,stop)){var ret;if((!skipFirst||id!==start)&&(!skipLast||id!==stop)){ret=cb(id,traverseUp,arg)}if(ret===false||id===stop){break}"production"!=="production"?invariant(depth++<MAX_TREE_DEPTH,"traverseParentPath(%s, %s, ...): Detected an infinite loop while "+"traversing the React DOM ID tree. This may be due to malformed IDs: %s",start,stop):invariant(depth++<MAX_TREE_DEPTH)}}var ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);if(ancestorID!==leaveID){traverseParentPath(leaveID,ancestorID,cb,upArg,false,true)}if(ancestorID!==enterID){traverseParentPath(ancestorID,enterID,cb,downArg,true,false)}},traverseTwoPhase:function(targetID,cb,arg){if(targetID){traverseParentPath("",targetID,cb,arg,true,false);traverseParentPath(targetID,"",cb,arg,false,true)}},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,true,false)},_getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles},{"./ReactRootIndex":165,"./invariant":224}],150:[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var invariant=require("./invariant");var monitorCodeUse=require("./monitorCodeUse");var warning=require("./warning");var legacyFactoryLogs={};function warnForLegacyFactoryCall(){if(!ReactLegacyElementFactory._isLegacyCallWarningEnabled){return}var owner=ReactCurrentOwner.current;var name=owner&&owner.constructor?owner.constructor.displayName:"";if(!name){name="Something"}if(legacyFactoryLogs.hasOwnProperty(name)){return}legacyFactoryLogs[name]=true;"production"!=="production"?warning(false,name+" is calling a React component directly. "+"Use a factory or JSX instead. See: http://fb.me/react-legacyfactory"):null;monitorCodeUse("react_legacy_factory_call",{version:3,name:name})}function warnForPlainFunctionType(type){var isReactClass=type.prototype&&typeof type.prototype.mountComponent==="function"&&typeof type.prototype.receiveComponent==="function";if(isReactClass){"production"!=="production"?warning(false,"Did not expect to get a React class here. Use `Component` instead "+"of `Component.type` or `this.constructor`."):null}else{if(!type._reactWarnedForThisType){try{type._reactWarnedForThisType=true}catch(x){}monitorCodeUse("react_non_component_in_jsx",{version:3,name:type.name})}"production"!=="production"?warning(false,"This JSX uses a plain function. Only React components are "+"valid in React's JSX transform."):null}}function warnForNonLegacyFactory(type){"production"!=="production"?warning(false,"Do not pass React.DOM."+type.type+" to JSX or createFactory. "+'Use the string "'+type.type+'" instead.'):null}function proxyStaticMethods(target,source){if(typeof source!=="function"){return}for(var key in source){if(source.hasOwnProperty(key)){var value=source[key];if(typeof value==="function"){var bound=value.bind(source);for(var k in value){if(value.hasOwnProperty(k)){bound[k]=value[k]}}target[key]=bound}else{target[key]=value}}}}var LEGACY_MARKER={};var NON_LEGACY_MARKER={};var ReactLegacyElementFactory={};ReactLegacyElementFactory.wrapCreateFactory=function(createFactory){var legacyCreateFactory=function(type){if(typeof type!=="function"){return createFactory(type)}if(type.isReactNonLegacyFactory){if("production"!=="production"){warnForNonLegacyFactory(type)}return createFactory(type.type)}if(type.isReactLegacyFactory){return createFactory(type.type)}if("production"!=="production"){warnForPlainFunctionType(type)}return type};return legacyCreateFactory};ReactLegacyElementFactory.wrapCreateElement=function(createElement){var legacyCreateElement=function(type,props,children){if(typeof type!=="function"){return createElement.apply(this,arguments)}var args;if(type.isReactNonLegacyFactory){if("production"!=="production"){warnForNonLegacyFactory(type)}args=Array.prototype.slice.call(arguments,0);args[0]=type.type;return createElement.apply(this,args)}if(type.isReactLegacyFactory){if(type._isMockFunction){type.type._mockedReactClassConstructor=type}args=Array.prototype.slice.call(arguments,0);args[0]=type.type;return createElement.apply(this,args)}if("production"!=="production"){warnForPlainFunctionType(type)}return type.apply(null,Array.prototype.slice.call(arguments,1))};return legacyCreateElement};ReactLegacyElementFactory.wrapFactory=function(factory){"production"!=="production"?invariant(typeof factory==="function","This is suppose to accept a element factory"):invariant(typeof factory==="function");var legacyElementFactory=function(config,children){if("production"!=="production"){warnForLegacyFactoryCall()}return factory.apply(this,arguments)};proxyStaticMethods(legacyElementFactory,factory.type);legacyElementFactory.isReactLegacyFactory=LEGACY_MARKER;legacyElementFactory.type=factory.type;return legacyElementFactory};ReactLegacyElementFactory.markNonLegacyFactory=function(factory){factory.isReactNonLegacyFactory=NON_LEGACY_MARKER;return factory};ReactLegacyElementFactory.isValidFactory=function(factory){return typeof factory==="function"&&factory.isReactLegacyFactory===LEGACY_MARKER};ReactLegacyElementFactory.isValidClass=function(factory){if("production"!=="production"){"production"!=="production"?warning(false,"isValidClass is deprecated and will be removed in a future release. "+"Use a more specific validator instead."):null}return ReactLegacyElementFactory.isValidFactory(factory)};ReactLegacyElementFactory._isLegacyCallWarningEnabled=true;module.exports=ReactLegacyElementFactory},{"./ReactCurrentOwner":125,"./invariant":224,"./monitorCodeUse":234,"./warning":244}],151:[function(require,module,exports){"use strict";var React=require("./React");function ReactLink(value,requestChange){this.value=value;this.requestChange=requestChange}function createLinkTypeChecker(linkType){var shapes={value:typeof linkType==="undefined"?React.PropTypes.any.isRequired:linkType.isRequired,requestChange:React.PropTypes.func.isRequired};return React.PropTypes.shape(shapes)}ReactLink.PropTypes={link:createLinkTypeChecker};module.exports=ReactLink},{"./React":114}],152:[function(require,module,exports){"use strict";var adler32=require("./adler32");var ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(">"," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'">')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":194}],153:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactLegacyElement=require("./ReactLegacyElement");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactPerf=require("./ReactPerf");var containsNode=require("./containsNode");var deprecated=require("./deprecated");var getReactRootElementInContainer=require("./getReactRootElementInContainer");var instantiateReactComponent=require("./instantiateReactComponent");var invariant=require("./invariant");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var warning=require("./warning");var createElement=ReactLegacyElement.wrapCreateElement(ReactElement.createElement);var SEPARATOR=ReactInstanceHandles.SEPARATOR;var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;var nodeCache={};var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var instancesByReactRootID={};var containersByReactRootID={};if("production"!=="production"){var rootElementsByReactRootID={}}var findComponentRootReusableArray=[];function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id){if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];if(cached!==node){"production"!=="production"?invariant(!isValid(cached,id),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",ATTR_NAME,id):invariant(!isValid(cached,id));nodeCache[id]=node}}else{nodeCache[id]=node}}return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);if(oldID!==id){delete nodeCache[oldID]}node.setAttribute(ATTR_NAME,id);nodeCache[id]=node}function getNode(id){if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id)}return nodeCache[id]}function isValid(node,id){if(node){"production"!=="production"?invariant(internalGetID(node)===id,"ReactMount: Unexpected modification of `%s`",ATTR_NAME):invariant(internalGetID(node)===id);var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node)){return true}}return false}function purgeID(id){delete nodeCache[id]}var deepestNodeSoFar=null;function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];if(ancestor&&isValid(ancestor,ancestorID)){deepestNodeSoFar=ancestor}else{return false}}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null;ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;deepestNodeSoFar=null;return foundNode}var ReactMount={_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextComponent,container,callback){var nextProps=nextComponent.props;ReactMount.scrollMonitor(container,function(){prevComponent.replaceProps(nextProps,callback)});if("production"!=="production"){rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container)}return prevComponent},_registerComponent:function(nextComponent,container){"production"!=="production"?invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE),"_registerComponent(...): Target container is not a DOM element."):invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE));ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);instancesByReactRootID[reactRootID]=nextComponent;return reactRootID},_renderNewRootComponent:ReactPerf.measure("ReactMount","_renderNewRootComponent",function(nextComponent,container,shouldReuseMarkup){"production"!=="production"?warning(ReactCurrentOwner.current==null,"_renderNewRootComponent(): Render methods should be a pure function "+"of props and state; triggering nested component updates from "+"render is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate."):null;var componentInstance=instantiateReactComponent(nextComponent,null);var reactRootID=ReactMount._registerComponent(componentInstance,container);componentInstance.mountComponentIntoNode(reactRootID,container,shouldReuseMarkup);if("production"!=="production"){rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container)}return componentInstance}),render:function(nextElement,container,callback){"production"!=="production"?invariant(ReactElement.isValidElement(nextElement),"renderComponent(): Invalid component element.%s",typeof nextElement==="string"?" Instead of passing an element string, make sure to instantiate "+"it by passing it to React.createElement.":ReactLegacyElement.isValidFactory(nextElement)?" Instead of passing a component class, make sure to instantiate "+"it by passing it to React.createElement.":typeof nextElement.props!=="undefined"?" This may be caused by unintentionally loading two independent "+"copies of React.":""):invariant(ReactElement.isValidElement(nextElement));var prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevElement=prevComponent._currentElement;if(shouldUpdateReactComponent(prevElement,nextElement)){return ReactMount._updateRootComponent(prevComponent,nextElement,container,callback)}else{ReactMount.unmountComponentAtNode(container)}}var reactRootElement=getReactRootElementInContainer(container);var containerHasReactMarkup=reactRootElement&&ReactMount.isRenderedByReact(reactRootElement);var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent;var component=ReactMount._renderNewRootComponent(nextElement,container,shouldReuseMarkup);callback&&callback.call(component);return component},constructAndRenderComponent:function(constructor,props,container){var element=createElement(constructor,props);return ReactMount.render(element,container)},constructAndRenderComponentByID:function(constructor,props,id){var domNode=document.getElementById(id);"production"!=="production"?invariant(domNode,'Tried to get element with id of "%s" but it is not present on the page.',id):invariant(domNode);return ReactMount.constructAndRenderComponent(constructor,props,domNode)},registerContainer:function(container){var reactRootID=getReactRootID(container);if(reactRootID){reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)}if(!reactRootID){reactRootID=ReactInstanceHandles.createReactRootID()}containersByReactRootID[reactRootID]=container;return reactRootID},unmountComponentAtNode:function(container){"production"!=="production"?warning(ReactCurrentOwner.current==null,"unmountComponentAtNode(): Render methods should be a pure function of "+"props and state; triggering nested component updates from render is "+"not allowed. If necessary, trigger nested updates in "+"componentDidUpdate."):null;var reactRootID=getReactRootID(container);var component=instancesByReactRootID[reactRootID];if(!component){return false}ReactMount.unmountComponentFromNode(component,container);delete instancesByReactRootID[reactRootID];delete containersByReactRootID[reactRootID];if("production"!=="production"){delete rootElementsByReactRootID[reactRootID]}return true},unmountComponentFromNode:function(instance,container){instance.unmountComponent();if(container.nodeType===DOC_NODE_TYPE){container=container.documentElement}while(container.lastChild){container.removeChild(container.lastChild)}},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id);var container=containersByReactRootID[reactRootID];if("production"!=="production"){var rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){"production"!=="production"?invariant(internalGetID(rootElement)===reactRootID,"ReactMount: Root element ID differed from reactRootID."):invariant(internalGetID(rootElement)===reactRootID);var containerChild=container.firstChild;if(containerChild&&reactRootID===internalGetID(containerChild)){rootElementsByReactRootID[reactRootID]=containerChild}else{console.warn("ReactMount: Root element has been removed from its original "+"container. New container:",rootElement.parentNode)}}}return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},isRenderedByReact:function(node){if(node.nodeType!==1){return false}var id=ReactMount.getID(node);return id?id.charAt(0)===SEPARATOR:false},getFirstReactDOM:function(node){var current=node;while(current&&current.parentNode!==current){if(ReactMount.isRenderedByReact(current)){return current}current=current.parentNode}return null},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray;var childIndex=0;var deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;firstChildren[0]=deepestAncestor.firstChild;firstChildren.length=1;while(childIndex<firstChildren.length){var child=firstChildren[childIndex++];var targetChild;while(child){var childID=ReactMount.getID(child);if(childID){if(targetID===childID){targetChild=child}else if(ReactInstanceHandles.isAncestorIDOf(childID,targetID)){firstChildren.length=childIndex=0;firstChildren.push(child.firstChild)}}else{firstChildren.push(child.firstChild)}child=child.nextSibling}if(targetChild){firstChildren.length=0;return targetChild}}firstChildren.length=0;"production"!=="production"?invariant(false,"findComponentRoot(..., %s): Unable to find element. This probably "+"means the DOM was unexpectedly mutated (e.g., by the browser), "+"usually due to forgetting a <tbody> when using tables, nesting tags "+"like <form>, <p>, or <a>, or using non-SVG elements in an <svg> "+"parent. "+"Try inspecting the child nodes of the element with React ID `%s`.",targetID,ReactMount.getID(ancestorNode)):invariant(false)},getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,purgeID:purgeID};ReactMount.renderComponent=deprecated("ReactMount","renderComponent","render",this,ReactMount.render);module.exports=ReactMount},{"./DOMProperty":95,"./ReactBrowserEventEmitter":116,"./ReactCurrentOwner":125,"./ReactElement":141,"./ReactInstanceHandles":149,"./ReactLegacyElement":150,"./ReactPerf":158,"./containsNode":198,"./deprecated":204,"./getReactRootElementInContainer":218,"./instantiateReactComponent":223,"./invariant":224,"./shouldUpdateReactComponent":240,"./warning":244}],154:[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var flattenChildren=require("./flattenChildren");var instantiateReactComponent=require("./instantiateReactComponent");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var updateDepth=0;var updateQueue=[];var markupQueue=[];function enqueueMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,textContent:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,textContent:textContent,fromIndex:null,toIndex:null})}function processQueue(){if(updateQueue.length){ReactComponent.BackendIDOperations.dangerouslyProcessChildrenUpdates(updateQueue,markupQueue);clearQueue()}}function clearQueue(){updateQueue.length=0;markupQueue.length=0}var ReactMultiChild={Mixin:{mountChildren:function(nestedChildren,transaction){var children=flattenChildren(nestedChildren);var mountImages=[];var index=0;this._renderedChildren=children;for(var name in children){var child=children[name];if(children.hasOwnProperty(name)){var childInstance=instantiateReactComponent(child,null);children[name]=childInstance;var rootID=this._rootNodeID+name;var mountImage=childInstance.mountComponent(rootID,transaction,this._mountDepth+1);childInstance._mountIndex=index;mountImages.push(mountImage);index++}}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=true;try{var prevChildren=this._renderedChildren;for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){this._unmountChildByName(prevChildren[name],name)}}this.setTextContent(nextContent);errorThrown=false}finally{updateDepth--;if(!updateDepth){errorThrown?clearQueue():processQueue()}}},updateChildren:function(nextNestedChildren,transaction){updateDepth++;var errorThrown=true;try{this._updateChildren(nextNestedChildren,transaction);errorThrown=false}finally{updateDepth--;if(!updateDepth){errorThrown?clearQueue():processQueue()}}},_updateChildren:function(nextNestedChildren,transaction){var nextChildren=flattenChildren(nextNestedChildren);var prevChildren=this._renderedChildren;if(!nextChildren&&!prevChildren){return}var name;var lastIndex=0;var nextIndex=0;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue}var prevChild=prevChildren&&prevChildren[name];var prevElement=prevChild&&prevChild._currentElement;var nextElement=nextChildren[name];if(shouldUpdateReactComponent(prevElement,nextElement)){this.moveChild(prevChild,nextIndex,lastIndex);lastIndex=Math.max(prevChild._mountIndex,lastIndex);prevChild.receiveComponent(nextElement,transaction);prevChild._mountIndex=nextIndex}else{if(prevChild){lastIndex=Math.max(prevChild._mountIndex,lastIndex);this._unmountChildByName(prevChild,name)}var nextChildInstance=instantiateReactComponent(nextElement,null);this._mountChildByNameAtIndex(nextChildInstance,name,nextIndex,transaction)}nextIndex++}for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren[name])){this._unmountChildByName(prevChildren[name],name)}}},unmountChildren:function(){var renderedChildren=this._renderedChildren;for(var name in renderedChildren){var renderedChild=renderedChildren[name];if(renderedChild.unmountComponent){renderedChild.unmountComponent()}}this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){if(child._mountIndex<lastIndex){enqueueMove(this._rootNodeID,child._mountIndex,toIndex)}},createChild:function(child,mountImage){enqueueMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},_mountChildByNameAtIndex:function(child,name,index,transaction){var rootID=this._rootNodeID+name;var mountImage=child.mountComponent(rootID,transaction,this._mountDepth+1);child._mountIndex=index;this.createChild(child,mountImage);this._renderedChildren=this._renderedChildren||{};this._renderedChildren[name]=child},_unmountChildByName:function(child,name){this.removeChild(child);child._mountIndex=null;child.unmountComponent();delete this._renderedChildren[name]}}};module.exports=ReactMultiChild},{"./ReactComponent":120,"./ReactMultiChildUpdateTypes":155,"./flattenChildren":208,"./instantiateReactComponent":223,"./shouldUpdateReactComponent":240}],155:[function(require,module,exports){"use strict";var keyMirror=require("./keyMirror");var ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"./keyMirror":230}],156:[function(require,module,exports){"use strict";var assign=require("./Object.assign");var invariant=require("./invariant");var genericComponentClass=null;var tagToComponentClass={};var ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses)}};function createInstanceForTag(tag,props,parentType){var componentClass=tagToComponentClass[tag];if(componentClass==null){"production"!=="production"?invariant(genericComponentClass,"There is no registered component for the tag %s",tag):invariant(genericComponentClass);return new genericComponentClass(tag,props)}if(parentType===tag){"production"!=="production"?invariant(genericComponentClass,"There is no registered component for the tag %s",tag):invariant(genericComponentClass);return new genericComponentClass(tag,props)}return new componentClass.type(props)}var ReactNativeComponent={createInstanceForTag:createInstanceForTag,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent},{"./Object.assign":112,"./invariant":224}],157:[function(require,module,exports){"use strict";var emptyObject=require("./emptyObject");var invariant=require("./invariant");var ReactOwner={isValidOwner:function(object){return!!(object&&typeof object.attachRef==="function"&&typeof object.detachRef==="function")},addComponentAsRefTo:function(component,ref,owner){"production"!=="production"?invariant(ReactOwner.isValidOwner(owner),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This "+"usually means that you're trying to add a ref to a component that "+"doesn't have an owner (that is, was not created inside of another "+"component's `render` method). Try rendering this component inside of "+"a new top-level component which will hold the ref."):invariant(ReactOwner.isValidOwner(owner));owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){"production"!=="production"?invariant(ReactOwner.isValidOwner(owner),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This "+"usually means that you're trying to remove a ref to a component that "+"doesn't have an owner (that is, was not created inside of another "+"component's `render` method). Try rendering this component inside of "+"a new top-level component which will hold the ref."):invariant(ReactOwner.isValidOwner(owner));if(owner.refs[ref]===component){owner.detachRef(ref)}},Mixin:{construct:function(){this.refs=emptyObject},attachRef:function(ref,component){"production"!=="production"?invariant(component.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",ref):invariant(component.isOwnedBy(this));var refs=this.refs===emptyObject?this.refs={}:this.refs;refs[ref]=component},detachRef:function(ref){delete this.refs[ref]}}};module.exports=ReactOwner},{"./emptyObject":206,"./invariant":224}],158:[function(require,module,exports){"use strict";var ReactPerf={enableMeasure:false,storedMeasure:_noMeasure,measure:function(objName,fnName,func){if("production"!=="production"){var measuredFunc=null;var wrapper=function(){if(ReactPerf.enableMeasure){if(!measuredFunc){measuredFunc=ReactPerf.storedMeasure(objName,fnName,func)}return measuredFunc.apply(this,arguments)}return func.apply(this,arguments)};wrapper.displayName=objName+"_"+fnName;return wrapper}return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};function _noMeasure(objName,fnName,func){return func}module.exports=ReactPerf},{}],159:[function(require,module,exports){"use strict";var assign=require("./Object.assign");var emptyFunction=require("./emptyFunction");var invariant=require("./invariant");var joinClasses=require("./joinClasses");var warning=require("./warning");var didWarn=false;function createTransferStrategy(mergeStrategy){return function(props,key,value){if(!props.hasOwnProperty(key)){props[key]=value}else{props[key]=mergeStrategy(props[key],value)}}}var transferStrategyMerge=createTransferStrategy(function(a,b){return assign({},b,a)});var TransferStrategies={children:emptyFunction,className:createTransferStrategy(joinClasses),style:transferStrategyMerge};function transferInto(props,newProps){for(var thisKey in newProps){if(!newProps.hasOwnProperty(thisKey)){continue}var transferStrategy=TransferStrategies[thisKey];if(transferStrategy&&TransferStrategies.hasOwnProperty(thisKey)){transferStrategy(props,thisKey,newProps[thisKey])}else if(!props.hasOwnProperty(thisKey)){props[thisKey]=newProps[thisKey]}}return props}var ReactPropTransferer={TransferStrategies:TransferStrategies,mergeProps:function(oldProps,newProps){return transferInto(assign({},oldProps),newProps)},Mixin:{transferPropsTo:function(element){"production"!=="production"?invariant(element._owner===this,"%s: You can't call transferPropsTo() on a component that you "+"don't own, %s. This usually means you are calling "+"transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,typeof element.type==="string"?element.type:element.type.displayName):invariant(element._owner===this);if("production"!=="production"){if(!didWarn){didWarn=true;"production"!=="production"?warning(false,"transferPropsTo is deprecated. "+"See http://fb.me/react-transferpropsto for more information."):null}}transferInto(element.props,this.props);return element}}};module.exports=ReactPropTransferer},{"./Object.assign":112,"./emptyFunction":205,"./invariant":224,"./joinClasses":229,"./warning":244}],160:[function(require,module,exports){"use strict";var ReactPropTypeLocationNames={};if("production"!=="production"){ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"}}module.exports=ReactPropTypeLocationNames},{}],161:[function(require,module,exports){"use strict";var keyMirror=require("./keyMirror");var ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{"./keyMirror":230}],162:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var deprecated=require("./deprecated");var emptyFunction=require("./emptyFunction");var ANONYMOUS="<<anonymous>>";var elementTypeChecker=createElementTypeChecker();var nodeTypeChecker=createNodeChecker();var ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:elementTypeChecker,instanceOf:createInstanceTypeChecker,node:nodeTypeChecker,objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,component:deprecated("React.PropTypes","component","element",this,elementTypeChecker),renderable:deprecated("React.PropTypes","renderable","node",this,nodeTypeChecker)};function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location){componentName=componentName||ANONYMOUS;if(props[propName]==null){var locationName=ReactPropTypeLocationNames[location];if(isRequired){return new Error("Required "+locationName+" `"+propName+"` was not specified in "+("`"+componentName+"`."))}}else{return validate(props,propName,componentName,location)}}var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location];var preciseType=getPreciseType(propValue);return new Error("Invalid "+locationName+" `"+propName+"` of type `"+preciseType+"` "+("supplied to `"+componentName+"`, expected `"+expectedType+"`."))}}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns())}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location];var propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."));

}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location);if(error instanceof Error){return error}}}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propName+"` supplied to "+("`"+componentName+"`, expected a ReactElement."))}}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location];var expectedClassName=expectedClass.name||ANONYMOUS;return new Error("Invalid "+locationName+" `"+propName+"` supplied to "+("`"+componentName+"`, expected instance of `"+expectedClassName+"`."))}}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++){if(propValue===expectedValues[i]){return}}var locationName=ReactPropTypeLocationNames[location];var valuesString=JSON.stringify(expectedValues);return new Error("Invalid "+locationName+" `"+propName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue){if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location);if(error instanceof Error){return error}}}}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location)==null){return}}var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(props,propName,componentName,location){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue}var error=checker(propValue,key,componentName,location);if(error){return error}}}return createChainableTypeChecker(validate,"expected `object`")}function isNode(propValue){switch(typeof propValue){case"number":case"string":return true;case"boolean":return!propValue;case"object":if(Array.isArray(propValue)){return propValue.every(isNode)}if(ReactElement.isValidElement(propValue)){return true}for(var k in propValue){if(!isNode(propValue[k])){return false}}return true;default:return false}}function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return"array"}if(propValue instanceof RegExp){return"object"}return propType}function getPreciseType(propValue){var propType=getPropType(propValue);if(propType==="object"){if(propValue instanceof Date){return"date"}else if(propValue instanceof RegExp){return"regexp"}}return propType}module.exports=ReactPropTypes},{"./ReactElement":141,"./ReactPropTypeLocationNames":160,"./deprecated":204,"./emptyFunction":205}],163:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var assign=require("./Object.assign");function ReactPutListenerQueue(){this.listenersToPut=[]}assign(ReactPutListenerQueue.prototype,{enqueuePutListener:function(rootNodeID,propKey,propValue){this.listenersToPut.push({rootNodeID:rootNodeID,propKey:propKey,propValue:propValue})},putListeners:function(){for(var i=0;i<this.listenersToPut.length;i++){var listenerToPut=this.listenersToPut[i];ReactBrowserEventEmitter.putListener(listenerToPut.rootNodeID,listenerToPut.propKey,listenerToPut.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}});PooledClass.addPoolingTo(ReactPutListenerQueue);module.exports=ReactPutListenerQueue},{"./Object.assign":112,"./PooledClass":113,"./ReactBrowserEventEmitter":116}],164:[function(require,module,exports){"use strict";var CallbackQueue=require("./CallbackQueue");var PooledClass=require("./PooledClass");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactInputSelection=require("./ReactInputSelection");var ReactPutListenerQueue=require("./ReactPutListenerQueue");var Transaction=require("./Transaction");var assign=require("./Object.assign");var SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection};var EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();ReactBrowserEventEmitter.setEnabled(false);return currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}};var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}};var PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}};var TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING];function ReactReconcileTransaction(){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=CallbackQueue.getPooled(null);this.putListenerQueue=ReactPutListenerQueue.getPooled()}var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null;ReactPutListenerQueue.release(this.putListenerQueue);this.putListenerQueue=null}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactReconcileTransaction);module.exports=ReactReconcileTransaction},{"./CallbackQueue":90,"./Object.assign":112,"./PooledClass":113,"./ReactBrowserEventEmitter":116,"./ReactInputSelection":148,"./ReactPutListenerQueue":163,"./Transaction":191}],165:[function(require,module,exports){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}};var ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex},{}],166:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction");var instantiateReactComponent=require("./instantiateReactComponent");var invariant=require("./invariant");function renderToString(element){"production"!=="production"?invariant(ReactElement.isValidElement(element),"renderToString(): You must pass a valid ReactElement."):invariant(ReactElement.isValidElement(element));var transaction;try{var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(false);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);var markup=componentInstance.mountComponent(id,transaction,0);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction)}}function renderToStaticMarkup(element){"production"!=="production"?invariant(ReactElement.isValidElement(element),"renderToStaticMarkup(): You must pass a valid ReactElement."):invariant(ReactElement.isValidElement(element));var transaction;try{var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(true);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,0)},null)}finally{ReactServerRenderingTransaction.release(transaction)}}module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup}},{"./ReactElement":141,"./ReactInstanceHandles":149,"./ReactMarkupChecksum":152,"./ReactServerRenderingTransaction":167,"./instantiateReactComponent":223,"./invariant":224}],167:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var CallbackQueue=require("./CallbackQueue");var ReactPutListenerQueue=require("./ReactPutListenerQueue");var Transaction=require("./Transaction");var assign=require("./Object.assign");var emptyFunction=require("./emptyFunction");var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction};var PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset()},close:emptyFunction};var TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,ON_DOM_READY_QUEUEING];function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction();this.renderToStaticMarkup=renderToStaticMarkup;this.reactMountReady=CallbackQueue.getPooled(null);this.putListenerQueue=ReactPutListenerQueue.getPooled()}var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null;ReactPutListenerQueue.release(this.putListenerQueue);this.putListenerQueue=null}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactServerRenderingTransaction);module.exports=ReactServerRenderingTransaction},{"./CallbackQueue":90,"./Object.assign":112,"./PooledClass":113,"./ReactPutListenerQueue":163,"./Transaction":191,"./emptyFunction":205}],168:[function(require,module,exports){"use strict";var ReactStateSetters={createStateSetter:function(component,funcReturningState){return function(a,b,c,d,e,f){var partialState=funcReturningState.call(component,a,b,c,d,e,f);if(partialState){component.setState(partialState)}}},createStateKeySetter:function(component,key){var cache=component.__keySetters||(component.__keySetters={});return cache[key]||(cache[key]=createStateKeySetter(component,key))}};function createStateKeySetter(component,key){var partialState={};return function stateKeySetter(value){partialState[key]=value;component.setState(partialState)}}ReactStateSetters.Mixin={createStateSetter:function(funcReturningState){return ReactStateSetters.createStateSetter(this,funcReturningState)},createStateKeySetter:function(key){return ReactStateSetters.createStateKeySetter(this,key)}};module.exports=ReactStateSetters},{}],169:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPropagators=require("./EventPropagators");var React=require("./React");var ReactElement=require("./ReactElement");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactMount=require("./ReactMount");var ReactTextComponent=require("./ReactTextComponent");var ReactUpdates=require("./ReactUpdates");var SyntheticEvent=require("./SyntheticEvent");var assign=require("./Object.assign");var topLevelTypes=EventConstants.topLevelTypes;function Event(suffix){}var ReactTestUtils={renderIntoDocument:function(instance){var div=document.createElement("div");return React.render(instance,div)},isElement:function(element){return ReactElement.isValidElement(element)},isElementOfType:function(inst,convenienceConstructor){return ReactElement.isValidElement(inst)&&inst.type===convenienceConstructor.type},isDOMComponent:function(inst){return!!(inst&&inst.mountComponent&&inst.tagName)},isDOMComponentElement:function(inst){return!!(inst&&ReactElement.isValidElement(inst)&&!!inst.tagName)},isCompositeComponent:function(inst){return typeof inst.render==="function"&&typeof inst.setState==="function"},isCompositeComponentWithType:function(inst,type){return!!(ReactTestUtils.isCompositeComponent(inst)&&inst.constructor===type.type)},isCompositeComponentElement:function(inst){if(!ReactElement.isValidElement(inst)){return false}var prototype=inst.type.prototype;return typeof prototype.render==="function"&&typeof prototype.setState==="function"},isCompositeComponentElementWithType:function(inst,type){return!!(ReactTestUtils.isCompositeComponentElement(inst)&&inst.constructor===type)},isTextComponent:function(inst){return inst instanceof ReactTextComponent.type},findAllInRenderedTree:function(inst,test){if(!inst){return[]}var ret=test(inst)?[inst]:[];if(ReactTestUtils.isDOMComponent(inst)){var renderedChildren=inst._renderedChildren;var key;for(key in renderedChildren){if(!renderedChildren.hasOwnProperty(key)){continue}ret=ret.concat(ReactTestUtils.findAllInRenderedTree(renderedChildren[key],test))}}else if(ReactTestUtils.isCompositeComponent(inst)){ret=ret.concat(ReactTestUtils.findAllInRenderedTree(inst._renderedComponent,test))}return ret},scryRenderedDOMComponentsWithClass:function(root,className){return ReactTestUtils.findAllInRenderedTree(root,function(inst){var instClassName=inst.props.className;return ReactTestUtils.isDOMComponent(inst)&&(instClassName&&(" "+instClassName+" ").indexOf(" "+className+" ")!==-1)})},findRenderedDOMComponentWithClass:function(root,className){var all=ReactTestUtils.scryRenderedDOMComponentsWithClass(root,className);if(all.length!==1){throw new Error("Did not find exactly one match for class:"+className)}return all[0]},scryRenderedDOMComponentsWithTag:function(root,tagName){return ReactTestUtils.findAllInRenderedTree(root,function(inst){return ReactTestUtils.isDOMComponent(inst)&&inst.tagName===tagName.toUpperCase()})},findRenderedDOMComponentWithTag:function(root,tagName){var all=ReactTestUtils.scryRenderedDOMComponentsWithTag(root,tagName);if(all.length!==1){throw new Error("Did not find exactly one match for tag:"+tagName)}return all[0]},scryRenderedComponentsWithType:function(root,componentType){return ReactTestUtils.findAllInRenderedTree(root,function(inst){return ReactTestUtils.isCompositeComponentWithType(inst,componentType)})},findRenderedComponentWithType:function(root,componentType){var all=ReactTestUtils.scryRenderedComponentsWithType(root,componentType);if(all.length!==1){throw new Error("Did not find exactly one match for componentType:"+componentType)}return all[0]},mockComponent:function(module,mockTagName){mockTagName=mockTagName||module.mockTagName||"div";var ConvenienceConstructor=React.createClass({displayName:"ConvenienceConstructor",render:function(){return React.createElement(mockTagName,null,this.props.children)}});module.mockImplementation(ConvenienceConstructor);module.type=ConvenienceConstructor.type;module.isReactLegacyFactory=true;return this},simulateNativeEventOnNode:function(topLevelType,node,fakeNativeEvent){fakeNativeEvent.target=node;ReactBrowserEventEmitter.ReactEventListener.dispatchEvent(topLevelType,fakeNativeEvent)},simulateNativeEventOnDOMComponent:function(topLevelType,comp,fakeNativeEvent){ReactTestUtils.simulateNativeEventOnNode(topLevelType,comp.getDOMNode(),fakeNativeEvent)},nativeTouchData:function(x,y){return{touches:[{pageX:x,pageY:y}]}},Simulate:null,SimulateNative:{}};function makeSimulator(eventType){return function(domComponentOrNode,eventData){var node;if(ReactTestUtils.isDOMComponent(domComponentOrNode)){node=domComponentOrNode.getDOMNode()}else if(domComponentOrNode.tagName){node=domComponentOrNode}var fakeNativeEvent=new Event;fakeNativeEvent.target=node;var event=new SyntheticEvent(ReactBrowserEventEmitter.eventNameDispatchConfigs[eventType],ReactMount.getID(node),fakeNativeEvent);assign(event,eventData);EventPropagators.accumulateTwoPhaseDispatches(event);ReactUpdates.batchedUpdates(function(){EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue()})}}function buildSimulators(){ReactTestUtils.Simulate={};var eventType;for(eventType in ReactBrowserEventEmitter.eventNameDispatchConfigs){ReactTestUtils.Simulate[eventType]=makeSimulator(eventType)}}var oldInjectEventPluginOrder=EventPluginHub.injection.injectEventPluginOrder;EventPluginHub.injection.injectEventPluginOrder=function(){oldInjectEventPluginOrder.apply(this,arguments);buildSimulators()};var oldInjectEventPlugins=EventPluginHub.injection.injectEventPluginsByName;EventPluginHub.injection.injectEventPluginsByName=function(){oldInjectEventPlugins.apply(this,arguments);buildSimulators()};buildSimulators();function makeNativeSimulator(eventType){return function(domComponentOrNode,nativeEventData){var fakeNativeEvent=new Event(eventType);assign(fakeNativeEvent,nativeEventData);if(ReactTestUtils.isDOMComponent(domComponentOrNode)){ReactTestUtils.simulateNativeEventOnDOMComponent(eventType,domComponentOrNode,fakeNativeEvent)}else if(!!domComponentOrNode.tagName){ReactTestUtils.simulateNativeEventOnNode(eventType,domComponentOrNode,fakeNativeEvent)}}}var eventType;for(eventType in topLevelTypes){var convenienceName=eventType.indexOf("top")===0?eventType.charAt(3).toLowerCase()+eventType.substr(4):eventType;ReactTestUtils.SimulateNative[convenienceName]=makeNativeSimulator(eventType)}module.exports=ReactTestUtils},{"./EventConstants":100,"./EventPluginHub":102,"./EventPropagators":105,"./Object.assign":112,"./React":114,"./ReactBrowserEventEmitter":116,"./ReactElement":141,"./ReactMount":153,"./ReactTextComponent":170,"./ReactUpdates":174,"./SyntheticEvent":183}],170:[function(require,module,exports){"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactComponent=require("./ReactComponent");var ReactElement=require("./ReactElement");var assign=require("./Object.assign");var escapeTextForBrowser=require("./escapeTextForBrowser");var ReactTextComponent=function(props){};assign(ReactTextComponent.prototype,ReactComponent.Mixin,{mountComponent:function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);var escapedText=escapeTextForBrowser(this.props);if(transaction.renderToStaticMarkup){return escapedText}return"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"},receiveComponent:function(nextComponent,transaction){var nextProps=nextComponent.props;if(nextProps!==this.props){this.props=nextProps;ReactComponent.BackendIDOperations.updateTextContentByID(this._rootNodeID,nextProps)}}});var ReactTextComponentFactory=function(text){return new ReactElement(ReactTextComponent,null,null,null,null,text)};ReactTextComponentFactory.type=ReactTextComponent;module.exports=ReactTextComponentFactory},{"./DOMPropertyOperations":96,"./Object.assign":112,"./ReactComponent":120,"./ReactElement":141,"./escapeTextForBrowser":207}],171:[function(require,module,exports){"use strict";var ReactChildren=require("./ReactChildren");var ReactTransitionChildMapping={getChildMapping:function(children){return ReactChildren.map(children,function(child){return child})},mergeChildMappings:function(prev,next){prev=prev||{};next=next||{};function getValueForKey(key){if(next.hasOwnProperty(key)){return next[key]}else{return prev[key]}}var nextKeysPending={};var pendingKeys=[];for(var prevKey in prev){if(next.hasOwnProperty(prevKey)){if(pendingKeys.length){nextKeysPending[prevKey]=pendingKeys;pendingKeys=[]}}else{pendingKeys.push(prevKey)}}var i;var childMapping={};for(var nextKey in next){if(nextKeysPending.hasOwnProperty(nextKey)){for(i=0;i<nextKeysPending[nextKey].length;i++){var pendingNextKey=nextKeysPending[nextKey][i];childMapping[nextKeysPending[nextKey][i]]=getValueForKey(pendingNextKey)}}childMapping[nextKey]=getValueForKey(nextKey)}for(i=0;i<pendingKeys.length;i++){childMapping[pendingKeys[i]]=getValueForKey(pendingKeys[i])}return childMapping}};module.exports=ReactTransitionChildMapping},{"./ReactChildren":119}],172:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var EVENT_NAME_MAP={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}};var endEvents=[];function detectEvents(){var testEl=document.createElement("div");var style=testEl.style;if(!("AnimationEvent"in window)){delete EVENT_NAME_MAP.animationend.animation}if(!("TransitionEvent"in window)){delete EVENT_NAME_MAP.transitionend.transition}for(var baseEventName in EVENT_NAME_MAP){var baseEvents=EVENT_NAME_MAP[baseEventName];for(var styleName in baseEvents){if(styleName in style){endEvents.push(baseEvents[styleName]);break}}}}if(ExecutionEnvironment.canUseDOM){detectEvents()}function addEventListener(node,eventName,eventListener){node.addEventListener(eventName,eventListener,false)}function removeEventListener(node,eventName,eventListener){node.removeEventListener(eventName,eventListener,false)}var ReactTransitionEvents={addEndEventListener:function(node,eventListener){if(endEvents.length===0){window.setTimeout(eventListener,0);return}endEvents.forEach(function(endEvent){addEventListener(node,endEvent,eventListener)})},removeEndEventListener:function(node,eventListener){if(endEvents.length===0){return}endEvents.forEach(function(endEvent){removeEventListener(node,endEvent,eventListener)})}};module.exports=ReactTransitionEvents},{"./ExecutionEnvironment":106}],173:[function(require,module,exports){"use strict";var React=require("./React");var ReactTransitionChildMapping=require("./ReactTransitionChildMapping");var assign=require("./Object.assign");var cloneWithProps=require("./cloneWithProps");var emptyFunction=require("./emptyFunction");var ReactTransitionGroup=React.createClass({displayName:"ReactTransitionGroup",propTypes:{component:React.PropTypes.any,childFactory:React.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:emptyFunction.thatReturnsArgument}},getInitialState:function(){return{children:ReactTransitionChildMapping.getChildMapping(this.props.children)}},componentWillReceiveProps:function(nextProps){var nextChildMapping=ReactTransitionChildMapping.getChildMapping(nextProps.children);var prevChildMapping=this.state.children;this.setState({children:ReactTransitionChildMapping.mergeChildMappings(prevChildMapping,nextChildMapping)});var key;for(key in nextChildMapping){var hasPrev=prevChildMapping&&prevChildMapping.hasOwnProperty(key);if(nextChildMapping[key]&&!hasPrev&&!this.currentlyTransitioningKeys[key]){this.keysToEnter.push(key)}}for(key in prevChildMapping){var hasNext=nextChildMapping&&nextChildMapping.hasOwnProperty(key);if(prevChildMapping[key]&&!hasNext&&!this.currentlyTransitioningKeys[key]){this.keysToLeave.push(key)}}},componentWillMount:function(){this.currentlyTransitioningKeys={};this.keysToEnter=[];this.keysToLeave=[]},componentDidUpdate:function(){var keysToEnter=this.keysToEnter;this.keysToEnter=[];keysToEnter.forEach(this.performEnter);var keysToLeave=this.keysToLeave;this.keysToLeave=[];keysToLeave.forEach(this.performLeave)},performEnter:function(key){this.currentlyTransitioningKeys[key]=true;var component=this.refs[key];if(component.componentWillEnter){component.componentWillEnter(this._handleDoneEntering.bind(this,key))}else{this._handleDoneEntering(key)}},_handleDoneEntering:function(key){var component=this.refs[key];if(component.componentDidEnter){component.componentDidEnter()}delete this.currentlyTransitioningKeys[key];var currentChildMapping=ReactTransitionChildMapping.getChildMapping(this.props.children);if(!currentChildMapping||!currentChildMapping.hasOwnProperty(key)){this.performLeave(key)}},performLeave:function(key){this.currentlyTransitioningKeys[key]=true;var component=this.refs[key];if(component.componentWillLeave){component.componentWillLeave(this._handleDoneLeaving.bind(this,key))}else{this._handleDoneLeaving(key)}},_handleDoneLeaving:function(key){var component=this.refs[key];if(component.componentDidLeave){component.componentDidLeave()}delete this.currentlyTransitioningKeys[key];var currentChildMapping=ReactTransitionChildMapping.getChildMapping(this.props.children);if(currentChildMapping&&currentChildMapping.hasOwnProperty(key)){this.performEnter(key)}else{var newChildren=assign({},this.state.children);delete newChildren[key];this.setState({children:newChildren})}},render:function(){var childrenToRender={};for(var key in this.state.children){var child=this.state.children[key];if(child){childrenToRender[key]=cloneWithProps(this.props.childFactory(child),{ref:key})}}return React.createElement(this.props.component,this.props,childrenToRender)}});module.exports=ReactTransitionGroup},{"./Object.assign":112,"./React":114,"./ReactTransitionChildMapping":171,"./cloneWithProps":197,"./emptyFunction":205}],174:[function(require,module,exports){"use strict";var CallbackQueue=require("./CallbackQueue");var PooledClass=require("./PooledClass");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactPerf=require("./ReactPerf");var Transaction=require("./Transaction");var assign=require("./Object.assign");var invariant=require("./invariant");var warning=require("./warning");var dirtyComponents=[];var asapCallbackQueue=CallbackQueue.getPooled();var asapEnqueued=false;var batchingStrategy=null;function ensureInjected(){"production"!=="production"?invariant(ReactUpdates.ReactReconcileTransaction&&batchingStrategy,"ReactUpdates: must inject a reconcile transaction class and batching "+"strategy"):invariant(ReactUpdates.ReactReconcileTransaction&&batchingStrategy)}var NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){if(this.dirtyComponentsLength!==dirtyComponents.length){dirtyComponents.splice(0,this.dirtyComponentsLength);flushBatchedUpdates()}else{dirtyComponents.length=0}}};var UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}};var TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];function ReactUpdatesFlushTransaction(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=CallbackQueue.getPooled();this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled()}assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null;CallbackQueue.release(this.callbackQueue);this.callbackQueue=null;ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}});PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);function batchedUpdates(callback,a,b){ensureInjected();batchingStrategy.batchedUpdates(callback,a,b)}function mountDepthComparator(c1,c2){return c1._mountDepth-c2._mountDepth}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;"production"!=="production"?invariant(len===dirtyComponents.length,"Expected flush transaction's stored dirty-components length (%s) to "+"match dirty-components array length (%s).",len,dirtyComponents.length):invariant(len===dirtyComponents.length);dirtyComponents.sort(mountDepthComparator);for(var i=0;i<len;i++){var component=dirtyComponents[i];if(component.isMounted()){var callbacks=component._pendingCallbacks;component._pendingCallbacks=null;component.performUpdateIfNecessary(transaction.reconcileTransaction);if(callbacks){for(var j=0;j<callbacks.length;j++){transaction.callbackQueue.enqueue(callbacks[j],component)}}}}}var flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",function(){while(dirtyComponents.length||asapEnqueued){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction);ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=false;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled();queue.notifyAll();CallbackQueue.release(queue)}}});function enqueueUpdate(component,callback){"production"!=="production"?invariant(!callback||typeof callback==="function","enqueueUpdate(...): You called `setProps`, `replaceProps`, "+"`setState`, `replaceState`, or `forceUpdate` with a callback that "+"isn't callable."):invariant(!callback||typeof callback==="function");ensureInjected();"production"!=="production"?warning(ReactCurrentOwner.current==null,"enqueueUpdate(): Render methods should be a pure function of props "+"and state; triggering nested component updates from render is not "+"allowed. If necessary, trigger nested updates in "+"componentDidUpdate."):null;if(!batchingStrategy.isBatchingUpdates){batchingStrategy.batchedUpdates(enqueueUpdate,component,callback);return}dirtyComponents.push(component);if(callback){if(component._pendingCallbacks){component._pendingCallbacks.push(callback)}else{component._pendingCallbacks=[callback]}}}function asap(callback,context){"production"!=="production"?invariant(batchingStrategy.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context where"+"updates are not being batched."):invariant(batchingStrategy.isBatchingUpdates);asapCallbackQueue.enqueue(callback,context);asapEnqueued=true}var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){"production"!=="production"?invariant(ReconcileTransaction,"ReactUpdates: must provide a reconcile transaction class"):invariant(ReconcileTransaction);ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){"production"!=="production"?invariant(_batchingStrategy,"ReactUpdates: must provide a batching strategy"):invariant(_batchingStrategy);"production"!=="production"?invariant(typeof _batchingStrategy.batchedUpdates==="function","ReactUpdates: must provide a batchedUpdates() function"):invariant(typeof _batchingStrategy.batchedUpdates==="function");"production"!=="production"?invariant(typeof _batchingStrategy.isBatchingUpdates==="boolean","ReactUpdates: must provide an isBatchingUpdates boolean attribute"):invariant(typeof _batchingStrategy.isBatchingUpdates==="boolean");batchingStrategy=_batchingStrategy}};var ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates},{"./CallbackQueue":90,"./Object.assign":112,"./PooledClass":113,
"./ReactCurrentOwner":125,"./ReactPerf":158,"./Transaction":191,"./invariant":224,"./warning":244}],175:[function(require,module,exports){"use strict";var LinkedStateMixin=require("./LinkedStateMixin");var React=require("./React");var ReactComponentWithPureRenderMixin=require("./ReactComponentWithPureRenderMixin");var ReactCSSTransitionGroup=require("./ReactCSSTransitionGroup");var ReactTransitionGroup=require("./ReactTransitionGroup");var ReactUpdates=require("./ReactUpdates");var cx=require("./cx");var cloneWithProps=require("./cloneWithProps");var update=require("./update");React.addons={CSSTransitionGroup:ReactCSSTransitionGroup,LinkedStateMixin:LinkedStateMixin,PureRenderMixin:ReactComponentWithPureRenderMixin,TransitionGroup:ReactTransitionGroup,batchedUpdates:ReactUpdates.batchedUpdates,classSet:cx,cloneWithProps:cloneWithProps,update:update};if("production"!=="production"){React.addons.Perf=require("./ReactDefaultPerf");React.addons.TestUtils=require("./ReactTestUtils")}module.exports=React},{"./LinkedStateMixin":108,"./React":114,"./ReactCSSTransitionGroup":117,"./ReactComponentWithPureRenderMixin":122,"./ReactDefaultPerf":139,"./ReactTestUtils":169,"./ReactTransitionGroup":173,"./ReactUpdates":174,"./cloneWithProps":197,"./cx":202,"./update":243}],176:[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var SVGDOMPropertyConfig={Properties:{cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};module.exports=SVGDOMPropertyConfig},{"./DOMProperty":95}],177:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ReactInputSelection=require("./ReactInputSelection");var SyntheticEvent=require("./SyntheticEvent");var getActiveElement=require("./getActiveElement");var isTextInputElement=require("./isTextInputElement");var keyOf=require("./keyOf");var shallowEqual=require("./shallowEqual");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var lastSelection=null;var mouseDown=false;function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node)){return{start:node.selectionStart,end:node.selectionEnd}}else if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}else if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent){if(mouseDown||activeElement==null||activeElement!=getActiveElement()){return}var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent);syntheticEvent.type="select";syntheticEvent.target=activeElement;EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);return syntheticEvent}}var SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(topLevelTarget)||topLevelTarget.contentEditable==="true"){activeElement=topLevelTarget;activeElementID=topLevelTargetID;lastSelection=null}break;case topLevelTypes.topBlur:activeElement=null;activeElementID=null;lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=true;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:mouseDown=false;return constructSelectEvent(nativeEvent);case topLevelTypes.topSelectionChange:case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent)}}};module.exports=SelectEventPlugin},{"./EventConstants":100,"./EventPropagators":105,"./ReactInputSelection":148,"./SyntheticEvent":183,"./getActiveElement":211,"./isTextInputElement":227,"./keyOf":231,"./shallowEqual":239}],178:[function(require,module,exports){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53);var ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex},{}],179:[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginUtils=require("./EventPluginUtils");var EventPropagators=require("./EventPropagators");var SyntheticClipboardEvent=require("./SyntheticClipboardEvent");var SyntheticEvent=require("./SyntheticEvent");var SyntheticFocusEvent=require("./SyntheticFocusEvent");var SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var SyntheticDragEvent=require("./SyntheticDragEvent");var SyntheticTouchEvent=require("./SyntheticTouchEvent");var SyntheticUIEvent=require("./SyntheticUIEvent");var SyntheticWheelEvent=require("./SyntheticWheelEvent");var getEventCharCode=require("./getEventCharCode");var invariant=require("./invariant");var keyOf=require("./keyOf");var warning=require("./warning");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:true}),captured:keyOf({onBlurCapture:true})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:true}),captured:keyOf({onClickCapture:true})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:true}),captured:keyOf({onContextMenuCapture:true})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:true}),captured:keyOf({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:true}),captured:keyOf({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:true}),captured:keyOf({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:true}),captured:keyOf({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:true}),captured:keyOf({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:true}),captured:keyOf({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:true}),captured:keyOf({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:true}),captured:keyOf({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:true}),captured:keyOf({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:true}),captured:keyOf({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:true}),captured:keyOf({onDropCapture:true})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:true}),captured:keyOf({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:true}),captured:keyOf({onInputCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:true}),captured:keyOf({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:true}),captured:keyOf({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:true}),captured:keyOf({onKeyUpCapture:true})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:true}),captured:keyOf({onLoadCapture:true})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:true}),captured:keyOf({onErrorCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:true}),captured:keyOf({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:true}),captured:keyOf({onMouseMoveCapture:true})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:true}),captured:keyOf({onMouseOutCapture:true})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:true}),captured:keyOf({onMouseOverCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:true}),captured:keyOf({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:true}),captured:keyOf({onPasteCapture:true})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:true}),captured:keyOf({onResetCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:true}),captured:keyOf({onScrollCapture:true})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:true}),captured:keyOf({onSubmitCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:true}),captured:keyOf({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:true}),captured:keyOf({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:true}),captured:keyOf({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:true}),captured:keyOf({onTouchStartCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:true}),captured:keyOf({onWheelCapture:true})}}};var topLevelEventsToDispatchConfig={topBlur:eventTypes.blur,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSubmit:eventTypes.submit,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topWheel:eventTypes.wheel};for(var topLevelType in topLevelEventsToDispatchConfig){topLevelEventsToDispatchConfig[topLevelType].dependencies=[topLevelType]}var SimpleEventPlugin={eventTypes:eventTypes,executeDispatch:function(event,listener,domID){var returnValue=EventPluginUtils.executeDispatch(event,listener,domID);"production"!=="production"?warning(typeof returnValue!=="boolean","Returning `false` from an event handler is deprecated and will be "+"ignored in a future release. Instead, manually call "+"e.stopPropagation() or e.preventDefault(), as appropriate."):null;if(returnValue===false){event.stopPropagation();event.preventDefault()}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig){return null}var EventConstructor;switch(topLevelType){case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topError:case topLevelTypes.topReset:case topLevelTypes.topSubmit:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(getEventCharCode(nativeEvent)===0){return null}case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2){return null}case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent;break}"production"!=="production"?invariant(EventConstructor,"SimpleEventPlugin: Unhandled event type, `%s`.",topLevelType):invariant(EventConstructor);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event);return event}};module.exports=SimpleEventPlugin},{"./EventConstants":100,"./EventPluginUtils":104,"./EventPropagators":105,"./SyntheticClipboardEvent":180,"./SyntheticDragEvent":182,"./SyntheticEvent":183,"./SyntheticFocusEvent":184,"./SyntheticKeyboardEvent":186,"./SyntheticMouseEvent":187,"./SyntheticTouchEvent":188,"./SyntheticUIEvent":189,"./SyntheticWheelEvent":190,"./getEventCharCode":212,"./invariant":224,"./keyOf":231,"./warning":244}],180:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface);module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":183}],181:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var CompositionEventInterface={data:null};function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface);module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":183}],182:[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var DragEventInterface={dataTransfer:null};function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface);module.exports=SyntheticDragEvent},{"./SyntheticMouseEvent":187}],183:[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var assign=require("./Object.assign");var emptyFunction=require("./emptyFunction");var getEventTarget=require("./getEventTarget");var EventInterface={type:null,target:getEventTarget,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent){this.dispatchConfig=dispatchConfig;this.dispatchMarker=dispatchMarker;this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName)){continue}var normalize=Interface[propName];if(normalize){this[propName]=normalize(nativeEvent)}else{this[propName]=nativeEvent[propName]}}var defaultPrevented=nativeEvent.defaultPrevented!=null?nativeEvent.defaultPrevented:nativeEvent.returnValue===false;if(defaultPrevented){this.isDefaultPrevented=emptyFunction.thatReturnsTrue}else{this.isDefaultPrevented=emptyFunction.thatReturnsFalse}this.isPropagationStopped=emptyFunction.thatReturnsFalse}assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;event.preventDefault?event.preventDefault():event.returnValue=false;this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var event=this.nativeEvent;event.stopPropagation?event.stopPropagation():event.cancelBubble=true;this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface){this[propName]=null}this.dispatchConfig=null;this.dispatchMarker=null;this.nativeEvent=null}});SyntheticEvent.Interface=EventInterface;SyntheticEvent.augmentClass=function(Class,Interface){var Super=this;var prototype=Object.create(Super.prototype);assign(prototype,Class.prototype);Class.prototype=prototype;Class.prototype.constructor=Class;Class.Interface=assign({},Super.Interface,Interface);Class.augmentClass=Super.augmentClass;PooledClass.addPoolingTo(Class,PooledClass.threeArgumentPooler)};PooledClass.addPoolingTo(SyntheticEvent,PooledClass.threeArgumentPooler);module.exports=SyntheticEvent},{"./Object.assign":112,"./PooledClass":113,"./emptyFunction":205,"./getEventTarget":215}],184:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var FocusEventInterface={relatedTarget:null};function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface);module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":189}],185:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var InputEventInterface={data:null};function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface);module.exports=SyntheticInputEvent},{"./SyntheticEvent":183}],186:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var getEventCharCode=require("./getEventCharCode");var getEventKey=require("./getEventKey");var getEventModifierState=require("./getEventModifierState");var KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){if(event.type==="keypress"){return getEventCharCode(event)}return 0},keyCode:function(event){if(event.type==="keydown"||event.type==="keyup"){return event.keyCode}return 0},which:function(event){if(event.type==="keypress"){return getEventCharCode(event)}if(event.type==="keydown"||event.type==="keyup"){return event.keyCode}return 0}};function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface);module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":189,"./getEventCharCode":212,"./getEventKey":213,"./getEventModifierState":214}],187:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var ViewportMetrics=require("./ViewportMetrics");var getEventModifierState=require("./getEventModifierState");var MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;if("which"in event){return button}return button===2?2:button===4?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface);module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":189,"./ViewportMetrics":192,"./getEventModifierState":214}],188:[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var getEventModifierState=require("./getEventModifierState");var TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface);module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":189,"./getEventModifierState":214}],189:[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var getEventTarget=require("./getEventTarget");var UIEventInterface={view:function(event){if(event.view){return event.view}var target=getEventTarget(event);if(target!=null&&target.window===target){return target}var doc=target.ownerDocument;if(doc){return doc.defaultView||doc.parentWindow}else{return window}},detail:function(event){return event.detail||0}};function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface);module.exports=SyntheticUIEvent},{"./SyntheticEvent":183,"./getEventTarget":215}],190:[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface);module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":187}],191:[function(require,module,exports){"use strict";var invariant=require("./invariant");var Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(!this.wrapperInitData){this.wrapperInitData=[]}else{this.wrapperInitData.length=0}this._isInTransaction=false},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){"production"!=="production"?invariant(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there "+"is already an outstanding transaction."):invariant(!this.isInTransaction());var errorThrown;var ret;try{this._isInTransaction=true;errorThrown=true;this.initializeAll(0);ret=method.call(scope,a,b,c,d,e,f);errorThrown=false}finally{try{if(errorThrown){try{this.closeAll(0)}catch(err){}}else{this.closeAll(0)}}finally{this._isInTransaction=false}}return ret},initializeAll:function(startIndex){var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR;this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR){try{this.initializeAll(i+1)}catch(err){}}}}},closeAll:function(startIndex){"production"!=="production"?invariant(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):invariant(this.isInTransaction());var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];var initData=this.wrapperInitData[i];var errorThrown;try{errorThrown=true;if(initData!==Transaction.OBSERVED_ERROR){wrapper.close&&wrapper.close.call(this,initData)}errorThrown=false}finally{if(errorThrown){try{this.closeAll(i+1)}catch(e){}}}}this.wrapperInitData.length=0}};var Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction},{"./invariant":224}],192:[function(require,module,exports){"use strict";var getUnboundedScrollPosition=require("./getUnboundedScrollPosition");var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var scrollPosition=getUnboundedScrollPosition(window);ViewportMetrics.currentScrollLeft=scrollPosition.x;ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{"./getUnboundedScrollPosition":220}],193:[function(require,module,exports){"use strict";var invariant=require("./invariant");function accumulateInto(current,next){"production"!=="production"?invariant(next!=null,"accumulateInto(...): Accumulated items must not be null or undefined."):invariant(next!=null);if(current==null){return next}var currentIsArray=Array.isArray(current);var nextIsArray=Array.isArray(next);if(currentIsArray&&nextIsArray){current.push.apply(current,next);return current}if(currentIsArray){current.push(next);return current}if(nextIsArray){return[current].concat(next)}return[current,next]}module.exports=accumulateInto},{"./invariant":224}],194:[function(require,module,exports){"use strict";var MOD=65521;function adler32(data){var a=1;var b=0;for(var i=0;i<data.length;i++){a=(a+data.charCodeAt(i))%MOD;b=(b+a)%MOD}return a|b<<16}module.exports=adler32},{}],195:[function(require,module,exports){var _hyphenPattern=/-(.)/g;function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}module.exports=camelize},{}],196:[function(require,module,exports){"use strict";var camelize=require("./camelize");var msPattern=/^-ms-/;function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}module.exports=camelizeStyleName},{"./camelize":195}],197:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactPropTransferer=require("./ReactPropTransferer");var keyOf=require("./keyOf");var warning=require("./warning");var CHILDREN_PROP=keyOf({children:null});function cloneWithProps(child,props){if("production"!=="production"){"production"!=="production"?warning(!child.ref,"You are calling cloneWithProps() on a child with a ref. This is "+"dangerous because you're creating a new child which will not be "+"added as a ref to its parent."):null}var newProps=ReactPropTransferer.mergeProps(props,child.props);if(!newProps.hasOwnProperty(CHILDREN_PROP)&&child.props.hasOwnProperty(CHILDREN_PROP)){newProps.children=child.props.children}return ReactElement.createElement(child.type,newProps)}module.exports=cloneWithProps},{"./ReactElement":141,"./ReactPropTransferer":159,"./keyOf":231,"./warning":244}],198:[function(require,module,exports){var isTextNode=require("./isTextNode");function containsNode(outerNode,innerNode){if(!outerNode||!innerNode){return false}else if(outerNode===innerNode){return true}else if(isTextNode(outerNode)){return false}else if(isTextNode(innerNode)){return containsNode(outerNode,innerNode.parentNode)}else if(outerNode.contains){return outerNode.contains(innerNode)}else if(outerNode.compareDocumentPosition){return!!(outerNode.compareDocumentPosition(innerNode)&16)}else{return false}}module.exports=containsNode},{"./isTextNode":228}],199:[function(require,module,exports){var toArray=require("./toArray");function hasArrayNature(obj){return!!obj&&(typeof obj=="object"||typeof obj=="function")&&"length"in obj&&!("setInterval"in obj)&&typeof obj.nodeType!="number"&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFrom(obj){if(!hasArrayNature(obj)){return[obj]}else if(Array.isArray(obj)){return obj.slice()}else{return toArray(obj)}}module.exports=createArrayFrom},{"./toArray":241}],200:[function(require,module,exports){"use strict";var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactElement=require("./ReactElement");var invariant=require("./invariant");function createFullPageComponent(tag){var elementFactory=ReactElement.createFactory(tag);var FullPageComponent=ReactCompositeComponent.createClass({displayName:"ReactFullPageComponent"+tag,componentWillUnmount:function(){"production"!=="production"?invariant(false,"%s tried to unmount. Because of cross-browser quirks it is "+"impossible to unmount some top-level components (eg <html>, <head>, "+"and <body>) reliably and efficiently. To fix this, have a single "+"top-level component that never unmounts render these elements.",this.constructor.displayName):invariant(false)},render:function(){return elementFactory(this.props)}});return FullPageComponent}module.exports=createFullPageComponent},{"./ReactCompositeComponent":123,"./ReactElement":141,"./invariant":224}],201:[function(require,module,exports){var ExecutionEnvironment=require("./ExecutionEnvironment");var createArrayFrom=require("./createArrayFrom");var getMarkupWrap=require("./getMarkupWrap");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var nodeNamePattern=/^\s*<(\w+)/;function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;"production"!=="production"?invariant(!!dummyNode,"createNodesFromMarkup dummy not initialized"):invariant(!!dummyNode);var nodeName=getNodeName(markup);var wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--){
node=node.lastChild}}else{node.innerHTML=markup}var scripts=node.getElementsByTagName("script");if(scripts.length){"production"!=="production"?invariant(handleScript,"createNodesFromMarkup(...): Unexpected <script> element rendered."):invariant(handleScript);createArrayFrom(scripts).forEach(handleScript)}var nodes=createArrayFrom(node.childNodes);while(node.lastChild){node.removeChild(node.lastChild)}return nodes}module.exports=createNodesFromMarkup},{"./ExecutionEnvironment":106,"./createArrayFrom":199,"./getMarkupWrap":216,"./invariant":224}],202:[function(require,module,exports){function cx(classNames){if(typeof classNames=="object"){return Object.keys(classNames).filter(function(className){return classNames[className]}).join(" ")}else{return Array.prototype.join.call(arguments," ")}}module.exports=cx},{}],203:[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty");var isUnitlessNumber=CSSProperty.isUnitlessNumber;function dangerousStyleValue(name,value){var isEmpty=value==null||typeof value==="boolean"||value==="";if(isEmpty){return""}var isNonNumeric=isNaN(value);if(isNonNumeric||value===0||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]){return""+value}if(typeof value==="string"){value=value.trim()}return value+"px"}module.exports=dangerousStyleValue},{"./CSSProperty":88}],204:[function(require,module,exports){var assign=require("./Object.assign");var warning=require("./warning");function deprecated(namespace,oldName,newName,ctx,fn){var warned=false;if("production"!=="production"){var newFn=function(){"production"!=="production"?warning(warned,namespace+"."+oldName+" will be deprecated in a future version. "+("Use "+namespace+"."+newName+" instead.")):null;warned=true;return fn.apply(ctx,arguments)};newFn.displayName=namespace+"_"+oldName;return assign(newFn,fn)}return fn}module.exports=deprecated},{"./Object.assign":112,"./warning":244}],205:[function(require,module,exports){function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this};emptyFunction.thatReturnsArgument=function(arg){return arg};module.exports=emptyFunction},{}],206:[function(require,module,exports){"use strict";var emptyObject={};if("production"!=="production"){Object.freeze(emptyObject)}module.exports=emptyObject},{}],207:[function(require,module,exports){"use strict";var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};var ESCAPE_REGEX=/[&><"']/g;function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}module.exports=escapeTextForBrowser},{}],208:[function(require,module,exports){"use strict";var ReactTextComponent=require("./ReactTextComponent");var traverseAllChildren=require("./traverseAllChildren");var warning=require("./warning");function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext;var keyUnique=!result.hasOwnProperty(name);"production"!=="production"?warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.",name):null;if(keyUnique&&child!=null){var type=typeof child;var normalizedValue;if(type==="string"){normalizedValue=ReactTextComponent(child)}else if(type==="number"){normalizedValue=ReactTextComponent(""+child)}else{normalizedValue=child}result[name]=normalizedValue}}function flattenChildren(children){if(children==null){return children}var result={};traverseAllChildren(children,flattenSingleChildIntoContext,result);return result}module.exports=flattenChildren},{"./ReactTextComponent":170,"./traverseAllChildren":242,"./warning":244}],209:[function(require,module,exports){"use strict";function focusNode(node){try{node.focus()}catch(e){}}module.exports=focusNode},{}],210:[function(require,module,exports){"use strict";var forEachAccumulated=function(arr,cb,scope){if(Array.isArray(arr)){arr.forEach(cb,scope)}else if(arr){cb.call(scope,arr)}};module.exports=forEachAccumulated},{}],211:[function(require,module,exports){function getActiveElement(){try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],212:[function(require,module,exports){"use strict";function getEventCharCode(nativeEvent){var charCode;var keyCode=nativeEvent.keyCode;if("charCode"in nativeEvent){charCode=nativeEvent.charCode;if(charCode===0&&keyCode===13){charCode=13}}else{charCode=keyCode}if(charCode>=32||charCode===13){return charCode}return 0}module.exports=getEventCharCode},{}],213:[function(require,module,exports){"use strict";var getEventCharCode=require("./getEventCharCode");var normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};var translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!=="Unidentified"){return key}}if(nativeEvent.type==="keypress"){var charCode=getEventCharCode(nativeEvent);return charCode===13?"Enter":String.fromCharCode(charCode)}if(nativeEvent.type==="keydown"||nativeEvent.type==="keyup"){return translateToKey[nativeEvent.keyCode]||"Unidentified"}return""}module.exports=getEventKey},{"./getEventCharCode":212}],214:[function(require,module,exports){"use strict";var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(keyArg){var syntheticEvent=this;var nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState){return nativeEvent.getModifierState(keyArg)}var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:false}function getEventModifierState(nativeEvent){return modifierStateGetter}module.exports=getEventModifierState},{}],215:[function(require,module,exports){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.nodeType===3?target.parentNode:target}module.exports=getEventTarget},{}],216:[function(require,module,exports){var ExecutionEnvironment=require("./ExecutionEnvironment");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var shouldWrap={circle:true,defs:true,ellipse:true,g:true,line:true,linearGradient:true,path:true,polygon:true,polyline:true,radialGradient:true,rect:true,stop:true,text:true};var selectWrap=[1,'<select multiple="true">',"</select>"];var tableWrap=[1,"<table>","</table>"];var trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"];var svgWrap=[1,"<svg>","</svg>"];var markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap,circle:svgWrap,defs:svgWrap,ellipse:svgWrap,g:svgWrap,line:svgWrap,linearGradient:svgWrap,path:svgWrap,polygon:svgWrap,polyline:svgWrap,radialGradient:svgWrap,rect:svgWrap,stop:svgWrap,text:svgWrap};function getMarkupWrap(nodeName){"production"!=="production"?invariant(!!dummyNode,"Markup wrapping node not initialized"):invariant(!!dummyNode);if(!markupWrap.hasOwnProperty(nodeName)){nodeName="*"}if(!shouldWrap.hasOwnProperty(nodeName)){if(nodeName==="*"){dummyNode.innerHTML="<link />"}else{dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">"}shouldWrap[nodeName]=!dummyNode.firstChild}return shouldWrap[nodeName]?markupWrap[nodeName]:null}module.exports=getMarkupWrap},{"./ExecutionEnvironment":106,"./invariant":224}],217:[function(require,module,exports){"use strict";function getLeafNode(node){while(node&&node.firstChild){node=node.firstChild}return node}function getSiblingNode(node){while(node){if(node.nextSibling){return node.nextSibling}node=node.parentNode}}function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root);var nodeStart=0;var nodeEnd=0;while(node){if(node.nodeType==3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset){return{node:node,offset:offset-nodeStart}}nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],218:[function(require,module,exports){"use strict";var DOC_NODE_TYPE=9;function getReactRootElementInContainer(container){if(!container){return null}if(container.nodeType===DOC_NODE_TYPE){return container.documentElement}else{return container.firstChild}}module.exports=getReactRootElementInContainer},{}],219:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var contentKey=null;function getTextContentAccessor(){if(!contentKey&&ExecutionEnvironment.canUseDOM){contentKey="textContent"in document.documentElement?"textContent":"innerText"}return contentKey}module.exports=getTextContentAccessor},{"./ExecutionEnvironment":106}],220:[function(require,module,exports){"use strict";function getUnboundedScrollPosition(scrollable){if(scrollable===window){return{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}return{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],221:[function(require,module,exports){var _uppercasePattern=/([A-Z])/g;function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}module.exports=hyphenate},{}],222:[function(require,module,exports){"use strict";var hyphenate=require("./hyphenate");var msPattern=/^ms-/;function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}module.exports=hyphenateStyleName},{"./hyphenate":221}],223:[function(require,module,exports){"use strict";var warning=require("./warning");var ReactElement=require("./ReactElement");var ReactLegacyElement=require("./ReactLegacyElement");var ReactNativeComponent=require("./ReactNativeComponent");var ReactEmptyComponent=require("./ReactEmptyComponent");function instantiateReactComponent(element,parentCompositeType){var instance;if("production"!=="production"){"production"!=="production"?warning(element&&(typeof element.type==="function"||typeof element.type==="string"),"Only functions or strings can be mounted as React components."):null;if(element.type._mockedReactClassConstructor){ReactLegacyElement._isLegacyCallWarningEnabled=false;try{instance=new element.type._mockedReactClassConstructor(element.props)}finally{ReactLegacyElement._isLegacyCallWarningEnabled=true}if(ReactElement.isValidElement(instance)){instance=new instance.type(instance.props)}var render=instance.render;if(!render){element=ReactEmptyComponent.getEmptyComponent()}else{if(render._isMockFunction&&!render._getMockImplementation()){render.mockImplementation(ReactEmptyComponent.getEmptyComponent)}instance.construct(element);return instance}}}if(typeof element.type==="string"){instance=ReactNativeComponent.createInstanceForTag(element.type,element.props,parentCompositeType)}else{instance=new element.type(element.props)}if("production"!=="production"){"production"!=="production"?warning(typeof instance.construct==="function"&&typeof instance.mountComponent==="function"&&typeof instance.receiveComponent==="function","Only React Components can be mounted."):null}instance.construct(element);return instance}module.exports=instantiateReactComponent},{"./ReactElement":141,"./ReactEmptyComponent":143,"./ReactLegacyElement":150,"./ReactNativeComponent":156,"./warning":244}],224:[function(require,module,exports){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if("production"!=="production"){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}error.framesToPop=1;throw error}};module.exports=invariant},{}],225:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true}function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document)){return false}var eventName="on"+eventNameSuffix;var isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;");isSupported=typeof element[eventName]==="function"}if(!isSupported&&useHasFeature&&eventNameSuffix==="wheel"){isSupported=document.implementation.hasFeature("Events.wheel","3.0")}return isSupported}module.exports=isEventSupported},{"./ExecutionEnvironment":106}],226:[function(require,module,exports){function isNode(object){return!!(object&&(typeof Node==="function"?object instanceof Node:typeof object==="object"&&typeof object.nodeType==="number"&&typeof object.nodeName==="string"))}module.exports=isNode},{}],227:[function(require,module,exports){"use strict";var supportedInputTypes={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function isTextInputElement(elem){return elem&&(elem.nodeName==="INPUT"&&supportedInputTypes[elem.type]||elem.nodeName==="TEXTAREA")}module.exports=isTextInputElement},{}],228:[function(require,module,exports){var isNode=require("./isNode");function isTextNode(object){return isNode(object)&&object.nodeType==3}module.exports=isTextNode},{"./isNode":226}],229:[function(require,module,exports){"use strict";function joinClasses(className){if(!className){className=""}var nextClass;var argLength=arguments.length;if(argLength>1){for(var ii=1;ii<argLength;ii++){nextClass=arguments[ii];if(nextClass){className=(className?className+" ":"")+nextClass}}}return className}module.exports=joinClasses},{}],230:[function(require,module,exports){"use strict";var invariant=require("./invariant");var keyMirror=function(obj){var ret={};var key;"production"!=="production"?invariant(obj instanceof Object&&!Array.isArray(obj),"keyMirror(...): Argument must be an object."):invariant(obj instanceof Object&&!Array.isArray(obj));for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror},{"./invariant":224}],231:[function(require,module,exports){var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key)){continue}return key}return null};module.exports=keyOf},{}],232:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;function mapObject(object,callback,context){if(!object){return null}var result={};for(var name in object){if(hasOwnProperty.call(object,name)){result[name]=callback.call(context,object[name],name,object)}}return result}module.exports=mapObject},{}],233:[function(require,module,exports){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){if(cache.hasOwnProperty(string)){return cache[string]}else{return cache[string]=callback.call(this,string)}}}module.exports=memoizeStringOnly},{}],234:[function(require,module,exports){"use strict";var invariant=require("./invariant");function monitorCodeUse(eventName,data){"production"!=="production"?invariant(eventName&&!/[^a-z0-9_]/.test(eventName),"You must provide an eventName using only the characters [a-z0-9_]"):invariant(eventName&&!/[^a-z0-9_]/.test(eventName))}module.exports=monitorCodeUse},{"./invariant":224}],235:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var invariant=require("./invariant");function onlyChild(children){"production"!=="production"?invariant(ReactElement.isValidElement(children),"onlyChild must be passed a children with exactly one child."):invariant(ReactElement.isValidElement(children));return children}module.exports=onlyChild},{"./ReactElement":141,"./invariant":224}],236:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var performance;if(ExecutionEnvironment.canUseDOM){performance=window.performance||window.msPerformance||window.webkitPerformance}module.exports=performance||{}},{"./ExecutionEnvironment":106}],237:[function(require,module,exports){var performance=require("./performance");if(!performance||!performance.now){performance=Date}var performanceNow=performance.now.bind(performance);module.exports=performanceNow},{"./performance":236}],238:[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var WHITESPACE_TEST=/^[ \r\n\t\f]/;var NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var setInnerHTML=function(node,html){node.innerHTML=html};if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ";if(testElement.innerHTML===""){setInnerHTML=function(node,html){if(node.parentNode){node.parentNode.replaceChild(node,node)}if(WHITESPACE_TEST.test(html)||html[0]==="<"&&NONVISIBLE_TEST.test(html)){node.innerHTML="\ufeff"+html;var textNode=node.firstChild;if(textNode.data.length===1){node.removeChild(textNode)}else{textNode.deleteData(0,1)}}else{node.innerHTML=html}}}}module.exports=setInnerHTML},{"./ExecutionEnvironment":106}],239:[function(require,module,exports){"use strict";function shallowEqual(objA,objB){if(objA===objB){return true}var key;for(key in objA){if(objA.hasOwnProperty(key)&&(!objB.hasOwnProperty(key)||objA[key]!==objB[key])){return false}}for(key in objB){if(objB.hasOwnProperty(key)&&!objA.hasOwnProperty(key)){return false}}return true}module.exports=shallowEqual},{}],240:[function(require,module,exports){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){if(prevElement&&nextElement&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key&&prevElement._owner===nextElement._owner){return true}return false}module.exports=shouldUpdateReactComponent},{}],241:[function(require,module,exports){var invariant=require("./invariant");function toArray(obj){var length=obj.length;"production"!=="production"?invariant(!Array.isArray(obj)&&(typeof obj==="object"||typeof obj==="function"),"toArray: Array-like object expected"):invariant(!Array.isArray(obj)&&(typeof obj==="object"||typeof obj==="function"));"production"!=="production"?invariant(typeof length==="number","toArray: Object needs a length property"):invariant(typeof length==="number");"production"!=="production"?invariant(length===0||length-1 in obj,"toArray: Object should have keys for indices"):invariant(length===0||length-1 in obj);if(obj.hasOwnProperty){try{return Array.prototype.slice.call(obj)}catch(e){}}var ret=Array(length);for(var ii=0;ii<length;ii++){ret[ii]=obj[ii]}return ret}module.exports=toArray},{"./invariant":224}],242:[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactInstanceHandles=require("./ReactInstanceHandles");var invariant=require("./invariant");var SEPARATOR=ReactInstanceHandles.SEPARATOR;var SUBSEPARATOR=":";var userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"};var userProvidedKeyEscapeRegex=/[=.:]/g;function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){if(component&&component.key!=null){return wrapUserProvidedKey(component.key)}return index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}var traverseAllChildrenImpl=function(children,nameSoFar,indexSoFar,callback,traverseContext){var nextName,nextIndex;var subtreeCount=0;if(Array.isArray(children)){for(var i=0;i<children.length;i++){var child=children[i];nextName=nameSoFar+(nameSoFar?SUBSEPARATOR:SEPARATOR)+getComponentKey(child,i);nextIndex=indexSoFar+subtreeCount;subtreeCount+=traverseAllChildrenImpl(child,nextName,nextIndex,callback,traverseContext)}}else{var type=typeof children;var isOnlyChild=nameSoFar==="";var storageName=isOnlyChild?SEPARATOR+getComponentKey(children,0):nameSoFar;if(children==null||type==="boolean"){callback(traverseContext,null,storageName,indexSoFar);subtreeCount=1}else if(type==="string"||type==="number"||ReactElement.isValidElement(children)){callback(traverseContext,children,storageName,indexSoFar);subtreeCount=1}else if(type==="object"){"production"!=="production"?invariant(!children||children.nodeType!==1,"traverseAllChildren(...): Encountered an invalid child; DOM "+"elements are not valid children of React components."):invariant(!children||children.nodeType!==1);for(var key in children){if(children.hasOwnProperty(key)){nextName=nameSoFar+(nameSoFar?SUBSEPARATOR:SEPARATOR)+wrapUserProvidedKey(key)+SUBSEPARATOR+getComponentKey(children[key],0);nextIndex=indexSoFar+subtreeCount;subtreeCount+=traverseAllChildrenImpl(children[key],nextName,nextIndex,callback,traverseContext)}}}}return subtreeCount};function traverseAllChildren(children,callback,traverseContext){if(children==null){return 0}return traverseAllChildrenImpl(children,"",0,callback,traverseContext)}module.exports=traverseAllChildren},{"./ReactElement":141,"./ReactInstanceHandles":149,"./invariant":224}],243:[function(require,module,exports){"use strict";var assign=require("./Object.assign");var keyOf=require("./keyOf");var invariant=require("./invariant");function shallowCopy(x){if(Array.isArray(x)){return x.concat()}else if(x&&typeof x==="object"){return assign(new x.constructor,x)}else{return x}}var COMMAND_PUSH=keyOf({$push:null});var COMMAND_UNSHIFT=keyOf({$unshift:null});var COMMAND_SPLICE=keyOf({$splice:null});var COMMAND_SET=keyOf({$set:null});var COMMAND_MERGE=keyOf({$merge:null});var COMMAND_APPLY=keyOf({$apply:null});var ALL_COMMANDS_LIST=[COMMAND_PUSH,COMMAND_UNSHIFT,COMMAND_SPLICE,COMMAND_SET,COMMAND_MERGE,COMMAND_APPLY];var ALL_COMMANDS_SET={};ALL_COMMANDS_LIST.forEach(function(command){ALL_COMMANDS_SET[command]=true});function invariantArrayCase(value,spec,command){"production"!=="production"?invariant(Array.isArray(value),"update(): expected target of %s to be an array; got %s.",command,value):invariant(Array.isArray(value));var specValue=spec[command];"production"!=="production"?invariant(Array.isArray(specValue),"update(): expected spec of %s to be an array; got %s. "+"Did you forget to wrap your parameter in an array?",command,specValue):invariant(Array.isArray(specValue))}function update(value,spec){"production"!=="production"?invariant(typeof spec==="object","update(): You provided a key path to update() that did not contain one "+"of %s. Did you forget to include {%s: ...}?",ALL_COMMANDS_LIST.join(", "),COMMAND_SET):invariant(typeof spec==="object");if(spec.hasOwnProperty(COMMAND_SET)){"production"!=="production"?invariant(Object.keys(spec).length===1,"Cannot have more than one key in an object with %s",COMMAND_SET):invariant(Object.keys(spec).length===1);return spec[COMMAND_SET]}var nextValue=shallowCopy(value);if(spec.hasOwnProperty(COMMAND_MERGE)){var mergeObj=spec[COMMAND_MERGE];"production"!=="production"?invariant(mergeObj&&typeof mergeObj==="object","update(): %s expects a spec of type 'object'; got %s",COMMAND_MERGE,mergeObj):invariant(mergeObj&&typeof mergeObj==="object");"production"!=="production"?invariant(nextValue&&typeof nextValue==="object","update(): %s expects a target of type 'object'; got %s",COMMAND_MERGE,nextValue):invariant(nextValue&&typeof nextValue==="object");assign(nextValue,spec[COMMAND_MERGE])}if(spec.hasOwnProperty(COMMAND_PUSH)){invariantArrayCase(value,spec,COMMAND_PUSH);spec[COMMAND_PUSH].forEach(function(item){nextValue.push(item)})}if(spec.hasOwnProperty(COMMAND_UNSHIFT)){invariantArrayCase(value,spec,COMMAND_UNSHIFT);spec[COMMAND_UNSHIFT].forEach(function(item){nextValue.unshift(item)})}if(spec.hasOwnProperty(COMMAND_SPLICE)){"production"!=="production"?invariant(Array.isArray(value),"Expected %s target to be an array; got %s",COMMAND_SPLICE,value):invariant(Array.isArray(value));"production"!=="production"?invariant(Array.isArray(spec[COMMAND_SPLICE]),"update(): expected spec of %s to be an array of arrays; got %s. "+"Did you forget to wrap your parameters in an array?",COMMAND_SPLICE,spec[COMMAND_SPLICE]):invariant(Array.isArray(spec[COMMAND_SPLICE]));spec[COMMAND_SPLICE].forEach(function(args){"production"!=="production"?invariant(Array.isArray(args),"update(): expected spec of %s to be an array of arrays; got %s. "+"Did you forget to wrap your parameters in an array?",COMMAND_SPLICE,spec[COMMAND_SPLICE]):invariant(Array.isArray(args));nextValue.splice.apply(nextValue,args)})}if(spec.hasOwnProperty(COMMAND_APPLY)){"production"!=="production"?invariant(typeof spec[COMMAND_APPLY]==="function","update(): expected spec of %s to be a function; got %s.",COMMAND_APPLY,spec[COMMAND_APPLY]):invariant(typeof spec[COMMAND_APPLY]==="function");nextValue=spec[COMMAND_APPLY](nextValue)}for(var k in spec){if(!(ALL_COMMANDS_SET.hasOwnProperty(k)&&ALL_COMMANDS_SET[k])){nextValue[k]=update(value[k],spec[k])}}return nextValue}module.exports=update},{"./Object.assign":112,"./invariant":224,"./keyOf":231}],244:[function(require,module,exports){"use strict";var emptyFunction=require("./emptyFunction");var warning=emptyFunction;if("production"!=="production"){warning=function(condition,format){for(var args=[],$__0=2,$__1=arguments.length;$__0<$__1;$__0++)args.push(arguments[$__0]);if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(!condition){var argIndex=0;console.warn("Warning: "+format.replace(/%s/g,function(){return args[argIndex++]}))}}}module.exports=warning},{"./emptyFunction":205}],245:[function(require,module,exports){module.exports=require("./lib/React")},{"./lib/React":114}],246:[function(require,module,exports){var Emitter=require("emitter");var reduce=require("reduce");var root="undefined"==typeof window?this:window;function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false}var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]))}}return pairs.join("&")}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var parts;var pair;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];parts=pair.split("=");obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1])}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();if(key&&val)obj[key]=val;return obj},{})}function Response(req,options){options=options||{};this.req=req;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"?this.xhr.responseText:null;this.setStatusProperties(this.xhr.status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text):null}Response.prototype.get=function(field){return this.header[field.toLowerCase()]};Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]};Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&str.length?parse(str):null};Response.prototype.setStatusProperties=function(status){var type=status/100|0;this.status=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status||1223==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.notFound=404==status;this.forbidden=403==status};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg="cannot "+method+" "+url+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err};request.Response=Response;function Request(method,url){var self=this;Emitter.call(this);this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var err=null;var res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response");err.parse=true;err.original=e}self.callback(err,res)})}Emitter(Request.prototype);Request.prototype.use=function(fn){fn(this);return this};Request.prototype.timeout=function(ms){this._timeout=ms;return this};Request.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};Request.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};Request.prototype.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this};Request.prototype.getHeader=function(field){
return this._header[field.toLowerCase()]};Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);return this};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.field=function(name,val){if(!this._formData)this._formData=new FormData;this._formData.append(name,val);return this};Request.prototype.attach=function(field,file,filename){if(!this._formData)this._formData=new FormData;this._formData.append(field,file,filename);return this};Request.prototype.send=function(data){var obj=isObject(data);var type=this.getHeader("Content-Type");if(obj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!obj)return this;if(!type)this.type("json");return this};Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout();if(2==fn.length)return fn(err,res);if(err)return this.emit("error",err);fn(res)};Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=true;this.callback(err)};Request.prototype.timeoutError=function(){var timeout=this._timeout;var err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout;this.callback(err)};Request.prototype.withCredentials=function(){this._withCredentials=true;return this};Request.prototype.end=function(fn){var self=this;var xhr=this.xhr=getXHR();var query=this._query.join("&");var timeout=this._timeout;var data=this._formData||this._data;this._callback=fn||noop;xhr.onreadystatechange=function(){if(4!=xhr.readyState)return;if(0==xhr.status){if(self.aborted)return self.timeoutError();return self.crossDomainError()}self.emit("end")};if(xhr.upload){xhr.upload.onprogress=function(e){e.percent=e.loaded/e.total*100;self.emit("progress",e)}}if(timeout&&!this._timer){this._timer=setTimeout(function(){self.abort()},timeout)}if(query){query=request.serializeObject(query);this.url+=~this.url.indexOf("?")?"&"+query:"?"+query}xhr.open(this.method,this.url,true);if(this._withCredentials)xhr.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field])}this.emit("request",this);xhr.send(data);return this};request.Request=Request;function request(method,url){if("function"==typeof url){return new Request("GET",method).end(url)}if(1==arguments.length){return new Request("GET",method)}return new Request(method,url)}request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.del=function(url,fn){var req=request("DELETE",url);if(fn)req.end(fn);return req};request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};module.exports=request},{emitter:247,reduce:248}],247:[function(require,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],248:[function(require,module,exports){module.exports=function(arr,fn,initial){var idx=0;var len=arr.length;var curr=arguments.length==3?initial:arr[idx++];while(idx<len){curr=fn.call(null,curr,arr[idx],++idx,arr)}return curr}},{}],249:[function(require,module,exports){var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O[["Active"].concat("Object").join("X")]!=D){try{var ad=new(window[["Active"].concat("Object").join("X")])(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if(typeof j.readyState!=D&&j.readyState=="complete"||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body)){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||!/%$/.test(aa.width)&&parseInt(aa.width,10)<310){aa.width="310"}if(typeof aa.height==D||!/%$/.test(aa.height)&&parseInt(aa.height,10)<137){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?["Active"].concat("").join("X"):"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return Y[0]>X[0]||Y[0]==X[0]&&Y[1]>X[1]||Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=ad&&typeof ad=="string"?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring(Y[X].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();module.exports=swfobject},{}],250:[function(require,module,exports){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var R=require("ramda");var Bacon=require("baconjs");var defaultTrackLinkVars=["events","products"];var Omniture=function Omniture(userP,trackingStream){var queue=[];var _isLoggedIn=false;var sAccount="hbodev";var trackLink=new Bacon.Bus;var trackingProp=trackingStream.toProperty();function tupled(x,y){return[x,y]}userP.take(1).zip(trackingStream.take(1),tupled).concat(userP.sampledBy(trackingStream,tupled)).onValue(function(_ref){var _ref2=_slicedToArray(_ref,2);var user=_ref2[0];var tracking=_ref2[1];if(tracking.sAccount){sAccount=tracking.sAccount}track("pageView",tracking.pageName,tracking.section,user||{})});var userObj=userP.map(function(user){return user===null?{}:user});var trackingWithUser=trackingProp.combine(userObj,function(tracking,user){return R.assoc("user",user,tracking)});trackingWithUser.sampledBy(trackLink,function(tracking,_ref3){var omnitureF=_ref3.omnitureF;var target=_ref3.target;var type=_ref3.type;var omnitureLinkTypeCode=_ref3.omnitureLinkTypeCode;var trackingWithTarget=_extends({target:target},tracking);return type==="generic_external"?[{target:target,type:type}]:omnitureF(trackingWithTarget).map(function(props){return{props:props,target:target,type:type,omnitureLinkTypeCode:omnitureLinkTypeCode}})}).flatMap(Bacon.fromArray).onValue(function(_ref4){var props=_ref4.props;var target=_ref4.target;var type=_ref4.type;var omnitureLinkTypeCode=_ref4.omnitureLinkTypeCode;switch(type){case"internal":track("attributes",props,omnitureLinkTypeCode||"o");break;case"external":track("attributes",props,omnitureLinkTypeCode||"e",target);break;case"generic_external":track("outboundLink",target);break;default:throw new Error("Link tracking should have a type [internal/external]")}});var eventHandlers={pageView:function pageView(pageName,franchise,user){setEvents(window.s,[1]);setProps(window.s,{hier1:pageName,pageName:pageName,eVar1:pageName,prop10:franchise,eVar10:franchise,prop11:loggedIn(user),eVar11:loggedIn(user),prop12:user.userId,eVar12:user.userId},["prop26","prop27","prop28","eVar26","eVar27","eVar28"]);sendPageView(window.s)},attributes:function attributes(attrs,omnitureLinkTypeCode,target){var events=attrs.event!==undefined?[attrs.event]:[1];setEvents(window.s,events);if(Object.keys(attrs).length==0){return}setProps(window.s,attrs.props||{},attrs.auto||[]);send(window.s,target,omnitureLinkTypeCode)},outboundLink:function outboundLink(target){clean(s);window.s.tl(target,"e");clean(s)}};function setEvents(s,events){var eventsString=events.map(function(e){return"event"+e.toString()}).join(",");s.events=eventsString;s.linkTrackEvents+=","+eventsString}function setProps(s,props,trackLinkVars){var keys=Object.keys(props);keys.forEach(function(key){s[key]=props[key]});s.linkTrackVars=defaultTrackLinkVars.concat(trackLinkVars||[]).concat(keys).join(",")}function send(s,target,omnitureLinkTypeCode){s.tl(target||true,omnitureLinkTypeCode,"eventTracking");clean(s)}function sendPageView(s){s.t();clean(s)}function clean(s){s.events=undefined;s.pageName=undefined;s.products=undefined;s.linkTrackEvents=undefined;R.range(1,71).forEach(function(i){s["prop"+i]=s["eVar"+i]=undefined})}function flush(){queue.forEach(function(_ref5){var _ref52=_slicedToArray(_ref5,2);var eventName=_ref52[0];var args=_ref52[1];eventHandlers[eventName].apply(null,args)});queue=[]}if(!String.prototype.startsWith){String.prototype.startsWith=function(searchString,position){position=position||0;return this.lastIndexOf(searchString,position)===position}}function track(event){var intervalId;if(eventHandlers[event]===undefined){throw new Error("No event handler for tracking event "+event)}for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}queue.push([event,args]);tryFlush();function tryFlush(){if(typeof intervalId==="number"){clearTimeout(intervalId);intervalId=undefined}if(typeof window.s==="object"){window.s.account=sAccount;flush()}else{intervalId=setTimeout(tryFlush,1e3)}}}return{trackLink:trackLink,setLoggedIn:function setLoggedIn(flag){_isLoggedIn=flag}}};function isLoggedIn(user){return!!user.userId}function loggedInText(flag){return flag?"LoggedIn":"NotLoggedIn"}function loggedIn(user){return loggedInText(isLoggedIn(user))}function videoPlayerProperties(videoData,isEmbedded,pageName){var title=videoData.type+": "+videoData.programName+": "+videoData.title;var standardProps={prop19:title,eVar19:title,prop37:videoData.id,eVar37:videoData.id};if(isEmbedded){return R.merge(standardProps,{prop23:"EMBED",eVar23:"EMBED",prop10:videoData.programName,eVar10:videoData.programName,hier1:title,evar1:title,pageName:title})}else{if(pageName){return R.merge(standardProps,pageProps(pageName))}else{return standardProps}}}function pageProps(pageName){return{hier1:pageName,eVar1:pageName,pageName:pageName}}function videoProps(f){return function(tracking){var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";var videoTrackingId=require("./stores/user-store").videoTrackingId();var defaults={hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop2:"video",prop3:videoTrackingId,eVar3:videoTrackingId,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId,prop23:"ASSET_VIDEO",eVar23:"ASSET_VIDEO",prop24:"hbo.com",eVar24:"hbo.com",prop30:isMobile,eVar30:isMobile,prop42:profile.name};var other=f(tracking);return[{event:other.event,props:R.merge(defaults,other.props)}]}}function samplingProperties(tracking,options){if(options&&options.sampling){var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop";var sectionName=isMobile?options.sampling.mobileSection:options.sampling.desktopSection;return{prop52:tracking.pageName,eVar52:tracking.pageName,prop53:sectionName,eVar53:sectionName,prop55:options.sampling.placementName,eVar55:options.sampling.placementName,prop10:options.sampling.franchise,eVar10:options.sampling.franchise}}else{return{}}}exports.playing=function(videoData,isEmbedded,options){return videoProps(function(tracking){var samplingProps=samplingProperties(tracking,options);return{event:6,props:R.merge(videoPlayerProperties(videoData,isEmbedded,options.pageName),samplingProps)}})};var progress=exports.progress=function(progress,videoData,isEmbedded,options){var events={5:7,10:8,25:9,50:10,75:11,100:12};return videoProps(function(tracking){var samplingProps=samplingProperties(tracking,options);return{event:events[progress],props:_extends({},videoPlayerProperties(videoData,isEmbedded,options.pageName),samplingProps)}})};exports.ended=function(videoData,isEmbedded,options){return progress(100,videoData,isEmbedded,options)};exports.postToSocial=function(buttonName,platform,pageName){return videoProps(function(){return{event:17,props:R.merge({prop33:platform,eVar33:platform,prop34:buttonName,eVar34:buttonName},pageName?pageProps(pageName):{})}})};exports.embed=function(title,id,pageName){return videoProps(function(tracking){return{event:2,props:R.merge({hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop19:title,eVar19:title,prop37:id,eVar37:id},pageName?pageProps(pageName):{})}})};exports.fullscreen=function(videoData,isEmbedded,options){return videoProps(function(){return{event:48,props:videoPlayerProperties(videoData,isEmbedded,options.pageName)}})};exports.sendToFriend=function(title,id,pageName){return videoProps(function(){return{event:14,props:R.merge({prop19:title,eVar19:title,prop37:id,eVar37:id},pageName?pageProps(pageName):{})}})};exports.relatedOverlayOpened=function(videoData,isEmbedded,options){return videoProps(function(){return{event:86,props:videoPlayerProperties(videoData,isEmbedded,options.pageName)}})};exports.relatedItemClicked=function(videoData,isEmbedded,itemIndex,numItems,options){return videoProps(function(){return{event:87,props:R.merge(videoPlayerProperties(videoData,isEmbedded,options.pageName),{prop53:"related video",eVar53:"related video",prop55:"carousel",eVar55:"carousel",prop57:itemIndex,eVar57:itemIndex,prop75:numItems,eVar75:numItems})}})};exports.followOnSocial=function(buttonName,platform){return function(tracking){return[{event:18,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop33:platform,eVar33:platform,prop34:buttonName,eVar34:buttonName}}]}};exports.selectGoOrNow=function(choice,buttonName,franchise){return function(tracking){return[{event:choice==="now"?22:55,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop52:tracking.pageName,eVar52:tracking.pageName,prop53:tracking.section,eVar53:tracking.section,prop54:buttonName,eVar54:buttonName,prop55:"Interstitial",eVar55:"Interstitial"}}]}};exports.scheduleProgramOpened=function(franchise){return function(tracking){return[{event:24,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}};exports.watchButtonClicked=function(buttonName,franchise){return function(tracking){return[{event:25,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop54:buttonName,eVar54:buttonName}}]}};exports.tvmaErrorOccurred=function(error){return function(tracking){var franchise="global";var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";return[{event:81,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop30:isMobile,eVar30:isMobile,prop42:profile.name,eVar42:profile.name,eVar66:error}}]}};exports.tvmaEmailCaptured=function(newsOptIn){return function(tracking){var franchise="global";var event=newsOptIn?15:93;var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";return[{event:event,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop30:isMobile,eVar30:isMobile,prop42:profile.name,eVar42:profile.name}}]}};exports.tvmaOverlayShown=function(franchise,pageName){return function(tracking){return[{event:1,auto:["prop26","prop27","prop28","eVar26","eVar27","eVar28"],props:{hier1:pageName,pageName:pageName,eVar1:pageName,prop10:franchise,eVar10:franchise,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}};exports.samplingPageCTA=function(ctaPlacement){return function(tracking){var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";return[{props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop41:ctaPlacement,prop10:tracking.section,eVar10:tracking.section,prop30:isMobile,eVar30:isMobile,prop42:profile.name,eVar42:profile.name}}]}};function event15(topicName){return function(tracking){return[{event:15,props:{prop10:topicName,eVar10:topicName,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}}function event17(tracking){return[{event:17,props:{prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}function event21(tracking){return[{event:21,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}function event23(tracking){return[{event:23,props:{prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}function event26(tracking){return[{event:26,props:{prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}exports.event29=function(tracking){return[{event:29,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user)}}]};exports.event34=function(filter){return function(tracking){return[{event:34,props:{prop9:filter,eVar9:filter,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user)}}]}};exports.event40=function(userId){return function(tracking){var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";return[{event:40,auto:["prop26","prop27","prop28","eVar26","eVar27","eVar28"],props:{hier1:"global: talk: sign in",eVar1:"global: talk: sign in",pageName:"global: talk: sign in",prop10:tracking.section,eVar10:tracking.section,prop11:"LoggedIn",eVar11:"LoggedIn",prop12:userId,eVar12:userId,prop30:isMobile,eVar30:isMobile,prop33:"community",eVar33:"community",prop34:"sign-in",eVar34:"sign-in",prop45:"community",eVar45:"community"}}]}};function event41(term,pageName){return function(tracking){return[{event:41,props:{hier1:pageName,pageName:pageName,eVar1:pageName,prop1:term+": usr",prop10:"search",eVar10:"search",prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}}exports.scheduleSearch=function(term){return event41(term,"schedule : search : results")};exports.siteSearch=function(term){return event41(term,"search_results")};exports.event45=function(tracking){return[{event:45,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user)}}]};exports.homepageLinkClick=function(_ref6){var section=_ref6.section;var placement=_ref6.placement;return function(tracking){var pageName="homepage";var linkUrl=tracking.target.href;return[{event:51,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop52:pageName,eVar52:pageName,prop53:section,eVar53:section,prop55:placement,eVar55:placement,prop57:linkUrl,eVar57:linkUrl}}]}};exports.visitGoLink=function(buttonName){return function(tracking){return[{event:54,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop52:tracking.pageName,eVar52:tracking.pageName,prop53:tracking.section,
eVar53:tracking.section,prop54:buttonName,eVar54:buttonName,prop55:"thumbnail",eVar55:"thumbnail"}}]}};exports.event54=function(variantName,franchise){return function(tracking){return[{event:54,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId,prop74:variantName,eVar74:variantName}}]}};function event56(placing,prop55){return function(tracking){return[{event:56,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop52:tracking.pageName,eVar52:tracking.pageName,prop53:tracking.section,eVar53:tracking.section,prop54:placing,eVar54:placing,prop55:prop55||tracking.section,eVar55:prop55||tracking.section}}]}}function event57(placing,name){return function(tracking){return[{event:57,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop52:tracking.pageName,eVar52:tracking.pageName,prop53:tracking.section,eVar53:tracking.section,prop55:placing,eVar55:placing,prop57:name,eVar57:name}}]}}exports.kidsLinkClick=function(){return function(tracking){return[{event:57,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:"hbo kids",eVar10:"hbo kids",prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop52:tracking.pageName,eVar52:tracking.pageName,prop53:tracking.section,eVar53:tracking.section,prop57:"kids",eVar57:"kids"}}]}};exports.event85=function(term){return function(tracking){return[{event:85,props:{prop1:term,hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,eVar51:term,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId}}]}};function event39(term,result){return function(tracking){return[{event:39,props:{prop1:term,hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,eVar51:term,prop10:tracking.section,eVar10:tracking.section,prop11:loggedIn(tracking.user),eVar11:loggedIn(tracking.user),prop12:tracking.user.userId,eVar12:tracking.user.userId,prop73:result,eVar73:result}}]}}exports.videoPlayPing=function(tracking){var franchise="global";var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";return[{event:76,props:{hier1:tracking.pageName,pageName:tracking.pageName,eVar1:tracking.pageName,prop10:franchise,eVar10:franchise,prop30:isMobile,eVar30:isMobile,prop42:profile.name,eVar42:profile.name}}]};function interceptParams(event,pageName,additionalProps){var franchise="global";var profile=require("Dotcom-Player").utils.sniffDeviceProfile();var isMobile=profile.name!=="desktop"?"yes":"no";return{event:event,props:R.mergeAll([{eVar10:franchise,prop10:franchise,eVar30:isMobile,prop30:isMobile,eVar42:profile.name,prop42:profile.name},pageProps(pageName),additionalProps||{}])}}exports.displayIntercept=function(pageName){return function(){return[interceptParams(1,pageName)]}};exports.closeIntercept=function(pageName){return function(){return[interceptParams(69,pageName)]}};exports.interceptCtaClick=function(pageName,ctaText){return function(){return[interceptParams(undefined,pageName,{prop41:ctaText})]}};exports.Omniture=Omniture;exports.event15=event15;exports.event17=event17;exports.event21=event21;exports.event23=event23;exports.event26=event26;exports.event39=event39;exports.event41=event41;exports.event57=event57;exports.event56=event56},{"./stores/user-store":333,"Dotcom-Player":33,baconjs:42,ramda:83}],251:[function(require,module,exports){"use strict";exports.isMobile=function(){return window.innerWidth<768}},{}],252:[function(require,module,exports){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var React=require("react");var R=require("ramda");var moment=require("moment");var cookie=require("cookie");var Content=require("../components/Content");var getInputText=function getInputText(c){return c.getDOMNode().value.trim()};var ChangePassword=React.createClass({displayName:"ChangePassword",getInitialState:function getInitialState(){return{passwordChanged:false,passwordErrors:null}},_changePassword:function _changePassword(){var _this=this;var dashboard=this.props.dashboard;var _map=[this.refs.oldPassword,this.refs.newPassword,this.refs.confirmPassword].map(getInputText);var _map2=_slicedToArray(_map,3);var oldPassword=_map2[0];var newPassword=_map2[1];var confirmPassword=_map2[2];if(newPassword!==confirmPassword){return this.setState({passwordErrors:[dashboard.confirmPassword.errors.matchValidator]})}var changeStream=require("../stores/user-store").changePassword(oldPassword,newPassword);changeStream.onValue(function(){_this.setState({passwordChanged:true,passwordErrors:null})});changeStream.onError(function(err){_this.setState({passwordChanged:false,passwordErrors:err.map(function(e){return e.userDisplayMsg})})})},render:function render(){var _state=this.state;var passwordChanged=_state.passwordChanged;var passwordErrors=_state.passwordErrors;var _props=this.props;var dashboard=_props.dashboard;var closeDialog=_props.closeDialog;return passwordChanged?React.createElement("div",{className:"accountManagement-overlay accountManagement-passwordSuccess"},React.createElement("h3",null,"Password changed successfully"),React.createElement("button",{type:"button",className:"button",onClick:closeDialog},"Close")):React.createElement("div",{className:"accountManagement-overlay accountManagement-changePassword"},React.createElement("div",{className:"form-group"},React.createElement("input",{type:"password",className:"form-control",placeholder:dashboard.oldPassword.label,ref:"oldPassword",required:true})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"password",maxLength:"25",className:"form-control",placeholder:dashboard.newPassword.label,ref:"newPassword",required:true}),React.createElement("span",{className:"form-helpBlock"},dashboard.newPassword.body)),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"password",maxLength:"25",className:"form-control",placeholder:dashboard.confirmPassword.label,ref:"confirmPassword",required:true})),passwordErrors?React.createElement("ul",{className:"form-errorList"},passwordErrors.map(function(err,idx){return React.createElement("li",{key:idx},err)})):null,React.createElement("div",{className:"form-group form-actions"},React.createElement("button",{type:"button",className:"button button--small",onClick:this._changePassword},"Save"),React.createElement("button",{type:"button",className:"button button--small",onClick:closeDialog},"Cancel")))}});var AccountManagement=React.createClass({displayName:"AccountManagement",getInitialState:function getInitialState(){return{submitting:false,success:false,errors:null,viewName:"basicData",updatedUser:R.pick(["firstName","lastName","emailAddress","zip","gender"],this.props.user)}},_personalDataChange:function _personalDataChange(){var isChecked=function isChecked(c){return c.getDOMNode().checked};this.setState({updatedUser:{firstName:getInputText(this.refs.firstName),lastName:getInputText(this.refs.lastName),emailAddress:getInputText(this.refs.email),zip:getInputText(this.refs.zip),gender:isChecked(this.refs.genderF)?"F":isChecked(this.refs.genderM)?"M":""}})},_closeChangePassword:function _closeChangePassword(){this.setState({viewName:"basicData"})},render:function render(){var _props2=this.props;var dashboard=_props2.dashboard;var sidebar=_props2.sidebar;var birthDate=this.props.user.birthDate;var _state2=this.state;var submitting=_state2.submitting;var success=_state2.success;var errors=_state2.errors;var viewName=_state2.viewName;var updatedUser=_state2.updatedUser;return React.createElement(Content,{twoColumns:true},React.createElement("div",{className:"pageTitle pageTitle--sub pageTitle--divider"},React.createElement("h2",{className:"pageTitle-title"},dashboard.title)),React.createElement("div",{className:"content-primary content-primary--accountDashboard"},updatedUser?viewName==="basicData"?React.createElement("form",{className:"accountManagement-form",onSubmit:this._onSubmit,onChange:this._personalDataChange},React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-control",placeholder:dashboard.firstName.label,ref:"firstName",defaultValue:updatedUser.firstName,required:true})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-control",placeholder:dashboard.lastName.label,ref:"lastName",defaultValue:updatedUser.lastName,required:true})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"email",className:"form-control",placeholder:dashboard.email.label,ref:"email",defaultValue:updatedUser.emailAddress,required:true})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-control",placeholder:dashboard.zipCode.label+" (optional)",ref:"zip",defaultValue:updatedUser.zip})),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"text",className:"form-control",disabled:true,placeholder:dashboard.dateOfBirth.label+" "+moment(birthDate).year(),value:""})),React.createElement("div",{className:"form-group accountManagement-gender"},React.createElement("label",null,dashboard.gender.label," ",React.createElement("small",null,"(optional)")),React.createElement("div",{className:"radio"},React.createElement("label",{htmlFor:"input_gender_f"},React.createElement("input",{type:"radio",name:"gender",value:"F",id:"input_gender_f",defaultChecked:updatedUser.gender==="F",ref:"genderF"})," ",dashboard.female.label)),React.createElement("div",{className:"radio"},React.createElement("label",{htmlFor:"input_gender_m"},React.createElement("input",{type:"radio",name:"gender",value:"M",id:"input_gender_m",defaultChecked:updatedUser.gender==="M",ref:"genderM"})," ",dashboard.male.label))),errors?React.createElement("ul",{className:"form-errorList"},errors.map(function(err,idx){return React.createElement("li",{key:idx},err)})):null,React.createElement("div",{className:"form-group form-actions"},React.createElement("button",{type:"submit",className:"button button--small"+(submitting?" button--disabled":"")},"Save"),React.createElement("button",{type:"button",className:"button button--small",onClick:this._showChangePassword},"Change password")),success?React.createElement("div",{className:"accountManagement-success"},"Save successful!"):null):viewName==="confirmEmail"?React.createElement("div",{className:"accountManagement-confirmEmail"},React.createElement("h3",null,"Change Email Confirmation"),React.createElement("p",null,"You are about to change your email to ",updatedUser.emailAddress),React.createElement("p",null,"Is this correct?"),React.createElement("button",{type:"button",className:"button",onClick:this._confirmEmail},"Yes"),React.createElement("button",{type:"button",className:"button",onClick:this._closeOverlay},"No"),React.createElement("p",{className:"accountManagement-emailText"},"The new email address you entered will be used for login from this point forward. To complete the email update process, we will send you an email message to your new email containing a link. Click on that link to activate your email address. Once you validate your email you will be able to login to HBO.com")):viewName==="changePassword"?React.createElement(ChangePassword,{dashboard:dashboard,closeDialog:this._closeChangePassword}):null:null),React.createElement("div",{className:"content-secondary content-secondary--accountDashboard"},React.createElement("div",{className:"secondaryContent-item"},React.createElement("h3",{className:"secondaryContent-itemTitle"},"Who can see my information?"),React.createElement("p",null,dashboard.tooltip)),sidebar))},_onSubmit:function _onSubmit(evt){evt.preventDefault();this.setState({success:false});this._submit(false)},_submit:function _submit(emailConfirmed){var _this2=this;var user=this.props.user;var updatedUser=this.state.updatedUser;if(!emailConfirmed&&updatedUser.emailAddress!==user.emailAddress){return this.setState({viewName:"confirmEmail"})}this.setState({submitting:true});var updateStream=require("../stores/user-store").update(updatedUser);updateStream.onValue(function(){_this2.setState({submitting:false,success:true});if(emailConfirmed){document.cookie=cookie.serialize("authTokenHBO",null,{path:"/"});var modalStore=require("../stores/modal-store");modalStore.openModal.push(_this2._renderEmailChangedModal(updatedUser.emailAddress))}});updateStream.onError(function(err){_this2.setState({submitting:false,success:false,errors:err.map(function(e){return e.userDisplayMsg})})})},_closeOverlay:function _closeOverlay(){this.setState({viewName:"basicData"})},_showChangePassword:function _showChangePassword(){this.setState({viewName:"changePassword",success:false})},_confirmEmail:function _confirmEmail(){this.setState({viewName:"basicData"});this._submit(true)},_renderEmailChangedModal:function _renderEmailChangedModal(newEmail){var modalTexts=this.props.dashboard.emailConfirmationModal;function closeDialog(){window.location=modalTexts.redirect}require("../stores/modal-store").openModal.filter(function(x){return x===false}).take(1).onValue(closeDialog);return React.createElement("div",{className:"modal--emailChanged"},React.createElement("h1",null,modalTexts.title),React.createElement("p",{dangerouslySetInnerHTML:{__html:modalTexts.body.replace("[EMAIL]",newEmail)}}),React.createElement("button",{className:"button",onClick:closeDialog},modalTexts.buttons[0].label))}});module.exports=AccountManagement},{"../components/Content":263,"../stores/modal-store":330,"../stores/user-store":333,cookie:51,moment:58,ramda:83,react:245}],253:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var AboutFaq=require("../templates/AboutFaq");var AccountDashboard=require("../templates/AccountDashboard");var Article=require("../templates/Article");var Awards=require("../templates/Awards");var BioWithStats=require("../templates/BioWithStats");var BoxingPortal=require("../templates/BoxingPortal");var ContactNew=require("../templates/ContactNew");var ContentList=require("../templates/ContentList");var ContentTwoColumns=require("../templates/ContentTwoColumns");var EpisodeHome=require("../templates/EpisodeHome");var EpisodeHomeVideo=require("../templates/EpisodeHomeVideo");var ErrorTemplate=require("../templates/Error");var Explore=require("../templates/Explore");var ExploreODTV=require("../templates/ExploreODTV");var Extras=require("../templates/Extras");var FaqDetail=require("../templates/FaqDetail");var Fights=require("../templates/Fights");var FooterMain=require("./FooterMain");var FooterUtility=require("./FooterUtility");var GlobalVideo=require("../templates/GlobalVideo");var GlobalVideoGrid=require("../templates/GlobalVideoGrid");var GoSchedule=require("../templates/GoSchedule");var GridEpisodes=require("../templates/GridEpisodes");var HeaderMain=require("./HeaderMain");var Homepage=require("../templates/Homepage");var Intercept=require("./Intercept");var Interview=require("../templates/Interview");var Login=require("../templates/Login");var Logout=require("../templates/Logout");var Modal=require("./Modal");var Music=require("../templates/Music");var NewsLetterSubscribe=require("../templates/NewsLetterSubscribe");var OnDemandSchedule=require("../templates/OnDemandSchedule");var PageLoading=require("./PageLoading");var Portal=require("../templates/Portal");var PortalAboutNew=require("../templates/PortalAboutNew");var PropertyTalkNews=require("../templates/PropertyTalkNews");var PropertyTalkNewsItem=require("../templates/PropertyTalkNewsItem");var R=require("ramda");var React=require("react/addons");var ReactCSSTransitionGroup=React.addons.CSSTransitionGroup;var Register=require("../templates/Register");var ResetPassword=require("../templates/ResetPassword");var SamplingPage=require("../templates/SamplingPage");var Schedule=require("../templates/Schedule");var ScheduleError=require("../templates/ScheduleError");var ScheduleWhatToWatch=require("../templates/ScheduleWhatToWatch");var Search=require("../templates/Search");var SingleColumnFilms=require("../templates/SingleColumnFilms");var SingleColumnGridInside=require("../templates/SingleColumnGridInside");var SingleColumnPeople=require("../templates/SingleColumnPeople");var Slideshow=require("../templates/Slideshow");var SpecialsHome=require("../templates/SpecialsHome");var breakpoints=require("../breakpoints");var cx=require("classnames");var isGoingToShowIntercept=require("../intercept-utils");var querystring=require("query-string");var time=require("../time");var url=require("url");function getTemplate(data,query){switch(data.template){case"commonTemplates:Article":return Article;case"commonTemplates:Awards":return Awards;case"commonTemplates:BioWithStats":return BioWithStats;case"commonTemplates:ContentList":return ContentList;case"commonTemplates:ContactNew":return ContactNew;case"commonTemplates:ContentTwoColumnsList":case"commonTemplates:ContentTwoColumns":return ContentTwoColumns;case"commonTemplates:EpisodeHome":return data.content.parsed["common:FullBleedVideo"]||data.content.parsed["common:LiveVideo"]?EpisodeHomeVideo:EpisodeHome;case"commonTemplates:Error":return ErrorTemplate;case"commonTemplates:ScheduleError":return ScheduleError;case"commonTemplates:Extras":return Extras;case"commonTemplates:FaqDetail":return FaqDetail;case"commonTemplates:AboutFaq":return AboutFaq;case"commonTemplates:BoxingPortal":return BoxingPortal;case"commonTemplates:Explore":return Explore;case"commonTemplates:ExploreODTV":return ExploreODTV;case"commonTemplates:Fights":return Fights;case"commonTemplates:GlobalVideo":return GlobalVideo;case"commonTemplates:GlobalVideoGrid":return query.vid?GlobalVideo:GlobalVideoGrid;case"commonTemplates:GridEpisodes":return GridEpisodes;case"commonTemplates:Interview":return Interview;case"commonTemplates:Homepage":return Homepage;case"commonTemplates:Music":return Music;case"commonTemplates:AboutNewsletter":case"commonTemplates:NewsLetterSubscribe":return NewsLetterSubscribe;case"commonTemplates:Portal":return Portal;case"commonTemplates:PortalAboutNew":return PortalAboutNew;case"commonTemplates:SingleColumnFilms":return SingleColumnFilms;case"commonTemplates:GridPeopleWithLeftNav":case"commonTemplates:SingleColumnPeople":return SingleColumnPeople;case"commonTemplates:GridInsideWithLeftNav":case"commonTemplates:SingleColumnGridInside":return SingleColumnGridInside;case"commonTemplates:SpecialsHome":return SpecialsHome;case"commonTemplates:Slideshow":return Slideshow;case"talkTemplates:PropertyTalkNewsItem":return PropertyTalkNewsItem;case"talkTemplates:PropertyTalkNews":return PropertyTalkNews;case"custom:AccountDashboard":return AccountDashboard;case"custom:Register":return Register;case"custom:Login":return Login;case"custom:Logout":return Logout;case"custom:ResetPassword":return ResetPassword;case"custom:Search":return Search;case"custom:SamplingPage":return SamplingPage;case"custom:Schedule":return Schedule;case"custom:ScheduleWhatToWatch":return ScheduleWhatToWatch;case"custom:OnDemandSchedule":return OnDemandSchedule;case"custom:GoSchedule":return GoSchedule;default:return ErrorTemplate}}var App=React.createClass({displayName:"App",_hasFlexboxSupport:function _hasFlexboxSupport(){var e=document.createElement("test");return e.style.flexWrap!==undefined||e.style.webkitFlexWrap!==undefined||e.style.msFlexWrap!==undefined},getInitialState:function getInitialState(){var modal=R.path(["content","modal"],this.props);return{content:this.props.content,secureApi:this.props.secureApi,url:this.props.url,clientSide:false,flexboxSupport:false,timezone:this.props.timezone,modal:modal?Modal.getModalComponent(modal,this.props):null,pageLoading:false,showIntercept:false}},componentDidMount:function componentDidMount(){var _this=this;var store=require("../stores/route-store");store.currentPage.onValue(function(page){return _this.setState(R.merge({showIntercept:false},page))});store.pageLoading.onValue(function(loading){return _this.setState({pageLoading:loading})});var modalStore=require("../stores/modal-store");modalStore.openModal.onValue(function(modal){return _this.setState({modal:modal,scrollbarWidth:modalStore.getScrollBarWidth()})});this.setState({clientSide:true,flexboxSupport:this._hasFlexboxSupport()});this.setState({timezone:time.getZone()});store.initialPage.push(R.merge(this.props.content.tracking||{},{sAccount:this.props.sAccount}));if(isGoingToShowIntercept()){try{window.localStorage.setItem(this.props.interceptConfig.localStorageKey,"1");this.setState({showIntercept:true})}catch(e){}}},_closeExplorer:function _closeExplorer(){require("../stores/route-store").explorer.push(false)},_mouseOver:function _mouseOver(){if(!breakpoints.isMobile()){this._closeExplorer()}},render:function render(){var _this2=this;var _state=this.state;var clientSide=_state.clientSide;var timezone=_state.timezone;var flexboxSupport=_state.flexboxSupport;var pageLoading=_state.pageLoading;var state=_objectWithoutProperties(_state,["clientSide","timezone","flexboxSupport","pageLoading"]);var classes=cx({js:clientSide,modalOpen:!!this.state.modal,flexboxSupport:flexboxSupport});var query=querystring.parse(url.parse(state.url).search);var Template=getTemplate(this.state.content,query);var pageClassName=this.state.content.template?"template-"+this.state.content.template.replace(/:/,"-"):"";if(this.state.showIntercept){pageClassName+=" u-no-scrollbars"}return React.createElement("html",{className:classes,onMouseOver:this._mouseOver,lang:"en",style:{marginRight:this.state.modal?this.state.scrollbarWidth:null}},React.createElement("head",null,React.createElement("title",null,this.state.content.title),React.createElement("meta",{charSet:"utf-8"}),React.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}),React.createElement("meta",{name:"description",content:this.state.content.description}),React.createElement("meta",{name:"keywords",content:this.state.content.keywords}),React.createElement("link",{rel:"canonical",href:this.props.domain+state.url}),React.createElement("meta",{property:"og:url",content:this.props.domain+state.url}),React.createElement("meta",{property:"og:title",content:this.state.content["og:title"]?this.state.content["og:title"]:this.state.content.title}),React.createElement("meta",{property:"og:description",content:this.state.content.description}),React.createElement("meta",{property:"og:site_name",content:"HBO"}),React.createElement("meta",{property:"og:type",content:"website"}),this.props.interceptConfig.enabled?null:React.createElement("meta",{name:"apple-itunes-app",content:"app-id=971265422"}),this.state.content["og:image"]?React.createElement("meta",{property:"og:image",content:this.state.content["og:image"]}):null,React.createElement("link",{href:this.props.cdn+"/css/styles.css",rel:"stylesheet"}),"production"==="development"?React.createElement("script",{src:"http://localhost:35729/livereload.js?snipver=1"}):null,typeof this.props.adobeDTM==="string"?React.createElement("script",{src:this.props.adobeDTM}):null),React.createElement("body",{className:pageClassName},React.createElement(PageLoading,{loading:pageLoading}),React.createElement(HeaderMain,{navigation:this.props.navigation.toplevel.filter(function(nav){return nav.template}),utilityNav:this.props.config.data.header,onMouseOver:this._mouseOver,timezone:timezone}),React.createElement("div",{onClick:this._closeExplorer,onMouseOver:this._mouseOver,className:"app-template"},React.createElement(Template,_extends({},state,{query:query,hash:clientSide?location.hash:"",timezone:timezone,config:this.props.config.data,renderApi:this.props.renderApi,imageApi:this.props.imageApi})),React.createElement("div",{id:"footer-wrapper"},React.createElement(FooterMain,{data:this.props.footer,renderApi:this.props.renderApi}),React.createElement(FooterUtility,{groups:this.props.config.data.footer}))),React.createElement(ReactCSSTransitionGroup,{transitionName:"modal--animation"},this.state.modal?React.createElement(Modal,{content:this.state.modal}):null),this.state.showIntercept?React.createElement(Intercept,_extends({},this.props.interceptConfig,{imageApi:this.props.imageApi,onClose:function(){return _this2.setState({showIntercept:false})}})):null,React.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__images = [].slice.call(document.images, 0)"}}),React.createElement("script",{"data-id":"reactContent",dangerouslySetInnerHTML:{__html:"window.__reactContent="+JSON.stringify(this.props).replace(/<\//g,"<\\/").replace(/<!--/g,"\\u003C!--")}}),React.createElement("div",{dangerouslySetInnerHTML:{__html:'<!--[if lt IE 10]><script src="'+this.props.cdn+'/js/legacy.js"></script><![endif]-->'}}),React.createElement("script",{src:this.props.cdn+"/js/app.js",async:true}),typeof this.props.kruxTracking==="string"?React.createElement("script",{src:this.props.kruxTracking}):null,React.createElement("script",{src:this.props.cdn+"/js/omniture.js",async:true}),React.createElement("script",{dangerouslySetInnerHTML:{__html:'if (typeof(location) !== "undefined" && location.protocol === "https:") { location.protocol = "http:"; }'}})))}});module.exports=App},{"../breakpoints":251,"../intercept-utils":325,"../stores/modal-store":330,"../stores/route-store":332,"../templates/AboutFaq":334,"../templates/AccountDashboard":335,"../templates/Article":336,"../templates/Awards":337,"../templates/BioWithStats":338,"../templates/BoxingPortal":339,"../templates/ContactNew":340,"../templates/ContentList":341,"../templates/ContentTwoColumns":342,"../templates/EpisodeHome":343,"../templates/EpisodeHomeVideo":344,"../templates/Error":345,"../templates/Explore":346,"../templates/ExploreODTV":347,"../templates/Extras":348,"../templates/FaqDetail":349,"../templates/Fights":350,"../templates/GlobalVideo":351,"../templates/GlobalVideoGrid":352,"../templates/GoSchedule":353,"../templates/GridEpisodes":354,"../templates/Homepage":355,"../templates/Interview":356,"../templates/Login":357,"../templates/Logout":358,"../templates/Music":359,"../templates/NewsLetterSubscribe":360,"../templates/OnDemandSchedule":361,"../templates/Portal":362,"../templates/PortalAboutNew":363,"../templates/PropertyTalkNews":364,"../templates/PropertyTalkNewsItem":365,"../templates/Register":366,"../templates/ResetPassword":367,"../templates/SamplingPage":368,"../templates/Schedule":369,"../templates/ScheduleError":370,"../templates/ScheduleWhatToWatch":372,"../templates/Search":373,"../templates/SingleColumnFilms":374,"../templates/SingleColumnGridInside":375,"../templates/SingleColumnPeople":376,"../templates/Slideshow":378,"../templates/SpecialsHome":379,"../time":380,"./FooterMain":267,"./FooterUtility":269,"./HeaderMain":271,"./Intercept":274,"./Modal":284,"./PageLoading":301,classnames:50,"query-string":80,ramda:83,"react/addons":84,url:49}],254:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var moment=require("moment");var VideoItem=require("./VideoItem");var Sticky=require("../components/Sticky");var Share=require("../components/Share");var Article=React.createClass({displayName:"Article",getInitialState:function getInitialState(){return{videos:{}}},componentDidMount:function componentDidMount(){var _this=this;R.flatten(this.props.article.map(function(a){return a.videos||[]})).map(function(v){return v.$.vid}).forEach(function(vid){require("superagent").get("/api/content/global/videos/data/"+vid+".json",function(res){var obj={};obj[vid]=res.body;_this.setState({videos:R.merge(_this.state.videos,obj)})})})},_renderVideo:function _renderVideo(video,vid){return React.createElement(VideoItem,{key:vid,imageUrl:video.type.type.videoImage.medium,nav:"/video/video.xml?autoplay=true&vid="+vid,title:video.type.type.title.text,type:"article",inlineVideo:true,videoId:parseInt(vid,10),pageName:this.props.pageName})},render:function render(){var _this2=this;var preTitle=this.props.preTitle;var posted=this.props.posted;return React.createElement("article",{className:"article"},preTitle?React.createElement("h4",{className:"article-titlePre",dangerouslySetInnerHTML:{__html:preTitle}}):null,React.createElement("h2",{className:"article-titleMain",dangerouslySetInnerHTML:{__html:this.props.title}}),posted?React.createElement("h4",{className:"article-titlePost"},moment.utc(posted.label).format("MMM D, YYYY")):null,this.props.shareUrl?React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.shareUrl,className:"share--article"})):null,this.props.article.map(function(article,i){var articleBody=article.body.split(/({video\d+}|\0)/gi).filter(function(f){return!R.isEmpty(f)}).map(function(item,idx){if(/{video\d+}/.test(item)){var video=R.find(R.pathEq(["$","id"],item.replace(/{|}/g,"")),article.videos);return _this2.state.videos[video.$.vid]?_this2._renderVideo(_this2.state.videos[video.$.vid],video.$.vid):null}return React.createElement("div",{key:idx,dangerouslySetInnerHTML:{__html:item}})});return React.createElement("div",{key:i,className:"article-content"},article.segmentTitle?React.createElement("h3",{className:"article-titleSegment",dangerouslySetInnerHTML:{__html:article.segmentTitle}}):null,article.segmentSubTitle?React.createElement("h4",{className:"article-titleSubSegment",dangerouslySetInnerHTML:{__html:article.segmentSubTitle}}):null,React.createElement("div",null,articleBody))}),this.props.children)}});module.exports=Article},{"../components/Share":313,"../components/Sticky":314,"./VideoItem":320,moment:58,ramda:83,react:245,superagent:246}],255:[function(require,module,exports){"use strict";var React=require("react");var moment=require("moment");var BioWithStats=React.createClass({displayName:"BioWithStats",render:function render(){return React.createElement("article",{className:"article article-bioWithStats"},React.createElement("h2",{className:"article-titleMain",dangerouslySetInnerHTML:{__html:this.props.title}}),this.props.date?React.createElement("h4",{className:"article-titlePost"},moment(this.props.date).format("MMM D, YYYY")):null,this.props.children,React.createElement("div",{className:"article-content"},React.createElement("ul",{className:"bioWithStats-list"},this.props.stats.map(function(stat){return React.createElement("li",{className:"bioWithStats-listItem",key:stat.show},React.createElement("span",{className:"bioWithStats-key"},stat.show),React.createElement("span",{className:"bioWithStats-value"},stat.value));

}))),React.createElement("div",{className:"article-content"},this.props.image?React.createElement("div",{className:"article-image article-image--left"},React.createElement("img",{src:this.props.image})):null,React.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.body}})))}});module.exports=BioWithStats},{moment:58,react:245}],256:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var cx=require("classnames");var Link=require("./Link");var Button=React.createClass({displayName:"Button",propTypes:{level:React.PropTypes.oneOf(["primary","secondary"]),size:React.PropTypes.oneOf(["small","large"]),disabled:React.PropTypes.bool,block:React.PropTypes.bool},render:function render(){var _props=this.props;var nav=_props.nav;var label=_props.label;var className=_props.className;var href=_props.href;var props=_objectWithoutProperties(_props,["nav","label","className","href"]);var classes=cx({button:true,"button--small":this.props.size==="small","button--large":this.props.size==="large","button--primary":this.props.level==="primary","button--secondary":this.props.level==="secondary","button--block":this.props.block,"button--light":this.props.light,"button--arrow":this.props.arrow,"button--arrowBack":this.props.arrowBack,"button--disabled":this.props.disabled});classes=className?classes+" "+className:classes;return nav?React.createElement(Link,_extends({href:nav,className:classes},props),label):React.createElement("a",_extends({href:"#",className:classes},props),label)}});module.exports=Button},{"./Link":276,classnames:50,react:245}],257:[function(require,module,exports){"use strict";var React=require("react");var Button=require("../components/Button");var CallToActionBar=React.createClass({displayName:"CallToActionBar",propTypes:{text:React.PropTypes.string,imageWide:React.PropTypes.string,imageNarrow:React.PropTypes.string,linkText:React.PropTypes.string,url:React.PropTypes.string},render:function render(){return React.createElement("div",{className:"callToActionBar "+this.props.className},React.createElement("div",{className:"callToActionBar-title"},this.props.title),React.createElement("div",{className:"callToActionBar-text"},this.props.text),this.props.imageWide?React.createElement("img",{src:this.props.imageWide,className:"callToActionBar-image--wide"}):null,this.props.imageNarrow?React.createElement("img",{src:this.props.imageNarrow,className:"callToActionBar-image--narrow"}):null,React.createElement(Button,{className:"callToActionBar-button button--cta",label:this.props.linkText,nav:this.props.url,omniture:this.props.omniture}))}});module.exports=CallToActionBar},{"../components/Button":256,react:245}],258:[function(require,module,exports){"use strict";var React=require("react");var Picture=require("./Picture");var cx=require("classnames");var Link=require("../components/Link");var formatImage=function formatImage(i){return{src:i.url,width:i.width}};var fallbackImage="http://i.lv3.hbo.com/assets/images/global/global/on-demand/150508-default-vshort-1920-template-300.jpg";var CategoryCard=React.createClass({displayName:"CategoryCard",_clickCard:function _clickCard(event){this.props.cardClicked(event)},propTypes:{title:React.PropTypes.string.isRequired,href:React.PropTypes.string.isRequired,images:React.PropTypes.array.isRequired,count:React.PropTypes.number.isRequired,items:React.PropTypes.array.isRequired},render:function render(){var _props=this.props;var title=_props.title;var images=_props.images;var open=_props.open;var href=_props.href;var count=_props.count;var imgUrl=images.length?images[0].url:fallbackImage;var classes=cx({categoryCard:true,"categoryCard--open":open});return React.createElement("li",{className:classes},React.createElement(Link,{href:href,onClick:this._clickCard},React.createElement("div",{className:"categoryCard-content"},React.createElement("div",{className:"categoryCard-imageWrapper"},React.createElement(Picture,{src:imgUrl,className:"categoryCard-image",images:images.map(formatImage),sizes:"(min-width: 1180px) 20vw, (min-width: 980px) 25vw, (min-width: 768px) 33.33, 50vw",fallbackImage:fallbackImage})),React.createElement("div",{className:"categoryCard-meta"},React.createElement("h4",{className:"categoryCard-title"},title),React.createElement("h5",{className:"categoryCard-count"},count," items")))))}});module.exports=CategoryCard},{"../components/Link":276,"./Picture":303,classnames:50,react:245}],259:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var omniture=require("../analytics");var Bacon=require("baconjs");var Link=require("./Link");var Button=require("./Button");var NavGlobal=require("./NavGlobal");var SearchProgram=require("./SearchProgram");var searchQuery=new Bacon.Bus;var CategoryExplorer=React.createClass({displayName:"CategoryExplorer",getInitialState:function getInitialState(){return{open:false,loadingPrograms:false,programsSearch:[],searchString:""}},componentDidMount:function componentDidMount(){var _this=this;require("../stores/route-store").explorerP.onValue(function(open){if(_this.state.open!==open){_this.setState({searchString:""})}_this.setState({open:open})});searchQuery.filter(function(v){return v.length>=2}).debounce(100).flatMapLatest(function(query){_this.setState({loadingPrograms:true});return Bacon.fromCallback(function(callback){require("superagent").get("/api/data/findprograms?limit=9&search="+query,function(data){callback({results:data.body,query:query})})})}).onValue(function(response){return _this.setState({loadingPrograms:false,programsSearch:response.results.items.map(function(item){return{id:item.name,href:item.nav,highlighted:SearchProgram.highlight(item.name,response.query)}})})})},_indexCategories:function _indexCategories(nav){return{title:nav.title,subCategories:nav.subCategory.reduce(function(categories,category){categories[category.name]=category.items;return categories},{}),allSection:nav.allSection}},_renderLink:function _renderLink(item,name,key){return React.createElement("li",{key:item.nav+key},React.createElement(Link,{omniture:omniture.event57("Category Explorer",name),href:item.nav},item.name,item.subName?React.createElement("span",{className:"categoryExplorer-listItemLabel"},item.subName):null))},_renderColumn:function _renderColumn(category,title,inputItems,columns){var _this2=this;var items=Array.isArray(inputItems)?columns>1?this._splitColumns(inputItems,columns):inputItems:[];var classes={"categoryExplorer-subCategory":true};classes["categoryExplorer-subCategory--columnCount"+(columns||1)]=typeof columns==="number";return React.createElement("div",{className:cx(classes)},React.createElement("h3",{className:"categoryExplorer-subCategoryTitle"},title),React.createElement("ul",{className:"categoryExplorer-subCategoryList"},items.map(function(item,i){return Array.isArray(item)?React.createElement("ul",{key:i,className:"categoryExplorer-subCategory-listColumn"},item.map(function(a,b){return _this2._renderLink(a,category+" - "+title,b)})):_this2._renderLink(item,category+" - "+title,i)})))},_splitColumns:function _splitColumns(list,columns){var a=[];for(var i=0;i<columns;i++){a.push(list.slice(Math.ceil(list.length*i/columns),Math.ceil(list.length*(i+1)/columns)))}return a},_renderSubCategory:function _renderSubCategory(nav){var subCategory=nav.subCategories;var lastColumnClasses=["categoryExplorer-subCategory","categoryExplorer-subCategory--columnCount1","categoryExplorer-subCategory--with-search"].join(" ");switch(nav.title){case"Series":return React.createElement("div",null,this._renderColumn(nav.title,"Featured Series",subCategory.Miniseries,1),this._renderColumn(nav.title,"All Series",subCategory.Series,3));case"Sports":return React.createElement("div",null,React.createElement("div",{className:lastColumnClasses},React.createElement(Button,{nav:NavGlobal.urls.Sports,label:"Sports Home",level:"secondary"})),React.createElement("div",{className:"categoryExplorer-subCategory--inline categoryExplorer-subCategory--columnCount1"},this._renderColumn(nav.title,"Boxing",subCategory.Boxing),this._renderColumn(nav.title,"Series",subCategory.Series)),this._renderColumn(nav.title,"Documentaries",subCategory.Documentaries,2));case"Documentaries":return React.createElement("div",null,React.createElement("div",{className:lastColumnClasses},React.createElement(Button,{nav:NavGlobal.urls.Documentaries,label:"Documentaries home",level:"secondary"}),nav.allSection?React.createElement(Button,{nav:nav.allSection.nav,label:nav.allSection.name,level:"secondary"}):null),this._renderColumn(nav.title,"Featured Docs",subCategory["Recent Documentaries"],2),this._renderColumn(nav.title,"Past Docs",subCategory["Past Docs"],1));case"Comedy":return React.createElement("div",null,React.createElement("div",{className:lastColumnClasses},React.createElement(Button,{nav:NavGlobal.urls.Comedy,label:"Comedy Home",level:"secondary"})),this._renderColumn(nav.title,"Events",subCategory.Events,1),this._renderColumn(nav.title,"Series",subCategory.Series,1),this._renderColumn(nav.title,"HBO Digitals",subCategory["HBO Digitals"],1));case"Movies":return React.createElement("div",null,React.createElement("div",{className:lastColumnClasses},React.createElement(Button,{nav:NavGlobal.urls.Movies,label:"Movies Home",level:"secondary"}),nav.allSection?React.createElement(Button,{nav:nav.allSection.nav,label:nav.allSection.name,level:"secondary"}):null),this._renderColumn(nav.title,"Featured Movies",subCategory["Recent Movies"],2),this._renderColumn(nav.title,"HBO Films",subCategory["HBO Films"],1))}},_mouseOver:function _mouseOver(event){event.stopPropagation()},_search:function _search(query){searchQuery.push(query);this.setState({searchString:query})},render:function render(){var _this3=this;var categories=this.props.navigation.map(this._indexCategories);var classes=cx({categoryExplorer:true,"categoryExplorer--open":typeof this.state.open==="string"});return React.createElement("nav",{className:classes,onMouseOver:this._mouseOver},categories.map(function(nav){var catClasses=cx({"categoryExplorer-content":true,"categoryExplorer-content--open":_this3.state.open===nav.title});return React.createElement("div",{key:nav.title,className:catClasses},React.createElement(SearchProgram,{className:"searchProgram--categoryExplorer",placeholder:"Search programs",results:_this3.state.programsSearch,loading:_this3.state.loadingPrograms,onSearch:_this3._search,value:_this3.state.searchString}),_this3._renderSubCategory(nav))}))}});module.exports=CategoryExplorer},{"../analytics":250,"../stores/route-store":332,"./Button":256,"./Link":276,"./NavGlobal":290,"./SearchProgram":310,baconjs:42,classnames:50,react:245,superagent:246}],260:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var querystring=require("query-string");var CategoryCard=require("../components/CategoryCard");var CategoryView=require("../components/CategoryView");var CategoryList=React.createClass({displayName:"CategoryList",_cardClicked:function _cardClicked(id,tracking){var _this=this;return function(event){_this.props.onCardClick(event,id,tracking)}},_getHref:function _getHref(subCategory){var defaultQuery=R.omit(["subCategory"],this.props.query);var query=querystring.stringify(this.props.selected.category===subCategory?defaultQuery:_extends({},defaultQuery,{subCategory:subCategory}));return""+this.props.url+(query.length?"?"+query:"")},render:function render(){var _this2=this;var categories=this.props.categories.map(function(c){var count=c.programs.length;var isCardOpen=_this2.props.selected.category===c.id;var card=React.createElement(CategoryCard,{key:c.id,title:c.title,images:c.images,count:count,href:_this2._getHref(c.id),cardClicked:_this2._cardClicked(c.id,c.tracking),open:isCardOpen,items:c.programs,ref:isCardOpen?"openCard":undefined});var elements=[card];if(isCardOpen){var detailsView=React.createElement(CategoryView,{renderApi:_this2.props.renderApi,title:c.title,items:c.programs,url:_this2.props.url,query:R.merge(_this2.props.query,{subCategory:c.id}),tracking:c.tracking,timezone:_this2.props.timezone,cardDetails:_this2.props.cardDetails,contentType:_this2.props.contentType,selected:_this2.props.selected.focusId,onCloseHref:_this2._getHref(c.id),onClose:_this2._cardClicked("",_this2.props.defaultTracking)});elements.push(detailsView)}return elements});return categories?React.createElement("ul",{className:"categoryList"},categories):null}});module.exports=CategoryList},{"../components/CategoryCard":258,"../components/CategoryView":262,"query-string":80,ramda:83,react:245}],261:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var querystring=require("query-string");var Link=require("./Link");var cx=require("classnames");var omniture=require("../analytics");var CategoryTabs=React.createClass({displayName:"CategoryTabs",_categoryUrl:function _categoryUrl(query,category){return this.props.url+"?"+querystring.stringify(R.merge(R.omit(["focusId","productId","subCategory"],query),{category:category.id}))},propTypes:{selected:React.PropTypes.string.isRequired,categories:React.PropTypes.array.isRequired},render:function render(){var _this=this;var selected=this.props.selected;var tabs=this.props.categories.map(function(c){var classes=cx({"categoryTabs-tabLink":true,"categoryTabs-tabLink--selected":c.id===selected});return React.createElement("li",{className:"categoryTabs-tab",key:c.id},React.createElement(Link,{omniture:omniture.event34(c.title.toLowerCase()),href:_this._categoryUrl(_this.props.query,c),className:classes},c.title))});return React.createElement("ul",{className:"categoryTabs"},tabs)}});module.exports=CategoryTabs},{"../analytics":250,"./Link":276,classnames:50,"query-string":80,ramda:83,react:245}],262:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _ProgramAvailability=require("./ProgramAvailability");var React=require("react");var R=require("ramda");var ScheduleProgram=require("./ScheduleProgram");var Link=require("../components/Link");var cx=require("classnames");var querystring=require("query-string");var CategoryView=React.createClass({displayName:"CategoryView",propTypes:{renderApi:React.PropTypes.string.isRequired,title:React.PropTypes.string,contentType:React.PropTypes.oneOf(["HBOGO","HOD"]).isRequired,items:React.PropTypes.array.isRequired,timezone:React.PropTypes.string.isRequired},_onClick:function _onClick(focusId,tracking){var _this=this;return function(event){event.preventDefault();Link.replaceUrl(event);_this.setState({selected:focusId});require("../stores/route-store").trackPage.push(tracking)}},_scrollToItem:function _scrollToItem(){var item=(this.refs.scheduleProgram||this.refs.categoryView).getDOMNode();var bounds=item.getBoundingClientRect();window.scrollTo(0,bounds.top+window.scrollY)},getInitialState:function getInitialState(){return{selected:this.props.selected}},componentDidUpdate:function componentDidUpdate(){if(!R.isEmpty(this.state.selected)){this._scrollToItem()}},componentDidMount:function componentDidMount(){this._scrollToItem()},render:function render(){var _this2=this;return React.createElement("div",{className:"categoryView",ref:"categoryView"},React.createElement("div",{className:"categoryView-content"},this.props.onClose||this.props.title?React.createElement("header",{className:"categoryView-header"},this.props.onClose?React.createElement(Link,{href:this.props.onCloseHref,onClick:this.props.onClose},React.createElement("div",{className:"categoryView-close iconFont-closeSmall"})):null,this.props.title?React.createElement("h1",{className:"categoryView-title"},this.props.title):null):null,React.createElement("ul",{className:"categoryView-items"},this.props.items.map(function(item){var timezone=_this2.props.timezone;var focusId=item.focusId;var detailsOpen=String(_this2.state.selected)===String(focusId);var classes=cx({"categoryView-item":true,"categoryView-item--detailsOpen":detailsOpen});var href=_this2.props.url+"?"+querystring.stringify(_extends({},_this2.props.query,{focusId:focusId}));return React.createElement("li",{className:classes,key:focusId,ref:detailsOpen?"scheduleProgram":null},React.createElement(Link,{href:_this2.props.url+(Object.keys(_this2.props.query).length?"?"+querystring.stringify(_this2.props.query):""),onClick:_this2._onClick("",_this2.props.tracking)},React.createElement("span",{className:"categoryView-itemClose iconCss-closeSmall"})),React.createElement("div",null,detailsOpen?React.createElement(ScheduleProgram,{className:"modal--scheduleProgram",program:_this2.props.cardDetails&&_this2.props.cardDetails.focusId===focusId?_this2.props.cardDetails:{focusId:focusId},timezone:timezone,renderApi:_this2.props.renderApi}):React.createElement(Link,{href:href,onClick:_this2._onClick(focusId,item.tracking)},React.createElement("h2",{className:"categoryView-itemTitle"},item.title),React.createElement("span",{className:"scheduleProgram-metadata"},_this2.props.contentType==="HOD"?React.createElement(_ProgramAvailability.DetailCardOnDemandAvailability,{program:item}):React.createElement(_ProgramAvailability.UpcomingScheduleGoNowAvailability,{service:"go",program:item,timezone:timezone})))))}))))}});module.exports=CategoryView},{"../components/Link":276,"../stores/route-store":332,"./ProgramAvailability":304,"./ScheduleProgram":307,classnames:50,"query-string":80,ramda:83,react:245}],263:[function(require,module,exports){"use strict";var R=require("ramda");var React=require("react");var cx=require("classnames");var Content=React.createClass({displayName:"Content",getDefaultProps:function getDefaultProps(){return{withSidebar:true}},propTypes:{modifier:React.PropTypes.string,withSidebar:React.PropTypes.bool},render:function render(){var classes=cx(R.merge({content:true,"content--withSidebar":this.props.withSidebar,"content--twoColumns":this.props.twoColumns},R.createMapEntry("content--"+this.props.modifier,this.props.modifier)));return React.createElement("div",{className:classes},this.props.children)}});module.exports=Content},{classnames:50,ramda:83,react:245}],264:[function(require,module,exports){"use strict";var React=require("react");var moment=require("moment");var CountDown=React.createClass({displayName:"CountDown",propTypes:{countTo:React.PropTypes.object.isRequired,className:React.PropTypes.string},componentDidMount:function componentDidMount(){this._updateCountDown();this.timer=setInterval(this._updateCountDown,1e3)},componentWillUnmount:function componentWillUnmount(){clearInterval(this.timer)},render:function render(){var className=this.props.className;return React.createElement("div",{className:"countDown"+(className?" "+className:"")},React.createElement("div",{className:"countDown-part countDown-day"},React.createElement("div",{className:"countDown-time",ref:"day"}),React.createElement("div",{className:"countDown-label"},"d")),React.createElement("div",{className:"countDown-part countDown-hour"},React.createElement("div",{className:"countDown-time",ref:"hour"}),React.createElement("div",{className:"countDown-label"},"h")),React.createElement("div",{className:"countDown-part countDown-min"},React.createElement("div",{className:"countDown-time",ref:"min"}),React.createElement("div",{className:"countDown-label"},"m")),React.createElement("div",{className:"countDown-part countDown-sec"},React.createElement("div",{className:"countDown-time",ref:"sec"}),React.createElement("div",{className:"countDown-label"},"s")))},_updateCountDown:function _updateCountDown(){var diff=moment.duration(this.props.countTo.diff(moment()));var _refs=this.refs;var day=_refs.day;var hour=_refs.hour;var min=_refs.min;var sec=_refs.sec;day.getDOMNode().textContent=Math.max(Math.floor(diff.asDays()),0);hour.getDOMNode().textContent=Math.max(diff.hours(),0);min.getDOMNode().textContent=Math.max(diff.minutes(),0);sec.getDOMNode().textContent=Math.max(diff.seconds(),0)}});module.exports=CountDown},{moment:58,react:245}],265:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var querystring=require("query-string");var Link=require("./Link");var cx=require("classnames");var CurrentScheduleSelector=React.createClass({displayName:"CurrentScheduleSelector",_url:function _url(selection){var q=this.props.query;return this.props.url+"?"+querystring.stringify(R.merge(q,{currentSchedule:selection==="available"}))},render:function render(){var available=this.props.currentSchedule;var availableClasses=cx({"currentScheduleSelector-button":true,"currentScheduleSelector-button--available":true,"currentScheduleSelector-button--selected":available});var comingClasses=cx({"currentScheduleSelector-button":true,"currentScheduleSelector-button--coming":true,"currentScheduleSelector-button--selected":!available});return React.createElement("div",{className:"currentScheduleSelector"},React.createElement(Link,{className:availableClasses,href:this._url("available"),onClick:this.props.onClick},"Available"),React.createElement("span",{className:"currentScheduleSelector-divider"},"|"),React.createElement(Link,{className:comingClasses,href:this._url("coming"),onClick:this.props.onClick},"Coming Soon"))}});module.exports=CurrentScheduleSelector},{"./Link":276,classnames:50,"query-string":80,ramda:83,react:245}],266:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var cx=require("classnames");var Button=require("./Button");var Fight=React.createClass({displayName:"Fight",getInitialState:function getInitialState(){return{statsOpen:false}},_toggleStats:function _toggleStats(e){e.preventDefault();this.setState({statsOpen:!this.state.statsOpen})},render:function render(){var _this=this;var fight=this.props.fight;var branding=R.find(R.propEq("id",fight.viewingInfo))(this.props.branding);var headliners=fight.schedule.headliners;var statClasses=cx({"fight-stats":true,"fight-stats--open":this.state.statsOpen});var statDropdownClasses=cx({"iconCss-dropdown":true,"iconCss-dropdown--open":this.state.statsOpen});return React.createElement("div",{className:"fight"},React.createElement("header",{className:"fight-header"},branding?React.createElement("h3",{className:"fight-branding",style:{color:branding.color}},branding.title):null,React.createElement("h2",{className:"fight-title"},fight.time)),headliners.map(function(subHeadliners,i){return React.createElement("div",{className:"fight-headliner",key:i},subHeadliners.images&&Array.isArray(subHeadliners.images.imageUrl)&&subHeadliners.images.imageUrl.length>0?React.createElement("div",{className:"fight-images fight-image--count-"+subHeadliners.images.imageUrl.length},subHeadliners.images.imageUrl.map(function(img){return React.createElement("img",{key:img,src:img})})):null,React.createElement("div",{className:"fight-headlinerContent"},React.createElement("h4",{className:"fight-subtitle"},subHeadliners.rounds+" rounds, "+subHeadliners.type),subHeadliners.name1&&subHeadliners.name2?React.createElement("div",{className:"fight-headlinerFighters"},React.createElement("div",{className:"fight-headlinerFighter fight-headlinerFighter--fighter1"},subHeadliners.name1),React.createElement("div",{className:"fight-headlinerFighter fight-headlinerFighter--fighter2"},subHeadliners.name2)):null,subHeadliners.tapeTale.length>0?React.createElement("div",{className:"fight-statsToggle",onClick:_this._toggleStats},"Cast ",React.createElement("span",{className:statDropdownClasses})):null,subHeadliners.tapeTale.length>0?React.createElement("ul",{className:statClasses},subHeadliners.tapeTale.map(function(stat){return React.createElement("li",{className:"fight-stat",key:stat.name},React.createElement("div",{className:"fight-statValue fight-statValue--fighter1"},stat.value1),React.createElement("div",{className:"fight-statName"},stat.name),React.createElement("div",{className:"fight-statValue fight-statValue--fighter2"},stat.value2))})):null))}),fight.schedule.undercards.map(function(undercard){return React.createElement("div",{className:"fight-undercard",key:undercard.label},React.createElement("div",{className:"fight-undercardFighters"},undercard.label),React.createElement("h4",{className:"fight-subtitle"},undercard.rounds+" rounds, "+undercard.type))}),headliners[0]&&headliners[0].nav?React.createElement("div",{className:"fight-link"},React.createElement(Button,{light:true,size:"small",arrow:true,level:"primary",nav:headliners[0].nav,label:"Explore the fight"})):null)}});module.exports=Fight},{"./Button":256,classnames:50,ramda:83,react:245}],267:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var Button=require("./Button");var omniture=require("../analytics");var FooterMain=React.createClass({displayName:"FooterMain",render:function render(){var _this=this;var data=this.props.data;return React.createElement("footer",{className:"footerMain"},React.createElement("div",{className:"footerMain-wrapper"},React.createElement("div",{className:"footerMain-primary"},React.createElement("h4",null,data.title),React.createElement("p",null,data.description),React.createElement("ul",{className:"footerMain-listPlatform"},data.ways_to_watch.map(function(group,i){return React.createElement("li",{className:"footerMain-listPlatformItem",key:i},React.createElement("img",{src:_this.props.renderApi+group.image_url}),React.createElement("p",null,group.description),React.createElement(Button,{nav:group.link.url,omniture:omniture.event57("Bottom Nav",group.name),size:"small",level:"primary",light:true,arrow:true,label:group.link.label}))}))),React.createElement("div",{className:"footerMain-secondary"},React.createElement("h4",null,data.follow_us.title),React.createElement("ul",{className:"footerMain-listSocial"},data.follow_us.social_media.map(function(group,i){return React.createElement("li",{className:"footerMain-listSocialItem",key:i},React.createElement(Link,{omniture:omniture.followOnSocial("Follow us",group.label.toLowerCase()),href:group.url},React.createElement("img",{src:_this.props.renderApi+group.image_url})," ",group.label))})))))}});module.exports=FooterMain},{"../analytics":250,"./Button":256,"./Link":276,react:245}],268:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var ModalHelp=require("./ModalHelp");var omniture=require("../analytics");var FooterProperty=React.createClass({displayName:"FooterProperty",openModalHelp:function openModalHelp(name,id){return function(event){ModalHelp.overlayLink(id)(event);require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event57("Bottom Nav",name)})}},render:function render(){var _this=this;return React.createElement("footer",{className:"footerProperty"},Array.isArray(this.props.items)?React.createElement("ul",{className:"footerProperty-list"},this.props.items.map(function(item){return React.createElement("li",{key:item.headline,className:"footerProperty-link"},item.nav.indexOf("talk.hbo.com")>-1||item.nav.indexOf("lithiumstage.hbo.com")>-1?React.createElement("a",{href:item.nav,dangerouslySetInnerHTML:{__html:item.headline},onClick:_this.openModalHelp("Talk","talk")}):React.createElement(Link,{href:item.nav},item.headline))})):null,this.props.children)}});module.exports=FooterProperty},{"../analytics":250,"../stores/route-store":332,"./Link":276,"./ModalHelp":286,react:245}],269:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var ModalHelp=require("./ModalHelp");var querystring=require("query-string");var omniture=require("../analytics");var NavUser=require("./NavUser");var FooterUtility=React.createClass({displayName:"FooterUtility",openModalHelp:function openModalHelp(name,id){return function(event){ModalHelp.overlayLink(id)(event);require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event57("Bottom Nav",name)})}},extractItemLink:function extractItemLink(item){if(typeof item.nav==="string"){return item.nav}if(item.nav.$&&typeof item.nav.$.link==="string"){return item.nav.$.link}return"#"},isCompleteNonTalkItem:function isCompleteNonTalkItem(item){return item.name!=="Talk"&&typeof item.nav==="object"&&item.nav.$&&typeof item.nav.$.link==="string"},render:function render(){var _this=this;return React.createElement("footer",{className:"footerUtility"},React.createElement("div",{className:"footerUtility-wrapper"},this.props.groups.map(function(group,g){return React.createElement("ul",{className:"footerUtility-list",key:g},group.map(function(item,i){var link=_this.extractItemLink(item);return React.createElement("li",{className:"footerUtility-listItem",key:i},typeof item.nav==="string"&&item.nav.length===0?React.createElement("span",{dangerouslySetInnerHTML:{__html:item.name}}):_this.isCompleteNonTalkItem(item)?React.createElement(Link,{omniture:omniture.event57("Bottom Nav",item.name),href:link,dangerouslySetInnerHTML:{__html:item.name}}):React.createElement("a",{href:link,dangerouslySetInnerHTML:{__html:item.name},onClick:_this.openModalHelp(item.name,item.name==="Talk"?"talk":querystring.parse(item.nav.$.overlayParams).type)}))}))}),React.createElement(NavUser,{navName:"footerUtility",navPlacing:"Bottom Nav"})))}});module.exports=FooterUtility},{"../analytics":250,"../stores/route-store":332,"./Link":276,"./ModalHelp":286,"./NavUser":297,"query-string":80,react:245}],270:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var Picture=require("./Picture");var Sticky=require("./Sticky");var Button=require("./Button");var Slideshow=require("../templates/Slideshow");var omniture=require("../analytics");var Gallery=React.createClass({displayName:"Gallery",getInitialState:function getInitialState(){return{open:false}},propTypes:{group:React.PropTypes.array.isRequired,galleryUrl:React.PropTypes.string,title:React.PropTypes.string},_openContent:function _openContent(event){event.preventDefault();this.setState({open:true});require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event45})},componentDidUpdate:function componentDidUpdate(props,state){if(this.state.open!==state.open){Sticky.refresh()}},render:function render(){var props=this.props;return React.createElement("div",{className:"gallery"},props.title?React.createElement("h3",{className:"gallery-title"},props.title):null,React.createElement("div",{className:"gallery-thumbs"},(this.state.open||!this.props.count?props.group:props.group.slice(0,this.props.count)).map(function(image,index){var img=React.createElement("div",{className:"gallery-thumbWrapper"},React.createElement(Picture,{src:image.thumb,sizes:"(min-width: 1180px) 250px, (min-width: 768px) 25vw, 100vw",key:image.thumb+index,images:Picture.sizesFromUrl(image.thumb,[100,200,300,1024])}));return props.galleryUrl?React.createElement(Link,{className:"gallery-thumbItem",key:image.thumb+index,href:Slideshow.urlWithIndex(props.galleryUrl,index)},img):img}),!this.state.open&&this.props.count&&this.props.count<props.group.length?React.createElement("div",{
className:"gallery-loadMore"},React.createElement(Button,{label:"Load more content",size:"small",onClick:this._openContent})):null))}});module.exports=Gallery},{"../analytics":250,"../stores/route-store":332,"../templates/Slideshow":378,"./Button":256,"./Link":276,"./Picture":303,"./Sticky":314,react:245}],271:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var cx=require("classnames");var omniture=require("../analytics");var querystring=require("query-string");var NavUtility=require("./NavUtility");var NavGlobal=require("./NavGlobal");var CategoryExplorer=require("./CategoryExplorer");var NavSearch=require("./NavSearch");var Link=require("./Link");var HeaderMain=React.createClass({displayName:"HeaderMain",getInitialState:function getInitialState(){return{open:false,searchOpen:false}},_toggle:function _toggle(e){e.preventDefault();e.stopPropagation();this.setState({open:!this.state.open,searchOpen:false});require("../stores/route-store").explorer.push(false)},componentDidMount:function componentDidMount(){var _this=this;var route=require("../stores/route-store");route.pageChange.merge(route.explorerP.filter(function(v){return v!==false}).changes()).onValue(function(){return _this.setState({open:false})})},_toggleSearch:function _toggleSearch(e){var _this2=this;e.preventDefault();this.setState({searchOpen:!this.state.searchOpen,open:false},function(){if(_this2.state.searchOpen){_this2.refs.q.getDOMNode().focus()}})},_search:function _search(event){event.preventDefault();var qNode=this.refs.q.getDOMNode();qNode.blur();var q=qNode.value;qNode.value="";require("../stores/route-store").navigate.push("/search?"+querystring.stringify({q:q}));this.setState({searchOpen:false});require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event41(q,"search_results")})},_omnitureF:function _omnitureF(placing,name){return function(tracking){return omniture.event26(tracking).concat(omniture.event57(placing,name)(tracking))}},render:function render(){var classes=cx({headerMain:true,"headerMain--open":this.state.open,"headerMain--searchOpen":this.state.searchOpen});var navToggleClasses=cx({"headerMain-toggle":true,"headerMain-toggle--open":this.state.open});var searchToggleClasses=cx({"navSearch--open":this.state.searchOpen});return React.createElement("header",_extends({className:classes},this.props),React.createElement("div",{className:"navUtility-wrapper"}),React.createElement("div",{className:"headerMain-wrapper"},React.createElement("div",{className:"headerMain-logo"},React.createElement(Link,{href:"/",className:"headerMain-logoLink"},"HBO"),React.createElement("div",{className:navToggleClasses,onClick:this._toggle},React.createElement("i",{className:"headerMain-toggleTop"}),React.createElement("i",{className:"headerMain-toggleMiddle"}),React.createElement("i",{className:"headerMain-toggleBottom"}))),React.createElement("div",{className:"headerMain-nav"},React.createElement(NavGlobal,{navigation:this.props.navigation,ref:"navGlobal"}),React.createElement(NavUtility,{groups:this.props.utilityNav}),React.createElement("ul",{className:"navSchedule"},React.createElement("li",null,React.createElement(Link,{className:"highlight",omniture:this._omnitureF("Top Nav","Free Episodes"),href:"/watch-free-episodes"},"Free Episodes")))),React.createElement(NavSearch,{className:searchToggleClasses,onClick:this._toggleSearch}),React.createElement("div",{className:"headerMain-search"},React.createElement("form",{action:"/search",onSubmit:this._search},React.createElement("input",{type:"search",ref:"q",name:"q",autoComplete:"off",className:"form-control form-control--light",placeholder:"Search HBO.com"}))),React.createElement("div",{className:"headerMain-categoryExplorer",ref:"categoryExplorer"},React.createElement(CategoryExplorer,{navigation:this.props.navigation}))))}});module.exports=HeaderMain},{"../analytics":250,"../stores/route-store":332,"./CategoryExplorer":259,"./Link":276,"./NavGlobal":290,"./NavSearch":292,"./NavUtility":298,classnames:50,"query-string":80,react:245}],272:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var Link=require("./Link");var Picture=require("./Picture");var Video=require("./Video");var NavSeq=require("./NavSeq");var Hero=React.createClass({displayName:"Hero",getDefaultProps:function getDefaultProps(){return{className:"",sizes:"100vw"}},propTypes:{wideContent:React.PropTypes.bool,images:React.PropTypes.array.isRequired,links:React.PropTypes.array,sizes:React.PropTypes.string,href:React.PropTypes.string,linkOmnitureF:React.PropTypes.func,videoId:React.PropTypes.number,videoPath:React.PropTypes.string,onPlayToggled:React.PropTypes.func,onOverlayToggled:React.PropTypes.func,onVideoInitialized:React.PropTypes.func,onPosterClick:React.PropTypes.func},render:function render(){var _this=this;var hasVideo=typeof this.props.videoId==="number";var classes=cx({"hero--has-video":hasVideo,"hero--withNavSeq":this.props.links});var videoComponent=function videoComponent(){return React.createElement(Video,{ref:"video",id:_this.props.videoId,onPosterClick:_this.props.onPosterClick,posterOverTvma:true,videoPath:_this.props.videoPath,autoplay:false,autoplayAfterTvma:true,isInline:true,onVideoInitialized:_this.props.onVideoInitialized,onPlayToggled:_this.props.onPlayToggled,onOverlayToggled:_this.props.onOverlayToggled})};var imageComponent=function imageComponent(){var heroPicture=React.createElement(Picture,{fallbackImage:_this.props.fallbackImage||_this.props.images[0].src,src:_this.props.images[0].src,images:_this.props.images,sizes:_this.props.sizes});return React.createElement("div",{className:"hero-background"},_this.props.href?React.createElement(Link,{href:_this.props.href,omniture:_this.props.linkOmnitureF},heroPicture):{heroPicture:heroPicture},_this.props.backgroundContent?_this.props.backgroundContent:null)};return React.createElement("div",{className:"hero "+this.props.className+" "+classes},hasVideo?videoComponent():imageComponent(),React.createElement("div",{className:"hero-content"},this.props.children,this.props.links?React.createElement(NavSeq,{links:this.props.links,className:"navSeq--episodeHome"}):null),this.props.subComponent)}});module.exports=Hero},{"./Link":276,"./NavSeq":293,"./Picture":303,"./Video":318,classnames:50,react:245}],273:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var R=require("ramda");var cx=require("classnames");var Input=React.createClass({displayName:"Input",getDefaultProps:function getDefaultProps(){return{type:"text"}},getValue:function getValue(){var inputNode=this.refs.input.getDOMNode();return inputNode.__placeholder?"":inputNode.value},componentDidUpdate:function componentDidUpdate(){if(!("placeholder"in document.createElement("input"))&&document.placeholderPolyfill){document.placeholderPolyfill([this.refs.input.getDOMNode()])}},render:function render(){var _props=this.props;var placeholder=_props.placeholder;var helpText=_props.helpText;var errorText=_props.errorText;var type=_props.type;var className=_props.className;var onChange=_props.onChange;var invalid=_props.invalid;var value=_props.value;var props=_objectWithoutProperties(_props,["placeholder","helpText","errorText","type","className","onChange","invalid","value"]);var classes=cx(R.merge({input:true,"input--invalid":errorText||invalid,"input--number":type==="number"},R.createMapEntry(className,!!className)));return React.createElement("div",{className:classes},React.createElement("input",_extends({ref:"input",className:"form-control",placeholder:placeholder,type:type,onChange:onChange,onBlur:onChange,value:value},props)),errorText?React.createElement("span",{className:"form-validateBlock is-error"},errorText):helpText?React.createElement("span",{className:"form-helpBlock"},helpText):null)}});module.exports=Input},{classnames:50,ramda:83,react:245}],274:[function(require,module,exports){"use strict";var React=require("react");var omniture=require("../analytics");var Video=require("./Video");var Intercept=React.createClass({displayName:"Intercept",propTypes:{videoId:React.PropTypes.number.isRequired,pageName:React.PropTypes.string.isRequired,videoPath:React.PropTypes.string.isRequired,title1:React.PropTypes.string.isRequired,title2:React.PropTypes.string.isRequired,ctaText:React.PropTypes.string.isRequired,ctaTarget:React.PropTypes.string.isRequired,localStorageKey:React.PropTypes.string.isRequired,skipVideo:React.PropTypes.bool.isRequired,showTitleImage:React.PropTypes.bool.isRequired,backgroundNarrow:React.PropTypes.string.isRequired,backgroundWide:React.PropTypes.string.isRequired,imageApi:React.PropTypes.string},getInitialState:function getInitialState(){return{isPlaying:true&&!this.props.skipVideo}},componentDidMount:function componentDidMount(){require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.displayIntercept(this.props.pageName)})},_manualClose:function _manualClose(e){e.stopPropagation();require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.closeIntercept(this.props.pageName)});this.props.onClose()},_modal:function _modal(containerClass,contents){return React.createElement("div",{className:containerClass},React.createElement("div",{className:"intercept-backdrop",onClick:this._manualClose}),React.createElement("div",{className:"intercept",onClick:this._manualClose},React.createElement("div",{className:"intercept-contentContainer"},React.createElement("img",{className:"intercept-background--narrow",src:this.props.imageApi+this.props.backgroundNarrow}),React.createElement("img",{className:"intercept-background--wide",src:this.props.imageApi+this.props.backgroundWide}),React.createElement("a",{className:"intercept-logo",href:"/"},"HBO"),React.createElement("a",{className:"intercept-close",onClick:this._manualClose}),contents)))},_playerInitialized:function _playerInitialized(player){var _this=this;player.on("ended",function(){_this.setState({isPlaying:false})})},_canAutoPlay:function _canAutoPlay(){return!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i)},_ctaClick:function _ctaClick(e){var omnitureF=omniture.interceptCtaClick(this.props.pageName,this.props.ctaText);require("../stores/route-store").tracking.trackLink.push({type:"external",omnitureF:omnitureF,target:e.target})},_renderVideo:function _renderVideo(){return React.createElement("div",{className:"intercept-video",onClick:function(e){return e.stopPropagation()}},React.createElement(Video,{inline:true,id:this.props.videoId,videoPath:this.props.videoPath,pageName:this.props.pageName,isIntercept:true,playerInitialized:this._playerInitialized}))},render:function render(){var containerClass="intercept--"+(this._canAutoPlay()?"autoplaySupported":"autoplayNotSupported");var titleContainerClass="intercept-titleContainer "+(this.state.isPlaying?"":"is-active");return this._modal(containerClass,React.createElement("div",null,this.state.isPlaying?this._renderVideo():null,React.createElement("div",{className:titleContainerClass,ref:"title",onClick:function(e){return e.stopPropagation()}},this.props.showTitleImage?React.createElement("img",{className:"intercept-titleImage",src:this.props.imageApi+this.props.titleImage}):null,React.createElement("h1",{className:"intercept-title1",dangerouslySetInnerHTML:{__html:this.props.title1}}),React.createElement("h2",{className:"intercept-title2",dangerouslySetInnerHTML:{__html:this.props.title2}}),React.createElement("a",{className:"intercept-ctaButton",href:this.props.ctaTarget,onClick:this._ctaClick},this.props.ctaText))))}});module.exports=Intercept},{"../analytics":250,"../stores/route-store":332,"./Video":318,react:245}],275:[function(require,module,exports){"use strict";var React=require("react");var moment=require("moment");var Interview=React.createClass({displayName:"Interview",render:function render(){var preTitle=this.props.preTitle;var posted=this.props.posted;return React.createElement("article",{className:"article article--interview"},preTitle?React.createElement("h4",{className:"article-titlePre",dangerouslySetInnerHTML:{__html:preTitle}}):null,React.createElement("h2",{className:"article-titleMain"},this.props.title),posted?React.createElement("h4",{className:"article-titlePost"},moment.utc(posted.label).format("MMM D, YYYY")):null,this.props.children,this.props.segment.map(function(segment,i){return React.createElement("div",{key:i,className:"article-content"},segment.image?React.createElement("div",{className:"article-image article-image--"+segment.image.align},React.createElement("img",{src:segment.image.path})):null,segment.quote?React.createElement("blockquote",{className:"article-quote article-quote--"+segment.quote.align,dangerouslySetInnerHTML:{__html:segment.quote.content}}):null,segment.interviewText.map(function(p,a){return React.createElement("div",{key:a,dangerouslySetInnerHTML:{__html:'<span class="interview-label">'+p.label+"</span>"+p.text}})}))}))}});module.exports=Interview},{moment:58,react:245}],276:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var url=require("url");var omniture=require("../analytics");var Link=React.createClass({displayName:"Link",statics:{shouldPushState:function shouldPushState(href){var urlParts=url.parse(href);var startsWith=new RegExp("^/("+["youtube","addiction","alzheimers","android-assets","apps","asdocs","assets","bin","corpinfo","custom-assets","data","emmys","facebook","golden-globes","hboaccess","hbobryantparkfilmfestival","html","img","myspace","newsletter","order","order-now","pinterest","plugins","podcasts","screenonthegreen","screensavers","scripts","backend","masters","utils"].join("|")+")","i");return!startsWith.test(urlParts.pathname)},getOrigin:function getOrigin(href){var link=document.createElement("a");link.href=href;link.href=link.href;return link.protocol+link.hostname+link.port},isSameOrigin:function isSameOrigin(href){return Link.getOrigin(href)===Link.getOrigin(location.href)},formatUrl:function formatUrl(input){var href=typeof input==="string"?input:"";return(href.substr(0,1)!=="/"&&href.substr(0,4)!=="http"?"/"+href:href).split("|")[0]},hasPushState:function hasPushState(){return typeof history!=="undefined"&&typeof history.pushState!=="undefined"},hasTouchEvents:function hasTouchEvents(){return typeof window!=="undefined"&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},replaceUrl:function replaceUrl(event){if(Link.hasPushState()){history.replaceState(null,null,event.currentTarget.pathname+event.currentTarget.search)}},navigate:function navigate(event){if(event.metaKey||event.ctrlKey){return}var pathname=event.currentTarget.pathname.charAt(0)==="/"?event.currentTarget.pathname:"/"+event.currentTarget.pathname;if(Link.isSameOrigin(event.currentTarget.href)&&pathname.substring(0,8)==="/HBO_GO/"){event.preventDefault();require("../stores/route-store").tracking.trackLink.push({type:"external",target:event.currentTarget,omnitureF:omniture.visitGoLink("Watch GO"),omnitureLinkTypeCode:"o"});var ModalSubscribe=require("./ModalSubscribe");ModalSubscribe.chooseStreaming(pathname.substring(8));return}if(Link.hasPushState()&&Link.isSameOrigin(event.currentTarget.href)&&Link.shouldPushState(event.currentTarget.href)){event.preventDefault();require("../stores/route-store").navigate.push(pathname+event.currentTarget.search+event.currentTarget.hash)}},navigateWithOmniture:function navigateWithOmniture(omnitureF){return function(event){var tracking=require("../stores/route-store").tracking;if(omnitureF){if(Link.isSameOrigin(event.currentTarget.href)){tracking.trackLink.push({type:"internal",target:event.currentTarget,omnitureF:omnitureF})}else{tracking.trackLink.push({type:"external",target:event.currentTarget,omnitureF:omnitureF})}}else{if(!Link.isSameOrigin(event.currentTarget.href)){tracking.trackLink.push({type:"generic_external",target:event.currentTarget})}}Link.navigate(event)}}},propTypes:{href:React.PropTypes.string.isRequired,markActive:React.PropTypes.bool},getInitialState:function getInitialState(){return{active:false}},componentDidMount:function componentDidMount(){var _this=this;if(this.props.markActive){this._unsubscribe=require("../stores/route-store").currentPage.startWith({url:location.pathname}).onValue(function(page){_this.setState({active:page.url===Link.formatUrl(_this.props.href)})})}},componentWillUnmount:function componentWillUnmount(){if(this._unsubscribe){this._unsubscribe()}},render:function render(){var _props=this.props;var href=_props.href;var className=_props.className;var omniture=_props.omniture;var props=_objectWithoutProperties(_props,["href","className","omniture"]);var active=this.state.active;var classes=(className||"")+(active?"link--active":"");return React.createElement("a",_extends({href:Link.formatUrl(href),onClick:Link.navigateWithOmniture(omniture),className:classes},props),this.props.children)}});module.exports=Link},{"../analytics":250,"../stores/route-store":332,"./ModalSubscribe":289,react:245,url:49}],277:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var cx=require("classnames");var ListContentItem=require("./ListContentItem");var Button=require("./Button");var omniture=require("../analytics");var ListContent=React.createClass({displayName:"ListContent",getDefaultProps:function getDefaultProps(){return{className:""}},propTypes:{features:React.PropTypes.array.isRequired},getInitialState:function getInitialState(){return{showAll:false}},_showAll:function _showAll(event){event.preventDefault();this.setState({showAll:true});require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event45})},render:function render(){var classes=cx({listContent:true,"listContent--showAll":this.state.showAll});var someItemsHaveImage=this.props.features.some(function(feature){return feature.imageUrl});return React.createElement("div",{className:classes+" "+this.props.className},this.props.features.map(function(feature,i){return React.createElement(ListContentItem,_extends({key:feature.title+i},feature,{forceImage:someItemsHaveImage}))}),this.props.features.length>5&&!this.state.showAll?React.createElement("div",{className:"listContent-loadMore"},React.createElement(Button,{label:"Load more content",onClick:this._showAll,size:"small"})):null)}});module.exports=ListContent},{"../analytics":250,"../stores/route-store":332,"./Button":256,"./ListContentItem":278,classnames:50,react:245}],278:[function(require,module,exports){"use strict";var React=require("react");var Picture=require("./Picture");var Link=require("./Link");var cx=require("classnames");var ListContentItem=React.createClass({displayName:"ListContentItem",propTypes:{title:React.PropTypes.string.isRequired,body:React.PropTypes.string.isRequired,nav:React.PropTypes.string.isRequired,category:React.PropTypes.string,imageUrl:React.PropTypes.string,forceImage:React.PropTypes.bool},render:function render(){var classes=cx({"listContent-itemContent":true,"listContent-itemContent--noImage":!this.props.imageUrl});return React.createElement(Link,{href:this.props.nav,className:"listContent-item",omniture:this.props.omniture},this.props.forceImage||this.props.imageUrl?React.createElement("div",{className:"listContent-itemImage"},this.props.imageUrl?React.createElement(Picture,{src:this.props.imageUrl,images:Picture.sizesFromUrl(this.props.imageUrl,[200,300]),fallbackImage:this.props.imageUrl}):null):null,React.createElement("div",{className:classes},this.props.category?React.createElement("h5",{className:"listContent-itemPretitle"},this.props.category):null,React.createElement("h4",{className:"listContent-itemTitle",dangerouslySetInnerHTML:{__html:this.props.title}}),React.createElement("div",{className:"listContent-itemBody",dangerouslySetInnerHTML:{__html:this.props.body}})),React.createElement("div",{className:"listContent-itemCta"}))}});module.exports=ListContentItem},{"./Link":276,"./Picture":303,classnames:50,react:245}],279:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var VideoItem=require("./VideoItem");var Button=require("./Button");var ListVideo=React.createClass({displayName:"ListVideo",getDefaultProps:function getDefaultProps(){return{className:""}},render:function render(){var _this=this;var videos=this.props.show.filter(function(video){return video.type==="video"||video.type==="goVideo"});return React.createElement("div",{className:"listVideo "+this.props.className+(videos.length?" listVideo--"+videos[0].type:"")},React.createElement("h4",{className:"content-title"},this.props.title),videos.map(function(video){return React.createElement(VideoItem,_extends({key:video.nav},video,{sizes:_this.props.sizes,pageName:_this.props.pageName}))}),this.props.button.nav?React.createElement(Button,_extends({},this.props.button,{light:true,size:"small",arrow:true})):null)}});module.exports=ListVideo},{"./Button":256,"./VideoItem":320,react:245}],280:[function(require,module,exports){"use strict";var React=require("react");var Main=React.createClass({displayName:"Main",render:function render(){return React.createElement("main",{className:"wrapperMain",role:"main"},this.props.children)}});module.exports=Main},{react:245}],281:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var NewsLetterGroups=require("../components/NewsLetterGroups");var Content=require("../components/Content");var omniture=require("../analytics");var ManageSubscriptions=React.createClass({displayName:"ManageSubscriptions",getInitialState:function getInitialState(){return{selected:[],success:false,submitting:false,errors:null,hasChanges:false}},componentDidMount:function componentDidMount(){var _this=this;var newsletterStore=require("../stores/newsletter-store");this._newsletterSub=newsletterStore.getSubscriptions().onValue(function(subs){var subscriptions=R.flatten(R.values(subs));var selected=subscriptions.filter(R.prop("subscribed")).map(R.prop("name"));_this.setState({selected:selected})})},componenWillUnmount:function componenWillUnmount(){this._newsletterSub()},render:function render(){var _props=this.props;var newsletters=_props.newsletters;var sidebar=_props.sidebar;var dashboard=_props.dashboard;var _state=this.state;var selected=_state.selected;var success=_state.success;var submitting=_state.submitting;var errors=_state.errors;var hasChanges=_state.hasChanges;var disableSubmit=submitting||success||!hasChanges;return React.createElement(Content,{twoColumns:true},React.createElement("div",{className:"pageTitle pageTitle--sub pageTitle--divider"},React.createElement("h2",{className:"pageTitle-title"},dashboard.subscriptions.title),React.createElement("h5",{className:"pageTitle-subTitle"},dashboard.subscriptions.subtitle)),React.createElement("div",{className:"content-primary content-primary--accountDashboard"},React.createElement("form",{onSubmit:this._saveSubscriptions},React.createElement(NewsLetterGroups,{groups:newsletters,selected:selected,onChange:this._onSelection}),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"checkbox"},React.createElement("label",{htmlFor:"newsletter-unsubscibe"},React.createElement("input",{type:"checkbox",id:"newsletter-unsubscibe",onChange:this._onUnsubscribe,checked:R.isEmpty(selected)})," ",dashboard.subscriptions.unsubscribeBox.label))),errors?React.createElement("ul",{className:"form-errorList"},errors.map(function(err,idx){return React.createElement("li",{key:idx},err)})):null,React.createElement("div",{className:"form-group form-actions"},React.createElement("button",{className:"button button--small manageSubscriptions--save"+(disableSubmit?" button--disabled":""),type:"submit",disabled:disableSubmit},success?dashboard.subscriptions.saveButton.savedLabel:dashboard.subscriptions.saveButton.saveLabel)))),React.createElement("div",{className:"content-secondary content-secondary--accountDashboard"},sidebar))},_onSelection:function _onSelection(item){var _this2=this;var name=item.name;var isAddition=function isAddition(){return!R.contains(name,_this2.state.selected)};var updateState=function updateState(){_this2.setState({success:null,hasChanges:true,selected:isAddition()?R.append(name,_this2.state.selected):_this2.state.selected.filter(function(n){return n!==name})})};var fireAddSubscriptionEvent=function fireAddSubscriptionEvent(){require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event15(item.description)})};return function(event){event.preventDefault();updateState();if(isAddition()){fireAddSubscriptionEvent()}}},_saveSubscriptions:function _saveSubscriptions(event){var _this3=this;event.preventDefault();this.setState({submitting:true});var newsletterStore=require("../stores/newsletter-store");var subscribeSub=newsletterStore.updateSubscriptions(this.state.selected);var unSubscribe=subscribeSub.onValue(function(){_this3.setState({success:true,submitting:false,errors:null});unSubscribe()});subscribeSub.onError(function(err){_this3.setState({success:false,submitting:false,errors:err.map(function(e){return e.userDisplayMsg})});unSubscribe()})},_onUnsubscribe:function _onUnsubscribe(){this.setState({selected:[],success:null,hasChanges:true})}});module.exports=ManageSubscriptions},{"../analytics":250,"../components/Content":263,"../components/NewsLetterGroups":299,"../stores/newsletter-store":331,"../stores/route-store":332,ramda:83,react:245}],282:[function(require,module,exports){"use strict";var React=require("react");var Button=require("./Button");var omniture=require("../analytics");var MediaGrid=React.createClass({displayName:"MediaGrid",getInitialState:function getInitialState(){return{open:false}},getDefaultProps:function getDefaultProps(){return{className:""}},_countClassName:function _countClassName(count){if(count===1){return"single"}else if(count===2||count===4){return"twoOrFour"}else if(count===3){return"three"}else if(count>=5){return"fiveOrMore"}return"zero"},_toggle:function _toggle(event){event.preventDefault();this.setState({open:!this.state.open});require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event45})},render:function render(){var limit=this.props.mobileLimit;var children=this.props.children.map(function(item){item.props.className=(item.props.className||"")+" mediaGrid-item";return item});return React.createElement("div",{className:"mediaGrid mediaGrid--"+this._countClassName(this.props.children.length)+" "+this.props.className+(this.state.open?" mediaGrid--showAll":"")},limit?children.slice(0,limit):children,limit&&children.length>limit?children.slice(limit).map(function(item){item.props.className+=" mediaGrid-item--overLimit";return item}):null,limit&&children.length>limit?React.createElement("div",{className:"mediaGrid-loadMore"},React.createElement(Button,{label:"Load more content",onClick:this._toggle,size:"small"})):null)}});module.exports=MediaGrid},{"../analytics":250,"../stores/route-store":332,"./Button":256,react:245}],283:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var Picture=require("./Picture");var VideoItem=require("./VideoItem");var MediaItem=React.createClass({displayName:"MediaItem",propTypes:{imageUrl:React.PropTypes.string.isRequired,nav:React.PropTypes.string.isRequired,title:React.PropTypes.string.isRequired,type:React.PropTypes.string.isRequired},render:function render(){switch(this.props.type){case"video":return React.createElement(VideoItem,this.props)}return React.createElement("div",{className:"mediaItem"},React.createElement("div",{className:"mediaItem-content"},React.createElement(Link,{href:this.props.nav},React.createElement(Picture,{className:"mediaItem-image",src:this.props.imageUrl,sizes:"(min-width: 768px) 25vw, 100vw",images:Picture.sizesFromUrl(this.props.imageUrl,[100,200,300,1024])}))),React.createElement(Link,{href:this.props.nav},React.createElement("span",{className:"mediaItem-title"},this.props.title)))}});module.exports=MediaItem},{"./Link":276,"./Picture":303,"./VideoItem":320,react:245}],284:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var cx=require("classnames");var breakpoints=require("../breakpoints");var Modal=React.createClass({displayName:"Modal",componentDidMount:function componentDidMount(){if(breakpoints.isMobile()){window.scrollTo(0,0)}},_closeModal:function _closeModal(event){if(typeof this.props.content.props.onClose==="function"){this.props.content.props.onClose(event)}else{event.preventDefault();require("../stores/modal-store").openModal.push(false)}},_stopEvent:function _stopEvent(event){event.stopPropagation()},statics:{getModalComponent:function getModalComponent(modal,props){var ScheduleProgram=require("../components/ScheduleProgram");switch(modal.type){case"ScheduleProgram":return React.createElement(ScheduleProgram,_extends({},props,{medium:true,className:"modal--scheduleProgram",program:modal.content,schedule:null}))}return null}},render:function render(){var classes=cx({"modal-content":true,"modal-content--wide":!!this.props.content.props.wide,"modal-content--medium":!!this.props.content.props.medium})+(this.props.content.props.className?" "+this.props.content.props.className:"");return React.createElement("div",null,React.createElement("div",{className:"modal-backdrop",onClick:this._closeModal}),React.createElement("div",{className:"modal-wrapper"},React.createElement("div",{className:"modal",onClick:this._closeModal},React.createElement("div",{className:"modal-contentContainer"},React.createElement("div",{className:classes,onClick:this._stopEvent},React.createElement("div",{className:"modal-close",onClick:this._closeModal},React.createElement("div",{className:"iconCss-closeSmall"})),this.props.content)))))}});module.exports=Modal},{"../breakpoints":251,"../components/ScheduleProgram":307,"../stores/modal-store":330,classnames:50,react:245}],285:[function(require,module,exports){"use strict";var React=require("react");var Button=require("./Button");var Input=require("./Input");var request=require("../request");var querystring=require("query-string");

var Bacon=require("baconjs");var validateEmail=function validateEmail(email){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(email)};var ModalForgotPassword=React.createClass({displayName:"ModalForgotPassword",getInitialState:function getInitialState(){return{errorMessages:[],isValid:false,emailError:null,success:false,emailChanges:new Bacon.Bus}},_continue:function _continue(event){event.preventDefault();require("../stores/modal-store").openModal.push(false)},_submit:function _submit(event){var _this=this;event.preventDefault();var req=request.get("/api/apps/profilescs/rest/accountService/forgotPassword.json?"+querystring.stringify({email:this.refs.email.getValue()}));req.onValue(function(){return _this.setState({success:true})});var generalMsg="We're sorry, there was an error in your submission.";req.onError(function(error){return _this.setState({errorMessages:[generalMsg].concat(error.map(function(e){return e.userDisplayMsg}))})})},componentDidMount:function componentDidMount(){var _this2=this;this.state.emailChanges.debounce(400).map(validateEmail).onValue(function(isValid){if(!isValid){_this2.setState({isValid:false,emailError:"Please enter a valid email address"})}else{_this2.setState({isValid:true,emailError:null})}})},render:function render(){var _this3=this;return React.createElement("div",{className:"modal-forgotPassword modal--padded"},this.state.success?React.createElement("div",{className:"modal-forgotPasswordSuccess"},React.createElement("h1",{className:"modal-title"},"Thank You"),React.createElement("p",null,"An email has been sent to the address you provided containing the steps to reset your password."),React.createElement("div",{className:"modal-forgotPasswordSuccessContinue"},React.createElement(Button,{label:"Continue",small:true,onClick:this._continue}))):React.createElement("form",{onSubmit:this._submit},React.createElement("h1",{className:"modal-title"},"Forgot Your Password?"),React.createElement("p",null,"Enter your email address to reset your password"),React.createElement("div",{className:"form-group"},React.createElement(Input,{onChange:function(){return _this3.state.emailChanges.push(_this3.refs.email.getValue())},type:"email",ref:"email",placeholder:"Email",errorText:this.state.emailError})),this.state.errorMessages.map(function(msg,i){return React.createElement("div",{key:i,className:"form-errorMessage"},msg)}),React.createElement("div",{className:"modal-loginSignIn"},React.createElement("button",{className:"button button--primary"+(this.state.isValid?"":" button--disabled"),disabled:!this.state.isValid,type:"submit"},"Send"))))}});module.exports=ModalForgotPassword},{"../request":327,"../stores/modal-store":330,"./Button":256,"./Input":273,baconjs:42,"query-string":80,react:245}],286:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var request=require("../request");var ModalHelp=React.createClass({displayName:"ModalHelp",statics:{overlayLink:function overlayLink(id,onClose){return function(event){event.preventDefault();var clickedLink=event.currentTarget.href;ModalHelp.loadOverlay(id,onClose,clickedLink)}},loadOverlay:function loadOverlay(id,onClose,clickedLink){var req=request.get("/api/content/help/"+id+".json");req.onValue(function(data){return require("../stores/modal-store").openModal.push(React.createElement(ModalHelp,_extends({},data,{wide:true,onClose:onClose,currentHref:clickedLink})))})}},render:function render(){var _this=this;return React.createElement("div",{className:"modal--padded"},React.createElement("h1",{className:"modal-title"},this.props.title),this.props.pages.map(function(page,i){return React.createElement("div",{className:"modal-helpContent",key:i,dangerouslySetInnerHTML:{__html:page.body.replace(/\{continue_link\}/,_this.props.currentHref)}})}))}});module.exports=ModalHelp},{"../request":327,"../stores/modal-store":330,react:245}],287:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var Button=require("./Button");var ModalForgotPassword=require("./ModalForgotPassword");var ModalHelp=require("./ModalHelp");var Input=require("./Input");var request=require("superagent");var omniture=require("../analytics");var ModalLogin=React.createClass({displayName:"ModalLogin",getInitialState:function getInitialState(){return{errorMessages:[],overlays:null,email:this.props.email,password:"",validateEmail:false,validatePassword:false}},getDefaultProps:function getDefaultProps(){return{email:""}},_login:function _login(event){var _this=this;event.preventDefault();var signIn=require("../stores/user-store").signIn(this.state.email,this.state.password);signIn.onError(function(error){return _this.setState({errorMessages:error.map(function(e){return R.path(["overlays","signIn","errors",e.failureCodeJS],_this.state)||R.path(["overlays","signIn","errors","default_value"],_this.state)||e.userDisplayMsg})})});signIn.onValue(function(token){require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event40(token.authToken.userId)})})},componentDidMount:function componentDidMount(){var _this2=this;this._signInSubscriber=require("../stores/user-store").isSignedIn.filter(true).onValue(function(){require("../stores/modal-store").openModal.push(false)});request.get("/api/html/community/data/overlays.json",function(overlays){return _this2.setState({overlays:overlays.body})})},componentWillUnmount:function componentWillUnmount(){this._signInSubscriber()},_forgotPassword:function _forgotPassword(event){event.preventDefault();require("../stores/modal-store").openModal.push(React.createElement(ModalForgotPassword,null))},_openModal:function _openModal(event){event.preventDefault();require("../stores/modal-store").openModal.push(React.createElement(ModalLogin,null))},_change:function _change(name){var _this3=this;return function(event){_this3.setState(R.fromPairs([[name,event.target.value]]));event.preventDefault()}},_beginValidation:function _beginValidation(name){var _this4=this;return function(){_this4.setState(R.fromPairs([[name,true]]))}},_validatePassword:function _validatePassword(){var passwordMinError=R.path(["overlays","signIn","password","errors","minlength"],this.state);var passwordMaxError=R.path(["overlays","signIn","password","errors","maxlength"],this.state);var passwordRequiredError=R.path(["overlays","signIn","password","errors","required"],this.state);if(this.state.validatePassword&&!this.state.password.length){return passwordRequiredError}if(this.state.validatePassword&&this.state.password.length<6&&passwordMinError){return passwordMinError}if(this.state.validatePassword&&this.state.password.length>25&&passwordMaxError){return passwordMinError}},_validateEmail:function _validateEmail(){var emailPatternError=R.path(["overlays","signIn","email","errors","pattern"],this.state);var emailRequiredError=R.path(["overlays","signIn","email","errors","required"],this.state);if(this.state.validateEmail&&!this.state.email.length&&emailRequiredError){return emailRequiredError}var validEmailRe=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;if(this.state.validateEmail&&!validEmailRe.test(this.state.email)&&emailPatternError){return emailPatternError}},render:function render(){return React.createElement("div",{className:"modal-login modal--padded"},React.createElement("h1",{className:"modal-title"},"Sign In ",React.createElement("a",{href:"#",onClick:ModalHelp.overlayLink("login",this._openModal),className:"modal-titleHelp"},"Help")),React.createElement("form",{action:"#",onSubmit:this._login},React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"email",placeholder:"Email",ref:"email",errorText:this._validateEmail(),onChange:this._change("email"),value:this.state.email,onBlur:this._beginValidation("validateEmail")})),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"password",placeholder:"Password",ref:"password",errorText:this._validatePassword(),onChange:this._change("password"),value:this.state.password,onBlur:this._beginValidation("validatePassword")})),R.uniq(this.state.errorMessages).map(function(error){return React.createElement("div",{key:error,className:"form-errorMessage"},error)}),React.createElement("div",{className:"modal-loginForgotPassword"},React.createElement("a",{href:"#",onClick:this._forgotPassword},"Forgot your password?")),React.createElement("div",{className:"modal-loginSignIn"},React.createElement(Button,{label:"Sign In",size:"small",level:"primary",onClick:this._login}),React.createElement("input",{type:"submit",style:{position:"absolute",left:-9999}})),React.createElement("div",{className:"modal-rememberMe checkbox"},React.createElement("label",{htmlFor:"rememberMe"},React.createElement("input",{type:"checkbox",id:"rememberMe"})," Remember me"))))}});module.exports=ModalLogin},{"../analytics":250,"../stores/modal-store":330,"../stores/route-store":332,"../stores/user-store":333,"./Button":256,"./Input":273,"./ModalForgotPassword":285,"./ModalHelp":286,ramda:83,react:245,superagent:246}],288:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var ModalSchedulePDF=React.createClass({displayName:"ModalSchedulePDF",render:function render(){return React.createElement("div",{className:"modal--padded"},React.createElement("h1",{className:"modal-title"},this.props.schedule.title),React.createElement("p",null,this.props.schedule.subtitle),React.createElement("ul",{className:"modal-schedulePDF"},this.props.schedule.month.map(function(month){return React.createElement("li",{key:month.id,className:"modal-schedulePDFMonth"},React.createElement("h2",{className:"modal-schedulePDFMonth-title"},month.title),React.createElement("ul",null,month.item.map(function(item){return React.createElement("li",{key:item.coast},React.createElement(Link,{href:item.url,target:"_blank"},item.title))})))})))}});module.exports=ModalSchedulePDF},{"./Link":276,react:245}],289:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var request=require("superagent");var Button=require("./Button");var Picture=require("./Picture");var cookie=require("cookie");var moment=require("moment");var Link=require("./Link");var omniture=require("../analytics");var fallbackImage="http://i.lv3.hbo.com/assets/images/global/global/on-demand/150508-default-vshort-1920-template-300.jpg";var homepageUrls={go:"http://play.hbogo.com/",now:"https://www.hbonow.com?camp=nowdesksv1"};function formatTime(time){var hours=Math.floor(time/60);var minutes=Math.floor(time-hours*60);return isNaN(time)||time===0?null:""+(hours>0?hours+":":"")+concatLeadingZero(minutes)+":00"}var concatLeadingZero=function concatLeadingZero(num){return num<10?"0"+num:num};var formatImage=function formatImage(i){return{src:i.url,width:i.width}};var ModalSubscribe=React.createClass({displayName:"ModalSubscribe",statics:{fetchVideoData:function fetchVideoData(id,f){return request.get("/api/deeplink/"+id,f)},parseUrls:function parseUrls(video){return{go:R.path(["availability","go",0,"url"],video),now:R.path(["availability","now",0,"url"],video)}},chooseStreaming:function chooseStreaming(path){var cookies=cookie.parse(document.cookie||"");if(cookies.streamingChoice==="go"||cookies.streamingChoice==="now"){ModalSubscribe.fetchVideoData(path,function(resp){if(resp.status===200&&resp.body!==null){var urls=ModalSubscribe.parseUrls(resp.body);window.location=urls?urls[cookies.streamingChoice]:homepageUrls[cookies.streamingChoice]}else{require("../stores/modal-store").openModal.push(React.createElement(ModalSubscribe,{content:path}))}})}else{require("../stores/modal-store").openModal.push(React.createElement(ModalSubscribe,{content:path}))}}},getInitialState:function getInitialState(){return{video:this.props.video}},componentDidMount:function componentDidMount(){var _this=this;if(!this.state.video){ModalSubscribe.fetchVideoData(this.props.content,function(resp){if(resp.status===200&&resp.body!==null){_this.setState({video:resp.body})}else{_this.setState({video:null,error:"Please come back for upcoming HBO Programming information. Thank you for visiting HBO.com."})}})}},_remember:function _remember(choice,label,franchise){var _this2=this;return function(e){if(_this2.refs.remember.getDOMNode().checked){var config=window.__reactContent;var expires=moment().add(15,"days");var options={path:"/",domain:config.cookieDomain,expires:expires.toDate()};document.cookie=cookie.serialize("streamingChoice",choice,options)}Link.navigateWithOmniture(omniture.selectGoOrNow(choice,label,franchise))(e)}},render:function render(){if(this.state.video===undefined){return React.createElement("div",{className:"modal-subscribe modal--padded"})}else if(this.state.error){return React.createElement("div",{className:"modal-subscribe modal--padded"},React.createElement("div",{className:"modal-subscribeError"},this.state.error))}var video=this.state.video;var urls=ModalSubscribe.parseUrls(video);var category=R.path(["category",0],video);var title=R.path(["title"],video);var seriesTitle=R.path(["series","title"],video);var episodeNumber=R.path(["episode","number"],video);var episodeTitle=R.path(["episode","title"],video);var programTitle=episodeNumber?"Episode "+episodeNumber+(episodeTitle?": "+episodeTitle.toLowerCase():""):null;var franchise=seriesTitle?seriesTitle:category;var duration=formatTime(R.path(["duration"],video));return React.createElement("div",{className:"modal-subscribe modal--padded"},React.createElement("h1",{className:"modal-title"},"Now there are two ways to stream your favorite HBO programs"),video?React.createElement("div",null,video.images?React.createElement("div",{className:"modal-subscribeImage"},React.createElement(Picture,{images:video.images.map(formatImage),src:video.images.length?video.images[0].url:fallbackImage,fallbackImage:fallbackImage})):null,React.createElement("h4",{className:"modal-subscribeItemTitle"},seriesTitle?seriesTitle:title," ",duration?"("+duration+")":""),programTitle?React.createElement("h5",{className:"modal-subscribeItemDescription"},programTitle):null):null,React.createElement("div",{className:"modal-subscribeTypes"},React.createElement("div",{className:"modal-subscribeType"},React.createElement("h3",{className:"modal-subscribeLogo modal-subscribeLogo--now"},"HBO NOW"),React.createElement("p",null,"Subscribe via your device or through a participating broadband provider."),React.createElement(Button,{onClick:this._remember("now","Watch on HBO NOW",franchise),nav:urls.now?urls.now:homepageUrls.now,label:"Watch on HBO NOW",size:"small",level:"secondary",block:true,className:"modal-subscribeButton"})),React.createElement("div",{className:"modal-subscribeType"},React.createElement("h3",{className:"modal-subscribeLogo modal-subscribeLogo--go"},"HBO GO"),React.createElement("p",null,"Includes anytime, anywhere access to HBO with your pay TV subscription."),React.createElement(Button,{onClick:this._remember("go","Watch on HBO GO",franchise),nav:urls.go?urls.go:homepageUrls.go,label:"Watch on HBO GO",size:"small",level:"secondary",block:true,className:"modal-subscribeButton"}))),React.createElement("div",{className:"modal-subscribeRemember"},React.createElement("div",{className:"checkbox"},React.createElement("label",{htmlFor:"remember",className:"checkbox-label"},React.createElement("input",{ref:"remember",name:"remember",id:"remember",type:"checkbox"})," Remember my choice"))),React.createElement("div",{className:"modal-subscribeOrder"},"Don't have HBO? ",React.createElement("a",{href:"http://www.hbo.com/order/order-hbo.html?icid=sched_lnk_order"},"Order it today")))}});module.exports=ModalSubscribe},{"../analytics":250,"../stores/modal-store":330,"./Button":256,"./Link":276,"./Picture":303,cookie:51,moment:58,ramda:83,react:245,superagent:246}],290:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var Link=require("./Link");var breakpoints=require("../breakpoints");var omniture=require("../analytics");var NavGlobal=React.createClass({displayName:"NavGlobal",statics:{urls:{Series:"/",Sports:"/sports",Documentaries:"/documentaries",Comedy:"/comedy",Movies:"/movies"}},_openExplorer:function _openExplorer(title){require("../stores/route-store").explorer.push(title)},_explorerClick:function _explorerClick(title){var _this=this;return function(event){event.preventDefault();if(breakpoints.isMobile()||Link.hasTouchEvents()){_this._openExplorer(title)}else{Link.navigate(event)}}},getInitialState:function getInitialState(){return{open:false}},componentDidMount:function componentDidMount(){var _this2=this;var store=require("../stores/route-store");store.explorerP.onValue(function(open){return _this2.setState({open:open})})},_mouseOver:function _mouseOver(title){var _this3=this;return function(event){if(!breakpoints.isMobile()){event.stopPropagation();if(_this3._hoverTimer){clearTimeout(_this3._hoverTimer);_this3._hoverTimer=null}if(_this3.state.open){_this3._openExplorer(title)}else{_this3._hoverTimer=setTimeout(function(){return _this3._openExplorer(title)},300)}}}},_mouseOut:function _mouseOut(){if(this._hoverTimer){clearTimeout(this._hoverTimer);this._hoverTimer=null}},render:function render(){var _this4=this;return React.createElement("nav",{className:"navGlobal"},React.createElement("ul",{className:"navGlobal-list"},this.props.navigation.map(function(nav){var classes=cx({"navGlobal-category":true,"navGlobal-category--open":_this4.state.open===nav.title});var url=NavGlobal.urls[nav.title]||"/";return React.createElement("li",{key:nav.title,className:classes},React.createElement(Link,{href:url,onClick:_this4._explorerClick(nav.title),onMouseOver:_this4._mouseOver(nav.title),onMouseOut:_this4._mouseOut},nav.title))}),React.createElement("li",{className:"navGlobal-category"},React.createElement(Link,{href:"https://www.hbokids.com/?icid=hbocomnav",className:"link--external",omniture:omniture.kidsLinkClick()},"Kids",React.createElement("i",{className:"iconFont-externalSmall"})))))}});module.exports=NavGlobal},{"../analytics":250,"../breakpoints":251,"../stores/route-store":332,"./Link":276,classnames:50,react:245}],291:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var R=require("ramda");var cx=require("classnames");var omniture=require("../analytics");var ModalHelp=require("./ModalHelp");var NavProperty=React.createClass({displayName:"NavProperty",getInitialState:function getInitialState(){return{open:false}},_toggle:function _toggle(e){this.setState({open:!this.state.open});e.preventDefault();e.stopPropagation()},openModalHelp:function openModalHelp(name,id){return function(event){ModalHelp.overlayLink(id)(event);require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event57("Bottom Nav",name)})}},render:function render(){var _this=this;var classes=cx({navProperty:true,"navProperty--open":this.state.open});var toggleClasses=cx({"navProperty-toggleIcon":true,"iconCss-dropdown":true,"iconCss-dropdown--open":this.state.open});var links=this.props.dockedBar.filter(function(link){return typeof link.name==="string"&&link.type!=="homeIcon"});var title=R.find(function(link){return link.type==="homeIcon"},this.props.dockedBar||[]);var schedule=R.find(function(link){return link.id==="label"},this.props.schedule||[]);return React.createElement("nav",{className:classes},title?React.createElement("h1",{className:"navProperty-title"},React.createElement(Link,{href:title.nav},title.name)):null,schedule?React.createElement("h4",{className:"navProperty-subtitle"},schedule.data.replace("|","")):null,React.createElement("div",{className:"navProperty-toggle",onClick:this._toggle},React.createElement("div",{className:toggleClasses})),links.length?React.createElement("ul",{className:"navProperty-list"},links.map(function(link){return React.createElement("li",{key:link.name,className:"navProperty-link"},link.nav.indexOf("talk.hbo.com")>-1||link.nav.indexOf("lithiumstage.hbo.com")>-1?React.createElement("a",{href:link.nav,dangerouslySetInnerHTML:{__html:link.name},onClick:_this.openModalHelp("Talk","talk")}):React.createElement(Link,{omniture:omniture.event57("Tool Bar",link.name),href:link.nav},link.name))})):null)}});module.exports=NavProperty},{"../analytics":250,"../stores/route-store":332,"./Link":276,"./ModalHelp":286,classnames:50,ramda:83,react:245}],292:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var NavSearch=React.createClass({displayName:"NavSearch",getDefaultProps:function getDefaultProps(){return{className:""}},render:function render(){var _props=this.props;var className=_props.className;var props=_objectWithoutProperties(_props,["className"]);return React.createElement("div",_extends({className:"navSearch "+className},props),"Search",React.createElement("i",{className:"navSearch-toggleTop"}),React.createElement("i",{className:"navSearch-toggleBottom"}))}});module.exports=NavSearch},{react:245}],293:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var NavSeq=React.createClass({displayName:"NavSeq",getDefaultProps:function getDefaultProps(){return{className:""}},propTypes:{links:React.PropTypes.array.isRequired},render:function render(){return React.createElement("div",{className:"navSeq "+this.props.className},this.props.links.map(function(link){return React.createElement(Link,{key:link.id,href:link.data,className:"navSeq-link navSeq-"+link.id},React.createElement("span",{className:"navSeq-arrow"}),React.createElement("span",{className:"navSeq-text"},link.id==="prev"?"Previous":"Next"))}))}});module.exports=NavSeq},{"./Link":276,react:245}],294:[function(require,module,exports){"use strict";var React=require("react");var Sticky=require("./Sticky");var NavSidebar=React.createClass({displayName:"NavSidebar",render:function render(){return React.createElement(Sticky,{stickyClassName:"navSidebar-sticky"},React.createElement("aside",{className:"navSidebar"},this.props.children))}});module.exports=NavSidebar},{"./Sticky":314,react:245}],295:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var Link=require("./Link");var NavTabs=React.createClass({displayName:"NavTabs",getDefaultProps:function getDefaultProps(){return{className:""}},getInitialState:function getInitialState(){return{open:false}},_toggle:function _toggle(e){this.setState({open:!this.state.open});e.preventDefault();e.stopPropagation()},_navigate:function _navigate(omniture){var _this=this;return function(e){_this.setState({open:false});Link.navigate(e);if(omniture){require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture})}}},render:function render(){var _this2=this;var classes=cx({navTabs:true,"navTabs--open":this.state.open});var toggleClasses=cx({"navTabs-toggleIcon":true,"iconCss-dropdown":true,"iconCss-dropdown--open":this.state.open});return React.createElement("div",{className:classes+" "+this.props.className},React.createElement("ul",{className:"navTabs-categories"},this.props.categories.map(function(category){var tabClasses=cx({"navTabs-category":true,"navTabs-category--selected":category.selected});return React.createElement("li",{key:category.key,className:tabClasses+(category.className?" "+category.className:"")},React.createElement(Link,{href:category.href,onClick:_this2._navigate(category.omniture||null)},category.name))})),React.createElement("div",{className:"navTabs-toggle",onClick:this._toggle},React.createElement("div",{className:toggleClasses})),this.props.children)}});module.exports=NavTabs},{"../stores/route-store":332,"./Link":276,classnames:50,react:245}],296:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var Button=require("../components/Button");var cx=require("classnames");var NavTertiary=React.createClass({displayName:"NavTertiary",getDefaultProps:function getDefaultProps(){return{className:""}},propTypes:{showAlways:React.PropTypes.bool,episode:React.PropTypes.string,links:React.PropTypes.array.isRequired},render:function render(){var links=this.props.links;var linkGroups=links.length===1&&!this.props.showAlways?[]:links.length>3?[links.slice(0,Math.ceil(links.length/2)),links.slice(Math.ceil(links.length/2))]:[links];var classes=cx({navTertiary:true,"navTertiary--twoColumns":linkGroups.length>1,"navTertiary--oneColumn":linkGroups.length===1&&links.length>0});return links.length>0||this.props.episode?React.createElement("nav",{className:classes+" "+this.props.className},linkGroups.map(function(linkGroup,index){return React.createElement("ul",{key:index,className:"navTertiary-list"},linkGroup.map(function(link,i){return React.createElement("li",{key:link.name+i,className:"navTertiary-link"+(link.type==="backTo"?" navTertiary-link--backTo":"")},React.createElement(Link,{href:link.nav,markActive:true},link.name))}))}),this.props.episode?React.createElement("div",{className:"navTertiary-watchLink"},React.createElement(Button,{nav:this.props.episode,level:"primary",label:"Watch"})):null):null}});module.exports=NavTertiary},{"../components/Button":256,"./Link":276,classnames:50,react:245}],297:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var React=require("react");var Link=require("./Link");var omniture=require("../analytics");var NavUser=React.createClass({displayName:"NavUser",getInitialState:function getInitialState(){return{user:null}},componentDidMount:function componentDidMount(){var _this=this;this._subscriber=require("../stores/user-store").currentUserP.onValue(function(user){return _this.setState({user:user})})},componentWillUnmount:function componentWillUnmount(){if(this._subscriber==="function"){this._subscriber();this._subscriber=null}},_signOut:function _signOut(event){event.preventDefault();require("../stores/user-store").signOut()},_signIn:function _signIn(event){event.preventDefault();require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event57(this.props.navPlacing,"Sign In")});require("../stores/user-store").initiateSignIn()},render:function render(){return React.createElement("ul",{className:this.props.navName+"-list"},React.createElement("li",{className:this.props.navName+"-listItem"},this.state.user?React.createElement(Link,{href:"/dashboard/account"},this.state.user.displayName):null),React.createElement("li",{className:this.props.navName+"-listItem"},this.state.user?React.createElement("a",{href:"/logout",onClick:this._signOut},"Sign Out"):React.createElement("a",{href:"/login",onClick:this._signIn},"Sign In")))}});exports["default"]=NavUser;module.exports=exports["default"]},{"../analytics":250,"../stores/route-store":332,"../stores/user-store":333,"./Link":276,react:245}],298:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var cx=require("classnames");var omniture=require("../analytics");var NavUtility=React.createClass({displayName:"NavUtility",render:function render(){return React.createElement("nav",{className:"navUtility"},this.props.groups.map(function(group,g){return React.createElement("ul",{className:"navUtility-list",key:g},group.map(function(item,i){var classes=cx({"navUtility-listItem":true,"navUtility-listItem--home":item.name==="Home"});return React.createElement("li",{className:classes,key:i},React.createElement(Link,{omniture:omniture.event57("Top Nav",item.name),href:item.nav},item.name))}))}))}});module.exports=NavUtility},{"../analytics":250,"./Link":276,classnames:50,react:245}],299:[function(require,module,exports){"use strict";var React=require("react");var NewsLetterGroups=React.createClass({displayName:"NewsLetterGroups",render:function render(){var _props=this.props;var groups=_props.groups;var onChange=_props.onChange;var selected=_props.selected;return React.createElement("div",{className:"newsletterGroups"},groups.map(function(group){return React.createElement("div",{key:group.id,className:"form-group form-group--newsletter"},React.createElement("label",null,group.title),group.newsletter.map(function(n){var checked=selected.indexOf(n.name)!==-1;return React.createElement("div",{key:n.name+checked,className:"checkbox"},React.createElement("label",{htmlFor:n.name,className:"checkbox-label"},React.createElement("input",{type:"checkbox",id:n.name,name:n.name,onChange:onChange(n),checked:checked})," ",n.description))}))}))}});module.exports=NewsLetterGroups},{react:245}],300:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var raf=require("raf");var OegyScroll=React.createClass({displayName:"OegyScroll",getDefaultProps:function getDefaultProps(){return{className:"",padding:30}},getInitialState:function getInitialState(){return{items:this.props.items.concat(R.range(0,this.props.count).slice(this.props.items.length))}},propTypes:{count:React.PropTypes.number.isRequired,items:React.PropTypes.array.isRequired,fetch:React.PropTypes.func.isRequired,render:React.PropTypes.func.isRequired},componentWillReceiveProps:function componentWillReceiveProps(nextProps){if(nextProps.items!==this.props.items){this.setState({items:nextProps.items.concat(R.range(0,nextProps.count).slice(nextProps.items.length))})}this._calculateContentDimensions();this._calculateColumnCount()},_scroll:function _scroll(){var _this=this;if(this.state.itemHeight){var html=document.documentElement;var oegy=this.refs.oegyscroll.getDOMNode();var top=(window.pageYOffset||html.scrollTop)-(html.clientTop||0);var firstRow=Math.max(0,Math.floor(Math.max(0,top-oegy.offsetTop)/this.state.itemHeight)-1);if(firstRow!==this.state.firstRow){this.setState({firstRow:firstRow})}if(this.state.rowCount){var items=this.state.items.slice(Math.max(0,this._getStart()-this.props.padding),this._getEnd()+this.props.padding).filter(function(item){return typeof item==="number"});if(items.length>0&&items.length<this.props.padding*2){items=this.state.items.slice(Math.max(0,this._getStart()-this.props.padding*2),this._getEnd()+this.props.padding*2).filter(function(item){return typeof item==="number"})}if(items.length>0){var head=R.head(items);var count=1+R.last(items)-head;this.setState({items:this._replaceInArray(head,R.times(function(){return null},count),this.state.items)});this.props.fetch(head,count,function(data){_this.setState({items:_this._replaceInArray(head,data.videos.video,_this.state.items)})})}}}else{this._calculateContentDimensions();this._calculateColumnCount()}},_replaceInArray:function _replaceInArray(position,items,array){return R.insertAll(position,items,R.remove(position,items.length,array))},_calculateContentDimensions:function _calculateContentDimensions(){var oegy=this.refs.oegyscroll.getDOMNode();var item=oegy.firstChild;if(item&&item.className.indexOf("oegyScroll-placeholder")===-1){item.style.height="auto";var height=item.clientHeight;var rowCount=Math.ceil(window.innerHeight/height)+1;this.setState({itemHeight:height,rowCount:rowCount})}},_calculateColumnCount:function _calculateColumnCount(){var sortedBreakpoints=R.sort(function(a,b){
return a[0]-b[0]},R.toPairs(this.props.breakpointColumns));this.setState({columns:R.findLast(function(v){return v[0]<=window.innerWidth})(sortedBreakpoints)[1]})},_getStart:function _getStart(){return this.state.firstRow*this.state.columns},_getEnd:function _getEnd(){return(this.state.firstRow+this.state.rowCount+1)*this.state.columns},_tick:function _tick(){if(!this.unmounting){raf(this._tick)}if(this.resizing){this.resizing=false;this._calculateContentDimensions();this._calculateColumnCount()}if(this.scrolling){this.scrolling=false;this._scroll()}},_handleResize:function _handleResize(){this.resizing=true;this.scrolling=true},_handleScroll:function _handleScroll(){this.scrolling=true},componentDidMount:function componentDidMount(){window.addEventListener("scroll",this._handleScroll,false);window.addEventListener("resize",this._handleResize,false);this.resizing=true;this.scrolling=true;this._tick()},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("scroll",this._handleScroll,false);window.removeEventListener("resize",this._handleResize,false)},render:function render(){var _this2=this;var styles=this.state.itemHeight?{height:this.state.itemHeight*Math.ceil(this.props.count/this.state.columns)}:{};var items=this.state.items.map(function(item,index){return[item,index]});var slicedItems=typeof this.state.rowCount==="number"&&typeof this.state.firstRow==="number"&&typeof this.state.columns==="number"?items.slice(this._getStart(),this._getEnd()):items;return React.createElement("ul",{className:this.props.className+" oegyScroll",style:styles,ref:"oegyscroll"},slicedItems.map(function(item,i){var style={top:Math.floor(item[1]/_this2.state.columns)*_this2.state.itemHeight,position:"absolute",height:_this2.state.itemHeight,left:item[1]%_this2.state.columns/_this2.state.columns*100+"%"};if(item[0]===null){return React.createElement("li",{key:i,style:style,className:"listGrid-item oegyScroll-placeholder"},React.createElement("div",{className:"oegyScroll-placeholder-image"}))}if(typeof item[0]==="number"){return null}var li=_this2.props.render(item[0]);if(_this2.state.itemHeight){li.props.style=style}return li}))}});module.exports=OegyScroll},{raf:81,ramda:83,react:245}],301:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var PageLoading=React.createClass({displayName:"PageLoading",propTypes:{loading:React.PropTypes.bool.isRequired},getInitialState:function getInitialState(){return{finished:false}},componentWillReceiveProps:function componentWillReceiveProps(props){var _this=this;if(this.props.loading===true&&props.loading===false){this.setState({finished:true});setTimeout(function(){_this.setState({finished:false})},500)}},render:function render(){var classes=cx({pageLoading:true,"pageLoading--loading":this.props.loading,"pageLoading--finished":this.state.finished});return React.createElement("div",{className:classes})}});module.exports=PageLoading},{classnames:50,react:245}],302:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var PageTitle=React.createClass({displayName:"PageTitle",getDefaultProps:function getDefaultProps(){return{className:"",tertiaryLinks:[]}},statics:{hasParent:function hasParent(category,tertiaryLinks){if(!Array.isArray(tertiaryLinks)){return true}var hasDefaultLink=tertiaryLinks.some(function(link){return link.hasOwnProperty("defaultLink")});return!((category==="101"||category==="107"||tertiaryLinks.length===1)&&hasDefaultLink)},hasSingleDefaultLink:function hasSingleDefaultLink(tertiaryLinks){return tertiaryLinks.length===1&&tertiaryLinks.some(function(link){return link.hasOwnProperty("defaultLink")})}},render:function render(){var upperText=this.props.upperText;var lowerText=this.props.lowerText;return React.createElement("div",{className:"pageTitle "+this.props.className},this.props.upperText?React.createElement("h4",{className:"pageTitle-preTitle",dangerouslySetInnerHTML:{__html:upperText}}):null,this.props.heading&&this.props.heading.label?React.createElement("h2",{className:"pageTitle-title"},this.props.heading.nav&&!PageTitle.hasSingleDefaultLink(this.props.tertiaryLinks)?React.createElement(Link,{href:this.props.heading.nav},this.props.heading.label):this.props.heading.label):null,this.props.lowerText?React.createElement("h5",{className:"pageTitle-subTitle",dangerouslySetInnerHTML:{__html:lowerText}}):null)}});module.exports=PageTitle},{"./Link":276,react:245}],303:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var cx=require("classnames");var IMAGE_URL_REGEX=/(.+-)(\d+|())\.jpg$/;var Picture=React.createClass({displayName:"Picture",statics:{parseImageBaseUrl:function parseImageBaseUrl(url){return url.match(IMAGE_URL_REGEX)[1]},getSrcSet:function getSrcSet(images){return images.map(function(img){return img.src+" "+img.width+"w"}).join(", ")},imagesFromBaseUrl:function imagesFromBaseUrl(baseUrl,sizes){return sizes.map(function(width){return{src:baseUrl+width+".jpg",width:width}})},sizesFromUrl:function sizesFromUrl(imageUrl,sizes){return IMAGE_URL_REGEX.test(imageUrl)?Picture.imagesFromBaseUrl(Picture.parseImageBaseUrl(imageUrl),sizes):[{src:imageUrl,width:500}]}},propTypes:{images:React.PropTypes.array.isRequired,src:React.PropTypes.string.isRequired,sizes:React.PropTypes.string},getDefaultProps:function getDefaultProps(){return{className:""}},getInitialState:function getInitialState(){return{loading:true,loaded:false,error:false}},componentWillReceiveProps:function componentWillReceiveProps(props){if(props.src!==this.props.src){this.setState({loading:true,loaded:true,error:false})}},picturefill:function picturefill(){var picturefill=require("picturefill");if(typeof picturefill==="function"&&!this.state.error){picturefill({reevaluate:true,elements:[this.refs.picture.getDOMNode()]})}},_onLoad:function _onLoad(){if(!this.state.error){this.setState({loading:false,loaded:true})}},_onError:function _onError(){this.setState({loading:false,loaded:true,error:true});this._forcePicturelfillReloadOnError()},_forcePicturelfillReloadOnError:function _forcePicturelfillReloadOnError(){if(this.props.fallbackImage&&typeof require("picturefill")==="function"){this.refs.picture.getDOMNode().src=this.props.fallbackImage;var evt=document.createEvent("UIEvents");evt.initUIEvent("resize",true,false,window,0);window.dispatchEvent(evt)}},componentDidMount:function componentDidMount(){var _this=this;var picture=this.refs.picture.getDOMNode();if(picture.complete&&picture.naturalWidth!==0){this.setState({loaded:true,loading:false,error:false})}else if(window.__images.indexOf(picture)!==-1){this._interval=setInterval(function(){if(picture.complete&&_this.state.loading){_this.setState({loaded:true,loading:false,error:true});clearInterval(_this._interval)}},500)}this.picturefill()},componentWillUnmount:function componentWillUnmount(){if(this._interval){clearInterval(this._interval)}},componentDidUpdate:function componentDidUpdate(){this.picturefill()},render:function render(){var _props=this.props;var images=_props.images;var className=_props.className;var src=_props.src;var fallbackImage=_props.fallbackImage;var props=_objectWithoutProperties(_props,["images","className","src","fallbackImage"]);var classes=cx({picture:true,"picture--loading":this.state.loading,"picture--loaded":this.state.loaded,"picture--error":this.state.error});return this.state.error&&fallbackImage?React.createElement("img",{src:fallbackImage,srcSet:Picture.getSrcSet([{src:fallbackImage,width:512}]),className:className+" "+classes,ref:"picture"}):React.createElement("img",_extends({},props,{src:src,className:className+" "+classes,ref:"picture",srcSet:Picture.getSrcSet(images),onLoad:this._onLoad,onError:this._onError}))}});module.exports=Picture},{classnames:50,picturefill:79,react:245}],304:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _momentTimezone=require("moment-timezone");var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _programAvailability=require("../program-availability");var React=require("react");var Button=require("./Button");var time=require("../time");var omniture=require("../analytics");function watchClickOmnitureF(choice,buttonName,franchise){return function(tracking){return omniture.watchButtonClicked(buttonName,franchise)(tracking).concat(omniture.selectGoOrNow(choice,buttonName,franchise)(tracking))}}function createNotAvailable(){return React.createElement("span",null,"Not Available")}function createAvailable(){return React.createElement("span",null,"Available")}function createAvailableUntilWithoutTime(date){return React.createElement("span",null,"Available Until "+date.format("M/D/YYYY"))}function createComingSoonWithTime(startDate,timezone){return React.createElement("span",null,"Starts "+startDate.format("M/D/YYYY h:mm"),React.createElement("sup",null,startDate.format("A")+" "+time.suffix(timezone)))}function createComingSoonWithoutTime(startDate){return React.createElement("span",null,"Starts "+startDate.format("M/D/YYYY"))}function createWatchButton(service,url,omnitureFranchise){return React.createElement(Button,{nav:url,omniture:watchClickOmnitureF(service,service.toUpperCase(),omnitureFranchise),size:"small",level:"primary",label:"Watch",className:"scheduleProgram-watch"})}var DetailCardGoNowAvailability=React.createClass({displayName:"DetailCardGoNowAvailability",render:function render(){var _props=this.props;var service=_props.service;var program=_props.program;var omnitureFranchise=_props.omnitureFranchise;var timezone=_props.timezone;var url=_props.url;var availabilityJSX=function availabilityJSX(_ref){var _available$notAvailable$comingSoon$availableUntil$availability;var availability=_ref.availability;var startDate=_ref.startDate;return(_available$notAvailable$comingSoon$availableUntil$availability={},_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.available,createWatchButton(service,url,omnitureFranchise)),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.notAvailable,createNotAvailable()),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.comingSoon,createComingSoonWithTime(startDate,timezone)),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.availableUntil,createWatchButton(service,url,omnitureFranchise)),_available$notAvailable$comingSoon$availableUntil$availability)[availability]};return availabilityJSX((0,_programAvailability.programAvailability)(program,service,timezone))}});var DetailCardOnDemandAvailability=React.createClass({displayName:"DetailCardOnDemandAvailability",render:function render(){var availabilityJSX=function availabilityJSX(_ref2){var _available$notAvailable$comingSoon$availableUntil$availability2;var availability=_ref2.availability;var startDate=_ref2.startDate;var endDate=_ref2.endDate;return(_available$notAvailable$comingSoon$availableUntil$availability2={},_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.available,createAvailable()),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.notAvailable,createNotAvailable()),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.comingSoon,createComingSoonWithoutTime(startDate)),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.availableUntil,createAvailableUntilWithoutTime(endDate)),_available$notAvailable$comingSoon$availableUntil$availability2)[availability]};return availabilityJSX((0,_programAvailability.programAvailability)(this.props.program,"onDemand","US/Eastern"))}});var UpcomingScheduleGoNowAvailability=React.createClass({displayName:"UpcomingScheduleGoNowAvailability",render:function render(){var _props2=this.props;var service=_props2.service;var program=_props2.program;var timezone=_props2.timezone;var adjustEndDate=function adjustEndDate(date){return(0,_momentTimezone2["default"])(date).subtract(1,"day")};var availabilityJSX=function availabilityJSX(_ref3){var _available$notAvailable$comingSoon$availableUntil$availability3;var availability=_ref3.availability;var startDate=_ref3.startDate;var endDate=_ref3.endDate;return(_available$notAvailable$comingSoon$availableUntil$availability3={},_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability3,_programAvailability.available,createAvailable()),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability3,_programAvailability.notAvailable,createNotAvailable()),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability3,_programAvailability.comingSoon,createComingSoonWithTime(startDate,timezone)),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability3,_programAvailability.availableUntil,createAvailableUntilWithoutTime(adjustEndDate(endDate))),_available$notAvailable$comingSoon$availableUntil$availability3)[availability]};return availabilityJSX((0,_programAvailability.programAvailability)(program,service,timezone))}});module.exports={DetailCardGoNowAvailability:DetailCardGoNowAvailability,DetailCardOnDemandAvailability:DetailCardOnDemandAvailability,UpcomingScheduleGoNowAvailability:UpcomingScheduleGoNowAvailability,createAvailableUntilWithoutTime:createAvailableUntilWithoutTime,createComingSoonWithoutTime:createComingSoonWithoutTime,createComingSoonWithTime:createComingSoonWithTime}},{"../analytics":250,"../program-availability":326,"../time":380,"./Button":256,"moment-timezone":56,react:245}],305:[function(require,module,exports){"use strict";var React=require("react");var MediaItem=require("./MediaItem");var RelatedMedia=React.createClass({displayName:"RelatedMedia",propTypes:{content:React.PropTypes.array.isRequired},render:function render(){var _this=this;return React.createElement("div",{className:"relatedMedia"},React.createElement("h2",{className:"content-title"},"Related media"),React.createElement("div",{className:"relatedMedia-list"},this.props.content.map(function(content){return React.createElement(MediaItem,{key:content.nav,title:content.name,nav:content.nav,imageUrl:content.img,duration:content.duration,type:content.type,pageName:_this.props.pageName})})))}});module.exports=RelatedMedia},{"./MediaItem":283,react:245}],306:[function(require,module,exports){"use strict";var _analytics=require("../analytics");var React=require("react");var Link=require("./Link");var Button=require("./Button");var time=require("../time");var moment=require("moment-timezone");var cx=require("classnames");var querystring=require("query-string");var ScheduleMini=React.createClass({displayName:"ScheduleMini",propTypes:{schedule:React.PropTypes.object.isRequired},_parseDate:function _parseDate(playDate){var dateFormat="YYYY-MM-DD[T]HH:mm:ss[Z]";return moment.utc(playDate,dateFormat).tz(this.props.timezone)},_formatPlayDate:function _formatPlayDate(playDate){var timestamp=this._parseDate(playDate);var timeStr=timestamp.minutes()===0?timestamp.format("h"):timestamp.format("h:mm");var meridiem=timestamp.format("a");return React.createElement("span",{className:"scheduleMini-playDate"},React.createElement("span",{className:"scheduleMini-time"},timeStr),React.createElement("span",{className:"scheduleMini-meridiem"},meridiem+" "+time.suffix(this.props.timezone)))},render:function render(){var _this=this;var classes=cx({scheduleMini:true,"scheduleMini--ellipsis":this.props.schedule.length>=4});var schedule=this.props.schedule&&Array.isArray(this.props.schedule[this.props.timezone])?this.props.schedule[this.props.timezone]:[];return schedule.length>0?React.createElement("div",{className:classes},React.createElement("div",{className:"scheduleMini-heading"},React.createElement(Link,{href:"/schedule/what-to-watch",omniture:(0,_analytics.homepageLinkClick)({section:"schedule",placement:"tonight on hbo"})},"Tonight on HBO")),React.createElement("ol",{className:"scheduleMini-list"},schedule.map(function(p,i){return React.createElement("li",{className:"scheduleMini-listItem",key:i},React.createElement(Link,{href:"/schedule/what-to-watch?"+querystring.stringify({focusId:p.focusId}),omniture:(0,_analytics.homepageLinkClick)({section:"schedule",placement:"schedule "+(i+1)})},_this._formatPlayDate(p.playDate),React.createElement("span",{className:"scheduleMini-title"},p.title)))})),React.createElement("div",{className:"scheduleMini-link"},React.createElement(Button,{nav:"/schedule",level:"primary",light:true,arrow:true,size:"small",label:"Schedule"}))):React.createElement("div",{className:classes})}});module.exports=ScheduleMini},{"../analytics":250,"../time":380,"./Button":256,"./Link":276,classnames:50,"moment-timezone":56,"query-string":80,react:245}],307:[function(require,module,exports){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _ProgramAvailability=require("./ProgramAvailability");var _programAvailability=require("../program-availability");var React=require("react");var moment=require("moment-timezone");var R=require("ramda");var Picture=require("./Picture");var cx=require("classnames");var Button=require("./Button");var time=require("../time");var omniture=require("../analytics");var request=require("superagent");var getGenreName=function getGenreName(genre){var adjustedGenreNames={CON:"Concert",TEF:"Entertainment"};return adjustedGenreNames[genre.abbreviation]?adjustedGenreNames[genre.abbreviation]:genre.name};var getCategory=function getCategory(program){return R.path(["categories","0"],program)||""};var getFranchise=function getFranchise(program){return getCategory(program)==="Series"?R.path(["series","title"],program):getCategory(program)};var getDetails=function getDetails(program){var year=program.publishDate?moment(program.publishDate).format("YYYY"):R.path(["episode","seasonYear"],program);var genresStr=program.genre.map(getGenreName).join(", ");var durationsStr=program.duration?program.duration+" minutes":null;var hdStr=program.hd?"HD":null;return R.reject(R.or(R.isNil,R.isEmpty),[year,genresStr,durationsStr,hdStr])};var getSortedRoles=function getSortedRoles(program){var roleOrders={Cast:0,Creator:1,Producer:2,Director:3,Writer:4};var groupNameReplacements={Cast:"Actors"};return R.pipe(R.groupBy(R.prop("role")),R.toPairs,R.map(function(_ref){var _ref2=_slicedToArray(_ref,2);var groupName=_ref2[0];var persons=_ref2[1];return{groupName:groupName,persons:persons}}),R.sortBy(function(group){return roleOrders[group.groupName]}),R.map(function(_ref3){var groupName=_ref3.groupName;var persons=_ref3.persons;return{groupName:R.propOr(groupName,groupName,groupNameReplacements),persons:persons}}))(program.castCrew)};var afterNow=function afterNow(showing){return moment(showing.playDate).isAfter()};var linearScheduleWithSelection=function linearScheduleWithSelection(selected,showings){var hasSelectedPlaydate=R.propEq("playDate",selected.playDate);var playDateInShowings=R.any(hasSelectedPlaydate);var selectedAndAfter=R.dropWhile(R.not(hasSelectedPlaydate));var selectedAndAfterOrAll=function selectedAndAfterOrAll(shs){return playDateInShowings(shs)?selectedAndAfter(shs):shs};var isCurrentProgramShowing=R.where({channelId:R.eq(selected.channelId),playDate:R.eq(selected.playDate)});var selectedProgramShowingFirst=function selectedProgramShowingFirst(shs){return!isCurrentProgramShowing(shs[0])&&selected.playDate?[selected].concat(R.reject(isCurrentProgramShowing,shs)):shs};var selectedOrAfterNow=R.filter(R.anyPass([hasSelectedPlaydate,afterNow]));return R.pipe(selectedAndAfterOrAll,selectedProgramShowingFirst,selectedOrAfterNow)(showings)};var linearScheduleWithoutSelection=R.filter(afterNow);var getLinearSchedule=function getLinearSchedule(program,selectedProgramShowing){var showings=R.path(["availability","linear"],program);var selected=selectedProgramShowing.playDate?R.merge(selectedProgramShowing,{playDate:new Date(selectedProgramShowing.playDate).toISOString()}):selectedProgramShowing;return selected.playDate?linearScheduleWithSelection(selected,showings):linearScheduleWithoutSelection(showings)};var ScheduleProgram=React.createClass({displayName:"ScheduleProgram",getInitialState:function getInitialState(){return{linearScheduleOpen:false,summaryOpen:false,program:this.props.program}},propTypes:{renderApi:React.PropTypes.string.isRequired,timezone:React.PropTypes.string.isRequired},componentDidMount:function componentDidMount(){var focusId=R.path(["program","focusId"],this.state);if(!this._isProgramLoaded()&&focusId){this._fetchProgram(focusId)}},_isProgramLoaded:function _isProgramLoaded(){return!!R.path(["program","title"],this.state)},_sendLoadAnalytics:function _sendLoadAnalytics(franchise){require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.scheduleProgramOpened(franchise)})},_fetchProgram:function _fetchProgram(focusId){var _this=this;var handleProgramResponse=function handleProgramResponse(response){if(_this.isMounted()){var program=R.path(["body","0"],response);if(program){_this._sendLoadAnalytics(getFranchise(program));_this.setState({program:program})}else{_this.setState({programError:"Please come back for upcoming HBO Original Programming information. Thank you for visiting the HBO schedule."})}}};request.get("/api/schedule/programs").query({focusIds:focusId}).end(handleProgramResponse)},_toggleLinearSchedule:function _toggleLinearSchedule(event){event.preventDefault();this.setState({linearScheduleOpen:!this.state.linearScheduleOpen})},_toggleSummary:function _toggleSummary(event){event.preventDefault();this.setState({summaryOpen:!this.state.summaryOpen})},_goSchedule:function _goSchedule(data){return data&&data.goSchedule?Array.isArray(data.goSchedule)?data.goSchedule[0]:data.goSchedule:null},render:function render(){var _this2=this;if(this.state.programError){return React.createElement("div",{className:"scheduleProgram-details"},React.createElement("div",{className:"scheduleProgram-programError"},this.state.programError))}if(!this._isProgramLoaded()){return null}var program=this.state.program;var details=getDetails(program);var timezone=this.props.timezone;var goUrl=R.path(["availability","go","0","url"],program);var nowUrl=R.path(["availability","now","0","url"],program);var sortedRoles=getSortedRoles(program);var category=getCategory(program);var selectedProgram={playDate:this.props.playDate,channelId:this.props.channelId,channelName:this.props.channelName};var linearSchedule=getLinearSchedule(program,selectedProgram);var titleContainer=React.createElement("div",{className:"scheduleProgram-titleContainer"},category?React.createElement("span",{className:"scheduleProgram-category"},category):null,React.createElement("h1",{className:"scheduleProgram-title"},program.title));var summary=program.summary||"";var summaryLength=300;var programImages=program.images.map(function(_ref4){var url=_ref4.url;var width=_ref4.width;return{src:url,width:width}});var detailImage=programImages[0];var classes=cx({"scheduleProgram-linearScheduleList":true,"scheduleProgram-linearScheduleList--open":this.state.linearScheduleOpen});var programUrl=R.path(["series","url"],program)||program.url;var contentAdvisory=program.contentAdvisory.filter(function(_ref5){var abbreviation=_ref5.abbreviation;return abbreviation!=="NA"});return React.createElement("div",{className:"scheduleProgram-content variantB"},detailImage?React.createElement("div",{className:"scheduleProgram-headerImage"},React.createElement(Picture,{src:detailImage.src,images:programImages,className:"scheduleProgram-programImage"}),titleContainer):titleContainer,React.createElement("div",null,this._isProgramLoaded()?React.createElement("ul",{className:"scheduleProgram-availability"},React.createElement("li",{className:"scheduleProgram-availabilityItem scheduleProgram-availabilityItem--now"+((0,_programAvailability.isAvailableInService)(program,"now",timezone)?"":" scheduleProgram-notAvailable")},React.createElement("img",{src:this.props.renderApi+"/custom-assets/vshort/footer/logo-hbonow.svg",className:"scheduleProgram-availabilityTypeLogo"}),React.createElement(_ProgramAvailability.DetailCardGoNowAvailability,{program:program,service:"now",omnitureFranchise:getFranchise(program),timezone:timezone,url:nowUrl})),React.createElement("li",{className:"scheduleProgram-availabilityItem scheduleProgram-availabilityItem--go"+((0,_programAvailability.isAvailableInService)(program,"go",timezone)?"":" scheduleProgram-notAvailable")},React.createElement("img",{src:this.props.renderApi+"/custom-assets/vshort/footer/logo-go.svg",className:"scheduleProgram-availabilityTypeLogo"}),React.createElement(_ProgramAvailability.DetailCardGoNowAvailability,{program:program,service:"go",omnitureFranchise:getFranchise(program),timezone:timezone,url:goUrl})),linearSchedule.length>0?React.createElement("li",{className:"scheduleProgram-availabilityItem scheduleProgram-availabilityItem--linear"},React.createElement("span",{className:"scheduleProgram-availabilityType"},"Television"),React.createElement("ul",{className:classes},linearSchedule.map(function(s){var date=moment.tz(s.playDate,_this2.props.timezone);return React.createElement("li",{key:s.playDate+s.channelName},React.createElement("span",{className:"scheduleProgram-linearAvailability--short"},date.format("ddd, MMM D, h:mm")),React.createElement("span",{className:"scheduleProgram-linearAvailability--long"},date.format("dddd, MMMM D, h:mm")),React.createElement("sup",null,date.format("A")+" "+time.suffix(_this2.props.timezone)),React.createElement("span",{className:"scheduleProgram-linearScheduleChannel"}," - ",s.channelName," ",s.channelZone))})),linearSchedule.length>1?React.createElement("a",{href:"#",className:"scheduleProgram-linearScheduleToggle button button--small button--light",onClick:this._toggleLinearSchedule},this.state.linearScheduleOpen?"Close":"View All"):null):React.createElement("li",{className:"scheduleProgram-availabilityItem scheduleProgram-availabilityItem--linear scheduleProgram-notAvailable"},React.createElement("span",{className:"scheduleProgram-availabilityType"},"Television")," Not Available"),React.createElement("li",{className:"scheduleProgram-availabilityItem scheduleProgram-availabilityItem--linear"+((0,_programAvailability.isAvailableInService)(program,"onDemand",timezone)?"":" scheduleProgram-notAvailable")},React.createElement("span",{className:"scheduleProgram-availabilityType"},"On Demand"),React.createElement(_ProgramAvailability.DetailCardOnDemandAvailability,{program:program}))):null,React.createElement("div",{className:"scheduleProgram-details"},React.createElement("span",{className:"scheduleProgram-metadata"},details.join(" | ")),program.mpaa?React.createElement("span",{className:"scheduleProgram-metadata"},program.mpaa,contentAdvisory.length?":":""," ",R.pluck("name",contentAdvisory).join(", ")):null,programUrl?React.createElement("div",{className:"scheduleProgram-linkWrapper"},React.createElement(Button,{nav:programUrl,label:"Explore Program",light:true,size:"small",arrow:true,level:"primary",className:"scheduleProgram-exploreLink"})):null,React.createElement("div",{className:"scheduleProgram-summary"},React.createElement("p",{className:"scheduleProgram-summaryContent"},!this.state.summaryOpen&&summary.length>summaryLength+3?summary.substring(0,summaryLength)+"":summary,!this.state.summaryOpen&&summary.length>summaryLength+3?React.createElement("a",{href:"#",className:"scheduleProgram-summaryToggle button button--small button--light",onClick:this._toggleSummary},"Read More"):null),sortedRoles.length>0?React.createElement("div",{className:"scheduleProgram-crew"},sortedRoles.map(function(group){return React.createElement("span",{className:"scheduleProgram-cast",key:group.groupName},group.groupName+": "+group.persons.map(function(person){return person.name}).join(", "))})):null))))}});module.exports=ScheduleProgram},{"../analytics":250,"../program-availability":326,"../stores/route-store":332,"../time":380,"./Button":256,"./Picture":303,"./ProgramAvailability":304,classnames:50,"moment-timezone":56,ramda:83,react:245,superagent:246}],308:[function(require,module,exports){"use strict";var React=require("react");var NavTabs=require("./NavTabs");var ScheduleSelector=React.createClass({displayName:"ScheduleSelector",propTypes:{selected:React.PropTypes.string.isRequired},render:function render(){var s=this.props.selected;return React.createElement("div",null,React.createElement("h1",{className:"navProperty-title scheduleSelector-title"},"Schedule"),React.createElement("header",{className:"headerGrid scheduleSelector "+this.props.className},React.createElement("div",{className:"headerGrid-block headerGrid-tabs"},React.createElement(NavTabs,{categories:[{key:1,href:"/schedule/what-to-watch",name:"What to Watch",selected:s==="what-to-watch"},{key:2,href:"/schedule#now",name:"TV",selected:s==="schedule"},{key:3,href:"/schedule/on-demand",name:"On Demand",selected:s==="on-demand"},{key:4,href:"/schedule/hbonow-hbogo",name:"HBO NOW & HBO GO",selected:s==="go"}],className:"navTabs--scheduleSelector"})),this.props.children?this.props.children:null))}});module.exports=ScheduleSelector},{"./NavTabs":295,react:245}],309:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var Scrollable=React.createClass({displayName:"Scrollable",componentDidMount:function componentDidMount(){this._initialize();this.setState({innerWidth:window.innerWidth});window.addEventListener("resize",this._resize,false)},componentDidUpdate:function componentDidUpdate(prevProps,prevState){var component=this;function lessThanMinWidth(width){return component.props.minWidth>width}var switchingBetweenMobileAndDesktop=prevState&&prevState.innerWidth&&lessThanMinWidth(prevState.innerWidth)!==lessThanMinWidth(this.state.innerWidth);var contentSizeChanged=prevProps.contentSize!==this.props.contentSize;if(switchingBetweenMobileAndDesktop||contentSizeChanged){this._destroy();this._initialize()}},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("resize",this._resize,false)},_initialize:function _initialize(){if(!this._isTouchDevice()){require("perfect-scrollbar").initialize(this.refs.scrollable.getDOMNode(),{wheelSpeed:2,wheelPropagation:true,useBothWheelAxes:false})}},_destroy:function _destroy(){if(!this._isTouchDevice()){require("perfect-scrollbar").destroy(this.refs.scrollable.getDOMNode());

}},_isTouchDevice:function _isTouchDevice(){return"ontouchstart"in window},_resize:function _resize(){this.setState({innerWidth:window.innerWidth})},render:function render(){return React.createElement("ul",_extends({ref:"scrollable"},this.props),this.props.children)}});module.exports=Scrollable},{"perfect-scrollbar":59,react:245}],310:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var omniture=require("../analytics");var Link=require("./Link");var cx=require("classnames");var SearchProgram=React.createClass({displayName:"SearchProgram",statics:{highlight:function highlight(value,search){return value.replace(new RegExp(search,"gi"),"<mark>$&</mark>")}},getDefaultProps:function getDefaultProps(){return{className:"",maxResults:8,loading:false,value:""}},propTypes:{loading:React.PropTypes.bool.isRequired,results:React.PropTypes.array.isRequired,onSearch:React.PropTypes.func.isRequired,placeholder:React.PropTypes.string.isRequired,value:React.PropTypes.string.isRequired},getInitialState:function getInitialState(){return{selectedIndex:0}},_search:function _search(event){this.setState({selectedIndex:0});this.props.onSearch(event.target.value)},_keyboardNavigate:function _keyboardNavigate(event){var lastResult=Math.min(this.props.results.length,this.props.maxResults)-1;switch(event.keyCode){case 13:var result=this.props.results[this.state.selectedIndex];var routeStore=require("../stores/route-store");routeStore.tracking.trackLink.push({type:"internal",omnitureF:omniture.event85(result.id)});routeStore.navigate.push(result.href);break;case 38:event.preventDefault();this.setState({selectedIndex:Math.max(this.state.selectedIndex-1,0)});break;case 40:event.preventDefault();this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,lastResult)});break}},_click:function _click(){this.props.onSearch("")},render:function render(){var _this=this;var _props=this.props;var className=_props.className;var results=_props.results;var props=_objectWithoutProperties(_props,["className","results"]);return React.createElement("div",{className:"searchProgram "+className},React.createElement("div",{className:"searchProgram-container"},React.createElement("input",_extends({type:"search",onKeyDown:this._keyboardNavigate,className:"form-control form-control--light form-control--searchProgram"},props,{onChange:this._search})),this.props.value.length>1?this.props.loading?React.createElement("ul",{className:"searchProgram-results"},React.createElement("li",null,"Please continue typing to refine your search")):results.length>0||this.props.value.length>1?React.createElement("ul",{className:"searchProgram-results",onClick:this._click},results.slice(0,this.props.maxResults).map(function(result,i){var classes=cx({selected:_this.state.selectedIndex===i});return React.createElement("li",{key:result.id,className:classes},React.createElement(Link,{omniture:omniture.event85(result.id),href:result.href,dangerouslySetInnerHTML:{__html:result.highlighted}}))}),results.length===0&&this.props.value.length>1?React.createElement("li",null,"We're sorry, there are no programs matching your query."):null,results.length>this.props.maxResults?React.createElement("li",{className:"searchProgram-tooManyResults"},"There are too many results. Please refine your query."):null):null:null))}});module.exports=SearchProgram},{"../analytics":250,"../stores/route-store":332,"./Link":276,classnames:50,react:245}],311:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var Link=require("./Link");var SecondaryContent=React.createClass({displayName:"SecondaryContent",propTypes:{features:React.PropTypes.array.isRequired},render:function render(){var classes=cx({secondaryContent:true});return React.createElement("div",{className:classes},this.props.features.map(function(feature){return React.createElement(Link,{href:feature.nav,className:"secondaryContent-item",key:feature.title},React.createElement("h3",{className:"secondaryContent-itemTitle"},feature.title),React.createElement("p",null,feature.body))}))}});module.exports=SecondaryContent},{"./Link":276,classnames:50,react:245}],312:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=require("react");var Select=React.createClass({displayName:"Select",getDefaultProps:function getDefaultProps(){return{className:"",inputClassName:""}},getValue:function getValue(){return this.refs.select.getDOMNode().value},render:function render(){var _props=this.props;var className=_props.className;var inputClassName=_props.inputClassName;var props=_objectWithoutProperties(_props,["className","inputClassName"]);return React.createElement("div",{className:"select "+className},React.createElement("select",_extends({},props,{className:"form-control "+inputClassName,ref:"select"})))}});module.exports=Select},{react:245}],313:[function(require,module,exports){"use strict";var React=require("react");var querystring=require("query-string");var omniture=require("../analytics");var Share=React.createClass({displayName:"Share",getDefaultProps:function getDefaultProps(){return{className:""}},trackSocial:function trackSocial(e){require("../stores/route-store").tracking.trackLink.push({type:"external",omnitureF:omniture.event17,target:e.target})},render:function render(){var facebookShare="https://www.facebook.com/sharer/sharer.php?"+querystring.stringify({s:100,u:this.props.url});var twitterShare="https://twitter.com/intent/tweet?"+querystring.stringify({text:this.props.url+" @hbo",source:"webclient"});return React.createElement("div",{className:"share "+this.props.className},React.createElement("a",{href:facebookShare,onClick:this.trackSocial,target:"_blank",className:"share-link share-fb"}),React.createElement("a",{href:twitterShare,onClick:this.trackSocial,target:"_blank",className:"share-link share-twitter"}))}});module.exports=Share},{"../analytics":250,"../stores/route-store":332,"query-string":80,react:245}],314:[function(require,module,exports){"use strict";var React=require("react");var Bacon=require("baconjs");var raf=require("raf");var cx=require("classnames");var contentResizeStream=new Bacon.Bus;var Sticky=React.createClass({displayName:"Sticky",getInitialState:function getInitialState(){return{top:0,sticky:false}},statics:{refresh:function refresh(){contentResizeStream.push(true)}},getDefaultProps:function getDefaultProps(){return{stickyClassName:"sticky"}},reset:function reset(){var html=document.documentElement,body=document.body;var node=this.getDOMNode();var windowOffset=window.pageYOffset||(html.clientHeight?html:body).scrollTop;var classes=node.className;var style=node.getAttribute("style");node.setAttribute("style","");node.className="";this.elementOffset=node.getBoundingClientRect().top+windowOffset;node.className=classes;node.setAttribute("style",style)},componentDidUpdate:function componentDidUpdate(prevProps,prevState){if(this.state.sticky!==prevState.sticky||prevProps.children!==this.props.children){this.scrolling=true;this.tick()}},tick:function tick(){if(!this.unmounting){raf(this.tick)}if(this.resizing){this.resizing=false;this.reset()}if(this.scrolling){this.scrolling=false;var parentBounds=this.getDOMNode().parentNode.getBoundingClientRect();var stickyNeeded=window.pageYOffset+parentBounds.top+parentBounds.height>window.innerHeight;if(window.pageYOffset>this.elementOffset&&stickyNeeded){var bounds=(this.getDOMNode().firstChild||this.getDOMNode()).getBoundingClientRect();var top=Math.min(0,parentBounds.top+parentBounds.height-bounds.height);this.setState({sticky:true,top:top,stickyNeeded:stickyNeeded})}else{this.setState({sticky:false,top:0,stickyNeeded:stickyNeeded})}}},handleResize:function handleResize(){this.resizing=true;this.scrolling=true},handleScroll:function handleScroll(){this.scrolling=true},iOS7UserAgentPattern:/(iPad|iPhone);.*CPU.*OS 7_\d/i,iOS7HandleScroll:function iOS7HandleScroll(){this.handleScroll();this.tick()},componentDidMount:function componentDidMount(){var _this=this;this.reset();this.scrolling=true;this.tick();this._subscribe=contentResizeStream.onValue(function(){_this.resizing=true;_this.scrolling=true});window.addEventListener("scroll",this.handleScroll);if(navigator.userAgent.match(this.iOS7UserAgentPattern)){window.addEventListener("touchend",this.iOS7HandleScroll)}window.addEventListener("resize",this.handleResize)},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll);if(navigator.userAgent.match(this.iOS7UserAgentPattern)){window.removeEventListener("touchend",this.iOS7HandleScroll)}window.removeEventListener("resize",this.handleResize);this.unmounting=true;this._subscribe()},render:function render(){var classes=cx({"sticky--needed":this.state.stickyNeeded},this.state.sticky?this.props.stickyClassName:null);return React.createElement("div",{className:classes,style:this.state.sticky?{MozTransform:"translate(0, "+this.state.top+"px)",WebkitTransform:"translate(0, "+this.state.top+"px)",oTransform:"translate(0, "+this.state.top+"px)",transform:"translate(0, "+this.state.top+"px)",msTransform:"translate(0, "+this.state.top+"px)"}:{}},this.props.children)}});module.exports=Sticky},{baconjs:42,classnames:50,raf:81,react:245}],315:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var Textarea=React.createClass({displayName:"Textarea",getValue:function getValue(){return this.refs.textarea.getDOMNode().value},render:function render(){var _props=this.props;var helpText=_props.helpText;var errorText=_props.errorText;return React.createElement("div",null,React.createElement("textarea",_extends({ref:"textarea"},this.props,{className:"form-control"})),errorText?React.createElement("span",{className:"form-validateBlock is-error"},errorText):helpText?React.createElement("span",{className:"form-helpBlock"},helpText):null)}});module.exports=Textarea},{react:245}],316:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var UpcomingFightsSchedule=React.createClass({displayName:"UpcomingFightsSchedule",render:function render(){var _props=this.props;var upcoming=_props.upcoming;var className=_props.className;return upcoming.fights.length?React.createElement("div",{className:"upcomingFightsSchedule"+(className?" "+className:"")},React.createElement("div",{className:"upcomingFightsSchedule-heading"},React.createElement("h4",null,React.createElement(Link,{href:upcoming.nav},"Upcoming fights"))),React.createElement("ol",{className:"upcomingFightsSchedule-list"},upcoming.fights.map(function(fight){return React.createElement("li",{key:fight.timeStr,className:"upcomingFightsSchedule-listItem"},React.createElement("span",{className:"upcomingFightsSchedule-playDate"},fight.timeStr),React.createElement("span",{className:"upcomingFightsSchedule-title"},fight.nav?React.createElement(Link,{href:fight.nav},fight.label):fight.label))})),React.createElement("div",{className:"upcomingFightsSchedule-link"},React.createElement(Link,{href:upcoming.nav,className:"button button--light button--arrow button--small button--primary"},upcoming.name))):null}});module.exports=UpcomingFightsSchedule},{"./Link":276,react:245}],317:[function(require,module,exports){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _ProgramAvailability=require("./ProgramAvailability");var React=require("react");var Button=require("./Button");var Link=require("./Link");var R=require("ramda");var moment=require("moment");var cx=require("classnames");var time=require("../time");var querystring=require("query-string");var omniture=require("../analytics");var formatEpisodeCount=function formatEpisodeCount(count){return(count===1?"1 episode":count+" episodes")+" available"};var UpcomingSchedule=React.createClass({displayName:"UpcomingSchedule",propTypes:{timezone:React.PropTypes.string.isRequired,schedule:React.PropTypes.object.isRequired,programTitle:React.PropTypes.string,singleEpisode:React.PropTypes.bool},render:function render(){var _props=this.props;var schedule=_props.schedule;var timezone=_props.timezone;var className=_props.className;var isPropertyPage=schedule.pageType==="property";var isEpisodicPage=schedule.pageType==="episodic";var isNonEpisodicPage=schedule.pageType==="non-episodic";var onDemandCount=R.path(["onDemand","count"],schedule);var showGoAvailable=R.path(["go","showAvailable"],schedule);var showOnDemandAvailable=R.path(["onDemand","showAvailable"],schedule);var showLinearAvailable=R.path(["linear","showAvailable"],schedule);var linear=R.path(["linear"],schedule);var series=R.path(["series"],schedule);var episodeNumber=R.path(["episode","number"],schedule);var title=this.props.programTitle||R.path(["title"],schedule);var focusId=R.path(["focusId"],schedule);var seriesIds=R.path(["seriesId"],schedule);var productId=R.path(["productId"],schedule);var television={type:"Television",available:showLinearAvailable,className:"linear",content:showLinearAvailable&&linear?React.createElement("span",null,React.createElement("span",{className:"upcomingSchedule-showtime"},moment.tz(linear.availability.playDate,timezone).format("ddd, MMM D, h:mm"),React.createElement("sup",null,moment.tz(linear.availability.playDate,timezone).format("A")+" "+time.suffix(timezone))),isPropertyPage?React.createElement("span",{className:"upcomingSchedule-episodeTitle"},linear.title):null,linear?React.createElement("span",{className:"upcomingSchedule-channel"},linear.availability.channelName," ",linear.availability.channelZone):null):null};var availability=[{type:"NOW & GO",available:showGoAvailable,className:"go",content:React.createElement("span",null,React.createElement("i",{className:"iconCss-checkMedium"}),React.createElement("span",{className:"upcomingSchedule-availabilityData"},React.createElement(_ProgramAvailability.UpcomingScheduleGoNowAvailability,{timezone:timezone,service:"go",program:schedule})))},{type:"On Demand",available:showOnDemandAvailable,className:"ondemand",content:React.createElement("span",null,React.createElement("i",{className:"iconCss-checkMedium"}),React.createElement("span",{className:"upcomingSchedule-availabilityData"},isPropertyPage?formatEpisodeCount(onDemandCount):React.createElement(_ProgramAvailability.DetailCardOnDemandAvailability,{timezone:timezone,program:schedule})))}];var noneAvailable=availability.every(function(type){return!type.available})&&!showLinearAvailable;var someAvailable=availability.some(function(type){return!type.available})||!showLinearAvailable;var watchTitle=series!==null&&episodeNumber&&isEpisodicPage&&title&&this.props.singleEpisode?title+" Episode "+episodeNumber:title;var upcomingClasses=cx({"upcomingSchedule-list":true,"upcomingSchedule-list--someUnavailable":someAvailable});return this.props.schedule?React.createElement("div",{className:"upcomingSchedule"+(className?" "+className:"")},React.createElement("h4",{className:"upcomingSchedule-heading"},watchTitle?"Watch "+watchTitle:"Upcoming showings"),noneAvailable?React.createElement("span",{className:"upcomingSchedule-notAvailable"},"Currently Not Available"):React.createElement("ol",{className:upcomingClasses},(television.available?[television].concat(availability):availability.concat(television)).filter(function(a){return a.available}).map(function(available){var _cx;var classes=cx((_cx={},_defineProperty(_cx,"upcomingSchedule-listItem--"+available.className,true),_defineProperty(_cx,"upcomingSchedule-listItem",true),_defineProperty(_cx,"upcomingSchedule-listItem--available",available.available),_cx));return React.createElement("li",{className:classes,key:available.type},React.createElement("span",{className:"upcomingSchedule-type"},available.type),React.createElement("span",{className:"upcomingSchedule-availability"},isEpisodicPage||isNonEpisodicPage||available.type==="Television"?React.createElement(Link,{href:"/schedule?"+querystring.stringify({focusId:focusId})},available.content):available.content))})),React.createElement("div",{className:"upcomingSchedule-link"},seriesIds&&title&&!noneAvailable?React.createElement(Button,{nav:"/search?"+querystring.stringify({type:"schedule",seriesIds:seriesIds,q:title}),label:"All availability",light:true,arrow:true,size:"small",level:"primary",omniture:omniture.event57("Schedule Hover","All Showings >")}):productId&&!noneAvailable?React.createElement(Button,{nav:"/search?"+querystring.stringify({type:"schedule",productIds:productId,q:watchTitle}),label:"All availability",light:true,arrow:true,size:"small",level:"primary",omniture:omniture.event57("Schedule Hover","All Showings >")}):null,React.createElement(Button,{nav:"/schedule",label:"Full HBO Schedule",light:true,arrow:true,size:"small",level:"primary",className:"upcomingSchedule-scheduleLink",omniture:omniture.event57("Schedule Hover","Full HBO Schedule >")}))):null}});module.exports=UpcomingSchedule},{"../analytics":250,"../time":380,"./Button":256,"./Link":276,"./ProgramAvailability":304,classnames:50,moment:58,"query-string":80,ramda:83,react:245}],318:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var tracking=require("../videotracking");var Link=require("./Link");var isGoingToShowIntercept=require("../intercept-utils");var formatVideoPath=function formatVideoPath(path){return path.replace(/</g,"&lt;").replace(/>/g,"&gt;")};var Video=React.createClass({displayName:"Video",getDefaultProps:function getDefaultProps(){return{live:false,isIntercept:false}},getInitialState:function getInitialState(){return{}},propTypes:{id:React.PropTypes.number.isRequired,live:React.PropTypes.bool,inline:React.PropTypes.bool,videoPath:React.PropTypes.string.isRequired,relatedAlwaysLinkToGlobalVideo:React.PropTypes.bool,playerInitialized:React.PropTypes.func,isIntercept:React.PropTypes.bool,pageName:React.PropTypes.string,autoplay:React.PropTypes.bool,onPlayToggled:React.PropTypes.func,onOverlayToggled:React.PropTypes.func,onVideoInitialized:React.PropTypes.func,posterOverTvma:React.PropTypes.bool,onPosterClick:React.PropTypes.func},componentDidMount:function componentDidMount(){this._init()},componentDidUpdate:function componentDidUpdate(prevProps){if(this.props.id!==prevProps.id){this._player.destroy();this._init()}},componentWillUnmount:function componentWillUnmount(){this._player.destroy()},playVideo:function playVideo(){this._player.play();if(this.state.poster!==null&&this.props.onOverlayToggled){this.props.onOverlayToggled(true)}this.setState({poster:null});if(this.props.onPlayToggled){this.props.onPlayToggled(true)}},shouldAutoplay:function shouldAutoplay(){return this.props.autoplay?this.props.autoplay:R.contains(true,[!isGoingToShowIntercept()&&!this.props.isInline,this.props.isIntercept])},_init:function _init(){var _this=this;var HBOPlayer=require("Dotcom-Player").init();var videoTrackingId=require("../stores/user-store").videoTrackingId();this._player=new HBOPlayer({autoplay:this.shouldAutoplay(),live:this.props.live,id:this.props.id,node:this.refs.videoContainer.getDOMNode(),inline:this.props.inline,videoPath:formatVideoPath(this.props.videoPath),analytics:require("../stores/route-store").tracking,domain:window.__reactContent.domain,cdn:window.__reactContent.renderApi,swfDomain:window.__reactContent.swfDomain,videoTrackingId:videoTrackingId,pageName:this.props.pageName,isEmbedded:false,related:{alwaysLinkToGlobalVideo:this.props.relatedAlwaysLinkToGlobalVideo?this.props.relatedAlwaysLinkToGlobalVideo:false,passThroughContextParameters:this.props.relatedPassThroughContextParameters||{}},imageDomain:window.__reactContent.imageApi,eloqua:window.__reactContent.eloquaSampling,conviva:window.__reactContent.conviva,sampling:this.props.sampling});tracking.bindTrackingEvents(this._player,false);this._player.on("related-item-clicked",function(_ref){var event=_ref.event;Link.navigate(event)});if(this.props.onPlayToggled){this._player.on("play",function(){return _this.props.onPlayToggled(true)});this._player.on("pause",function(){return _this.props.onPlayToggled(false)})}if(this.props.posterOverTvma){(function(){_this.setState({poster:null});var tvmaClosed=false;_this._player.on("videodataloaded",function(videoData){_this.setState({poster:videoData.poster});if(videoData.tvma){if(_this._player.tvma.overlay!==null&&!tvmaClosed){_this._player.options.autoplay=true;if(_this.props.onVideoInitialized){_this.props.onVideoInitialized()}}}});_this._player.on("tvmaapproved",function(){tvmaClosed=true;if(_this.props.onOverlayToggled){_this.props.onOverlayToggled(false)}})})()}if(this.props.onVideoInitialized){this._player.on("videoinit",this.props.onVideoInitialized)}if(this.props.onOverlayToggled){this._player.on("share",function(){_this.props.onOverlayToggled(true);_this._player.sharing.overlay.once("close",function(){return _this.props.onOverlayToggled(false)})});this._player.related.overlay.on("open",function(){return _this.props.onOverlayToggled(true)});this._player.related.overlay.on("close",function(){return _this.props.onOverlayToggled(false)})}if(this.props.playerInitialized!==undefined){this.props.playerInitialized(this._player)}},render:function render(){return React.createElement("div",null,this.state.poster&&React.createElement("div",{className:"video--tvma-poster"},React.createElement("img",{src:this.state.poster,className:"video--tvma-poster-img",onClick:this.props.onPosterClick})),React.createElement("div",{ref:"videoContainer",className:"video",style:{visibility:this.state.poster?"hidden":null}}))}});module.exports=Video},{"../intercept-utils":325,"../stores/route-store":332,"../stores/user-store":333,"../videotracking":381,"./Link":276,"Dotcom-Player":33,ramda:83,react:245}],319:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react/addons");var Video=require("../components/Video");var Picture=require("../components/Picture");module.exports=React.createClass({displayName:"exports",getInitialState:function getInitialState(){return{isPlaying:this.props.autoplay}},propTypes:{images:React.PropTypes.array.isRequired,videoMeta:React.PropTypes.object.isRequired,sizes:React.PropTypes.string,playerParameters:React.PropTypes.object.isRequired,autoplay:React.PropTypes.bool},componentDidMount:function componentDidMount(){var _this=this;var videoHeroNode=this.refs.videoHeroContainer.getDOMNode();var clickHandler=function clickHandler(){videoHeroNode.removeEventListener("click",clickHandler);_this.setState({isPlaying:true})};if(!this.state.isPlaying){videoHeroNode.addEventListener("click",clickHandler)}},render:function render(){var _props=this.props;var images=_props.images;var videoMeta=_props.videoMeta;var sizes=_props.sizes;var playerParameters=_props.playerParameters;var heroPicture=playerParameters.id!==undefined&&this.state.isPlaying===true?React.createElement(Video,_extends({inline:true},playerParameters)):React.createElement(Picture,{fallbackImage:images[0].src,src:images[0].src,images:images,sizes:sizes});return React.createElement("div",{className:"videoHero "+this.props.className},React.createElement("div",{className:"videoHero-image "+(this.state.isPlaying?"videoHero-image--playing":""),ref:"videoHeroContainer"},heroPicture,React.createElement("div",{className:"videoHero-overlay"},React.createElement("div",{className:"videoHero-overlay-playButton"})),React.createElement("div",{className:"videoHero-overlay videoHero-overlay-fade"},React.createElement("div",{className:"videoHero-overlay-background"}),React.createElement("div",{className:"videoHero-overlay-textContainer"},React.createElement("h2",{className:"videoHero-overlay-title"},videoMeta.title),React.createElement("div",{className:"videoHero-overlay-summary"},videoMeta.summary),React.createElement("div",{className:"videoHero-overlay-duration"},videoMeta.duration," min")))),React.createElement("div",{className:"videoHero-overlay-textContainer videoHero-overlay-textContainer--small"},React.createElement("h2",{className:"videoHero-overlay-title"},videoMeta.title," ",React.createElement("span",{className:"videoHero-overlay-duration"},videoMeta.duration," min")),React.createElement("div",{className:"videoHero-overlay-summary"},videoMeta.summary)),React.createElement("div",{className:"videoHero-text"},this.props.children))}})},{"../components/Picture":303,"../components/Video":318,"react/addons":84}],320:[function(require,module,exports){"use strict";var React=require("react");var Link=require("./Link");var Picture=require("./Picture");var Video=require("./Video");var VideoItem=React.createClass({displayName:"VideoItem",propTypes:{imageUrl:React.PropTypes.string.isRequired,nav:React.PropTypes.string.isRequired,inlineVideo:React.PropTypes.bool,title:React.PropTypes.string.isRequired,type:React.PropTypes.string.isRequired,fallbackImage:React.PropTypes.string,ellipsis:React.PropTypes.bool,videoId:React.PropTypes.number},getDefaultProps:function getDefaultProps(){return{fallbackImage:"http://render.lv3.hbo.com/bin/web/assets/images/NoImageAvailFPO.png"}},statics:{replaceImages:function replaceImages(imageUrl){var match=imageUrl.match(/^(http:\/\/i\.hbo\.lv3\.hbogo\.com.+_)(120x68|219x123).jpg$/);if(match){return[{src:"754x424",width:754}].map(function(img){return{src:match[1]+img.src+".jpg",width:img.width}})}return Picture.sizesFromUrl(imageUrl,[200,300,512,1024])}},getInitialState:function getInitialState(){return{}},_loadVideo:function _loadVideo(event){var _this=this;if(!this.state.videoId&&Link.isSameOrigin(event.currentTarget.href)&&this.props.inlineVideo){var videoPath=event.currentTarget.pathname;this.setState({width:this.refs.image.getDOMNode().width,height:this.refs.image.getDOMNode().height,videoPath:videoPath});if(this.props.videoId){this.setState({videoId:this.props.videoId})}else{require("superagent").get("/api/content"+event.currentTarget.pathname,function(data){_this.setState({videoId:parseInt(data.body.content.parsed["common:FullBleedVideo"].videoId,10)})})}event.stopPropagation();event.preventDefault()}else{Link.navigate(event)}},render:function render(){var _props=this.props;var title=_props.title;var subTitle=_props.subTitle;return React.createElement("div",{className:"videoItem videoItem--"+this.props.type+(this.props.ellipsis?" videoItem--ellipsis":"")},React.createElement("div",{className:"videoItem-content"},this.state.videoId?React.createElement("div",{style:{width:this.state.width,height:this.state.height}},React.createElement(Video,{id:this.state.videoId,inline:this.props.inlineVideo,videoPath:this.state.videoPath,pageName:this.props.pageName})):React.createElement(Link,{href:this.props.nav,onClick:this._loadVideo,className:"videoItem-imageContainer"},React.createElement(Picture,{className:"videoItem-image",ref:"image",src:this.props.imageUrl,fallbackImage:this.props.fallbackImage?this.props.fallbackImage:this.props.imageUrl,sizes:this.props.sizes,title:subTitle?subTitle:title,images:VideoItem.replaceImages(this.props.imageUrl)}),React.createElement("div",{className:"videoItem-control videoItem-control--play"}))),React.createElement(Link,{href:this.props.nav,onClick:this._loadVideo},React.createElement("span",{className:"videoItem-title",title:title},title),subTitle&&subTitle!==title?React.createElement("span",{className:"videoItem-subtitle",title:subTitle},subTitle):null,this.props.duration?React.createElement("span",{className:"videoItem-duration"},"("+this.props.duration+")"):null))}});module.exports=VideoItem},{"./Link":276,"./Picture":303,"./Video":318,react:245,superagent:246}],321:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var querystring=require("query-string");var Link=require("../components/Link");var WeekSelector=React.createClass({displayName:"WeekSelector",_weekUrl:function _weekUrl(week){return this.props.url+"?"+querystring.stringify(R.merge(this.props.query,{week:week}))},_prevUrl:function _prevUrl(){return this._weekUrl(this.props.week-1)},_nextUrl:function _nextUrl(){return this._weekUrl(this.props.week+1)},getDefaultProps:function getDefaultProps(){return{week:0}},render:function render(){var week=this.props.week;var prevEnabled=week>0;var nextEnabled=week<this.props.maxWeeks;var prevElem=prevEnabled?React.createElement("div",{className:"weekSelector-arrow weekSelector-arrow--prev"},React.createElement(Link,{href:this._prevUrl(),className:"navSeq-link navSeq-prev"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Previous week")))):React.createElement("div",{className:"weekSelector-arrow weekSelector-arrow--prev"},React.createElement("div",{className:"navSeq-link navSeq-link--inactive navSeq-prev"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Previous week"))));var nextElem=nextEnabled?React.createElement("div",{className:"weekSelector-arrow weekSelector-arrow--next"},React.createElement(Link,{href:this._nextUrl(),className:"navSeq-link navSeq-next"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Next week")))):React.createElement("div",{className:"weekSelector-arrow weekSelector-arrow--next"},React.createElement("div",{className:"navSeq-link navSeq-link--inactive navSeq-next"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Next week"))));return React.createElement("div",{className:"weekSelector"},prevElem,React.createElement("span",{className:"weekSelector-week"},this.props.weekLabel),nextElem)}});module.exports=WeekSelector},{"../components/Link":276,"query-string":80,ramda:83,react:245}],322:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react/addons");var cx=require("classnames");var breakpoints=require("../breakpoints");var WhatToWatchGridItem=require("../components/WhatToWatchGridItem");var ReactCSSTransitionGroup=React.addons.CSSTransitionGroup;var WhatToWatchGrid=React.createClass({displayName:"WhatToWatchGrid",getInitialState:function getInitialState(){return{count:this.props.schedule?3:4,expanded:false}},componentDidMount:function componentDidMount(){if(this.props.schedule&&!breakpoints.isMobile()){this.setState({count:2})}},_loadMore:function _loadMore(event){event.preventDefault();this.setState({count:this.state.count+(this.props.schedule&&breakpoints.isMobile()&&!this.state.expanded?3:4),expanded:true})},render:function render(){var _this=this;

var classes=cx({whatToWatchGrid:true,"whatToWatchGrid--schedule":this.props.schedule,"whatToWatchGrid--expanded":this.state.expanded,"whatToWatchGrid--showingAll":this.state.count>=this.props.items.length});var items=this.props.items.slice(0,this.state.count).map(function(item,i){return React.createElement(WhatToWatchGridItem,_extends({key:i},item,{timezone:_this.props.timezone,renderApi:_this.props.renderApi}))});return React.createElement("div",{className:classes},this.isMounted()?React.createElement(ReactCSSTransitionGroup,{transitionName:"whatToWatchGrid-item--animation"},items):items,React.createElement("a",{href:"#",className:"whatToWatchGrid-loadMore",onClick:this._loadMore},"Show More ",React.createElement("i",{className:"iconCss-addMini"})))}});module.exports=WhatToWatchGrid},{"../breakpoints":251,"../components/WhatToWatchGridItem":323,classnames:50,"react/addons":84}],323:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react/addons");var cx=require("classnames");var moment=require("moment");var querystring=require("query-string");var Picture=require("../components/Picture");var VideoItem=require("../components/VideoItem");var ScheduleProgram=require("../components/ScheduleProgram");var time=require("../time");var WhatToWatchGrid=React.createClass({displayName:"WhatToWatchGrid",propTypes:{renderApi:React.PropTypes.string.isRequired,timezone:React.PropTypes.string.isRequired},getInitialState:function getInitialState(){return{hover:false}},_openProgram:function _openProgram(focusId){var _this=this;return function(event){event.preventDefault();require("../stores/modal-store").openModal.push(React.createElement(ScheduleProgram,_extends({},_this.props,{className:"modal--scheduleProgram",medium:true,program:{focusId:focusId}})))}},_mouseEnter:function _mouseEnter(){this.setState({hover:true})},_mouseLeave:function _mouseLeave(){this.setState({hover:false})},render:function render(){var classes=cx({"whatToWatchGrid-item":true,"is-hovered":this.state.hover});return React.createElement("a",{href:"/schedule/what-to-watch?"+querystring.stringify({focusId:this.props.focusId}),className:classes,onClick:this._openProgram(this.props.focusId),onMouseEnter:this._mouseEnter,onMouseLeave:this._mouseLeave},React.createElement("div",{className:"whatToWatchGrid-itemImage"},React.createElement(Picture,{src:this.props.imageUrl,images:VideoItem.replaceImages(this.props.imageUrl),fallbackImage:"http://render.lv3.hbo.com/bin/web/assets/images/NoImageAvailFPO.png"}),React.createElement("div",{className:"whatToWatchGrid-itemGradient"})),React.createElement("div",{className:"whatToWatchGrid-itemContent"},React.createElement("span",{className:"whatToWatchGrid-itemCategory"},this.props.category),React.createElement("h4",{className:"whatToWatchGrid-itemTitle"},this.props.title),this.props.description?React.createElement("p",{className:"whatToWatchGrid-itemDescription"},this.props.description):null,this.props.availability?React.createElement("p",{className:"whatToWatchGrid-itemAvailability"},React.createElement("span",{className:"whatToWatchGrid-itemAvailabilityType"},"TV ",moment.tz(this.props.availability.linear,this.props.timezone).format("h:mm"),React.createElement("sup",null,moment.tz(this.props.availability.linear,this.props.timezone).format("A")+" "+time.suffix(this.props.timezone))),this.props.availability.onDemand?React.createElement("span",{className:"whatToWatchGrid-itemAvailabilityType"},React.createElement("span",{className:"whatToWatchGrid-itemAvailabilityType--longForm"},"On Demand"),React.createElement("span",{className:"whatToWatchGrid-itemAvailabilityType--abbreviated"},"OD")," ",React.createElement("i",{className:"iconCss-checkMini"})):null,this.props.availability.go?React.createElement("span",{className:"whatToWatchGrid-itemAvailabilityType"},"NOW & GO ",React.createElement("i",{className:"iconCss-checkMini"})):null):null,React.createElement("p",{className:"whatToWatchGrid-itemLink"},React.createElement("span",{className:"button button--small button--primary button--light button--arrow"},"Watch Now"))))}});module.exports=WhatToWatchGrid},{"../components/Picture":303,"../components/ScheduleProgram":307,"../components/VideoItem":320,"../stores/modal-store":330,"../time":380,classnames:50,moment:58,"query-string":80,"react/addons":84}],324:[function(require,module,exports){"use strict";var raf=require("raf");module.exports=function(element,scrollPixels,duration,callback){function currentLocation(){return element.scrollLeft}function maxScrollLeft(){return element.scrollWidth-element.clientWidth}function isStillWithinLimits(){return currentLocation()<=maxScrollLeft()}var startTime=(new Date).getTime();var startLocation=currentLocation();function updateScroll(scrollProgress){var distanceScrolled=Math.round(scrollProgress*scrollPixels);try{element.scrollLeft=startLocation+distanceScrolled}catch(e){callback()}}function timeToProgress(timeElapsed){var timePercent=timeElapsed/duration;return timePercent>1?1:-.5*Math.cos(timePercent*Math.PI)+.5}function scrollTick(){var elapsedTime=(new Date).getTime()-startTime;if(elapsedTime<=duration&&isStillWithinLimits()){updateScroll(timeToProgress(elapsedTime));raf(scrollTick)}else{updateScroll(1);callback()}}scrollTick()}},{raf:81}],325:[function(require,module,exports){"use strict";var storage=require("./storage");module.exports=function(){var interceptConfig=window.__reactContent.interceptConfig;return interceptConfig.enabled&&window.location.hash.indexOf("interceptDisable=1")===-1&&!storage.get(interceptConfig.localStorageKey)}},{"./storage":329}],326:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isBetweenNowAnd6WeeksInFuture=isBetweenNowAnd6WeeksInFuture;exports.isBetweenNowAnd4WeeksInFuture=isBetweenNowAnd4WeeksInFuture;exports.isAvailableInService=isAvailableInService;exports.hasGoNowAvailability=hasGoNowAvailability;exports.programAvailability=programAvailability;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _momentTimezone=require("moment-timezone");var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _ramda=require("ramda");var _ramda2=_interopRequireDefault(_ramda);var available="available";exports.available=available;var notAvailable="notAvailable";exports.notAvailable=notAvailable;var comingSoon="comingSoon";exports.comingSoon=comingSoon;var availableUntil="availableUntil";exports.availableUntil=availableUntil;function isOver6WeeksInFuture(date,now){return date.isAfter((0,_momentTimezone2["default"])(now).add(6*7,"days"))}function isOver4WeeksInFuture(date,now){return date.isAfter((0,_momentTimezone2["default"])(now).add(4*7,"days"))}function isBetweenNowAnd6WeeksInFuture(date,now){return date.isAfter((0,_momentTimezone2["default"])(now))&&date.isBefore((0,_momentTimezone2["default"])(now).add(6*7,"days"))}function isBetweenNowAnd4WeeksInFuture(date,now){return date.isAfter(now)&&date.isBefore((0,_momentTimezone2["default"])(now).add(4*7,"days"))}function isAvailable(startDate,endDate,now){return startDate.isValid()&&startDate.isBefore((0,_momentTimezone2["default"])(now))&&endDate.isValid()&&endDate.isAfter((0,_momentTimezone2["default"])(now))}function pickAvailability(program,service,timezone){var start=_ramda2["default"].path(["availability",service,"0",service==="linear"?"playDate":"startDate"],program);var end=_ramda2["default"].path(["availability",service,"0",service==="linear"?"playDate":"endDate"],program);return{startDate:start?_momentTimezone2["default"].tz(start,timezone):_momentTimezone2["default"].invalid(),endDate:end?_momentTimezone2["default"].tz(end,timezone):_momentTimezone2["default"].invalid()}}function isAvailableInService(program,service,timezone){var now=arguments.length<=3||arguments[3]===undefined?(0,_momentTimezone2["default"])():arguments[3];var _pickAvailability=pickAvailability(program,service,timezone);var startDate=_pickAvailability.startDate;var endDate=_pickAvailability.endDate;return isAvailable(startDate,endDate,now)}function hasGoNowAvailability(program,service,timezone){var now=arguments.length<=3||arguments[3]===undefined?(0,_momentTimezone2["default"])():arguments[3];var _pickAvailability2=pickAvailability(program,service,timezone);var startDate=_pickAvailability2.startDate;var endDate=_pickAvailability2.endDate;return isAvailable(startDate,endDate,now)||isBetweenNowAnd6WeeksInFuture(startDate,now)}function onDemandAvailability(startDate,endDate,now){return!startDate.isValid()||!endDate.isValid()?notAvailable:isOver4WeeksInFuture(startDate,now)?notAvailable:isBetweenNowAnd4WeeksInFuture(startDate,now)?comingSoon:isAvailable(startDate,endDate,now)&&isBetweenNowAnd4WeeksInFuture(endDate,now)?availableUntil:isAvailable(startDate,endDate,now)?available:notAvailable}function goNowLinearAvailability(startDate,endDate,now){return!startDate.isValid()||!endDate.isValid()?notAvailable:isOver6WeeksInFuture(startDate,now)?notAvailable:isBetweenNowAnd6WeeksInFuture(startDate,now)?comingSoon:isAvailable(startDate,endDate,now)&&isBetweenNowAnd4WeeksInFuture(endDate,now)?availableUntil:isAvailable(startDate,endDate,now)?available:notAvailable}function programAvailability(program,service,timezone){var now=arguments.length<=3||arguments[3]===undefined?(0,_momentTimezone2["default"])():arguments[3];var _pickAvailability3=pickAvailability(program,service,timezone);var startDate=_pickAvailability3.startDate;var endDate=_pickAvailability3.endDate;return{availability:{linear:goNowLinearAvailability,onDemand:onDemandAvailability,go:goNowLinearAvailability,now:goNowLinearAvailability}[service](startDate,endDate,now),startDate:startDate,endDate:endDate}}},{"moment-timezone":56,ramda:83}],327:[function(require,module,exports){"use strict";var request=require("superagent");var Bacon=require("baconjs");function handleResponse(res,callback){if(res.body.response.responseTypeJS==="OK"){callback(res.body.response.body)}else{callback(new Bacon.Error(res.body.response.ValidationFaults?Array.isArray(res.body.response.ValidationFaults.faultDetail)?res.body.response.ValidationFaults.faultDetail:[res.body.response.ValidationFaults.faultDetail]:res.body.response?[res.body.response.userDisplayMsg]:[{userDisplayMsg:"Unable to process request"}]))}}exports.post=function(url,data,withCredentials){var legacyIESupport=window.__superagentXDomainRequest;var req=legacyIESupport?request.post(url).use(legacyIESupport):request.post(url);return Bacon.fromCallback(function(callback){return(withCredentials?req.withCredentials():req).set("Accept","application/json").send(data).end(function(err,res){if(err||!res.ok){callback(new Bacon.Error(["Unable to process request"]))}else{handleResponse(res,callback)}})})};exports.get=function(url){var legacyIESupport=window.__superagentXDomainRequest;return Bacon.fromCallback(function(callback){return(legacyIESupport?request.get(url).use(legacyIESupport):request.get(url)).end(function(err,res){handleResponse(res,callback)})})}},{baconjs:42,superagent:246}],328:[function(require,module,exports){"use strict";(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory(root))}else if(typeof exports==="object"){module.exports=factory(root)}else{root.smoothScroll=factory(root)}})(window,function(root){"use strict";var smoothScroll={};var supports=!!document.querySelector&&!!root.addEventListener;var settings,eventTimeout,fixedHeader,headerHeight;var defaults={speed:500,easing:"easeInOutCubic",offset:0,updateURL:true,callbackBefore:function callbackBefore(){},callbackAfter:function callbackAfter(){}};var forEach=function forEach(collection,callback,scope){if(Object.prototype.toString.call(collection)==="[object Object]"){for(var prop in collection){if(Object.prototype.hasOwnProperty.call(collection,prop)){callback.call(scope,collection[prop],prop,collection)}}}else{for(var i=0,len=collection.length;i<len;i++){callback.call(scope,collection[i],i,collection)}}};var extend=function extend(defaults,options){var extended={};forEach(defaults,function(value,prop){extended[prop]=defaults[prop]});forEach(options,function(value,prop){extended[prop]=options[prop]});return extended};var getClosest=function getClosest(elem,selector){var firstChar=selector.charAt(0);for(;elem&&elem!==document;elem=elem.parentNode){if(firstChar==="."){if(elem.classList.contains(selector.substr(1))){return elem}}else if(firstChar==="#"){if(elem.id===selector.substr(1)){return elem}}else if(firstChar==="["){if(elem.hasAttribute(selector.substr(1,selector.length-2))){return elem}}}return false};var getHeight=function getHeight(elem){return Math.max(elem.scrollHeight,elem.offsetHeight,elem.clientHeight)};var escapeCharacters=function escapeCharacters(id){var string=String(id);var length=string.length;var index=-1;var codeUnit;var result="";var firstCodeUnit=string.charCodeAt(0);while(++index<length){codeUnit=string.charCodeAt(index);if(codeUnit===0){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}if(codeUnit>=1&&codeUnit<=31||codeUnit==127||index===0&&codeUnit>=48&&codeUnit<=57||index===1&&codeUnit>=48&&codeUnit<=57&&firstCodeUnit===45){result+="\\"+codeUnit.toString(16)+" ";continue}if(codeUnit>=128||codeUnit===45||codeUnit===95||codeUnit>=48&&codeUnit<=57||codeUnit>=65&&codeUnit<=90||codeUnit>=97&&codeUnit<=122){result+=string.charAt(index);continue}result+="\\"+string.charAt(index)}return result};var easingPattern=function easingPattern(type,time){var pattern;if(type==="easeInQuad")pattern=time*time;if(type==="easeOutQuad")pattern=time*(2-time);if(type==="easeInOutQuad")pattern=time<.5?2*time*time:-1+(4-2*time)*time;if(type==="easeInCubic")pattern=time*time*time;if(type==="easeOutCubic")pattern=--time*time*time+1;if(type==="easeInOutCubic")pattern=time<.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1;if(type==="easeInQuart")pattern=time*time*time*time;if(type==="easeOutQuart")pattern=1- --time*time*time*time;if(type==="easeInOutQuart")pattern=time<.5?8*time*time*time*time:1-8*--time*time*time*time;if(type==="easeInQuint")pattern=time*time*time*time*time;if(type==="easeOutQuint")pattern=1+--time*time*time*time*time;if(type==="easeInOutQuint")pattern=time<.5?16*time*time*time*time*time:1+16*--time*time*time*time*time;return pattern||time};var getEndLocation=function getEndLocation(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent){do{location+=anchor.offsetTop;anchor=anchor.offsetParent}while(anchor)}location=location-headerHeight-offset;return location>=0?location:0};var getDocumentHeight=function getDocumentHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};var getDataOptions=function getDataOptions(options){return!options||!(typeof JSON==="object"&&typeof JSON.parse==="function")?{}:JSON.parse(options)};var updateUrl=function updateUrl(anchor,url){if(history.pushState&&(url||url==="true")){history.pushState(null,null,[root.location.protocol,"//",root.location.host,root.location.pathname,root.location.search,anchor].join(""))}};var getHeaderHeight=function getHeaderHeight(header){return header===null?0:getHeight(header)+header.offsetTop};smoothScroll.animateScroll=function(toggle,anchor,options){var settings=extend(settings||defaults,options||{});var overrides=getDataOptions(toggle?toggle.getAttribute("data-options"):null);settings=extend(settings,overrides);anchor="#"+escapeCharacters(anchor.substr(1));var anchorElem=anchor==="#"?document.documentElement:document.querySelector(anchor);var startLocation=root.pageYOffset;if(!fixedHeader){fixedHeader=document.querySelector("[data-scroll-header]")}if(!headerHeight){headerHeight=getHeaderHeight(fixedHeader)}var endLocation=getEndLocation(anchorElem,headerHeight,parseInt(settings.offset,10));var animationInterval;var distance=endLocation-startLocation;var documentHeight=getDocumentHeight();var timeLapsed=0;var percentage,position;updateUrl(anchor,settings.updateURL);var stopAnimateScroll=function stopAnimateScroll(position,endLocation,animationInterval){var currentLocation=root.pageYOffset;if(position==endLocation||currentLocation==endLocation||root.innerHeight+currentLocation>=documentHeight){clearInterval(animationInterval);anchorElem.focus();settings.callbackAfter(toggle,anchor)}};var loopAnimateScroll=function loopAnimateScroll(){timeLapsed+=16;percentage=timeLapsed/parseInt(settings.speed,10);percentage=percentage>1?1:percentage;position=startLocation+distance*easingPattern(settings.easing,percentage);root.scrollTo(0,Math.floor(position));stopAnimateScroll(position,endLocation,animationInterval)};var startAnimateScroll=function startAnimateScroll(){settings.callbackBefore(toggle,anchor);animationInterval=setInterval(loopAnimateScroll,16)};if(root.pageYOffset===0){root.scrollTo(0,0)}startAnimateScroll()};var eventHandler=function eventHandler(event){var toggle=getClosest(event.target,"[data-scroll]");if(toggle&&toggle.tagName.toLowerCase()==="a"){event.preventDefault();smoothScroll.animateScroll(toggle,toggle.hash,settings)}};var eventThrottler=function eventThrottler(event){if(!eventTimeout){eventTimeout=setTimeout(function(){eventTimeout=null;headerHeight=getHeaderHeight(fixedHeader)},66)}};smoothScroll.destroy=function(){if(!settings)return;document.removeEventListener("click",eventHandler,false);root.removeEventListener("resize",eventThrottler,false);settings=null;eventTimeout=null;fixedHeader=null;headerHeight=null};smoothScroll.init=function(options){if(!supports)return;smoothScroll.destroy();settings=extend(defaults,options||{});fixedHeader=document.querySelector("[data-scroll-header]");headerHeight=getHeaderHeight(fixedHeader);document.addEventListener("click",eventHandler,false);if(fixedHeader){root.addEventListener("resize",eventThrottler,false)}};return smoothScroll})},{}],329:[function(require,module,exports){"use strict";exports.set=function(key,value){try{localStorage.setItem(key,value)}catch(e){}};exports.get=function(key){if(typeof localStorage!=="undefined")return localStorage.getItem(key);else return null}},{}],330:[function(require,module,exports){"use strict";var Bacon=require("baconjs");var openModal=new Bacon.Bus;var scrollPosition=openModal.filter(function(modal){return!!modal}).map(function(){return window.pageYOffset}).toProperty(0);scrollPosition.onValue(function(){});scrollPosition.sampledBy(openModal.skipDuplicates().filter(function(modal){return!modal})).delay(50).onValue(function(top){window.scrollTo(0,top)});var scrollbarWidth=null;function calculateScrollbarWidth(){var scrollDiv=document.createElement("div");scrollDiv.style.width=scrollDiv.style.height="100px";scrollDiv.style.overflow="scroll";scrollDiv.style.position="absolute";scrollDiv.style.top="-9999px";document.body.appendChild(scrollDiv);scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth}module.exports={openModal:openModal,getScrollBarWidth:function getScrollBarWidth(){return typeof scrollbarWidth==="number"?scrollbarWidth:calculateScrollbarWidth()}}},{baconjs:42}],331:[function(require,module,exports){"use strict";var Bacon=require("baconjs");var R=require("ramda");var request=require("../request");var querystring=require("query-string");var userStore=require("./user-store");var config=window.__reactContent;module.exports={getSubscriptions:function getSubscriptions(){var url=config.secureApi+"/apps/profilescs/rest/newsletterService/getSubscriptions.json";return userStore.authToken.take(1).filter(function(token){return!!token}).flatMapLatest(function(token){return request.get(url+"?"+querystring.stringify({authToken:token}))}).map(".newsletterSubscriptions")},subscribe:function subscribe(email,newsletters){var url=config.secureApi+"/apps/profilescs/rest/newsletterService/subscribe.json?"+querystring.stringify({emailAddress:email,newsletters:newsletters.join(":")});return request.get(url)},unsubscribe:function unsubscribe(email,newsletters){var url=config.secureApi+"/apps/profilescs/rest/newsletterService/unsubscribe.json?"+querystring.stringify({emailAddress:email,newsletters:newsletters.join(":")});return request.get(url)},updateSubscriptions:function updateSubscriptions(newsletters){var url=config.secureApi+"/apps/profilescs/rest/newsletterService/updateSubscriptions.json";newsletters=newsletters.join(":");return userStore.authToken.take(1).filter(function(token){return!!token}).flatMapLatest(function(authToken){return request.get(url+"?"+querystring.stringify({authToken:authToken,newsletters:newsletters,t:Date.now()}))})}}},{"../request":327,"./user-store":333,baconjs:42,"query-string":80,ramda:83}],332:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var R=require("ramda");var url=require("url");var Bacon=require("baconjs");var request=require("superagent");var analytics=require("../analytics");var Omniture=analytics.Omniture;var navigate=new Bacon.Bus;var replace=new Bacon.Bus;var explorer=new Bacon.Bus;var trackingStream=new Bacon.Bus;var breakpoints=require("../breakpoints");var popStateStream=Bacon.fromEventTarget(window,"popstate").map(function(){return{url:location.pathname+location.search,link:false,replace:false}});var pageChange=navigate.map(function(url){return{url:url,link:true,replace:false}}).merge(popStateStream);var routeReplace=replace.map(function(url){return{url:url,link:false,replace:true}});var historyChange=pageChange.merge(routeReplace);var currentPage=historyChange.skip(iOSversion()<10?1:0).flatMapLatest(function(navigation){return Bacon.fromCallback(function(cb){request.get("/api/content"+url.format(R.dissoc("hash",url.parse(navigation.url))),function(data){cb(_extends({content:data.body},navigation));if((breakpoints.isMobile()||window.pageYOffset>250)&&navigation.link===true){window.scrollTo(0,0)}})})});var explorerP=explorer.merge(currentPage.merge(navigate).map(false)).toProperty(false).skipDuplicates();var isHistoryReplace=function isHistoryReplace(navigation){return navigation.replace};var isHistoryPush=function isHistoryPush(navigation){return!navigation.replace};historyChange.filter(isHistoryPush).onValue(function(navigation){require("./modal-store").openModal.push(false);if(typeof history!=="undefined"&&typeof history.pushState!=="undefined"&&navigation.link){history.pushState(null,null,navigation.url)}});historyChange.filter(isHistoryReplace).onValue(function(navigation){if(typeof history!=="undefined"&&typeof history.replaceState!=="undefined"){history.replaceState(null,null,navigation.url)}});var userStore=require("./user-store");var initialPage=new Bacon.Bus;var omniture=Omniture(userStore.currentUserP,currentPage.filter(isHistoryPush).map(function(x){return x.content.tracking||{}}).merge(initialPage).merge(trackingStream));userStore.currentUserP.map(function(user){return user!==null}).onValue(omniture.setLoggedIn);var redirectToReferer=function redirectToReferer(referer){var refererHostname=typeof referer==="string"&&url.parse(referer)!==null?url.parse(referer).hostname:null;location.href=/(\.hbo\.com|^hbo\.com)$/.test(refererHostname)?referer:"/"};function iOSversion(){if(/iP(hone|od|ad)/.test(navigator.platform)){var v=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return parseInt(v[1],10)}}module.exports={navigate:navigate,replace:replace,trackPage:trackingStream,currentPage:currentPage,pageLoading:pageChange.awaiting(currentPage),pageChange:pageChange,explorer:explorer,explorerP:explorerP,tracking:omniture,initialPage:initialPage,redirectToReferer:redirectToReferer}},{"../analytics":250,"../breakpoints":251,"./modal-store":330,"./user-store":333,baconjs:42,ramda:83,superagent:246,url:49}],333:[function(require,module,exports){"use strict";var Bacon=require("baconjs");var R=require("ramda");var request=require("../request");var querystring=require("query-string");var modalStore=require("./modal-store");var cookie=require("cookie");var storage=require("../storage");var cookieTokenKey="authTokenHBO";var authToken=new Bacon.Bus;var updateUser=new Bacon.Bus;var signOutUser=new Bacon.Bus;var config=window.__reactContent;var cookies=cookie.parse(document.cookie||"");var currentToken=authToken.toProperty(cookies[cookieTokenKey]);var userFromAuthToken=currentToken.flatMapLatest(function(token){var url=config.secureApi+"/apps/profilescs/rest/accountService/fullUser.json?"+querystring.stringify({authToken:token});return typeof token==="string"?request.get(url).map(".user").map(function(user){return R.assoc("userId",token.split(":")[0],user)}).mapError(null):Bacon.constant(null)});var userFromUpdate=updateUser.combine(userFromAuthToken,function(updates,user){return R.merge(user,updates)});var currentUserP=Bacon.mergeAll(userFromAuthToken,userFromUpdate).toProperty();var removeAuthCookie=function removeAuthCookie(){var date=new Date;date.setDate(date.getDate()-1);document.cookie=cookie.serialize(cookieTokenKey,"",{expires:date,path:"/",domain:config.cookieDomain})};var signedOutSuccessfully=currentUserP.take(1).combine(signOutUser,function(user){return user}).flatMap(function(user){return request.post(config.secureApi+"/apps/profilescs/rest/authService/logout.json",{user:R.pick(["displayName","emailAddress"],user)},"production"!=="development")}).flatMap(function(){authToken.push(null);removeAuthCookie();return});module.exports={authToken:currentToken,currentUserP:currentUserP,isSignedIn:userFromAuthToken.map(function(user){return user!==null}),initiateSignIn:function initiateSignIn(){var ModalLogin=require("../components/ModalLogin");modalStore.openModal.push(React.createElement(ModalLogin,null))},signIn:function signIn(email,password){var signIn=request.post(config.secureApi+"/apps/profilescs/rest/authService/login.json",{user:{emailAddress:email,password:password}},"production"!=="development").map(".authResponse");signIn.onValue(function(token){var tokenValue=[token.authToken.userId,token.authToken.expirationDateJS,token.authToken.userIdSignature].join(":");document.cookie=cookie.serialize(cookieTokenKey,tokenValue,{path:"/",domain:config.cookieDomain});authToken.push(tokenValue)});return signIn},signOut:function signOut(callback){signedOutSuccessfully.onValue(callback);signOutUser.push();return},update:function update(updates){var url=config.secureApi+"/apps/profilescs/rest/accountService/updateUser.json";return currentToken.take(1).flatMap(function(token){return request.post(url,{user:R.merge(updates,{authToken:token})}).doAction(function(){return updateUser.push(updates)})})},changePassword:function changePassword(oldPassword,newPassword){var url=config.secureApi+"/apps/profilescs/rest/accountService/updatePassword.json";return currentToken.take(1).flatMap(function(token){return request.post(url,{user:{authToken:token,newPassword:newPassword,password:oldPassword}})})},create:function create(user){var url=config.secureApi+"/apps/profilescs/rest/accountService/createUser.json";return request.post(url,{user:user})},displayNameAvailable:function displayNameAvailable(displayName,firstName,lastName){var url=config.secureApi+"/apps/profilescs/rest/accountService/displayNameAvailable.json";return request.get(url+"?"+querystring.stringify({displayName:displayName,firstName:firstName,lastName:lastName}))},videoTrackingId:function videoTrackingId(){var setRandomVideoTrackingId=function setRandomVideoTrackingId(){var videoTrackingId=Math.random().toString(36).substring(2);storage.set("videoTrackingId",videoTrackingId);return videoTrackingId};return storage.get("videoTrackingId")||setRandomVideoTrackingId()}}},{"../components/ModalLogin":287,"../request":327,"../storage":329,"./modal-store":330,baconjs:42,cookie:51,"query-string":80,ramda:83}],334:[function(require,module,exports){"use strict";var React=require("react");var Main=require("../components/Main");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var PageTitle=require("../components/PageTitle");var Link=require("../components/Link");var cx=require("classnames");var AboutFaq=React.createClass({displayName:"AboutFaq",getInitialState:function getInitialState(){return{faqTopLevel:0}},_setActiveFaq:function _setActiveFaq(index){var _this=this;return function(e){e.preventDefault();e.stopPropagation();_this.setState({faqTopLevel:index})}},render:function render(){var _this2=this;var parsed=this.props.content.content.parsed;var faq=parsed["about:NewFAQs"];var topLevelSelected=faq.faq[this.state.faqTopLevel];var allLinks=faq.faq;var linkGroups=[allLinks.slice(0,Math.ceil(allLinks.length/2)),allLinks.slice(Math.ceil(allLinks.length/2))];return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.bundled.externalNav[0].dockedBar})),React.createElement(Content,null,React.createElement(PageTitle,{heading:{label:faq.label},className:"pageTitle--sub"}),React.createElement("nav",{className:"navTertiary navTertiary--sub navTertiary--twoColumns"},linkGroups.map(function(links,key){return React.createElement("ul",{className:"navTertiary-list",key:key},links.map(function(link){return React.createElement("li",{key:link.id,className:"navTertiary-link"},React.createElement("a",{href:"#faq-"+link.id,className:cx({"link--active":_this2.state.faqTopLevel===link.id}),onClick:_this2._setActiveFaq(link.id)},link.title))}))})),React.createElement("div",{className:"content-primary content-primary--article"},React.createElement("article",{className:"article"},React.createElement("h2",{className:"article-titleMain"},topLevelSelected.title),React.createElement("div",{className:"article-content"},React.createElement("ul",null,topLevelSelected.items.map(function(item,key){return React.createElement("li",{key:key},React.createElement(Link,{href:item.nav,dangerouslySetInnerHTML:{__html:item.name}}))})))))))}});module.exports=AboutFaq},{"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/PageTitle":302,classnames:50,react:245}],335:[function(require,module,exports){"use strict";var React=require("react");var cx=require("classnames");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Link=require("../components/Link");var AccountManagement=require("../components/AccountManagement");var ManageSubscriptions=require("../components/ManageSubscriptions");var ModalHelp=require("../components/ModalHelp");var AccountDashboard=React.createClass({displayName:"AccountDashboard",getInitialState:function getInitialState(){return{user:null,open:false}},componentDidMount:function componentDidMount(){var _this=this;var userStore=require("../stores/user-store");this._currentUserUnsub=userStore.currentUserP.onValue(function(user){if(user===null){window.location="/"}_this.setState({user:user})})},componentWillUnmount:function componentWillUnmount(){this._currentUserUnsub()},_toggle:function _toggle(e){this.setState({open:!this.state.open});e.preventDefault();e.stopPropagation()},render:function render(){var db=this.props.content.content.overlays.dashboard;var user=this.state.user;var isSubscriptionsPage=this.props.url.match("/subscriptions/?$");var classes=cx({navProperty:true,"navProperty--open":this.state.open});var toggleClasses=cx({"navProperty-toggleIcon":true,"iconCss-dropdown":true,"iconCss-dropdown--open":this.state.open
});return user?React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement("nav",{className:classes},React.createElement("h1",{className:"navProperty-title"},React.createElement(Link,{href:"/dashboard/account"},"Account management")),user?this._userBar(user):null,React.createElement("div",{className:"navProperty-toggle",onClick:this._toggle},React.createElement("div",{className:toggleClasses})),React.createElement("ul",{className:"navProperty-list"},React.createElement("li",{className:"navProperty-link"},React.createElement(Link,{href:"/dashboard/account",markActive:true},db.navigation.account.label),React.createElement(Link,{href:"/dashboard/subscriptions",markActive:true},db.navigation.subscriptions.label),React.createElement(Link,{href:db.navigation.communitySettings.url,markActive:true},db.navigation.communitySettings.label),React.createElement("a",{href:"#",onClick:ModalHelp.overlayLink("dashboard")},"Help"))))),isSubscriptionsPage?React.createElement(ManageSubscriptions,{dashboard:db,sidebar:this._renderCommunityHelp(),user:user,newsletters:this.props.config.newsletters}):React.createElement(AccountManagement,{dashboard:db,sidebar:this._renderCommunityHelp(),user:user})):React.createElement("div",null)},_userBar:function _userBar(user){return React.createElement("div",{className:"userBar"},React.createElement("img",{className:"userBar-avatar",src:user.avatarUrl}),React.createElement("div",{className:"userBar-displayName"},user.displayName),React.createElement("div",{className:"userBar-ranking"},user.ranking))},_renderCommunityHelp:function _renderCommunityHelp(){var db=this.props.content.content.overlays.dashboard;return React.createElement("div",{className:"secondaryContent-item"},React.createElement("h3",{className:"secondaryContent-itemTitle"},db.communitySidebar.title),React.createElement("p",null,db.communitySidebar.subtitle),React.createElement("ul",{className:"secondaryContent-itemList"}," ",db.communitySidebar.contentItems.map(function(item,idx){return React.createElement("li",{key:idx,className:"secondaryContent-listItem"},item.label)})))}});module.exports=AccountDashboard},{"../components/AccountManagement":252,"../components/Link":276,"../components/Main":280,"../components/ManageSubscriptions":281,"../components/ModalHelp":286,"../components/NavSidebar":294,"../stores/user-store":333,classnames:50,react:245}],336:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var cx=require("classnames");var ArticleComponent=require("../components/Article");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var RelatedMedia=require("../components/RelatedMedia");var Main=require("../components/Main");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var Article=React.createClass({displayName:"Article",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var relatedMedia=parsed["common:RelatedMedia"];var subHeading=R.path(["common:PageTitleNew","subHeading","label"],parsed);var tertiaryLinks=this.props.content.navigation[pageNavigation.group];var hasParent=PageTitle.hasParent(this.props.content.category,tertiaryLinks);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{className:cx({"pageTitle--sub":true,"pageTitle--hasParent":hasParent}),tertiaryLinks:tertiaryLinks})):null,pageNavigation&&tertiaryLinks?React.createElement(NavTertiary,{links:tertiaryLinks,className:cx({"navTertiary--sub":true,"navTertiary--hasParent":hasParent})}):null,React.createElement("div",{className:"content-primary content-primary--article"},React.createElement(ArticleComponent,_extends({preTitle:subHeading,shareUrl:this.props.url},parsed["common:Article"],{pageName:this.props.content.tracking.pageName}))),relatedMedia?React.createElement("div",{className:"content-secondary content-secondary--article"},React.createElement(RelatedMedia,{content:this.props.content.navigation[relatedMedia.group],pageName:this.props.content.tracking.pageName})):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=Article},{"../components/Article":254,"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/RelatedMedia":305,"../components/UpcomingSchedule":317,classnames:50,ramda:83,react:245}],337:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavSidebar=require("../components/NavSidebar");var Article=require("../components/Article");var Main=require("../components/Main");var NavProperty=require("../components/NavProperty");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var Awards=React.createClass({displayName:"Awards",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var backTo=R.find(function(l){return l.id==="subnav"&&l.type==="backTo"})(this.props.content.navigation.leftNav);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);var awards=parsed["common:Awards"].awardCategories.map(function(category,i){return React.createElement("div",{key:i,className:"article-content article-content--awards"},React.createElement("h2",{className:"content-title"},category.categoryTitle),category.award.map(function(award,a){return React.createElement("div",{className:"listGrid-itemContent listGrid-itemContent--list",key:a},React.createElement("h4",{className:"listGrid-itemTitle"},award.awardTitle),React.createElement("h5",{className:"listGrid-itemDescription"},React.createElement("p",null,award.awardDescription)))}))});return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,backTo?React.createElement(PageTitle,{heading:{label:backTo.name,nav:backTo.nav},className:"pageTitle--sub pageTitle--subMini pageTitle--hasParent"}):null,pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--article"},parsed["common:Article"]?React.createElement(Article,_extends({shareUrl:this.props.url},parsed["common:Article"]),awards):awards),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=Awards},{"../components/Article":254,"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/UpcomingSchedule":317,ramda:83,react:245}],338:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var cx=require("classnames");var BioWithStatsComponent=require("../components/BioWithStats");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Main=require("../components/Main");var Share=require("../components/Share");var Content=require("../components/Content");var Sticky=require("../components/Sticky");var BioWithStats=React.createClass({displayName:"BioWithStats",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var tertiaryLinks=this.props.content.navigation[pageNavigation.group];var hasParent=PageTitle.hasParent(this.props.content.category,tertiaryLinks);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule})),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{className:cx({"pageTitle--sub":true,"pageTitle--hasParent":hasParent}),tertiaryLinks:tertiaryLinks})):null,pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--article"},React.createElement(BioWithStatsComponent,parsed["common:BioWithStats"],React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.url,className:"share--article"}))))))}});module.exports=BioWithStats},{"../components/BioWithStats":255,"../components/Content":263,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/Share":313,"../components/Sticky":314,classnames:50,react:245}],339:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react/addons");var R=require("ramda");var moment=require("moment");var Main=require("../components/Main");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var Hero=require("../components/Hero");var Picture=require("../components/Picture");var Link=require("../components/Link");var ListContent=require("../components/ListContent");var ListVideo=require("../components/ListVideo");var CountDown=require("../components/CountDown");var UpcomingFightsSchedule=require("../components/UpcomingFightsSchedule");var BoxingPortal=React.createClass({displayName:"BoxingPortal",_oldRenderXmlFormat:function _oldRenderXmlFormat(panel){return panel.imageUrl!==null},_resolveImages:function _resolveImages(panel){return this._oldRenderXmlFormat(panel)?this._panelImageUrls(panel):panel.images},_fallbackImageUrl:function _fallbackImageUrl(panel){return this._oldRenderXmlFormat(panel)?panel.imageUrl:undefined},render:function render(){var _this=this;var panels=this.props.content.content.parsed["portal:BoxingPanel"].boxingPanels;var ringside=this.props.content.content.parsed["portal:RingsideComponent"];var upcomingComponent=this.props.content.content.parsed["portal:UpcomingComponent"];var videoGroups=upcomingComponent.GoVideoList;var upcoming=upcomingComponent.UpcomingFightList;var footer=React.createElement("div",{className:"footerProperty footerProperty--upcomingFights"},React.createElement(UpcomingFightsSchedule,{className:"upcomingFightsSchedule--boxingPortal",upcoming:upcoming}));return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar}),footer),React.createElement(Content,{twoColumns:true,modifier:"boxingPortal"},React.createElement(Hero,{className:"hero--boxingPortal boxingPortal-panel--first",images:this._resolveImages(panels[0]),fallbackImage:this._fallbackImageUrl(panels[0]),href:panels[0].nav,backgroundContent:this._renderBranding(panels[0])},React.createElement(Link,{href:panels[0].nav,className:"hero-linkWrapper"},React.createElement("h4",{className:"hero-pretitle"},panels[0].time||panels[0].subTitle||panels[0].shortenTitle),React.createElement("h3",{className:"hero-title"},panels[0].title),R.path(["undercards","fight",0],panels[0])?React.createElement("h4",{className:"hero-postTitle"},panels[0].undercards.fight[0]):null,panels[0].innerContent?React.createElement("p",{dangerouslySetInnerHTML:{__html:panels[0].innerContent.body}}):null,panels[0].countdownTime?React.createElement(CountDown,{className:"countDown--boxingPortal",countTo:moment(+panels[0].countdownTime)}):null,panels[0].button?React.createElement("div",{className:"hero-link"},React.createElement("span",{className:"button button--small button--primary button--light button--arrow"},panels[0].button.watchOnGo?"Watch on GO":panels[0].button.label)):null)),React.createElement("div",{className:"boxingPortal-panels"},R.tail(panels).map(function(p,i){return React.createElement("div",{className:"hero hero--boxingPortal boxingPortal-panel",key:i},React.createElement(Link,{href:p.nav,className:"hero-linkWrapper"},React.createElement("div",{className:"hero-background"},React.createElement(Picture,{images:_this._resolveImages(p),fallbackImage:_this._fallbackImageUrl(p),src:_this._resolveImages(p)[0].src,sizes:"(min-width: 768px) 50vw, 100vw"}),_this._renderBranding(p)),React.createElement("div",{className:"hero-content"},React.createElement("h4",{className:"hero-pretitle"},p.time||p.subTitle||p.shortenTitle),React.createElement("h3",{className:"hero-title"},p.title),R.path(["undercards","fight",0],p)?React.createElement("h4",{className:"hero-postTitle"},p.undercards.fight[0]):null,p.innerContent?React.createElement("p",{dangerouslySetInnerHTML:{__html:p.innerContent.body}}):null,p.countdownTime?React.createElement(CountDown,{className:"countDown--boxingPortal",countTo:moment(+p.countdownTime)}):null,p.button?React.createElement("div",{className:"hero-link"},React.createElement("span",{className:"button button--small button--primary button--light button--arrow"},p.button.watchOnGo?"Watch on GO":p.button.label)):null)))})),footer,React.createElement("div",{className:"content-primary content-primary--boxingPortal"},React.createElement("h2",{className:"content-title"},ringside.title),React.createElement(ListContent,{features:ringside.show})),React.createElement("div",{className:"content-secondary content-secondary--boxingPortal"},videoGroups.map(function(group){return React.createElement(ListVideo,_extends({sizes:"(min-width: 768px) 25vw, 100vw",className:"listVideo--portal",key:group.title},group,{pageName:_this.props.content.tracking.pageName}))}))))},_panelImageUrls:function _panelImageUrls(p){return Picture.imagesFromBaseUrl(Picture.parseImageBaseUrl(p.imageUrl),[1920,1280,1024,512,300])},_renderBranding:function _renderBranding(panel){var brandings=this.props.config.branding.code;var brand=R.find(R.propEq("id",panel.viewingInfo))(brandings);return brand?React.createElement("div",{className:"boxingPortal-branding",style:{color:brand.color}},brand.title):null}});module.exports=BoxingPortal},{"../components/Content":263,"../components/CountDown":264,"../components/Hero":272,"../components/Link":276,"../components/ListContent":277,"../components/ListVideo":279,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/Picture":303,"../components/UpcomingFightsSchedule":316,moment:58,ramda:83,"react/addons":84}],340:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var Bacon=require("baconjs");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var Button=require("../components/Button");var Main=require("../components/Main");var Select=require("../components/Select");var Input=require("../components/Input");var Textarea=require("../components/Textarea");var getInputText=function getInputText(c){return c.getValue().trim()};var validateEmail=function validateEmail(email){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(email)};var onChangeEvents=new Bacon.Bus;var ContactNew=React.createClass({displayName:"ContactNew",getInitialState:function getInitialState(){return{submitting:false,errorMessages:false,valid:false,showErrorTexts:false,fields:{name:{valid:false,touched:false},email:{valid:false,touched:false},title:{valid:false,touched:false},message:{valid:false,touched:false}}}},componentWillMount:function componentWillMount(){onChangeEvents.debounce(300).onValue(this._validate)},componentDidMount:function componentDidMount(){this._selectDefault()},render:function render(){var aboutContact=this.props.content.content.parsed["about:AboutContact"];var _state=this.state;var submitting=_state.submitting;var errorMessages=_state.errorMessages;var fields=_state.fields;var showErrorTexts=_state.showErrorTexts;return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.bundled.externalNav[0].dockedBar})),React.createElement(Content,{twoColumns:true},React.createElement("div",{className:"pageTitle pageTitle--sub pageTitle--divider"},React.createElement("h2",{className:"pageTitle-title"},aboutContact.title)),React.createElement("div",{className:"content-primary content-primary--contact"},React.createElement("p",{dangerouslySetInnerHTML:{__html:aboutContact.subtitle}}),React.createElement("form",{className:"contactUs-form",onSubmit:this._onSubmit,ref:"contactForm",noValidate:true,onChange:this._onFormChange},React.createElement("div",{className:"form-group"},React.createElement("label",null,"Topic"),React.createElement(Select,{ref:"topic"},aboutContact.topic.subtopic.map(function(subtopic,idx){return React.createElement("optgroup",{label:subtopic.label[0],key:idx},subtopic.item.map(function(item,sidx){return React.createElement("option",{value:item.$.address,key:sidx,"data-selected":item.$.defaultSelected==="true"},item.$.label)}))}))),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"text",placeholder:"Your Name",ref:"name",errorText:(showErrorTexts||fields.name.touched)&&!fields.name.valid?"Your name is a required field.":null,required:true})),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"email",placeholder:"Your Email",ref:"email",errorText:(showErrorTexts||fields.email.touched)&&!fields.email.valid?"A valid email address is required.":null,required:true})),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"text",placeholder:"Message Title",ref:"title",errorText:(showErrorTexts||fields.title.touched)&&!fields.title.valid?"The message title is a required field.":null,required:true})),React.createElement("div",{className:"form-group"},React.createElement(Textarea,{rows:"5",placeholder:"Message",ref:"message",errorText:(showErrorTexts||fields.message.touched)&&!fields.message.valid?"The message is a required field.":null,required:true})),errorMessages?React.createElement("ul",{className:"form-errorList"},errorMessages.map(function(err,idx){return React.createElement("li",{key:idx},err)})):null,React.createElement("div",{className:"form-group form-actions"},React.createElement("button",{type:"submit",disabled:submitting,className:"button button--small"+(submitting?" button--disabled":"")},"Submit"))))))},_onFormChange:function _onFormChange(){onChangeEvents.push(true)},_validate:function _validate(){var refs=this.refs;var email=getInputText(refs.email);var fields=this.state.fields;var fieldsChecked=["name","title","message"].reduce(function(items,n){var value=getInputText(refs[n]);var valid=value.length>0;var touched=fields[n].touched||valid;items[n]={touched:touched,valid:valid};return items},{email:{touched:fields.email.touched||email.length>0,valid:validateEmail(email)}});var valid=Object.keys(fieldsChecked).every(function(k){return fieldsChecked[k].valid});this.setState({valid:valid,fields:fieldsChecked})},_onSubmit:function _onSubmit(evt){var _this=this;evt.preventDefault();if(!this.state.valid){this.setState({showErrorTexts:true});return}this.setState({submitting:true});var _refs=this.refs;var name=_refs.name;var email=_refs.email;var title=_refs.title;var message=_refs.message;var topic=_refs.topic;var contactMsg={contactus:{firstName:getInputText(name),lastName:"",senderEmailAddress:getInputText(email),subject:getInputText(title),userText:getInputText(message),questionType:getInputText(topic)}};require("superagent").post(this.props.secureApi+"/apps/profilescs/rest/emailService/contactus.json").send(contactMsg).end(function(err,res){var errors=false;if(err){var errorMsg=R.path(["body","response","userDisplayMsg"],res)||err.message||"Unknown error occurred";errors=[errorMsg]}else if(res.body.response.responseTypeJS==="OK"){require("../stores/modal-store").openModal.push(React.createElement("div",{className:"modal-registerModal modal--padded",onClose:_this._closeDialog},React.createElement("h1",{className:"modal-title"},"Thank you"),React.createElement("p",null,"Your questions/comments have been sent to HBO."),React.createElement(Button,{label:"Close",size:"small",level:"primary",onClick:_this._closeDialog})))}else{var validationFaults=res.body.response.ValidationFaults;errors=Array.isArray(validationFaults.faultDetail)?validationFaults.faultDetail.map(function(error){return error.userDisplayMsg}):[validationFaults.faultDetail.userDisplayMsg]}var resetState=_this.getInitialState();resetState.errorMessages=errors;_this.setState(resetState)})},_closeDialog:function _closeDialog(event){event.preventDefault();require("../stores/modal-store").openModal.push(false);this.refs.contactForm.getDOMNode().reset();this._selectDefault()},_selectDefault:function _selectDefault(){var selection=this.refs.topic.getDOMNode().querySelector('[data-selected="true"]');if(selection){selection.selected=true}}});module.exports=ContactNew},{"../components/Button":256,"../components/Content":263,"../components/Input":273,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/Select":312,"../components/Textarea":315,"../stores/modal-store":330,baconjs:42,ramda:83,react:245,superagent:246}],341:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Link=require("../components/Link");var NavProperty=require("../components/NavProperty");var RelatedMedia=require("../components/RelatedMedia");var Sticky=require("../components/Sticky");var Share=require("../components/Share");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var ContentList=React.createClass({displayName:"ContentList",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var relatedMedia=parsed["common:RelatedMedia"];var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{className:"pageTitle--sub pageTitle--hasParent"})):null,pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--article"},React.createElement("article",{className:"article"},React.createElement("h2",{className:"article-titleMain"},parsed["common:ContentList"].title),React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.url,className:"share--article"})),React.createElement("div",{className:"article-content"},parsed["common:ContentList"].content.map(function(content,i){return React.createElement("div",{className:"listGrid-itemContent listGrid-itemContent--list",key:i},content.imageUrl?React.createElement("img",{src:content.imageUrl}):null,React.createElement("h4",{className:"listGrid-itemTitle"},content.nav?React.createElement(Link,{href:content.nav},content.title):content.title),React.createElement("h5",{className:"listGrid-itemDescription",dangerouslySetInnerHTML:{__html:content.body}}))})))),relatedMedia?React.createElement("div",{className:"content-secondary content-secondary--article"},React.createElement(RelatedMedia,{content:this.props.content.navigation[relatedMedia.group],pageName:this.props.content.tracking.pageName})):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=ContentList},{"../components/Content":263,"../components/FooterProperty":268,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/RelatedMedia":305,"../components/Share":313,"../components/Sticky":314,"../components/UpcomingSchedule":317,ramda:83,react:245}],342:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var cx=require("classnames");var ArticleComponent=require("../components/Article");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var RelatedMedia=require("../components/RelatedMedia");var Main=require("../components/Main");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var ContentTwoColumns=React.createClass({displayName:"ContentTwoColumns",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var relatedMedia=parsed["common:RelatedMedia"];var subHeading=R.path(["common:PageTitleNew","subHeading","label"],parsed);var article=parsed["common:TwoColumnArticle"];var list=parsed["common:TwoColumnList"];var tertiaryLinks=this.props.content.navigation[pageNavigation.group];var hasParent=PageTitle.hasParent(this.props.content.category,tertiaryLinks);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{url:this.props.url,className:cx({"pageTitle--sub":true,"pageTitle--hasParent":hasParent})})):null,pageNavigation&&tertiaryLinks?React.createElement(NavTertiary,{links:tertiaryLinks,className:cx({"navTertiary--sub":true,"navTertiary--hasParent":hasParent})}):null,React.createElement("div",{className:"content-primary content-primary--article"},article?React.createElement(ArticleComponent,_extends({shareUrl:this.props.url,preTitle:subHeading},article,{article:article.articles.map(function(a){return{body:a.body,segmentTitle:a.nav?'<a href="'+a.nav+'">'+a.title+"</a>":a.title,videos:[]}})})):null,list?React.createElement(ArticleComponent,_extends({shareUrl:this.props.url,preTitle:subHeading},list,{article:list.list.map(function(a){return{body:"",segmentTitle:a.nav?'<a href="'+a.nav+'">'+a.title+"</a>":a.title,videos:[]}})})):null),relatedMedia?React.createElement("div",{className:"content-secondary content-secondary--article"},React.createElement(RelatedMedia,{content:this.props.content.navigation[relatedMedia.group],pageName:this.props.content.tracking.pageName})):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=ContentTwoColumns},{"../components/Article":254,"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/RelatedMedia":305,"../components/UpcomingSchedule":317,classnames:50,ramda:83,react:245}],343:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");

var R=require("ramda");var PageTitle=require("../components/PageTitle");var Hero=require("../components/Hero");var NavTertiary=require("../components/NavTertiary");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var VideoItem=require("../components/VideoItem");var MediaGrid=require("../components/MediaGrid");var Content=require("../components/Content");var Gallery=require("../components/Gallery");var Article=require("../components/Article");var Interview=require("../components/Interview");var BioWithStats=require("../components/BioWithStats");var Share=require("../components/Share");var Sticky=require("../components/Sticky");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var EpisodeHome=React.createClass({displayName:"EpisodeHome",render:function render(){var _this=this;var content=this.props.content.content;var fullBleedImage=content.parsed["common:FullBleedImage"];var sequentialNavigation=content.parsed["common:SequentialNavigation"];var mediaPageNavigation=content.parsed["common:MediaPageNavigation"];var mediaTray=this.props.content.navigation.mediaTray||[];var episodeLink=R.find(function(link){return link.type==="goVideo"},mediaTray);var episodeUrl=episodeLink?episodeLink.productId?"/HBO_GO/"+episodeLink.productId:episodeLink.nav:null;var galleries=R.path(["bundled","galleries"],this.props.content)||[];var galleryDetails=mediaTray.filter(function(link){return link.type==="gallery"});var videos=mediaTray.filter(function(link){return link.type==="video"});var isMovieCharacterPage=this.props.content.category!=="101"&&this.props.content.templateModifier==="media-person";var pageTitleNew=isMovieCharacterPage?{heading:content.parsed["common:PageTitleNew"].subHeading,lowerText:content.parsed["common:PageTitleNew"].desc,desc:""}:content.parsed["common:PageTitleNew"];pageTitleNew.heading=R.omit(["nav"],pageTitleNew.heading);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{singleEpisode:this.props.content.templateModifier!=="media-non-episodic",schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,isMovieCharacterPage?React.createElement(PageTitle,_extends({},content.parsed["common:PageTitleNew"],{className:"pageTitle--sub pageTitle--hasParent"})):null,fullBleedImage?React.createElement(Hero,{sizes:"(min-width: 1180px) 950px, 100vw",images:fullBleedImage,links:sequentialNavigation?this.props.content.navigation[sequentialNavigation.group]:null,className:"hero--episodeHome"},React.createElement(PageTitle,pageTitleNew)):null,pageTitleNew.desc?React.createElement("div",{className:"lead--episodeHome",dangerouslySetInnerHTML:{__html:pageTitleNew.desc}}):null,R.contains(this.props.content.templateModifier,["media-person","media-fighter"])&&!R.isEmpty(this.props.content.bundled.subPages)?React.createElement("div",{className:"content-primary content-primary--article content-primary--articleBundled"},React.createElement("div",{className:"bundled-personMedia"},React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.url,className:"share--article"})),this.props.content.bundled.subPages.filter(function(page){return R.contains(page.template,["commonTemplates:Article","commonTemplates:BioWithStats","commonTemplates:Interview"])}).map(function(page,i){switch(page.template){case"commonTemplates:Article":return React.createElement(Article,_extends({},page.content.parsed["common:Article"],{key:i}));case"commonTemplates:BioWithStats":return React.createElement(BioWithStats,_extends({},page.content.parsed["common:BioWithStats"],{key:i}));case"commonTemplates:Interview":return React.createElement(Interview,_extends({},page.content.parsed["common:Interview"],{key:i}))}}))):React.createElement(NavTertiary,{links:mediaPageNavigation?this.props.content.navigation[mediaPageNavigation.group]:[],episode:episodeUrl,className:"navTertiary--episodeHome",showAlways:true}),upcomingSchedule&&!R.contains(this.props.content.templateModifier,["media-person","media-fighter"])?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle}):null,videos.length>0?React.createElement("div",{className:"content-primary content-primary--episodeHome"},React.createElement(MediaGrid,{mobileLimit:5,className:"mediaGrid--episodeHome"},videos.map(function(link){return React.createElement("div",{key:link.nav},React.createElement(VideoItem,_extends({title:link.name,sizes:"(min-width: 1180px) 500px, (min-width: 768px) 50vw, 100vw",imageUrl:link.img},link,{pageName:_this.props.content.tracking.pageName})))}))):null,galleries.length>0?React.createElement("div",{className:"content-secondary content-secondary--episodeHome"},galleries.map(function(gallery,i){return React.createElement(Gallery,_extends({key:i},R.path(["content","parsed","common:Slideshow"],gallery),{title:galleryDetails[i]?galleryDetails[i].name:undefined,galleryUrl:galleryDetails[i]?galleryDetails[i].nav:undefined,count:8}))})):null,upcomingSchedule&&R.contains(this.props.content.templateModifier,["media-person","media-fighter"])?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=EpisodeHome},{"../components/Article":254,"../components/BioWithStats":255,"../components/Content":263,"../components/FooterProperty":268,"../components/Gallery":270,"../components/Hero":272,"../components/Interview":275,"../components/Main":280,"../components/MediaGrid":282,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/Share":313,"../components/Sticky":314,"../components/UpcomingSchedule":317,"../components/VideoItem":320,ramda:83,react:245}],344:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var VideoItem=require("../components/VideoItem");var Video=require("../components/Video");var PageTitle=require("../components/PageTitle");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var MediaGrid=require("../components/MediaGrid");var Content=require("../components/Content");var Main=require("../components/Main");var url=require("url");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var EpisodeHomeVideo=React.createClass({displayName:"EpisodeHomeVideo",render:function render(){var _this=this;var content=this.props.content.content;var mediaTray=this.props.content.navigation.mediaTray||[];var videoData=this.props.content.bundled.video;var isLive=!!content.parsed["common:LiveVideo"];var currentNav=url.parse(this.props.url);var videos=mediaTray.filter(function(link){return link.type==="video"}).filter(function(link){var linkPathname=(link.nav[0]==="/"?"":"/")+url.parse(link.nav).pathname;return!R.contains(linkPathname,[currentNav.pathname,currentNav.pathname+".html"])});var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,React.createElement(PageTitle,_extends({},content.parsed["common:PageTitleNew"],{className:"pageTitle--sub pageTitle--hasParent"})),React.createElement("div",{className:"content-primary content-primary--episodeHome content-primary--episodeHomeVideo"},React.createElement("h2",{className:"content-title content-title--episodeHomeVideo"},videoData.title," ",videoData.duration?React.createElement("span",{className:"episodeHomeVideo-duration"},"(",videoData.duration,")"):null),React.createElement(Video,{key:videoData.id,id:videoData.id,live:isLive,videoPath:currentNav.pathname+(currentNav.search?currentNav.search:""),pageName:this.props.content.tracking.pageName})),videos.length>0?React.createElement("div",{className:"content-primary content-secondary--episodeHome content-secondary--episodeHomeVideo"},React.createElement("h2",{className:"content-title"},"Watch Next"),React.createElement(MediaGrid,{mobileLimit:5,className:"mediaGrid--episodeHome"},videos.map(function(link,i){return React.createElement("div",{key:link.nav+i},React.createElement(VideoItem,_extends({title:link.name,sizes:"(min-width: 768px) 50vw, 100vw",imageUrl:link.img},link,{pageName:_this.props.content.tracking.pageName})))}))):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=EpisodeHomeVideo},{"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/MediaGrid":282,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/PageTitle":302,"../components/UpcomingSchedule":317,"../components/Video":318,"../components/VideoItem":320,ramda:83,react:245,url:49}],345:[function(require,module,exports){"use strict";var React=require("react");var Main=require("../components/Main");var Button=require("../components/Button");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var Error=React.createClass({displayName:"Error",render:function render(){return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(PageTitle,{heading:{label:"404 - Page not found"},className:"pageTitle--sub"}),React.createElement("p",null,"Sorry, you've requested a page on HBO.com that has moved or no longer exists."),React.createElement(Button,{nav:"/",label:"HBO.com home"})))}});module.exports=Error},{"../components/Button":256,"../components/Content":263,"../components/Main":280,"../components/PageTitle":302,react:245}],346:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Hero=require("../components/Hero");var Content=require("../components/Content");var ListContent=require("../components/ListContent");var Button=require("../components/Button");var Picture=require("../components/Picture");var Explore=React.createClass({displayName:"Explore",_contentColumn:function _contentColumn(content){return'<div class="explore-listItem"><h5 class="listContent-itemPretitle">'+content.title+"</h5>"+content.body+"</div>"},render:function render(){var _this=this;var parsed=this.props.content.content.parsed;var panel=R.head(parsed["portal:Panels"]);var features=parsed["explore:ShowExploreList"];return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.external&&this.props.content.bundled.externalNav?this.props.content.bundled.externalNav[0].dockedBar:this.props.content.navigation.dockedBar})),React.createElement(Content,{twoColumns:true},React.createElement(Hero,{images:Picture.sizesFromUrl(panel.imageUrl,[1800]),className:"hero--portal"},panel.subTitle?React.createElement("h4",{className:"hero-pretitle"},panel.subTitle):null,React.createElement("h3",{className:"hero-title",dangerouslySetInnerHTML:{__html:panel.title}}),React.createElement("div",{dangerouslySetInnerHTML:{__html:panel.innerContent.body}}),panel.button.nav?React.createElement(Button,_extends({},panel.button,{light:true,size:"small",arrow:true,level:"primary"})):null),React.createElement("div",{className:"content-primary"},React.createElement("h2",{className:"content-title"},features.title),React.createElement(ListContent,{className:"listContent--explore",features:features.row.map(function(row){return{title:row.category.title,nav:row.button.nav,body:_this._contentColumn(row.content1)+_this._contentColumn(row.content2)}})})),React.createElement("div",{className:"content-secondary"},React.createElement("div",{className:"secondaryContent-item"},React.createElement("div",{dangerouslySetInnerHTML:{__html:features.disclaimer}})))))}});module.exports=Explore},{"../components/Button":256,"../components/Content":263,"../components/Hero":272,"../components/ListContent":277,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/Picture":303,ramda:83,react:245}],347:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Content=require("../components/Content");var Button=require("../components/Button");var ExploreODTV=React.createClass({displayName:"ExploreODTV",render:function render(){var parsed=this.props.content.content.parsed;var features=parsed["explore:ShowExploreItem"];return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.external&&this.props.content.bundled.externalNav?this.props.content.bundled.externalNav[0].dockedBar:this.props.content.navigation.dockedBar})),React.createElement(Content,null,React.createElement("div",{className:"pageTitle pageTitle--sub"},React.createElement("h2",{className:"pageTitle-title"},features.header)),React.createElement("div",{className:"content-primary content-primary--article"},React.createElement("article",{className:"article"},React.createElement("div",{className:"article-content article-content--explore"},features.row.map(function(row,i){return React.createElement("div",{className:"listGrid-itemContent listGrid-itemContent--list listGrid-itemContent--explore",key:i},React.createElement("h4",{className:"listGrid-itemTitle"},row.title),React.createElement("div",{className:"listGrid-itemBody",dangerouslySetInnerHTML:{__html:row.body}}),row.button.map(function(button,b){return React.createElement(Button,_extends({light:true,level:"primary",arrow:true,size:"small",key:b},button))}))}))))))}});module.exports=ExploreODTV},{"../components/Button":256,"../components/Content":263,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,react:245}],348:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavSidebar=require("../components/NavSidebar");var Picture=require("../components/Picture");var Main=require("../components/Main");var Sticky=require("../components/Sticky");var Share=require("../components/Share");var Button=require("../components/Button");var NavProperty=require("../components/NavProperty");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var Extras=React.createClass({displayName:"Extras",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{upperText:parsed["common:PageTitleNew"].heading.label,heading:{label:parsed["common:Extras"].title,nav:parsed["common:PageTitleNew"].heading.nav},className:"pageTitle--sub pageTitle--hasParent"})):null,pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--article content-primary--list"},React.createElement("article",{className:"article"},React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.url,className:"share--article"})),React.createElement("div",{className:"article-content"},parsed["common:Extras"].group.map(function(group,i){return React.createElement("header",{className:"extras-header",key:i},group.body?React.createElement("div",{className:"extras-headerContent",dangerouslySetInnerHTML:{__html:group.body}}):null,group.image?React.createElement("div",{className:"extras-headerImage"},React.createElement("img",{src:group.image})):null)}),parsed["common:Extras"].buttons.map(function(buttons,i){return buttons.orientation==="horizontal"?React.createElement("div",{className:"extras-horizontal",key:i},buttons.button.map(function(button,b){return React.createElement(Button,{key:b,label:button.label,level:"primary",arrow:true,light:true,nav:button.nav,size:"small"})})):React.createElement("div",{className:"extras-vertical",key:i},React.createElement("div",{className:"listContent listContent--extras"},buttons.button.map(function(button,b){return React.createElement("a",{key:b,className:"listContent-item",href:button.nav},button.thumbnailPath?React.createElement("div",{className:"listContent-itemImage"},React.createElement(Picture,{src:button.thumbnailPath,fallbackImage:button.thumbnailPath,sizes:"33vw",images:Picture.sizesFromUrl(button.thumbnailPath,[200,300])})):null,React.createElement("div",{className:"listContent-itemContent"},React.createElement("div",{className:"listContent-itemBody"},React.createElement("p",null,button.description))),React.createElement("div",{className:"listContent-itemCta"},React.createElement("span",{className:"button button--light button--small button--primary button--arrow"},button.label)))})))})))),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=Extras},{"../components/Button":256,"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/Picture":303,"../components/Share":313,"../components/Sticky":314,"../components/UpcomingSchedule":317,ramda:83,react:245}],349:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var Main=require("../components/Main");var ArticleComponent=require("../components/Article");var PageTitle=require("../components/PageTitle");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var FaqDetail=React.createClass({displayName:"FaqDetail",render:function render(){var parsed=this.props.content.content.parsed;var detail=parsed["about:FAQsDetail"];var article=detail.questions.map(function(q){return{segmentTitle:q.title,body:q.body}});return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.bundled.externalNav[0].dockedBar})),React.createElement(Content,null,React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{className:"pageTitle--sub pageTitle--hasParent"})),React.createElement("div",{className:"content-primary content-primary--article"},React.createElement(ArticleComponent,{title:detail.title,article:article}))))}});module.exports=FaqDetail},{"../components/Article":254,"../components/Content":263,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/PageTitle":302,react:245}],350:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var omniture=require("../analytics");var moment=require("moment");var Bacon=require("baconjs");var cx=require("classnames");var Main=require("../components/Main");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Fight=require("../components/Fight");var Link=require("../components/Link");var Content=require("../components/Content");var NavTabs=require("../components/NavTabs");var Sticky=require("../components/Sticky");var Fights=React.createClass({displayName:"Fights",getInitialState:function getInitialState(){return{activeYear:null,openYears:[]}},_init:function _init(){var _this=this;if(this._isPast()){if(!this._scrollPositions){this._scrollPositions=this.props.content.bundled.map(function(group){var node=_this.refs[group.year.name].getDOMNode();var bounds=node.getBoundingClientRect();var windowOffset=_this._scrollTop();return{start:bounds.top+windowOffset-100,end:bounds.top+node.offsetHeight+windowOffset-100,year:group.year.name}})}}window.addEventListener("resize",this._resize,false);if(typeof this._subscriber!=="function"){this._subscriber=Bacon.fromEventTarget(window,"scroll").throttle(200).onValue(this._scroll)}this._scroll()},componentDidMount:function componentDidMount(){this._init()},componentDidUpdate:function componentDidUpdate(props){if(props.content.content.parsed["boxing:AnnualizedFights"].past!==this.props.content.content.parsed["boxing:AnnualizedFights"].past){this._init()}},componentWillUnmount:function componentWillUnmount(){if(typeof this._subscriber==="function"){this._subscriber();this._subscriber=null}window.removeEventListener("resize",this._resize,false)},_scrollTop:function _scrollTop(){var html=document.documentElement,body=document.body;return window.pageYOffset||(html.clientHeight?html:body).scrollTop},_scroll:function _scroll(){if(this._isPast()&&this._scrollPositions){var windowOffset=this._scrollTop();var current=R.find(function(value){return value.start<windowOffset&&value.end>=windowOffset})(this._scrollPositions);if(!current&&windowOffset<R.head(this._scrollPositions).start){current=R.head(this._scrollPositions)}else if(!current){current=R.last(this._scrollPositions)}if(this.state.activeYear!==current.year){this.setState({activeYear:current.year})}}},_resize:function _resize(){this._scrollPositions=null;this._init()},_isPast:function _isPast(){return this.props.content.content.parsed["boxing:AnnualizedFights"].past},_prevYear:function _prevYear(e){var _this2=this;e.preventDefault();var index=R.findIndex(function(group){return group.year.name===_this2.state.activeYear})(this.props.content.bundled);if(index>0){this._jump(this.props.content.bundled[index-1].year.name)}},_nextYear:function _nextYear(e){var _this3=this;e.preventDefault();var index=R.findIndex(function(group){return group.year.name===_this3.state.activeYear})(this.props.content.bundled);if(index>=0&&index<this.props.content.bundled.length){this._jump(this.props.content.bundled[index+1].year.name)}},_year:function _year(year){var _this4=this;return function(e){e.preventDefault();_this4._jump(year);require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event56(year,"Past Fights")})}},_jump:function _jump(year){var smoothScroll=require("../smooth-scroll");smoothScroll.animateScroll(null,"#"+year,{updateURL:false,speed:500,easing:"easeInOutCubic"})},_getDisplayedYears:function _getDisplayedYears(years){var _this5=this;var padding=5;var index=R.findIndex(function(group){return group.year.name===_this5.state.activeYear})(years);var start=Math.max(index-padding,0);var end=Math.min(years.length,1+start+padding*2);if(end-index<=padding){start-=padding*2+1-(end-start)}return years.slice(start,end)},_toggleYear:function _toggleYear(year){var _this6=this;return function(event){event.preventDefault();var openYears=_this6.state.openYears.indexOf(year)!==-1?R.remove(_this6.state.openYears.indexOf(year),1,_this6.state.openYears):R.append(year,_this6.state.openYears);_this6.setState({openYears:openYears})}},render:function render(){var _this7=this;var isPast=this._isPast();var categories=this.props.content.navigation.upcoming.map(function(cat){return{href:cat.nav,name:cat.name,key:cat.name,selected:!isPast}}).concat({href:"/boxing/fights/past-fights.html",name:"Past Fights",key:"past",selected:isPast,omniture:omniture.event56("Past Fights","Fights")});return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar})),React.createElement(Content,null,React.createElement("header",{className:"headerGrid headerGrid--fights"},React.createElement("div",{className:"headerGrid-block headerGrid-tabs"},React.createElement(NavTabs,{categories:categories}))),isPast?React.createElement("div",{className:"content-primary content-primary--fightsPast"},this.props.content.bundled.map(function(group){var classes=cx({"fights-year":true,"fights-year--open":_this7.state.openYears.indexOf(group.year.name)!==-1});var dropdownClasses=cx({"iconCss-dropdown":true,"iconCss-dropdown--open":_this7.state.openYears.indexOf(group.year.name)!==-1});return React.createElement("div",{className:classes,key:group.year.name,ref:group.year.name},React.createElement("a",{name:group.year.name,id:group.year.name}),React.createElement("h2",{className:"content-title content-title--fightsPast",onClick:_this7._toggleYear(group.year.name)},group.year.name,React.createElement("span",{className:"fights-pastYearCount"},group.content.length+(group.content.length>1?" fights":" fight")),React.createElement("span",{className:dropdownClasses})),group.editorialFeature.map(function(article,i){return React.createElement(Link,{href:article.linkUrl,className:"listContent-item listContent-item--fightEditorial",key:i},React.createElement("div",{className:"listContent-itemImage"},React.createElement("img",{src:article.imageUrl})),React.createElement("div",{className:"listContent-itemContent"},React.createElement("h4",{className:"listContent-itemTitle",dangerouslySetInnerHTML:{__html:article.title}}),React.createElement("div",{className:"listContent-itemBody",dangerouslySetInnerHTML:{__html:article.description}})))}),group.content.map(function(content){return React.createElement("div",{key:content.date,className:"fights-group"},React.createElement("div",{className:"fights-date"},moment.tz(parseInt(content.date,10),"US/Eastern").format("MMM DD")),React.createElement("ul",{className:"fights-pastFights"},content.schedule.headliners.concat(content.schedule.undercards).map(function(fight){var link=fight.nav?React.createElement(Link,{href:fight.nav},fight.label):fight.label;return React.createElement("li",{key:fight.label},React.createElement("h4",{className:"fights-pastFightsTitle"},link),fight.decision?React.createElement("span",{className:"fights-fightDetails"},"Decision: "+fight.decision):null,React.createElement("span",{className:"fights-fightDetails"},fight.rounds+" rounds, "+fight.type))})))}))}),React.createElement("div",{className:"fights-years"},React.createElement(Sticky,null,React.createElement("ul",null,React.createElement("li",{className:"fights-yearNavigationPrev"},React.createElement("div",{className:"navSeq-link navSeq-prev",onClick:this._prevYear},React.createElement("span",{className:"navSeq-arrow"}))),this._getDisplayedYears(this.props.content.bundled).map(function(group){var classes=cx({"fights-yearNavigation":true,"fights-yearNavigation--active":_this7.state.activeYear===group.year.name});return React.createElement("li",{className:classes,key:group.year.name,onClick:_this7._year(group.year.name)},group.year.name)}),React.createElement("li",{className:"fights-yearNavigationNext"},React.createElement("div",{className:"navSeq-link navSeq-next",onClick:this._nextYear},React.createElement("span",{className:"navSeq-arrow"}))))))):this.props.content.content.parsed["boxing:AnnualizedFights"].event.map(function(fight,i){return React.createElement(Fight,{key:i,fight:fight,past:isPast,branding:_this7.props.config.branding.code})})))}});module.exports=Fights},{"../analytics":250,"../components/Content":263,"../components/Fight":266,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTabs":295,"../components/Sticky":314,"../smooth-scroll":328,"../stores/route-store":332,baconjs:42,classnames:50,moment:58,ramda:83,react:245}],351:[function(require,module,exports){"use strict";var React=require("react");var Main=require("../components/Main");var Content=require("../components/Content");var Video=require("../components/Video");var Link=require("../components/Link");var url=require("url");var R=require("ramda");var querystring=require("query-string");var GlobalVideo=React.createClass({displayName:"GlobalVideo",render:function render(){var parsedUrl=url.parse(this.props.url);var contextParameters=R.omit(["vid","autoplay","g"],querystring.parse(parsedUrl.query));var closeUrl="/video/index.html?"+querystring.stringify(contextParameters);return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("div",{className:"content-primary content-primary--globalVideo"},React.createElement(Link,{className:"globalVideo-close",href:closeUrl},React.createElement("div",{className:"globalVideo-closeIcon"})),React.createElement("div",{className:"globalVideo"},React.createElement(Video,{id:parseInt(this.props.query.vid,10),videoPath:parsedUrl.pathname+(parsedUrl.search?parsedUrl.search:""),pageName:this.props.content.tracking.pageName,relatedAlwaysLinkToGlobalVideo:true,relatedPassThroughContextParameters:contextParameters})))))}});module.exports=GlobalVideo},{"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/Video":318,"query-string":80,ramda:83,react:245,
url:49}],352:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var omniture=require("../analytics");var querystring=require("query-string");var Main=require("../components/Main");var Content=require("../components/Content");var Link=require("../components/Link");var OegyScroll=require("../components/OegyScroll");var Select=require("../components/Select");var NavTabs=require("../components/NavTabs");var VideoItem=require("../components/VideoItem");var SearchProgram=require("../components/SearchProgram");var GlobalVideoGrid=React.createClass({displayName:"GlobalVideoGrid",getInitialState:function getInitialState(){return{programs:null,loadingPrograms:true,programResults:null,searchValue:""}},sortOptions:{"":"All videos","full-length":"Full length",clip:"Clips"},_fetch:function _fetch(start,count,callback){require("superagent").get("/api/apps/render/data/content/video/index.xml?"+querystring.stringify(R.merge(this._getFilter(),{mode:"video","exclude-header":"",limit:count,start:start})),function(data){if(data.body){callback(data.body)}})},_getFilter:function _getFilter(){if(this.props.query.subcategories){return this.props.query.type?{subcategories:this.props.query.subcategories,type:this.props.query.type}:{subcategories:this.props.query.subcategories}}var category=R.find(R.propEq("id",this.props.query.categories))(this.props.content.bundled.header.categories);var query={categories:(category?category:R.head(this.props.content.bundled.header.categories)).id,type:this.props.query.type};return query.type?query:R.omit(["type"],query)},_updateFilter:function _updateFilter(e){var routeStore=require("../stores/route-store");routeStore.navigate.push(this._mutateFilterUrl({type:e.target.value}));var sortBy="Sort By : "+this.sortOptions[e.target.value];routeStore.tracking.trackLink.push({type:"internal",omnitureF:omniture.event56(sortBy,"GlobalVideo")})},_mutateFilterUrl:function _mutateFilterUrl(mutation){var currentFilter=mutation.categories||mutation.subcategories?R.omit(["categories","subcategories"],this._getFilter()):this._getFilter();var query=R.mergeAll([currentFilter,mutation]);return"/video/index.html?"+querystring.stringify(query.type?query:R.omit(["type"],query))},_search:function _search(value){this.setState({searchValue:value})},componentDidMount:function componentDidMount(){var _this=this;require("superagent").get("/api/apps/render/rest/v1/videos/programs",function(data){if(data.body){_this.setState({programs:data.body,loadingPrograms:false})}else{_this.setState({loadingPrograms:false})}})},componentWillReceiveProps:function componentWillReceiveProps(nextProps){var newQuery=nextProps.query;var oldQuery=this.props.query;var filtersChanged=newQuery.categories!==oldQuery.categories||newQuery.subcategories!==oldQuery.subcategories||newQuery.type!==oldQuery.type;if(filtersChanged){this.setState({searchValue:""})}},render:function render(){var _this2=this;var breakpointColumns={0:1,768:3,980:4,1180:5};var sizes="(min-width: 980px) 250px, (min-width: 768px) 350px, 100vw";var categories=this.props.content.bundled.header.categories.map(function(category,i){return{selected:category.id===_this2.props.query.categories||category.id===_this2.props.query.subcategories,key:category.id+i,href:_this2._mutateFilterUrl(category.id==="sports-boxing"?{subcategories:category.id}:{categories:category.id}),name:category.name,omniture:omniture.event56(category.name.toLowerCase(),"GlobalVideo")}}).concat(this.props.query.subcategories&&this.props.query.subcategories!=="sports-boxing"?[{selected:true,key:this.props.query.subcategories,href:this._mutateFilterUrl({subcategories:this.props.query.subcategories}),className:"navTabs-category--category",name:"Category",omniture:omniture.event56(this.props.query.subcategories.toLowerCase(),"GlobalVideo")}]:[]);if(!categories.some(function(category){return category.selected})){categories[0].selected=true}var results=Array.isArray(this.state.programs)&&this.state.searchValue.length>1?this.state.programs.filter(function(program){return R.strIndexOf(_this2.state.searchValue.toLowerCase(),program.name.toLowerCase())!==-1}).map(function(result){return{id:result.productId,href:_this2._mutateFilterUrl({subcategories:result.productId}),highlighted:SearchProgram.highlight(result.name,_this2.state.searchValue)}}):[];var selectedSubCategory=Array.isArray(this.state.programs)&&this.props.query.subcategories?R.find(R.propEq("productId",this.props.query.subcategories))(this.state.programs):null;return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("h1",{className:"navProperty-title globalVideoGrid-title"},"Videos"),React.createElement("header",{className:"headerGrid headerGrid--globalVideoGrid"},React.createElement("div",{className:"headerGrid-block headerGrid-tabs"},React.createElement(NavTabs,{categories:categories})),React.createElement("div",{className:"headerGrid-block headerGrid-action headerGrid-sort"},React.createElement("span",{className:"headerGrid-actionTitle"},"Show"),React.createElement(Select,{value:this.props.query.type||"",onChange:this._updateFilter,className:"select--light",inputClassName:"form-control--light"},R.toPairs(this.sortOptions).map(function(pair){return React.createElement("option",{key:pair[0],value:pair[0]},pair[1])})))),React.createElement("div",{className:"globalVideoGrid-searchWrapper"},React.createElement(SearchProgram,{loading:this.state.loadingPrograms,placeholder:"Find Videos by Program",className:"searchProgram--globalVideoGrid",results:results,onSearch:this._search,value:this.state.searchValue}),this.props.query.subcategories&&this.props.query.subcategories!=="sports-boxing"&&selectedSubCategory?React.createElement("span",{className:"globalVideoGrid-searchCategory"},selectedSubCategory.name,React.createElement(Link,{href:categories[0].href,className:"globalVideoGrid-searchCategoryClose"},React.createElement("i",{className:"iconCss-closeMini"}))):null,React.createElement("div",{className:"globalVideoGrid-searchStats"},"Showing "+this.props.content.bundled.videos.videos.filterMatchesString+" of "+this.props.content.bundled.header.totalString+" Total Videos")),React.createElement("div",{className:"content-primary"},this.props.content.bundled.videos.videos.filterMatches===0?React.createElement("div",null,"We're sorry, there are no videos to display based on your selection.",React.createElement(Link,{href:"/video/index.html"},"Reset All Filters")," to return to the default view."):React.createElement(OegyScroll,{className:"listGrid listGrid--globalVideoGrid",items:this.props.content.bundled.videos.videos.video,count:this.props.content.bundled.videos.videos.filterMatches,fetch:this._fetch,breakpointColumns:breakpointColumns,render:function(video){var queryParams=R.merge(_this2.props.query,{autoplay:true,g:"u",vid:video.id});return React.createElement("li",{key:video.url+video.id,className:"listGrid-item"},React.createElement(VideoItem,{nav:video.source==="GO"?"/HBO_GO/"+video.productId:"/video/video.html?"+querystring.stringify(queryParams),imageUrl:video.standardImage,ellipsis:true,sizes:sizes,title:video.program,subTitle:video.title,duration:video.runTime,type:"video",pageName:_this2.props.content.tracking.pageName}))}}))))}});module.exports=GlobalVideoGrid},{"../analytics":250,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/NavTabs":295,"../components/OegyScroll":300,"../components/SearchProgram":310,"../components/Select":312,"../components/VideoItem":320,"../stores/route-store":332,"query-string":80,ramda:83,react:245,superagent:246}],353:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var url=require("url");var CategoryTabs=require("./../components/CategoryTabs");var CategoryList=require("../components/CategoryList");var CategoryView=require("../components/CategoryView");var ScheduleSelector=require("../components/ScheduleSelector");var Link=require("../components/Link");var CurrentScheduleSelector=require("../components/CurrentScheduleSelector");var Main=require("../components/Main");var Content=require("../components/Content");var GoSchedule=React.createClass({displayName:"GoSchedule",_defaultImage:"http://i.lv3.hbo.com/assets/images/global/global/on-demand/150508-default-vshort-1920-template-300.jpg",_parseSeries:function _parseSeries(data){var _this=this;var mapItems=R.map(function(i){return R.merge(i,{id:i.focusId})});var mapToCat=R.map(function(o){return R.merge(o,{id:o["@seriesID"]||o["@displayName"],title:o["@displayName"],imgUrl:o["@image"]||_this._defaultImage,count:o.item.length,items:mapItems(o.item)})});return mapToCat(data)},_parseOther:function _parseOther(data){return[R.merge(data,{id:data["@seriesID"]||data["@displayName"],imgUrl:data["@image"],title:data["@displayName"],count:data.item.length,items:data.item})]},_parsePrograms:function _parsePrograms(programs){var parsedPrograms=(R.is(Array,programs)?this._parseSeries:this._parseOther)(programs);this.setState({programs:R.compose(R.mapObj(R.head),R.groupBy(R.prop("id")))(parsedPrograms)})},getInitialState:function getInitialState(){return{programs:[],selected:{category:this.props.content.content.selected.subCategory||"",focusId:this.props.content.content.selected.focusId}}},_cardClicked:function _cardClicked(event,subCategoryId,tracking){event.preventDefault();Link.replaceUrl(event);this.setState({selected:{category:subCategoryId,focusId:this.state.selected.focusId}});require("../stores/route-store").trackPage.push(tracking)},_closeCards:function _closeCards(event){Link.navigate(event);this.setState({selected:{category:"",focusId:false}})},render:function render(){var content=this.props.content.content;var current=content.currentSchedule;var subCategories=content.subCategories;var parsedQuery=R.omit(["focusId","productId"],this.props.query);var parsedUrl=url.parse(this.props.url).pathname;var selectedItem=this.state.selected;var contentType="HBOGO";var hasSubCategories=Object.keys(subCategories).length>0;var hasPrograms=content.programs.length>0;return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(ScheduleSelector,{selected:"go"}),React.createElement("div",{className:"onDemandSchedule-topBar"},React.createElement(CategoryTabs,{selected:content.selected.category,categories:content.categories,query:this.props.query,url:"/schedule/hbonow-hbogo"}),React.createElement(CurrentScheduleSelector,{onClick:this._closeCards,url:parsedUrl,query:R.omit(["subCategory"],parsedQuery),currentSchedule:current})),React.createElement("div",{className:"content-primary"},React.createElement("div",{className:"goSchedule"},hasSubCategories?React.createElement(CategoryList,{onCardClick:this._cardClicked,renderApi:this.props.renderApi,cardDetails:content.cardDetails,categories:subCategories,selected:selectedItem,contentType:contentType,url:parsedUrl,query:parsedQuery,timezone:this.props.timezone,defaultTracking:content.defaultTracking}):null,hasPrograms?React.createElement("ul",{className:"categoryList"},React.createElement(CategoryView,{renderApi:this.props.renderApi,items:content.programs,url:parsedUrl,query:parsedQuery,tracking:"",timezone:this.props.timezone,cardDetails:content.cardDetails,contentType:contentType,selected:selectedItem.focusId})):null,!hasSubCategories&&!hasPrograms?React.createElement("p",{className:"goSchedule-error"},"We're sorry, there are no programs available for the current selection. Please make another selection from the filters above."):null))))}});module.exports=GoSchedule},{"../components/CategoryList":260,"../components/CategoryView":262,"../components/Content":263,"../components/CurrentScheduleSelector":265,"../components/Link":276,"../components/Main":280,"../components/ScheduleSelector":308,"../stores/route-store":332,"./../components/CategoryTabs":261,ramda:83,react:245,url:49}],354:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var omniture=require("../analytics");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var NavProperty=require("../components/NavProperty");var Link=require("../components/Link");var Picture=require("../components/Picture");var Content=require("../components/Content");var Select=require("../components/Select");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var GridEpisodes=React.createClass({displayName:"GridEpisodes",getInitialState:function getInitialState(){return{order:"newest"}},_setOrder:function _setOrder(event){this.setState({order:event.target.value});var sortBy="Sort By : "+event.target.value;require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event56(sortBy)})},_jump:function _jump(season){return function(event){event.preventDefault();var smoothScroll=require("../smooth-scroll");smoothScroll.animateScroll(null,event.target.hash,{updateURL:false,speed:500,easing:"easeInOutCubic"});var sortBy="Sort By : "+"Season "+season;require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event56(sortBy)})}},render:function render(){var _this=this;var episodesNav=this.props.content.navigation.episodesNav;var videos=episodesNav.video;var bySeason=R.groupBy(function(group){return group.season});var order=this.state.order;var newest=function newest(a,b){return b[0]-a[0]};var oldest=function oldest(a,b){return a[0]-b[0]};var showSeasonHeadings=episodesNav.showGroupNumber==="true"||videos[0].groupTitle;var videoPairs=showSeasonHeadings?R.toPairs(bySeason(videos)):[[0,videos]];var showSeasonNav=episodesNav.showGroupNumber==="true"&&videoPairs.length>1;var seasons=R.sort(order==="newest"?newest:oldest,videoPairs).map(function(season){season[1].sort(function(a,b){return order==="newest"?b.episodeNumber-a.episodeNumber:a.episodeNumber-b.episodeNumber});return season});var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,React.createElement("header",{className:"headerGrid headerGrid--episodes"},React.createElement("div",{className:"headerGrid-block headerGrid-title"},React.createElement("h2",null,episodesNav.name?episodesNav.name:"Episodes")),React.createElement("div",{className:"headerGrid-actionWrapper"},showSeasonNav?React.createElement("div",{className:"headerGrid-block headerGrid-action headerGrid-anchors"},React.createElement("span",{className:"headerGrid-actionTitle"},"Season"),R.sort(newest,videoPairs).map(function(season){return React.createElement("a",{key:season[0],href:"#jump_season"+season[0],onClick:_this._jump(season[0]),className:"headerGrid-actionLink"},season[0])})):null,React.createElement("div",{className:"headerGrid-block headerGrid-action headerGrid-sort"},React.createElement("span",{className:"headerGrid-actionTitle"},"Sort by"),React.createElement(Select,{value:this.state.order,onChange:this._setOrder,className:"select--light",inputClassName:"form-control--light"},React.createElement("option",{value:"newest"},"Newest"),React.createElement("option",{value:"oldest"},"Oldest"))))),React.createElement("div",{className:"content-primary"},seasons.map(function(season){return React.createElement("div",{key:season[0]},showSeasonHeadings?React.createElement("h3",{className:"content-title content-title--episodes",name:"jump_season"+season[0],id:"jump_season"+season[0]},season[1][0].groupTitle?season[1][0].groupTitle:"Season "+season[0]):null,React.createElement("ul",{className:"listGrid listGrid--episodes"},season[1].map(function(video){return React.createElement("li",{key:video.id,className:"listGrid-item"},React.createElement(Link,{href:video.url},React.createElement("div",{className:"listGrid-itemImageWrapper"},React.createElement("div",{className:"listGrid-itemImage"},React.createElement(Picture,{src:video.thumbnailImage,sizes:"(min-width: 980px) 300px, (min-width: 768px) 350px, 33vw",images:Picture.sizesFromUrl(video.thumbnailImage,[200,300,512,1024])}))),React.createElement("div",{className:"listGrid-itemContent"},React.createElement("h4",{className:"listGrid-itemTitle"},video.title),React.createElement("h5",{className:"listGrid-itemDescription"},video.originalAirDate))))})))})),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=GridEpisodes},{"../analytics":250,"../components/Content":263,"../components/FooterProperty":268,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/Picture":303,"../components/Select":312,"../components/UpcomingSchedule":317,"../smooth-scroll":328,"../stores/route-store":332,ramda:83,react:245}],355:[function(require,module,exports){"use strict";var _analytics=require("../analytics");var React=require("react");var Main=require("../components/Main");var Link=require("../components/Link");var Hero=require("../components/Hero");var MediaGrid=require("../components/MediaGrid");var ScheduleMini=require("../components/ScheduleMini");var Picture=require("../components/Picture");var Content=require("../components/Content");var R=require("ramda");var Homepage=React.createClass({displayName:"Homepage",heroImages:function heroImages(){var sizes=[1920,1280,1024,512,300];return Picture.sizesFromUrl(R.head(this.props.content.content.parsed["common:FullBleedImage"]).src,sizes)},render:function render(){var feature=this.props.content.content.parsed["home:Features"];var schedule=this.props.content.bundled.schedule;var mediaTray=this.props.content.bundled.mediaTray;var featureItem=R.head(feature.items);var featureItems=featureItem?[featureItem]:[];var sectionAndPlacementByIndex=function sectionAndPlacementByIndex(i){var featuredPlacements=["primary","secondary","tertiary"];return i<featuredPlacements.length?{section:"featured",placement:featuredPlacements[i]}:{section:"grid",placement:""+(i-featuredPlacements.length+1)}};return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(Hero,{className:"hero--homepage",sizes:"(min-width: 1180px) 950px, 100vw",images:this.heroImages(),subComponent:React.createElement(ScheduleMini,{schedule:schedule,timezone:this.props.timezone}),href:R.path(["button","nav"],featureItem),linkOmnitureF:(0,_analytics.homepageLinkClick)(sectionAndPlacementByIndex(0))},featureItems.map(function(item,i){return React.createElement("div",{key:i},React.createElement(Link,{href:item.button.nav,className:"hero-linkWrapper"},React.createElement("h4",{className:"hero-pretitle"},item.title),React.createElement("h3",{className:"hero-title",dangerouslySetInnerHTML:{__html:feature.title}}),React.createElement("p",null,item.subtitle),React.createElement("div",{className:"hero-link"},React.createElement("span",{className:"button button--small button--primary button--light button--arrow"},item.button.label))))})),React.createElement("div",{className:"content-primary content-primary--homepage"},React.createElement(MediaGrid,{className:"mediaGrid--homepage"},mediaTray.slice(1).filter(function(tray){return tray["home:Features"]&&R.head(tray["home:Features"].items)}).map(function(tray,i){var sizes=[1920,1280,1024,512,300];var src=R.head(tray["common:FullBleedImage"]).src;var features=tray["home:Features"];var featuredItem=R.head(features.items);return React.createElement("div",{key:i},React.createElement(Link,{href:featuredItem.button.nav,className:"mediaGrid-linkWrapper",omniture:(0,_analytics.homepageLinkClick)(sectionAndPlacementByIndex(i+1))},React.createElement(Picture,{images:Picture.sizesFromUrl(src,sizes),alt:tray.name,fallbackImage:src,src:src,sizes:i<2?"(min-width: 768px) 50vw, 100vw":"(min-width: 768px) 33.3vw, (min-width: 980px) 50vw, (min-width: 1180px) 420px, 100vw"}),React.createElement("div",{className:"mediaGrid-itemContent"},React.createElement("h4",{className:"mediaGrid-itemPretitle"},featuredItem.title),React.createElement("h3",{className:"mediaGrid-itemTitle",dangerouslySetInnerHTML:{__html:tray.name}}),React.createElement("p",null,featuredItem.subtitle),React.createElement("div",{className:"mediaGrid-itemLink"},React.createElement("span",{className:"button button--small button--primary button--light button--arrow"},featuredItem.button.label)))))})))))}});module.exports=Homepage},{"../analytics":250,"../components/Content":263,"../components/Hero":272,"../components/Link":276,"../components/Main":280,"../components/MediaGrid":282,"../components/Picture":303,"../components/ScheduleMini":306,ramda:83,react:245}],356:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var cx=require("classnames");var InterviewComponent=require("../components/Interview");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var Content=require("../components/Content");var Share=require("../components/Share");var Main=require("../components/Main");var Sticky=require("../components/Sticky");var RelatedMedia=require("../components/RelatedMedia");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var Interview=React.createClass({displayName:"Interview",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var relatedMedia=parsed["common:RelatedMedia"];var subHeading=R.path(["common:PageTitleNew","subHeading","label"],parsed);var tertiaryLinks=this.props.content.navigation[pageNavigation.group];var hasParent=PageTitle.hasParent(this.props.content.category,tertiaryLinks);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{className:cx({"pageTitle--sub":true,"pageTitle--hasParent":hasParent}),tertiaryLinks:tertiaryLinks})):null,pageNavigation&&tertiaryLinks?React.createElement(NavTertiary,{links:tertiaryLinks,className:cx({"navTertiary--sub":true,"navTertiary--hasParent":hasParent})}):null,React.createElement("div",{className:"content-primary content-primary--article"},React.createElement(InterviewComponent,_extends({preTitle:subHeading},parsed["common:Interview"]),React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.url,className:"share--article"})))),relatedMedia?React.createElement("div",{className:"content-secondary content-secondary--article"},React.createElement(RelatedMedia,{content:this.props.content.navigation[relatedMedia.group],pageName:this.props.content.tracking.pageName})):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=Interview},{"../components/Content":263,"../components/FooterProperty":268,"../components/Interview":275,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/RelatedMedia":305,"../components/Share":313,"../components/Sticky":314,"../components/UpcomingSchedule":317,classnames:50,ramda:83,react:245}],357:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var ModalLogin=require("../components/ModalLogin");var Content=require("../components/Content");var Main=require("../components/Main");var Login=React.createClass({displayName:"Login",getInitialState:function getInitialState(){return{message:null}},componentDidMount:function componentDidMount(){var _this=this;if(this.props.query.e&&this.props.query.aw){var config=window.__reactContent;var request=require("../request");var querystring=require("query-string");var url=config.secureApi+"/apps/profilescs/rest/accountService/activate.json?"+querystring.stringify({e:this.props.query.e,aw:this.props.query.aw});var req=request.get(url);req.onError(function(msg){return _this.setState({message:msg.map(function(e){return e.userDisplayMsg})})});req.onValue(function(){return _this.setState({message:_this.props.query.a==="email"?"Thank you. Your email address has been successfully updated.":"Thank you. Your account has been activated. Please sign in."})})}this._signInSubscriber=require("../stores/user-store").isSignedIn.filter(R.eq(true)).onValue(function(){var route=require("../stores/route-store");route.redirectToReferer(_this.props.query.referer)})},componentWillUnmount:function componentWillUnmount(){this._signInSubscriber()},render:function render(){return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("div",{className:"content-login"},this.state.message?React.createElement("p",{className:"modal--padded"},this.state.message):null,React.createElement(ModalLogin,{email:this.props.query.email}))))}});module.exports=Login},{"../components/Content":263,"../components/Main":280,"../components/ModalLogin":287,"../request":327,"../stores/route-store":332,"../stores/user-store":333,"query-string":80,ramda:83,react:245}],358:[function(require,module,exports){"use strict";var React=require("react");var Content=require("../components/Content");var Main=require("../components/Main");var Logout=React.createClass({displayName:"Logout",componentDidMount:function componentDidMount(){var _this=this;var user=require("../stores/user-store");user.signOut(function(){var route=require("../stores/route-store");route.redirectToReferer(_this.props.query.referer)})},render:function render(){return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("div",{className:"content-login"},"You will be signed out momentarily")))}});module.exports=Logout},{"../components/Content":263,"../components/Main":280,"../stores/route-store":332,"../stores/user-store":333,react:245}],359:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Button=require("../components/Button");var NavProperty=require("../components/NavProperty");var RelatedMedia=require("../components/RelatedMedia");var Sticky=require("../components/Sticky");var Share=require("../components/Share");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var moment=require("moment");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var Music=React.createClass({displayName:"Music",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var relatedMedia=parsed["common:RelatedMedia"];var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},parsed["common:PageTitleNew"],{className:"pageTitle--sub pageTitle--hasParent"})):null,pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--article"},React.createElement("article",{className:"article"},React.createElement("h2",{className:"article-titleMain"},parsed["common:Music"].title),parsed["common:Music"].posted?React.createElement("h4",{className:"article-titlePost"},moment.utc(parsed["common:Music"].posted.label).format("MMM D, YYYY")):null,React.createElement(Sticky,null,React.createElement(Share,{url:"http://hbo.com"+this.props.url,className:"share--article"})),React.createElement("div",{className:"article-content"},parsed["common:Music"].track.map(function(content,i){return React.createElement("div",{className:"listGrid-itemContent listGrid-itemContent--list",key:i},React.createElement("h4",{className:"listGrid-itemTitle"},content.artist,": ",React.createElement("span",{className:"listGrid-itemTitle--secondary"},content.title)),React.createElement("h5",{className:"listGrid-itemDescription"},content.scene),content.buyUrl?React.createElement(Button,{label:"Buy",nav:content.buyUrl,light:true,arrow:true,size:"small",level:"primary",className:"music-buy"}):null)})))),relatedMedia?React.createElement("div",{className:"content-secondary content-secondary--article"},React.createElement(RelatedMedia,{content:this.props.content.navigation[relatedMedia.group],pageName:this.props.content.tracking.pageName})):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=Music},{"../components/Button":256,"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/RelatedMedia":305,"../components/Share":313,"../components/Sticky":314,"../components/UpcomingSchedule":317,moment:58,ramda:83,react:245}],360:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var PageTitle=require("../components/PageTitle");var Button=require("../components/Button");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var NavTertiary=require("../components/NavTertiary");var ModalHelp=require("../components/ModalHelp");var Content=require("../components/Content");var Main=require("../components/Main");var Link=require("../components/Link");

var NewsLetterGroups=require("../components/NewsLetterGroups");var Input=require("../components/Input");var omniture=require("../analytics");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var NewsLetterSubscribe=React.createClass({displayName:"NewsLetterSubscribe",getInitialState:function getInitialState(){var parsed=this.props.content.content.parsed;return{newsletterTopic:this.props.content.program,subscriptions:[],user:null,email:"",selected:[parsed["common:NewsLetterSubscribe"]?parsed["common:NewsLetterSubscribe"].newsletter:"hbo-marketingoptin"],subscribedTo:false,unsubscribedTo:false,errorMessages:[]}},componentWillUnmount:function componentWillUnmount(){this._userSubscription();this._subscriptionList()},componentDidMount:function componentDidMount(){var _this=this;var userStore=require("../stores/user-store");var newsletterStore=require("../stores/newsletter-store");this._userSubscription=userStore.currentUserP.onValue(function(user){return _this.setState({user:user,email:user?user.emailAddress:""})});this._subscriptionList=newsletterStore.getSubscriptions().onValue(this._setNewsletters)},_setNewsletters:function _setNewsletters(subs){this.setState({subscriptions:R.flatten(R.values(subs))})},_reloadNewsletters:function _reloadNewsletters(){require("../stores/newsletter-store").getSubscriptions().onValue(this._setNewsletters)},_subscribe:function _subscribe(event){var _this2=this;event.preventDefault();var subscribe=require("../stores/newsletter-store").subscribe(this.state.email,this.state.selected);subscribe.onError(function(errors){return _this2.setState({errorMessages:errors.map(function(e){return e.userDisplayMsg}),subscribedTo:false,unsubscribedTo:false})});subscribe.onValue(this._reloadNewsletters);subscribe.onValue(function(){return _this2.setState({email:"",errorMessages:[],unsubscribedTo:false,subscribedTo:_this2.state.selected.length>1?"selected newsletters":R.find(R.propEq("name",R.head(_this2.state.selected)))(R.flatten(_this2.props.config.newsletters.map(function(group){return group.newsletter}))).description+" newsletter"})});subscribe.onValue(function(){return require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event15(_this2.state.newsletterTopic)})})},_unsubscribe:function _unsubscribe(event){var _this3=this;event.preventDefault();var req=require("../stores/newsletter-store").unsubscribe(this.state.email,this.state.selected);req.onError(function(errors){return _this3.setState({errorMessages:errors.map(function(e){return e.userDisplayMsg}),subscribedTo:false,unsubscribedTo:false})});req.onValue(this._reloadNewsletters);req.onValue(function(){return _this3.setState({email:"",errorMessages:[],subscribedTo:false,unsubscribedTo:_this3.state.selected.length>1?"selected newsletters":R.find(R.propEq("name",R.head(_this3.state.selected)))(R.flatten(_this3.props.config.newsletters.map(function(group){return group.newsletter}))).description+" newsletter"})})},_updateEmail:function _updateEmail(event){event.preventDefault();this.setState({email:event.target.value})},_updateSelection:function _updateSelection(item){var _this4=this;var name=item.name;return function(event){event.preventDefault();_this4.setState({selected:_this4.state.selected.indexOf(name)===-1?R.append(name,_this4.state.selected):_this4.state.selected.filter(function(n){return n!==name})})}},render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var pageTitleNew=parsed["common:PageTitleNew"];var newsletter=parsed["common:NewsLetterSubscribe"]||parsed["about:AboutNewsletter"];var subscription=R.find(R.propEq("name",newsletter.newsletter||"hbo-marketingoptin"))(this.state.subscriptions);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar||this.props.content.bundled.externalNav[0].dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,pageTitleNew&&pageTitleNew.heading.label?React.createElement(PageTitle,{heading:{nav:pageTitleNew.heading.nav,label:newsletter.title},upperText:pageTitleNew.heading.label,lowerText:newsletter.subtitle,className:"pageTitle--sub pageTitle--hasParent"}):React.createElement(PageTitle,{heading:{label:newsletter.title},lowerText:newsletter.subtitle,className:"pageTitle--sub"}),pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--newsletter"},React.createElement("div",{dangerouslySetInnerHTML:{__html:newsletter.body}}),React.createElement("form",{className:"newsLetterSubscribe-form "},React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"email",placeholder:"Email",onChange:this._updateEmail,value:this.state.email})),this.state.subscriptions.length>0?React.createElement("p",{className:"newsLetterSubscribe-subscriptionState"},subscription&&subscription.subscribed?"Thank you. You are subscribed to the "+subscription.description+" newsletter.":"You are not subscribed to the "+subscription.description+" newsletter."):null,this.state.subscriptions.length===0&&this.state.subscribedTo?React.createElement("p",{className:"newsLetterSubscribe-subscriptionState"},"You are now subscribed to the "+this.state.subscribedTo+"."):null,this.state.subscriptions.length===0&&this.state.unsubscribedTo?React.createElement("p",{className:"newsLetterSubscribe-subscriptionState"},"You have successfully unsubscribed from the "+this.state.unsubscribedTo+". Please allow 5 business days for your request to be processed."):null,this.state.user?React.createElement(Button,{nav:"/dashboard/subscriptions",arrow:true,light:true,size:"small",level:"primary",label:"Manage Newsletter Subscriptions"}):React.createElement(NewsLetterGroups,{groups:this.props.config.newsletters,onChange:this._updateSelection,selected:this.state.selected}),this.state.errorMessages.map(function(error){return React.createElement("div",{key:error,className:"form-errorMessage"},error)}),React.createElement("div",{className:"form-group form-actions"},subscription&&!subscription.subscribed||!subscription?React.createElement(Button,{size:"small",label:"Subscribe",onClick:this._subscribe}):null,subscription&&subscription.subscribed||!subscription?React.createElement(Button,{size:"small",label:"Unsubscribe",onClick:this._unsubscribe}):null)),React.createElement("div",{className:"newsletter-links"},React.createElement("a",{href:"#",onClick:ModalHelp.overlayLink("privacy")},"Privacy Policy"),React.createElement(Link,{href:"/about/contact-us.html"},"Contact Us"))),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=NewsLetterSubscribe},{"../analytics":250,"../components/Button":256,"../components/Content":263,"../components/FooterProperty":268,"../components/Input":273,"../components/Link":276,"../components/Main":280,"../components/ModalHelp":286,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/NewsLetterGroups":299,"../components/PageTitle":302,"../components/UpcomingSchedule":317,"../stores/newsletter-store":331,"../stores/route-store":332,"../stores/user-store":333,ramda:83,react:245}],361:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var url=require("url");var CategoryTabs=require("./../components/CategoryTabs");var CategoryList=require("../components/CategoryList");var ScheduleSelector=require("../components/ScheduleSelector");var Link=require("../components/Link");var Main=require("../components/Main");var Content=require("../components/Content");var WeekSelector=require("../components/WeekSelector");var OnDemandSchedule=React.createClass({displayName:"OnDemandSchedule",_defaultImage:"http://i.lv3.hbo.com/assets/images/global/global/on-demand/150508-default-vshort-1920-template-300.jpg",getInitialState:function getInitialState(){return{selected:{category:this.props.content.content.selected.subCategory,focusId:this.props.content.content.selected.focusId}}},_cardClicked:function _cardClicked(event,subCategoryId,tracking){event.preventDefault();Link.replaceUrl(event);this.setState({selected:{category:subCategoryId,focusId:this.state.selected.focusId}});require("../stores/route-store").trackPage.push(tracking)},render:function render(){var content=this.props.content.content;var subCategories=content.subCategories;var parsedQuery=R.omit(["focusId","productId"],this.props.query);var parsedUrl=url.parse(this.props.url).pathname;var selectedItem=this.state.selected;return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(ScheduleSelector,{selected:"on-demand"}),React.createElement("div",{className:"onDemandSchedule-topBar"},React.createElement(CategoryTabs,{selected:content.selected.category,categories:content.categories,query:this.props.query,url:"/schedule/on-demand"}),React.createElement(WeekSelector,{week:content.week,weekLabel:content.weekLabel,maxWeeks:content.maxWeeks,url:parsedUrl,query:this.props.query})),React.createElement("div",{className:"content-primary"},React.createElement("div",{className:"onDemandSchedule"},React.createElement("div",{className:"onDemandSchedule-categories"},React.createElement(CategoryList,{onCardClick:this._cardClicked,renderApi:this.props.renderApi,cardDetails:content.cardDetails,categories:subCategories,selected:selectedItem,contentType:"HOD",url:parsedUrl,query:parsedQuery,timezone:this.props.timezone,defaultTracking:content.defaultTracking}))))))}});module.exports=OnDemandSchedule},{"../components/CategoryList":260,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/ScheduleSelector":308,"../components/WeekSelector":321,"../stores/route-store":332,"./../components/CategoryTabs":261,ramda:83,react:245,url:49}],362:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var FooterProperty=require("../components/FooterProperty");var Main=require("../components/Main");var Hero=require("../components/Hero");var Content=require("../components/Content");var Button=require("../components/Button");var ListContent=require("../components/ListContent");var ListVideo=require("../components/ListVideo");var UpcomingFightsSchedule=require("../components/UpcomingFightsSchedule");var UpcomingSchedule=require("../components/UpcomingSchedule");var cx=require("classnames");var Portal=React.createClass({displayName:"Portal",_parseFooter:function _parseFooter(communityComponent){var newsAndEvents=communityComponent["portal:NewsAndEvents"];var conversations=communityComponent["portal:Conversations"];var footerItems=conversations?conversations.promotions.slice(0):[];if(newsAndEvents&&newsAndEvents.newsletter){footerItems.push({body:newsAndEvents.newsletter.body,headline:newsAndEvents.newsletter.title,nav:newsAndEvents.newsletter.nav})}if(conversations){footerItems.unshift({body:conversations.talk.button.label,headline:conversations.title,nav:conversations.talk.button.nav})}return footerItems.filter(function(item){return typeof item.nav==="string"&&item.nav.trim().length>0})},_isOldRenderXmlFormat:function _isOldRenderXmlFormat(panel){return panel.imageUrl!==null},_fallbackImage:function _fallbackImage(panel){return this._isOldRenderXmlFormat(panel)?panel.imageUrl:undefined},_heroImages:function _heroImages(panel){return this._isOldRenderXmlFormat(panel)?this._replaceHeroImages(panel.imageUrl):panel.images},_replaceHeroImages:function _replaceHeroImages(imageUrl){var match=imageUrl.match(/^(.+-)(450|600|900|1800).jpg$/);if(match){return[{src:"1920x700",width:1920},{src:"1280x467",width:1280},{src:"1024x374",width:1024},{src:"512x187",width:512},{src:"300x110",width:300}].map(function(img){return{src:match[1]+img.src+".jpg",width:img.width}})}return[{src:imageUrl,width:500}]},getInitialState:function getInitialState(){return{videoPaused:true,videoStarted:false,showOverlay:false}},componentWillReceiveProps:function componentWillReceiveProps(props){var videoId=R.path(["content","content","parsed","portal:Panels",0,"videoId"]);if(videoId(props)!==videoId(this.props)){this.setState(this.getInitialState())}},render:function render(){var _this=this;var parsed=this.props.content.content.parsed;var panels=parsed["portal:Panels"];var features=parsed["portal:ShowFeatureList"];var panel=panels[0];var videoGroups=parsed["portal:GoVideoList"].group;var upcomingFights=parsed["portal:UpcomingComponent"];var footerItems=parsed["portal:CommunityComponent"]?this._parseFooter(parsed["portal:CommunityComponent"]):parsed["portal:UpcomingComponent"]?this._parseFooter(parsed["portal:UpcomingComponent"]):[];var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);var footer=React.createElement(FooterProperty,{items:footerItems},upcomingFights&&upcomingFights.UpcomingFightList?React.createElement(UpcomingFightsSchedule,{className:"upcomingFightsSchedule upcomingFightsSchedule--portal upcomingFightsSchedule--desktop",upcoming:upcomingFights.UpcomingFightList}):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle}):null);var classes=cx({"hero--portal":true,"hero--video-paused":this.state.videoPaused,"hero--video-started":this.state.showOverlay||this.state.videoStarted,"hero--video-hide-title":this.state.showOverlay});var videoInitialized=function videoInitialized(){return _this.setState({videoInitialized:true})};var playToggled=function playToggled(isPlaying){return _this.setState({videoPaused:!isPlaying,videoStarted:_this.state.videoStarted||isPlaying})};var overlayToggled=function overlayToggled(showOverlay){return _this.setState({showOverlay:showOverlay})};var playVideo=function playVideo(){return _this.state.videoInitialized&&_this.refs.hero&&_this.refs.hero.refs.video&&_this.refs.hero.refs.video.playVideo()};return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),footer),React.createElement(Content,{twoColumns:true},React.createElement(Hero,{ref:"hero",videoId:panel.videoId,onPosterClick:playVideo,videoPath:"/video/video.html?autoplay=true&g=u&vid="+panel.videoId,onVideoInitialized:videoInitialized,onPlayToggled:playToggled,onOverlayToggled:overlayToggled,fallbackImage:this._fallbackImage(panel),sizes:"(min-width: 1180px) 950px, 100vw",images:this._heroImages(panel),className:classes,href:R.path(["button","nav"],panel)},panel.videoId&&React.createElement("div",{className:"hero-video-overlay-title"},panel.title),panel.videoId&&React.createElement("div",{className:"hero-video-overlay-content"},panel.subTitle&&React.createElement("div",{className:"hero-video-overlay-cta"},panel.subTitle),React.createElement("h3",{className:"hero-title",dangerouslySetInnerHTML:{__html:panel.title}}),React.createElement("div",{dangerouslySetInnerHTML:{__html:panel.innerContent.body}}),React.createElement("div",{className:"hero-video-overlay-play"+(this.state.videoInitialized?"":" hero-video-overlay-play--not-initialized"),onClick:playVideo})),!panel.videoId&&React.createElement("div",null,panel.subTitle?React.createElement("h4",{className:"hero-pretitle"},panel.subTitle):null,React.createElement("h3",{className:"hero-title",dangerouslySetInnerHTML:{__html:panel.title}}),React.createElement("div",{dangerouslySetInnerHTML:{__html:panel.innerContent.body}}),panel.button.nav?React.createElement(Button,_extends({},panel.button,{light:true,size:"small",arrow:true,level:"primary"})):null)),upcomingFights&&upcomingFights.UpcomingFightList?React.createElement(UpcomingFightsSchedule,{className:"upcomingFightsSchedule upcomingFightsSchedule--boxingPortal upcomingFightsSchedule--mobile",upcoming:upcomingFights.UpcomingFightList}):null,upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone}):null,React.createElement("div",{className:"content-primary content-primary--portal"},React.createElement("h2",{className:"content-title"},features.title),React.createElement(ListContent,{features:features.show})),React.createElement("div",{className:"content-secondary content-secondary--portal"},videoGroups.map(function(group){return React.createElement(ListVideo,_extends({sizes:"(min-width: 768px) 25vw, 100vw",className:"listVideo--portal",key:group.title},group,{pageName:_this.props.content.tracking.pageName}))})),footer))}});module.exports=Portal},{"../components/Button":256,"../components/Content":263,"../components/FooterProperty":268,"../components/Hero":272,"../components/ListContent":277,"../components/ListVideo":279,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/UpcomingFightsSchedule":316,"../components/UpcomingSchedule":317,classnames:50,ramda:83,react:245}],363:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Hero=require("../components/Hero");var Content=require("../components/Content");var Button=require("../components/Button");var ListContent=require("../components/ListContent");var SecondaryContent=require("../components/SecondaryContent");var Picture=require("../components/Picture");var PortalAboutNew=React.createClass({displayName:"PortalAboutNew",render:function render(){var parsed=this.props.content.content.parsed;var panels=parsed["portal:Panels"];var corpInfo=this._mapToFeatures(parsed["about:HomeCorpInfoList"].corpInfoItem);var inside=parsed["about:AboutInside"].insideItem;var faqs=parsed["about:HomeFAQList"].listItem;faqs=R.map(function(f){return R.assoc("body",f.commentInfo,f)},faqs);var panel=panels[0];return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.bundled.externalNav[0].dockedBar})),React.createElement(Content,{twoColumns:true},React.createElement(Hero,{fallbackImage:panel.imageUrl,images:Picture.sizesFromUrl(panel.imageUrl,[1800]),className:"hero--portal",href:R.path(["button","nav"],panel)},panel.subTitle?React.createElement("h4",{className:"hero-pretitle"},panel.subTitle):null,React.createElement("h3",{className:"hero-title",dangerouslySetInnerHTML:{__html:panel.title}}),React.createElement("p",{dangerouslySetInnerHTML:{__html:panel.innerContent.body}}),panel.button.nav?React.createElement(Button,_extends({},panel.button,{light:true,size:"small",arrow:true,level:"primary"})):panel.nav?React.createElement(Button,{nav:panel.nav,label:"View more",light:true,size:"small",arrow:true,level:"primary"}):null),React.createElement("div",{className:"content-primary content-primary--aboutPortal"},React.createElement("h2",{className:"content-title"},"Corporate Information"),React.createElement(ListContent,{features:corpInfo,className:"listContent--explore"})),React.createElement("div",{className:"content-secondary content-secondary--aboutPortal"},React.createElement("h2",{className:"content-title"},"Inside HBO"),React.createElement(SecondaryContent,{features:inside}),React.createElement("h2",{className:"content-title"},"Popular FAQ Topics"),React.createElement(SecondaryContent,{features:faqs}))))},_mapToFeatures:function _mapToFeatures(inside){return inside.map(function(i){return R.assoc("body","<p>"+i.body+"</p>",i)})}});module.exports=PortalAboutNew},{"../components/Button":256,"../components/Content":263,"../components/Hero":272,"../components/ListContent":277,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/Picture":303,"../components/SecondaryContent":311,ramda:83,react:245}],364:[function(require,module,exports){"use strict";var React=require("react");var url=require("url");var moment=require("moment");var R=require("ramda");var querystring=require("query-string");var NavSidebar=require("../components/NavSidebar");var Button=require("../components/Button");var Main=require("../components/Main");var NavProperty=require("../components/NavProperty");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var ListContentItem=require("../components/ListContentItem");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var PropertyTalkNews=React.createClass({displayName:"PropertyTalkNews",_prev:function _prev(){return url.parse(this.props.url).pathname+"?"+querystring.stringify({offset:Math.max(0,this._getOffset()-this.props.content.content.parsed["talk:NewsListAllNoComments"].limit)})},_next:function _next(){return url.parse(this.props.url).pathname+"?"+querystring.stringify({offset:Math.min(this.props.content.content.parsed["talk:NewsListAllNoComments"].total,this._getOffset()+this.props.content.content.parsed["talk:NewsListAllNoComments"].limit)})},_getOffset:function _getOffset(){return this.props.query.offset?parseInt(this.props.query.offset,10):0},render:function render(){var _this=this;var parsed=this.props.content.content.parsed;var offset=this._getOffset();var news=parsed["talk:NewsListAllNoComments"];var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,React.createElement(PageTitle,{heading:{label:news.newsTitle},className:"pageTitle--sub",lowerText:offset+1+" - "+Math.min(offset+news.limit,news.total)+" of "+news.total}),React.createElement("div",{className:"content-primary content-primary--article content-primary--list"},React.createElement("div",{className:"listContent listContent--news"},news.news.map(function(result,i){return React.createElement(ListContentItem,{key:result.title+i,nav:result.nav,title:result.title,imageUrl:result.thumbnailPath,body:result.posted.label?"<p>"+moment.tz(new Date(result.posted.label),_this.props.timezone).format("h:mm A | MMM D, YYYY")+"</p>":"",forceImage:false})})),React.createElement("div",{className:"search-navigate"},offset>0?React.createElement(Button,{label:"Prev",nav:this._prev(),light:true,arrowBack:true,size:"small",className:"search-navigatePrev"}):null,offset+news.limit<news.total?React.createElement(Button,{label:"Next",nav:this._next(),light:true,arrow:true,size:"small",className:"search-navigateNext"}):null)),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=PropertyTalkNews},{"../components/Button":256,"../components/Content":263,"../components/FooterProperty":268,"../components/ListContentItem":278,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/PageTitle":302,"../components/UpcomingSchedule":317,moment:58,"query-string":80,ramda:83,react:245,url:49}],365:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavSidebar=require("../components/NavSidebar");var Article=require("../components/Article");var Main=require("../components/Main");var NavProperty=require("../components/NavProperty");var NavTertiary=require("../components/NavTertiary");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var PropertyTalkNewsItem=React.createClass({displayName:"PropertyTalkNewsItem",render:function render(){var parsed=this.props.content.content.parsed;var pageNavigation=parsed["common:PageNavigation"];var backTo=R.find(function(l){return l.id==="subnav"&&l.type==="backTo"})(this.props.content.navigation.leftNav);var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,backTo?React.createElement(PageTitle,{heading:{label:backTo.name,nav:backTo.nav},className:"pageTitle--sub pageTitle--subMini pageTitle--hasParent"}):null,pageNavigation&&this.props.content.navigation[pageNavigation.group]?React.createElement(NavTertiary,{links:this.props.content.navigation[pageNavigation.group],className:"navTertiary--sub navTertiary--hasParent"}):null,React.createElement("div",{className:"content-primary content-primary--article"},parsed["common:Article"]?React.createElement(Article,_extends({shareUrl:this.props.url},parsed["common:Article"])):null),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=PropertyTalkNewsItem},{"../components/Article":254,"../components/Content":263,"../components/FooterProperty":268,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/UpcomingSchedule":317,ramda:83,react:245}],366:[function(require,module,exports){"use strict";var React=require("react");var moment=require("moment");var R=require("ramda");var Bacon=require("baconjs");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var ModalHelp=require("../components/ModalHelp");var Main=require("../components/Main");var Link=require("../components/Link");var Content=require("../components/Content");var Button=require("../components/Button");var Input=require("../components/Input");var omniture=require("../analytics");var eventToField=function eventToField(event){var elem=event.target;var value=elem.type==="checkbox"?elem.checked:elem.type==="radio"?elem.checked?elem.value:"":elem.value.trim();return value};var Register=React.createClass({displayName:"Register",getInitialState:function getInitialState(){return{submitting:false,success:false,isValid:false,errors:null,fieldErrors:{},suggestion:null}},fieldFeedback:function fieldFeedback(v,name){var _this=this;v.onValue(function(res){if(!res.valid){_this.replaceState(R.assocPath(["fieldErrors",name],res.messages.join(". "),_this.state))}else{_this.replaceState(R.dissocPath(["fieldErrors",name],_this.state))}})},componentDidMount:function componentDidMount(){var _this2=this;function Error(messages){return{valid:false,messages:messages}}function Valid(input){return{valid:true,input:input}}function ap(){function _ap(v1,v2){return v1.combine(v2,function(x,y){return x.valid&&y.valid?Valid(x.input(y.input)):x.valid?y:x})}var args=Array.prototype.slice.call(arguments);return R.reduce(_ap,R.head(args),R.tail(args))}function checkDisplayName(displayName,firstName,lastName){return Bacon.combineAsArray(displayName,firstName,lastName).flatMapLatest(function(vals){var userStore=require("../stores/user-store");return R.all(function(v){return v.valid},vals)?userStore.displayNameAvailable(vals[0].input,vals[1].input,vals[2].input).map(function(res){return res.availability.available?Valid(vals[0].input):Error([register.screenName.errors.errorCodeValidator])}):Error([])})}function displayNameSuggest(firstName,lastName){return Bacon.combineAsArray(firstName,lastName).filter(function(names){return names[0].valid&&names[1].valid}).debounce(300).flatMapLatest(function(names){var userStore=require("../stores/user-store");var first=names[0],last=names[1];return userStore.displayNameAvailable(first.input+last.input,first.input,last.input).map(function(res){return res.availability.available?Valid(first.input+last.input):Valid(res.availability.suggestions.suggestion[0])})})}function required(x){return x.map(function(input){return R.isEmpty(input)||input===false?Error(["This field is required"]):Valid(input)})}function optional(x){return x.toProperty(null).map(Valid)}function matchesNamePattern(x,name){return x.map(function(input){return/^[-'\\sA-Za-z,\\. ]+$/.test(input)?Valid(input):Error([register[name].errors.pattern])})}function isWithinRange(min,max,name){return function(ob){return ob.map(function(input){return input.length<min?Error([register[name].errors.minlength||"Length under minimum"]):input.length>max?Error([register[name].errors.maxlength||"Length over maximum"]):Valid(input)})}}function isNumeric(ob){return ob.map(function(input){return/^\d+$/.test(input)?Valid(input):Error(["Value is not numeric"])})}function isValidYear(ob){return ob.map(function(input){return parseInt(input,10)>1900?Valid(input):Error(["Invalid year"])})}function isAlphaNumeric(name){return function(ob){return ob.map(function(input){return/^[a-zA-Z0-9]+$/.test(input)?Valid(input):Error([register[name].errors.pattern])})}}function and(){function _and(v1,v2){return v1.combine(v2,function(x,y){if(x.valid&&y.valid){return y}if(!x.valid){return x}if(x.valid&&!y.valid){return y}})}var args=Array.prototype.slice.call(arguments);return R.reduce(_and,R.head(args),R.tail(args))}var register=this.props.content.content.overlays.register;var firstName=and(required(this._firstName),matchesNamePattern(this._firstName,"firstName"));this.fieldFeedback(firstName,"firstName");var lastName=and(required(this._lastName),matchesNamePattern(this._lastName,"lastName"));this.fieldFeedback(lastName,"lastName");var email=required(this._email);this.fieldFeedback(email,"email");var password=and(required(this._password),isWithinRange(6,25,"password")(this._password)).debounce(300);this.fieldFeedback(password,"password");

var confirmPassword=and(required(this._confirmPassword),this._confirmPassword.combine(this._password,function(x,y){return x===y?Valid(y):Error([register.confirmPassword.errors.matchValidator])}));this.fieldFeedback(confirmPassword,"confirmPassword");this._screenName.onValue(function(v){return _this2.setState({suggestion:v})});var screenNameFormat=and(required(this._screenName),isWithinRange(2,20,"screenName")(this._screenName),isAlphaNumeric("screenName")(this._screenName)).debounce(300);var screenName=checkDisplayName(screenNameFormat,Bacon.once(Valid(null)),Bacon.once(Valid(null)));var screenNameSuggestion=displayNameSuggest(firstName,lastName).takeUntil(screenName);var screenNameSuggestionOrEntered=screenNameSuggestion.merge(screenName);screenNameSuggestion.onValue(function(v){if(v.valid){_this2.setState({suggestion:v.input})}});this.fieldFeedback(and(screenNameFormat,screenName),"screenName");var birthDateParts=ap(Bacon.once(Valid(function(month){return function(day){return function(year){return{month:month,day:day,year:year}}}})),and(required(this._birthMonth),isNumeric(this._birthMonth)),and(required(this._birthDay),isNumeric(this._birthDay)),and(required(this._birthYear),isNumeric(this._birthYear),isValidYear(this._birthYear))).debounce(500);var birthDate=birthDateParts.map(function(d){if(d.valid){var date=moment(d.input.year+"-"+d.input.month+"-"+d.input.day,"YYYY-M-D",true);return date.isValid()&&date.isBefore(moment().subtract(18,"years"))?Valid(date):Error([register.ageGateModal.title])}return Error([register.day.errors.required])});this.fieldFeedback(birthDate,"dateOfBirth");var zip=optional(this._zip);var gender=optional(this._gender);var marketing=optional(this._marketing);var terms=required(this._terms);var allFields=[firstName,lastName,email,password,confirmPassword,screenNameSuggestionOrEntered,birthDate,zip,gender,marketing,terms];Bacon.mergeAll([this._firstName,this._lastName,this._screenName,this._birthDay,this._birthMonth,this._birthYear,this._zip,this._gender,this._marketing,this._terms]).onValue(function(){return _this2.setState({isValid:false})});Bacon.combineAsArray(allFields).onValue(function(xs){return _this2.setState({isValid:!!R.all(function(x){return x.valid},xs)})});var valuesToSubmit=Bacon.combineTemplate({firstName:firstName,lastName:lastName,email:email,password:password,confirmPassword:confirmPassword,screenName:screenNameSuggestionOrEntered,birthDate:birthDate,zip:zip,gender:gender,marketing:marketing});valuesToSubmit.sampledBy(this._submit,function(v){return v}).onValue(this._save)},render:function render(){var dockedBar=this._renderDockedBar();var register=this.props.content.content.overlays.register;var _state=this.state;var submitting=_state.submitting;var errors=_state.errors;var fieldErrors=_state.fieldErrors;var isValid=_state.isValid;var submitDisabled=submitting||!isValid;return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:dockedBar}),React.createElement("div",{className:"navProperty register-whyRegister--desktop"},this._renderWhyRegister())),React.createElement(Content,{twoColumns:true},React.createElement("div",{className:"pageTitle pageTitle--sub pageTitle--divider"},React.createElement("h2",{className:"pageTitle-title"},"Join Now ",React.createElement("small",null,React.createElement("a",{href:"#",onClick:ModalHelp.overlayLink("registration")},"Help")))),React.createElement("div",{className:"content-primary content-primary--register"},React.createElement("form",{className:"form--register",onSubmit:this._onSubmit,autoComplete:"off"},React.createElement("div",{className:"form-row form-row--register"},React.createElement("div",{className:"form-group"},React.createElement(Input,{placeholder:register.firstName.label,onChange:this._push(this._firstName),errorText:fieldErrors.firstName})),React.createElement("div",{className:"form-group"},React.createElement(Input,{placeholder:register.lastName.label,onChange:this._push(this._lastName),errorText:fieldErrors.lastName}))),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"email",placeholder:register.email.label,onChange:this._push(this._email),errorText:fieldErrors.email})),React.createElement("div",{className:"form-row form-row--register"},React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"password",placeholder:register.password.label,onChange:this._push(this._password),helpText:register.password.body,errorText:fieldErrors.password})),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"password",placeholder:register.confirmPassword.label,onChange:this._push(this._confirmPassword),errorText:fieldErrors.confirmPassword}))),React.createElement("div",{className:"form-group"},React.createElement(Input,{placeholder:register.screenName.label,onChange:this._push(this._screenName),helpText:register.screenName.body,errorText:fieldErrors.screenName,value:this.state.suggestion})),React.createElement("div",{className:"form-group form-group--registerDOB"},React.createElement("label",null,register.dateOfBirth.label),React.createElement(Input,{type:"text",placeholder:register.month.label,onChange:this._push(this._birthMonth),invalid:!!fieldErrors.dateOfBirth}),React.createElement(Input,{type:"text",placeholder:register.day.label,className:"register-birth-day",onChange:this._push(this._birthDay),invalid:!!fieldErrors.dateOfBirth}),React.createElement(Input,{type:"text",placeholder:register.year.label,className:"register-birth-year",onChange:this._push(this._birthYear),invalid:!!fieldErrors.dateOfBirth}),fieldErrors.dateOfBirth?React.createElement("span",{className:"form-validateBlock is-error"},fieldErrors.dateOfBirth):null),React.createElement("div",{className:"form-group"},React.createElement(Input,{placeholder:register.zipCode.label+" (optional)",onChange:this._push(this._zip),errorText:fieldErrors.zip})),React.createElement("div",{className:"form-group"},React.createElement("label",null,register.gender.label," ",React.createElement("small",null,"(optional)")),React.createElement("div",{className:"radio"},React.createElement("label",{htmlFor:"gender-f"},React.createElement("input",{type:"radio",name:"gender",value:"F",id:"gender-f",onChange:this._push(this._gender)})," ",register.female.label)),React.createElement("div",{className:"radio"},React.createElement("label",{htmlFor:"gender-m"},React.createElement("input",{type:"radio",name:"gender",value:"M",id:"gender-m",onChange:this._push(this._gender)})," ",register.male.label))),React.createElement("div",{className:"checkbox"},React.createElement("label",{className:"checkbox-label",htmlFor:"marketingLists-checkbox"},React.createElement("input",{type:"checkbox",id:"marketingLists-checkbox",onChange:this._push(this._marketing)}),register.marketingLists.label,". You can withdraw your consent at any time. Please see our ",React.createElement("a",{href:"#",onClick:ModalHelp.overlayLink("privacy")},"Privacy Policy")," or ",React.createElement(Link,{href:"/about/contact-us.html"},"Contact Us")," for details.")),React.createElement("div",{className:"checkbox"},React.createElement("label",{className:"checkbox-label",htmlFor:"terms-checkbox"},React.createElement("input",{type:"checkbox",id:"terms-checkbox",onChange:this._push(this._terms)}),register.terms.label.split(/(Terms and Conditions|Community Standards)/gi).map(function(str,i){switch(str){case"Terms and Conditions":return React.createElement("a",{key:i,href:"#",onClick:ModalHelp.overlayLink("terms")},str);case"Community Standards":return React.createElement("a",{key:i,href:"#",onClick:ModalHelp.overlayLink("community_standards")},str)}return str})),fieldErrors.terms?React.createElement("span",{className:"input-errorText"},fieldErrors.terms):null),errors?React.createElement("ul",{className:"form-errorList"},errors.map(function(err,idx){return React.createElement("li",{key:idx},err)})):null,React.createElement("div",{className:"form-actions"},React.createElement("button",{type:"submit",className:"button"+(submitDisabled?" button--disabled":""),disabled:submitDisabled},register["register-button"])))),React.createElement("div",{className:"content-secondary register-whyRegister--mobile"},this._renderWhyRegister())))},_renderDockedBar:function _renderDockedBar(){var register=this.props.content.content.overlays.register;return[{name:register.title,nav:"/fullpage/register",type:"homeIcon"}]},_onSubmit:function _onSubmit(e){e.preventDefault();this._submit.push(e)},_save:function _save(values){var _this3=this;this.setState({errors:null,submitting:true});var user=R.merge({firstName:values.firstName.input,lastName:values.lastName.input,password:values.password.input,zip:values.zip.input,birthDate:values.birthDate.input.year()+"-01-01",gender:values.gender.input,displayName:values.screenName.input,emailAddress:values.email.input},values.marketing.input?{marketingLists:{marketingListName:["hbo-marketingoptin"]}}:{});var createUser=require("../stores/user-store").create(user);createUser.onValue(function(){_this3.setState({submitting:false,success:true});var modalTexts=_this3.props.content.content.overlays.register.modal;require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event29});require("../stores/modal-store").openModal.push(React.createElement("div",{className:"modal-registerModal modal--padded"},React.createElement("h1",{className:"modal-title"},modalTexts.title),React.createElement("p",{dangerouslySetInnerHTML:{__html:modalTexts.body.replace("{0}",user.emailAddress)}}),React.createElement(Button,{label:modalTexts.buttons[0].label,size:"small",level:"primary",onClick:closeDialog})));require("../stores/modal-store").openModal.filter(function(x){return x===false}).take(1).onValue(closeDialog);function closeDialog(){window.location="/"}});createUser.onError(function(err){_this3.setState({submitting:false,success:false,errors:err.map(function(e){return e.userDisplayMsg})})})},_renderWhyRegister:function _renderWhyRegister(){return React.createElement("div",null,React.createElement("div",{className:"secondaryContent-item"},React.createElement("h3",{className:"secondaryContent-itemTitle"},"Why Register?"),React.createElement("ul",{className:"secondaryContent-itemList"},React.createElement("li",null,"More Access: Unedited Video & Live Events"),React.createElement("li",null,"More Input: Discussions & Ratings"))),React.createElement("div",{className:"secondaryContent-item"},React.createElement("h3",{className:"secondaryContent-itemTitle"},"Already Registered?"),React.createElement("p",null,React.createElement(Button,{nav:"/login",onClick:signIn,size:"small",level:"primary",label:"Sign in"}))));function signIn(e){e.preventDefault();require("../stores/user-store").initiateSignIn()}},_push:function _push(bus){return function(event){bus.push(eventToField(event))}},_firstName:new Bacon.Bus,_lastName:new Bacon.Bus,_email:new Bacon.Bus,_password:new Bacon.Bus,_confirmPassword:new Bacon.Bus,_screenName:new Bacon.Bus,_birthDay:new Bacon.Bus,_birthMonth:new Bacon.Bus,_birthYear:new Bacon.Bus,_zip:new Bacon.Bus,_gender:new Bacon.Bus,_marketing:new Bacon.Bus,_terms:new Bacon.Bus,_submit:new Bacon.Bus});module.exports=Register},{"../analytics":250,"../components/Button":256,"../components/Content":263,"../components/Input":273,"../components/Link":276,"../components/Main":280,"../components/ModalHelp":286,"../components/NavProperty":291,"../components/NavSidebar":294,"../stores/modal-store":330,"../stores/route-store":332,"../stores/user-store":333,baconjs:42,moment:58,ramda:83,react:245}],367:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var Content=require("../components/Content");var Main=require("../components/Main");var Input=require("../components/Input");var Button=require("../components/Button");var ResetPassword=React.createClass({displayName:"ResetPassword",getInitialState:function getInitialState(){return{message:null,errorMessages:[]}},_submit:function _submit(e){var _this=this;var password=this.refs.password1.getValue();e.preventDefault();if(password.length<6){return this.setState({errorMessages:["Your password must be at least 6 characters long"]})}if(password===this.refs.password2.getValue()){var config=window.__reactContent;var request=require("../request");var url=config.secureApi+"/apps/profilescs/rest/accountService/resetPassword";var req=request.post(url,{user:{newPassword:password,emailAddress:this.props.query.email,passwordToken:this.props.query.token}});req.onError(function(msg){return _this.setState({errorMessages:msg.map(function(error){return error.userDisplayMsg})})});req.onValue(function(){require("../stores/modal-store").openModal.push(React.createElement("div",{className:"modal-login modal--padded",onClose:_this._closeOverlay},React.createElement("h3",null,"Thank you"),React.createElement("p",null,"Your password has been changed. You may now sign in."),React.createElement("button",{type:"button",className:"button",onClick:_this._closeOverlay},"Close")))})}else{this.setState({errorMessages:["Your passwords do not match"]})}},_closeOverlay:function _closeOverlay(){window.location.href="/"},render:function render(){return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("div",{className:"content-login"},this.state.message?React.createElement("p",{className:"modal--padded"},this.state.message):null,React.createElement("div",{className:"modal-login modal--padded"},React.createElement("h1",{className:"modal-title"},"Reset Password"),React.createElement("form",{action:"/resetpassword",onSubmit:this._submit},React.createElement("input",{type:"hidden",name:"email",value:this.props.query.email,ref:"email"}),React.createElement("input",{type:"hidden",name:"token",value:this.props.query.token,ref:"token"}),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"password",placeholder:"New Password",ref:"password1"})),React.createElement("div",{className:"form-group"},React.createElement(Input,{type:"password",placeholder:"Confirm Password",ref:"password2"})),R.uniq(this.state.errorMessages).map(function(error){return React.createElement("div",{key:error,className:"form-errorMessage"},error)}),React.createElement("div",{className:"modal-loginSignIn"},React.createElement(Button,{label:"Submit",size:"small",level:"primary",onClick:this._submit}),React.createElement("input",{type:"submit",style:{position:"absolute",left:-9999}})))))))}});module.exports=ResetPassword},{"../components/Button":256,"../components/Content":263,"../components/Input":273,"../components/Main":280,"../request":327,"../stores/modal-store":330,ramda:83,react:245}],368:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var omniture=require("../analytics");var Main=require("../components/Main");var Content=require("../components/Content");var Link=require("../components/Link");var MediaGrid=require("../components/MediaGrid");var Picture=require("../components/Picture");var VideoHero=require("../components/VideoHero");var Button=require("../components/Button");var CallToActionBar=require("../components/CallToActionBar");var SamplingPage=React.createClass({displayName:"SamplingPage",heroImages:function heroImages(url){var sizes=[1349,632];return Picture.sizesFromUrl(url,sizes)},gridItem:function gridItem(ctaIndex){var _this=this;return function(item,i,arr){return item.CTATitle===undefined?_this.videoItem(item,i):_this.CTAItem(item,i,ctaIndex,arr)}},CTAItem:function CTAItem(item,i,ctaIndex,arr){var neighbor=arr[i+1]||{};return React.createElement("div",{key:i},React.createElement("div",{className:"samplingPage-item-CTAContainer"},React.createElement("div",{className:"samplingPage-item-CTAContent"},React.createElement("div",{className:"samplingPage-item-CTATitle"},item.CTATitle),React.createElement("div",{className:"samplingPage-item-CTAText"},item.CTAText),React.createElement(Button,{label:item.CTALinkText,omniture:omniture.samplingPageCTA("start your free trial section "+ctaIndex),nav:item.CTALinkUrl,className:"button--cta samplingPage-item-CTALink"})),React.createElement("div",{className:"samplingPage-item-invisibleNeighborContent"},React.createElement("div",{className:"samplingPage-item-invisibleNeighborContent-imagePlaceholder"}),React.createElement("div",{className:"samplingPage-item-title"},neighbor.title),React.createElement("p",null,neighbor.summary))))},videoItem:function videoItem(item,i){var images=this.heroImages(item.image);return React.createElement("div",{key:i},React.createElement(Link,{href:item.videoUrl,className:"mediaGrid-linkWrapper"},React.createElement("div",{className:"samplingPage-item-imageContainer"},React.createElement(Picture,{fallbackImage:images[0].src,src:images[0].src,images:images,sizes:"(max-width: 786px) 100vw, 300px"}),React.createElement("div",{className:"videoItem-control videoItem-control--play"})),React.createElement("div",{className:"mediaGrid-itemContent mediaGrid-itemContent--samplingPage"},React.createElement("div",{className:"samplingPage-item-title"},item.title," "),React.createElement("p",null,item.summary))))},render:function render(){var _props$content$content=this.props.content.content;var selectedEpisode=_props$content$content.selectedEpisode;var videos=_props$content$content.videos;var forcedAutoplay=_props$content$content.forcedAutoplay;var autoplay=forcedAutoplay===null?selectedEpisode!==null:forcedAutoplay;var defaults=this.props.content.content.defaults;var pageData=_extends({},defaults,selectedEpisode?selectedEpisode.page:null);var heroVideo=selectedEpisode||R.find(R.propEq("videoId",defaults.defaultVideo),videos)||videos[0];var videosInGrid=videos.filter(function(video){return video.videoId!==heroVideo.videoId});var videosInGridWithCTA=pageData.gridCTA&&pageData.gridCTA.length>0?R.insert(pageData.gridCTA[0].index,pageData.gridCTA[0],videosInGrid):videosInGrid;var featuredId=defaults.defaultVideo||videos[0].videoId;var desktopSection=heroVideo.videoId===featuredId?"sampling_featured desktop":"sampling_grid";var mobileSection=heroVideo.videoId===featuredId?"sampling_featured mobile":"sampling_mobile";var videosWithoutFeatured=videos.filter(function(video){return video.videoId!==featuredId});var placementNumber=R.findIndex(R.propEq("videoId",heroVideo.videoId))(videosWithoutFeatured)+1;var placement=heroVideo.videoId===featuredId?"sampling_featured":"sampling_"+placementNumber;var footerTitle=defaults.footerTitle;var footerText=defaults.footerText;var playerParams={id:heroVideo.videoId,videoPath:this.props.url,pageName:this.props.content.tracking.pageName,imageApi:this.props.imageApi,sampling:{desktopSection:desktopSection,mobileSection:mobileSection,placementName:placement,franchise:heroVideo.seriesName}};return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("div",{className:"samplingPage-content"},React.createElement("h1",{className:"navProperty-title samplingPage-title"},pageData.pageTitle),React.createElement(VideoHero,{className:"samplingPage-hero",playerParameters:playerParams,videoMeta:heroVideo,autoplay:autoplay,sizes:"(max-width: 768px) 100vw, 66vw",images:this.heroImages(heroVideo.image)},React.createElement(Link,{href:pageData.topCTALinkUrl,omniture:omniture.samplingPageCTA("free trial sampling global top")},React.createElement("h3",{className:"videoHero-title"},pageData.topCTATitle),React.createElement("p",null,pageData.topCTAText)),React.createElement(Button,{label:pageData.topCTALinkText,nav:pageData.topCTALinkUrl,omniture:omniture.samplingPageCTA("free trial sampling global top"),className:"videoHero-CTALink button--cta"})),React.createElement("h3",{className:"samplingPage-subTitle"},"More free episodes"),React.createElement(MediaGrid,{className:"mediaGrid--equal-width"},videosInGridWithCTA.slice(0,3).map(this.gridItem())),React.createElement(CallToActionBar,{text:pageData.middleCTAText,title:pageData.middleCTATitle,url:pageData.middleCTALinkUrl,linkText:pageData.middleCTALinkText,className:"samplingPage-callToActionBar",omniture:omniture.samplingPageCTA("start your free trial section 2")}),React.createElement(MediaGrid,{className:"mediaGrid--equal-width"},videosInGridWithCTA.slice(3).map(this.gridItem(3))),React.createElement(CallToActionBar,{title:pageData.bottomCTATitle,text:pageData.bottomCTAText,imageWide:pageData.bottomCTAImageDesktop,imageNarrow:pageData.bottomCTAImageMobile,url:pageData.bottomCTALinkUrl,linkText:pageData.bottomCTALinkText,className:"samplingPage-callToActionBar callToActionBar--withImage",omniture:omniture.samplingPageCTA("start your free trial section 4")}),footerTitle?React.createElement("h3",{className:"samplingPage-subTitle"},footerTitle):null,footerText?React.createElement("p",null,footerText):null)))}});module.exports=SamplingPage},{"../analytics":250,"../components/Button":256,"../components/CallToActionBar":257,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/MediaGrid":282,"../components/Picture":303,"../components/VideoHero":319,ramda:83,react:245}],369:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react/addons");var cx=require("classnames");var R=require("ramda");var omniture=require("../analytics");var time=require("../time");var moment=require("moment");var Bacon=require("baconjs");var querystring=require("query-string");var Link=require("../components/Link");var Scrollable=require("../components/Scrollable");var ScheduleProgram=require("../components/ScheduleProgram");var ScheduleSelector=require("../components/ScheduleSelector");var hourWidth=340;var breakpoints=require("../breakpoints");var Main=require("../components/Main");var Content=require("../components/Content");var Modal=require("../components/Modal");var ModalSchedulePDF=require("../components/ModalSchedulePDF");var ModalHelp=require("../components/ModalHelp");var dateFormat="YYYY-MM-DD[T]HH:mm:ss[Z]";var url=require("url");function isBeginning(node){return node.scrollLeft===0}function maxScroll(node){return node.scrollWidth-node.clientWidth}function isEnd(node){var scrollAccuracy=3;return node.scrollLeft+scrollAccuracy>=maxScroll(node)}function resetScrollStart(node){node.scrollLeft=0}function resetScrollEnd(node){node.scrollLeft=maxScroll(node)}var Schedule=React.createClass({displayName:"Schedule",_channelsByZone:function _channelsByZone(zone,channelData){return channelData.filter(function(channel){return channel.channelZone.toLowerCase()===zone})},_zoneQueryParam:function _zoneQueryParam(query){if(query.zone&&(query.zone==="east"||query.zone==="west")){return query.zone}return this._getZone(this.props.timezone)},_channelZone:function _channelZone(query){return this._zoneQueryParam(query)||"east"},getInitialState:function getInitialState(){return{activeChannel:this.props.content.content.channelData[0].channelName,currentTimePosition:0,activeProgram:null,scrolledHour:0,userLocal:"",currentTime:this.props.content.currentTime,currentDate:this.props.content.content.date,renderAsMobile:false,moveScheduleBus:new Bacon.Bus}},_hoursInDay:function _hoursInDay(date){var start=moment(date).startOf("day");var end=moment(start).add(1,"days");return end.diff(start,"hours")},_scheduleContentTimeRange:function _scheduleContentTimeRange(date){var extraHalfHours=3;return this._hoursInDay(date)*2+extraHalfHours},_createChannelTimeHeading:function _createChannelTimeHeading(selectedDate){var range=this._scheduleContentTimeRange(selectedDate);return R.range(0,range).map(function(t){return t*30}).map(function(minutes){var m=moment(selectedDate).startOf("day").minutes(minutes);return{time:m.format("h:mm"),suffix:m.format("a")}})},componentDidMount:function componentDidMount(){this.setState({currentTimePosition:this._getCurrentTimePosition(),currentTime:null});if(breakpoints.isMobile()){this.setState({renderAsMobile:true});this._jumpToActiveDateInMobileView()}if(this.props.hash&&this.props.hash.length){this._jumpSchedule(this.props.hash)}else{var zone=time.getZone();var selectedProgramDate=moment.tz(this.props.content.content.date,zone);var currentDate=this._getCurrentTimeTZ(zone);if(currentDate.isSame(selectedProgramDate,"day")){this._jumpSchedule("#now",zone)}}this._onScroll();this._scroll=Bacon.fromEvent(this.refs.schedule.getDOMNode(),"scroll").debounce(1e3).onValue(this._onScroll);this._currentTimeInterval=setInterval(this._setCurrentTime,6e4);var modal=R.path(["content","modal"],this.props);if(modal){require("../stores/modal-store").openModal.push(Modal.getModalComponent(modal,this.props))}this._bindMoveScheduleHandler()},componentWillReceiveProps:function componentWillReceiveProps(nextProps){var zoneForced=function zoneForced(){return!!nextProps.query.zone};var zoneDiffers=function zoneDiffers(){return nextProps.content.timezone!==nextProps.timezone};var nextZone=this._getZone(nextProps.timezone);if(!zoneForced()&&zoneDiffers()&&nextZone){var nextUrl=url.parse(nextProps.url);var currentQuery=querystring.parse(nextUrl.search);var targetQuery=querystring.stringify(R.merge(currentQuery,{zone:nextZone}));var targetUrl=url.format(R.merge(nextUrl,{search:targetQuery}));require("../stores/route-store").replace.push(targetUrl)}},componentDidUpdate:function componentDidUpdate(prev){var isDiffDate=prev.content.content.date!==this.props.content.content.date;var isDiffHash=prev.hash!==this.props.hash;if(isDiffDate&&breakpoints.isMobile()){this._jumpToActiveDateInMobileView()}if(isDiffDate&&this.props.hash.length||isDiffHash&&this.props.hash.length){this._jumpSchedule(this.props.hash)}if(prev.query.date!==this.props.query.date||prev.query.zone!==this.props.query.zone||prev.timezone!==this.props.timezone){this._setCurrentTime()}},componentWillUnmount:function componentWillUnmount(){clearInterval(this._currentTimeInterval);this._scroll()},_jumpToActiveDateInMobileView:function _jumpToActiveDateInMobileView(){var jumpNode=document.querySelector(".schedule-daySelector--active");var dateDiv=document.querySelector(".schedule-days");if(dateDiv&&jumpNode){dateDiv.scrollLeft=jumpNode.offsetLeft}},_onScroll:function _onScroll(){if(Link.hasPushState()){history.replaceState(null,null,location.pathname+location.search)}this.setState({scrolledHour:Math.floor(this.refs.schedule.getDOMNode().scrollLeft/hourWidth),userLocal:this._getCurrentTime().utc().format(dateFormat)})},_scheduleNode:function _scheduleNode(){return this.refs.schedule.getDOMNode()},_isDateShowableInSchedule:function _isDateShowableInSchedule(date){var _this=this;var isTargetBeforeStartOfThisWeek=function isTargetBeforeStartOfThisWeek(){return moment(date).day(0).diff(_this._getCurrentTime().day(0),"days")<0};var isTargetWithinSixWeeks=function isTargetWithinSixWeeks(){return moment(date).diff(_this._getCurrentTime(),"weeks")<6};return!isTargetBeforeStartOfThisWeek()&&isTargetWithinSixWeeks()},_bindMoveScheduleHandler:function _bindMoveScheduleHandler(){var _this2=this;var isSameDay=function isSameDay(direction){return!isDayChange(direction)};var isDayChange=function isDayChange(direction){return isEnd(_this2._scheduleNode())&&direction==="right"||isBeginning(_this2._scheduleNode())&&direction==="left"};var moveWithinDay=function moveWithinDay(direction){return function(callback){var directionMultiplier=direction==="left"?-1:direction==="right"?1:0;var pixels=Math.round(hourWidth*1.5);var delta=directionMultiplier*pixels;require("./../horizontal-scroll")(_this2._scheduleNode(),delta,800,callback)}};var targetDate=function targetDate(direction){var currentProgramDate=moment.tz(_this2.props.content.content.date,_this2.props.content.timezone);return direction==="left"?currentProgramDate.subtract(1,"day"):currentProgramDate.add(1,"day")};var isWithinDayLimits=function isWithinDayLimits(direction){return _this2._isDateShowableInSchedule(targetDate(direction))};var changeDay=function changeDay(direction){var pageChange=require("../stores/route-store").currentPage.take(1).map(function(){return direction});var targetUrl=_this2._scheduleUrl(targetDate(direction),_this2._getZone(_this2.props.content.timezone));require("../stores/route-store").navigate.push(targetUrl);return pageChange};var resetScroll=function resetScroll(direction){if(direction==="right"){resetScrollStart(_this2._scheduleNode())}else{resetScrollEnd(_this2._scheduleNode())}};this.state.moveScheduleBus.filter(isSameDay).flatMapFirst(function(direction){return Bacon.fromCallback(moveWithinDay(direction))}).onValue();this.state.moveScheduleBus.filter(isDayChange).filter(isWithinDayLimits).flatMapFirst(changeDay).onValue(resetScroll)},_onMoveSchedule:function _onMoveSchedule(arrowDirection){var _this3=this;return function(){return _this3.state.moveScheduleBus.push(arrowDirection)}},_getCurrentTime:function _getCurrentTime(){return this.state.currentTime?moment(this.state.currentTime):moment()},_getCurrentTimeTZ:function _getCurrentTimeTZ(tz){return this.state.currentTime?moment.tz(this.state.currentTime,tz):moment.tz(tz)},_getCurrentTimePosition:function _getCurrentTimePosition(){var startOfDay=moment.tz(this.props.content.content.date,this.props.timezone).startOf("day");var date=this._getCurrentTime().tz(this.props.timezone);return date.diff(startOfDay,"minutes")/60*hourWidth},_setCurrentTime:function _setCurrentTime(){this.setState({currentTimePosition:this._getCurrentTimePosition()})},_jumpSchedule:function _jumpSchedule(position,forcedTZ){if(breakpoints.isMobile()){var jumpNode=position==="#now"?document.querySelector(".schedule-programs--active .schedule-programItem--live"):document.querySelector(".schedule-programs--active .schedule-programItem--primeTime");if(jumpNode){setTimeout(function(){var bounds=jumpNode.getBoundingClientRect();window.scrollTo(0,window.scrollY+bounds.top)},0)}}else{var tz=forcedTZ||this.props.timezone;var startOfDay=moment.tz(this.props.content.content.date,tz).startOf("day");var date=position==="#now"?this._getCurrentTimeTZ(tz):this._getCurrentTimeTZ(tz).hour(20).minute(0).second(0);var schedulePosition=date.diff(startOfDay,"minutes")/60*hourWidth;var node=this.refs.schedule.getDOMNode();node.scrollLeft=schedulePosition-node.offsetWidth/2}},_selectThumbnail:function _selectThumbnail(program){var thumbnail=program.images[0]||program.series&&program.series.images[0];return thumbnail?thumbnail.url:null},_createProgramList:function _createProgramList(item,zoneSuffix){var _this4=this;var startOfDay=moment.tz(this.props.content.content.date,this.props.timezone).startOf("day");var getSchedulePosition=function getSchedulePosition(date){return date.diff(startOfDay,"minutes")/60*hourWidth};var currentTimePosition=this._getCurrentTimePosition();var primeTimePosition=getSchedulePosition(this._getCurrentTime().tz(this.props.timezone).hour(20).minute(0).second(0));return item.programAirings.map(function(_ref,index){var program=_ref.program;var airing=_ref.airing;var date=moment.tz(airing.playDate,_this4.props.timezone);var left=getSchedulePosition(date);var width=item.programAirings[index+1]?getSchedulePosition(moment(item.programAirings[index+1].airing.playDate,moment.ISO_8601).tz(_this4.props.content.timezone))-left:program.duration/60*hourWidth;var isLive=currentTimePosition>left&&currentTimePosition<=left+width;var isPrimeTime=primeTimePosition>=left&&primeTimePosition<left+width;var programImage=_this4._selectThumbnail(program);var classes=cx({"schedule-programItem":true,
"schedule-programItem--live":isLive,"schedule-programItem--primeTime":isPrimeTime,"schedule-programItem--hasImage":programImage,"schedule-programItem--today":date.isSame(startOfDay,"day")});return left+width>0?React.createElement("li",{style:{width:left<0?parseInt(width+left,10):parseInt(width,10),left:Math.max(0,parseInt(left,10))},className:classes,key:program.focusId+airing.playDate},React.createElement(Link,{className:"schedule-programItemLink",href:"/schedule?"+querystring.stringify({focusId:program.focusId}),onClick:_this4._setActiveProgram({channelId:item.channelId,channelName:item.channelName,program:program,airing:airing}),"data-time":date.format("h:mm a ")+zoneSuffix},programImage?React.createElement("div",{className:"schedule-programImage"},React.createElement("img",{src:programImage})):null,airing.premiere?React.createElement("span",{className:"schedule-programItemFirstRun"},"First Run"):null,program.title),_this4.state.activeProgram&&typeof window!=="undefined"&&breakpoints.isMobile()&&_this4.state.activeProgram.program.focusId===program.focusId&&_this4.state.activeProgram.airing.playDate===airing.playDate?React.createElement("div",{className:"scheduleProgram"},React.createElement("div",{className:"scheduleProgram-close iconFont-closeSmall",onClick:_this4._closeProgram}),_this4._renderScheduleProgram(_this4.state.activeProgram)):null):null})},_renderScheduleProgram:function _renderScheduleProgram(programAiring){return React.createElement(ScheduleProgram,_extends({},this.props,{className:"modal--scheduleProgram",medium:true,program:{focusId:programAiring.program.focusId},playDate:programAiring.airing.playDate,channelId:programAiring.channelId,channelName:programAiring.channelName}))},_setActiveProgram:function _setActiveProgram(programAiring){var _this5=this;return function(event){event.preventDefault();_this5.setState({activeProgram:programAiring});if(!breakpoints.isMobile()){require("../stores/modal-store").openModal.push(_this5._renderScheduleProgram(programAiring))}}},_setActiveChannel:function _setActiveChannel(channelName){var _this6=this;return function(event){event.preventDefault();_this6.setState({activeChannel:channelName})}},_closeProgram:function _closeProgram(event){event.preventDefault();event.stopPropagation();this.setState({activeProgram:null})},_scheduleUrl:function _scheduleUrl(date,forceZone){var query={date:date.format("YYYY-MM-DD")};if(forceZone){query.zone=forceZone}return"/schedule?"+querystring.stringify(query)},_openSchedulePDF:function _openSchedulePDF(e){e.preventDefault();require("../stores/modal-store").openModal.push(React.createElement(ModalSchedulePDF,{schedule:this.props.config.scheduleConfig}))},_getZone:function _getZone(timezone){return time.isWestZone(timezone)?"west":null},render:function render(){var _this7=this;var classes=cx({schedule:true,"schedule--programOpen":!!this.state.activeProgram});var zoneSuffix=time.suffix(this.props.timezone);var query=this.props.query;var printStart=moment.tz(this.props.content.content.date,this.props.timezone).hour(this.state.scrolledHour).minute(0).second(0);var printEnd=printStart.clone().add(6,"hours");var zuluOffset=this._getCurrentTimeTZ(this.props.timezone).utcOffset()/-60;var zone=moment.tz.zone(this.props.timezone);var channelZone=this._channelZone(query);var channelData=this.props.content.content.channelData;var visibleChannels=this._channelsByZone(channelZone,channelData).filter(function(channel){return channel.programAirings.length>0});var printViewUrl=this.props.renderApi+"/services/schedule/print/index.html?"+querystring.stringify({startDate:printStart.utc().format(dateFormat),endDate:printEnd.utc().format(dateFormat),channels:visibleChannels.map(function(item){return item.channelId}).join(","),viewType:"CURRENT",channelListType:"ALL",userTimeZone:time.suffix(this.props.timezone),zuluOffset:zuluOffset,dstOffset:zone.parse(Date.UTC(2012,3,1,0,0))/60,nonDstOffset:zone.parse(Date.UTC(2012,2,1,0,0))/60,userLocal:this.state.userLocal});var westZoneActive=query.zone==="west"||query.zone!=="east"&&time.isWestZone(this.props.timezone);var selectedDate=moment.tz(this.props.content.content.date,this.props.content.timezone);var hoursInDay=this._hoursInDay(selectedDate);var scheduleContainerClasses=cx({"schedule-channel-programs":true,"schedule-channel-to-dst-day":hoursInDay<24,"schedule-channel-from-dst-day":hoursInDay>24});return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(ScheduleSelector,{selected:"schedule"},React.createElement("div",{className:"headerGrid-block scheduleSelector-metaLink"},React.createElement("a",{href:"#",className:"schedule-linkPDF",onClick:this._openSchedulePDF},"Schedule PDF"),React.createElement(Link,{omniture:omniture.event23,href:printViewUrl,className:"schedule-linkPrint",target:"_blank"},"Print Current View"),React.createElement("a",{href:"#",onClick:ModalHelp.overlayLink("schedule")},"Help"))),React.createElement("div",{className:"schedule-weekWrapper"},React.createElement("ul",{className:"schedule-days"},R.range(0,14).map(function(dayOfWeek,idx){var date=_this7.state.renderAsMobile?moment.tz(_this7.state.currentDate,_this7.props.content.timezone).day(dayOfWeek):moment(selectedDate).day(dayOfWeek);var dayClasses=cx({"schedule-daySelector":true,"schedule-daySelector--active":selectedDate.format("D")===date.format("D"),"schedule-daySelector--overWeek":idx>=7});var currentDate=_this7._getCurrentTimeTZ(_this7.props.content.timezone);var lessThanSixWeeks=moment(selectedDate).day(dayOfWeek).diff(currentDate,"weeks")<6;var dateStr=date.format("ddd M/D");return React.createElement("li",{className:dayClasses,key:dayOfWeek},lessThanSixWeeks?React.createElement(Link,{href:_this7._scheduleUrl(date,_this7._zoneQueryParam(query))},dateStr):React.createElement("span",null,dateStr))})),moment(this.props.content.content.date).day(0).diff(this._getCurrentTime().day(0),"days")>0?React.createElement("div",{className:"schedule-weekLink schedule-weekLink--left"},React.createElement(Link,{href:this._scheduleUrl(moment(this.props.content.content.date).subtract(1,"week"),this._zoneQueryParam(query)),className:"navSeq-link navSeq-prev"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Previous week")))):React.createElement("div",{className:"schedule-weekLink schedule-weekLink--left"},React.createElement("div",{className:"navSeq-link navSeq-link--inactive navSeq-prev"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Previous week")))),moment(this.props.content.content.date).add(1,"week").day(0).diff(this._getCurrentTime().day(0),"weeks")<6?React.createElement("div",{className:"schedule-weekLink schedule-weekLink--right"},React.createElement(Link,{href:this._scheduleUrl(moment.min(moment(this.props.content.content.date).add(1,"week"),this._getCurrentTimeTZ(this.props.content.timezone).add(6,"weeks")),this._zoneQueryParam(query)),className:"navSeq-link navSeq-next"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Next week")))):React.createElement("div",{className:"schedule-weekLink schedule-weekLink--right"},React.createElement("div",{className:"navSeq-link navSeq-link--inactive navSeq-next"},React.createElement("span",{className:"navSeq-arrow"},React.createElement("span",null,"Next week"))))),React.createElement("div",{className:classes},React.createElement("ul",{className:"schedule-channels"},visibleChannels.map(function(item){var channelClasses=cx({"schedule-channelName":true,"schedule-channelName--active":item.channelName===_this7.state.activeChannel});return React.createElement("li",{key:item.channelName,className:channelClasses,onClick:_this7._setActiveChannel(item.channelName)},item.channelName)})),React.createElement("ul",{className:"schedule-anchors"},React.createElement("li",{className:"schedule-anchorTitle"},"Jump to:"),React.createElement("li",null,React.createElement(Link,{href:this._scheduleUrl(this._getCurrentTime().tz(this.props.timezone),this._zoneQueryParam(query))+"#now"},"Right Now")),React.createElement("li",null,React.createElement(Link,{href:this._scheduleUrl(this._getCurrentTime().tz(this.props.timezone),this._zoneQueryParam(query))+"#prime"},"Primetime")),React.createElement("li",{className:"schedule-anchorTitle"},"Channels:"),React.createElement("li",null,React.createElement(Link,{href:this._scheduleUrl(selectedDate,"east"),className:westZoneActive?"":"zone--active"},"East")),React.createElement("li",null,React.createElement(Link,{href:this._scheduleUrl(selectedDate,"west"),className:westZoneActive?"zone--active":""},"West"))),React.createElement("div",{className:"schedule-programNav schedule-programNav--left",onClick:this._onMoveSchedule("left")},React.createElement("div",{className:"navSeq-link navSeq-prev"},React.createElement("span",{className:"navSeq-arrow"}))),React.createElement("div",{className:"schedule-programNav schedule-programNav--right",onClick:this._onMoveSchedule("right")},React.createElement("div",{className:"navSeq-link navSeq-next"},React.createElement("span",{className:"navSeq-arrow"}))),React.createElement(Scrollable,{className:scheduleContainerClasses,ref:"schedule",minWidth:768,contentSize:this._scheduleContentTimeRange(selectedDate)},React.createElement("li",{className:"schedule-time"},React.createElement("ul",null,this._createChannelTimeHeading(selectedDate).map(function(heading,i){return React.createElement("li",{key:heading.time+i},heading.time,React.createElement("sup",null,heading.suffix+" "+zoneSuffix))}),this.state.currentTimePosition>0&&this.state.currentTimePosition<hourWidth*this._scheduleContentTimeRange(selectedDate)/2?React.createElement("li",{className:"schedule-currentTimeTooltip",style:{left:this.state.currentTimePosition}},"On now"):null)),visibleChannels.map(function(item){var programClasses=cx({"schedule-programs":true,"schedule-programs--active":item.channelName===_this7.state.activeChannel});return React.createElement("li",{key:item.channelName,className:programClasses},React.createElement("ul",null,_this7._createProgramList(item,zoneSuffix)))}),this.state.currentTimePosition>0&&this.state.currentTimePosition<hourWidth*this._scheduleContentTimeRange(selectedDate)/2?React.createElement("li",{className:"schedule-currentTime",style:{left:this.state.currentTimePosition}}):null))))}});module.exports=Schedule},{"../analytics":250,"../breakpoints":251,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/Modal":284,"../components/ModalHelp":286,"../components/ModalSchedulePDF":288,"../components/ScheduleProgram":307,"../components/ScheduleSelector":308,"../components/Scrollable":309,"../stores/modal-store":330,"../stores/route-store":332,"../time":380,"./../horizontal-scroll":324,baconjs:42,classnames:50,moment:58,"query-string":80,ramda:83,"react/addons":84,url:49}],370:[function(require,module,exports){"use strict";var React=require("react");var Main=require("../components/Main");var Button=require("../components/Button");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var ScheduleError=React.createClass({displayName:"ScheduleError",render:function render(){return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(PageTitle,{heading:{label:"Schedule unavailable"},className:"pageTitle--sub"}),React.createElement("p",null,"We're sorry, this feature is temporarily unavailable. Please try again later."),React.createElement(Button,{nav:"/",label:"HBO.com home"})))}});module.exports=ScheduleError},{"../components/Button":256,"../components/Content":263,"../components/Main":280,"../components/PageTitle":302,react:245}],371:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _componentsProgramAvailability=require("../components/ProgramAvailability");var _programAvailability=require("../program-availability");var React=require("react/addons");var R=require("ramda");var time=require("../time");var cx=require("classnames");var moment=require("moment");var querystring=require("query-string");var ScheduleProgram=require("../components/ScheduleProgram");var Button=require("../components/Button");var Link=require("../components/Link");var AVAILABLE_LABEL="Available";var NOT_AVAILABLE_LABEL="------";var ScheduleSearchResults=React.createClass({displayName:"ScheduleSearchResults",getInitialState:function getInitialState(){return{openSchedulePrograms:[],allOpenSchedulePrograms:[],activeProgram:null}},_toggle:function _toggle(name){var _this=this;return function(event){event.preventDefault();event.stopPropagation();_this.setState({openSchedulePrograms:_this.state.openSchedulePrograms.indexOf(name)===-1?R.append(name,_this.state.openSchedulePrograms):_this.state.openSchedulePrograms.filter(function(n){return n!==name}),allOpenSchedulePrograms:_this.state.allOpenSchedulePrograms.filter(function(n){return n!==name})})}},_toggleAll:function _toggleAll(name){var _this2=this;return function(event){event.preventDefault();event.stopPropagation();_this2.setState({allOpenSchedulePrograms:_this2.state.allOpenSchedulePrograms.indexOf(name)===-1?R.append(name,_this2.state.allOpenSchedulePrograms):_this2.state.allOpenSchedulePrograms.filter(function(n){return n!==name})})}},_setActiveProgram:function _setActiveProgram(program,schedule){var _this3=this;return function(event){event.preventDefault();require("../stores/modal-store").openModal.push(React.createElement(ScheduleProgram,_extends({},_this3.props,{className:"modal--scheduleProgram",medium:true,program:{focusId:program.focusId},schedule:schedule})))}},_closeProgram:function _closeProgram(event){event.preventDefault();event.stopPropagation();this.setState({activeProgram:null})},render:function render(){var _this4=this;var results=this.props.results;var onDemandAvailability=function onDemandAvailability(_ref){var _available$notAvailable$comingSoon$availableUntil$availability;var availability=_ref.availability;var startDate=_ref.startDate;return(_available$notAvailable$comingSoon$availableUntil$availability={},_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.available,AVAILABLE_LABEL),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.notAvailable,NOT_AVAILABLE_LABEL),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.comingSoon,(0,_componentsProgramAvailability.createComingSoonWithoutTime)(startDate)),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability,_programAvailability.availableUntil,AVAILABLE_LABEL),_available$notAvailable$comingSoon$availableUntil$availability)[availability]};var goNowAvailability=function goNowAvailability(_ref2){var _available$notAvailable$comingSoon$availableUntil$availability2;var availability=_ref2.availability;var startDate=_ref2.startDate;return(_available$notAvailable$comingSoon$availableUntil$availability2={},_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.available,AVAILABLE_LABEL),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.notAvailable,NOT_AVAILABLE_LABEL),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.comingSoon,(0,_componentsProgramAvailability.createComingSoonWithTime)(startDate,_this4.props.timezone)),_defineProperty(_available$notAvailable$comingSoon$availableUntil$availability2,_programAvailability.availableUntil,AVAILABLE_LABEL),_available$notAvailable$comingSoon$availableUntil$availability2)[availability]};return React.createElement("div",{style:{position:"relative"}},React.createElement("div",{className:"table-responsive"},results.length>0?React.createElement("table",{className:"table table--zebra search-scheduleTable"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null),React.createElement("th",null,"Title"),React.createElement("th",null,"Television"),React.createElement("th",null,"On Demand"),React.createElement("th",null,"HBO NOW/HBO GO"))),React.createElement("tbody",null,results.map(function(result){var isOpen=_this4.state.openSchedulePrograms.indexOf(result.title)!==-1;var isAllOpen=_this4.state.allOpenSchedulePrograms.indexOf(result.title)!==-1;var classes=cx({"search-scheduleTableRow":true,"search-scheduleTableRow--open":isOpen,"search-scheduleTableRow--openAll":isAllOpen});var toggleClasses=cx({"search-scheduleTableToggleIcon":true,"iconCss-dropdown":true,"iconCss-dropdown--open":isOpen});var linearAvailability=result.availability.linear.filter(function(airing){return moment.tz(airing.playDate,_this4.props.timezone).isAfter()});return React.createElement("tr",{key:result.focusId,className:classes,onClick:_this4._setActiveProgram(result,null)},linearAvailability&&linearAvailability.length?React.createElement("td",{className:"search-scheduleTableToggle",onClick:_this4._toggle(result.title)},React.createElement("div",{className:toggleClasses})):React.createElement("td",null),React.createElement("td",{className:"search-scheduleTableTitle"},React.createElement(Link,{href:"/search?"+querystring.stringify({type:"schedule",focusId:result.focusId}),onClick:function(e){return e.preventDefault()}},result.title)),React.createElement("td",null,linearAvailability.length>0?React.createElement("ul",null,(isOpen&&isAllOpen?linearAvailability:isOpen?linearAvailability.slice(0,10):linearAvailability.slice(0,1)).map(function(airing,i){var date=moment.tz(airing.playDate,_this4.props.timezone);return React.createElement("li",{key:i},date.format("ddd, MMM D, h:mm"),React.createElement("sup",null,date.format("A")+" "+time.suffix(_this4.props.timezone)),React.createElement("span",{className:"search-scheduleTableChannel"},airing.channelName," ",airing.channelZone))}),linearAvailability.length>10?React.createElement("li",null,React.createElement(Button,{nav:"#",className:"search-scheduleToggleAll",light:true,size:"small",level:"primary",label:"View All Results",onClick:_this4._toggleAll(result.title)})):null):NOT_AVAILABLE_LABEL),React.createElement("td",null,onDemandAvailability((0,_programAvailability.programAvailability)(result,"onDemand","US/Eastern"))),React.createElement("td",null,goNowAvailability((0,_programAvailability.programAvailability)(result,"go",_this4.props.timezone))))}))):React.createElement("div",null,"We're sorry, there are no schedule results for \""+this.props.query+'". Try another search.')))}});module.exports=ScheduleSearchResults},{"../components/Button":256,"../components/Link":276,"../components/ProgramAvailability":304,"../components/ScheduleProgram":307,"../program-availability":326,"../stores/modal-store":330,"../time":380,classnames:50,moment:58,"query-string":80,ramda:83,"react/addons":84}],372:[function(require,module,exports){"use strict";var React=require("react/addons");var R=require("ramda");var ScheduleSelector=require("../components/ScheduleSelector");var Main=require("../components/Main");var Content=require("../components/Content");var WhatToWatchGrid=require("../components/WhatToWatchGrid");var Modal=require("../components/Modal");var ScheduleWhatToWatch=React.createClass({displayName:"ScheduleWhatToWatch",componentDidMount:function componentDidMount(){var modal=R.path(["content","modal"],this.props);if(modal){require("../stores/modal-store").openModal.push(Modal.getModalComponent(modal,this.props))}},render:function render(){var _this=this;var content=this.props.content.content;return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement(ScheduleSelector,{selected:"what-to-watch",className:"scheduleSelector--whatToWatch"}),content.sections.filter(function(section){return section.items.length>(section.schedule?1:0)}).map(function(section,i){return React.createElement("section",{className:"whatToWatch-section",key:i},React.createElement("header",{className:"whatToWatch-sectionTitle"},React.createElement("h2",null,section.title)),React.createElement(WhatToWatchGrid,{items:section.items,schedule:section.schedule,timezone:_this.props.timezone,renderApi:_this.props.renderApi}))})))}});module.exports=ScheduleWhatToWatch},{"../components/Content":263,"../components/Main":280,"../components/Modal":284,"../components/ScheduleSelector":308,"../components/WhatToWatchGrid":322,"../stores/modal-store":330,ramda:83,"react/addons":84}],373:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _programAvailability=require("../program-availability");var React=require("react/addons");var Bacon=require("baconjs");var omniture=require("../analytics");var moment=require("moment");var querystring=require("query-string");var Main=require("../components/Main");var Link=require("../components/Link");var Content=require("../components/Content");var SiteSearchResults=require("./SiteSearchResults");var ScheduleSearchResults=require("./ScheduleSearchResults");var afterNow=function afterNow(showing){return moment(showing.playDate).isAfter()};exports.afterNow=afterNow;var Search=React.createClass({displayName:"Search",getInitialState:function getInitialState(){return{query:this.props.content.content.search.q}},_trackSearch:function _trackSearch(q){var trackF=this.props.content.content.type==="schedule"?omniture.scheduleSearch:omniture.siteSearch;require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:trackF(q)})},componentDidMount:function componentDidMount(){var _this=this;this._search=new Bacon.Bus;var routeStore=require("../stores/route-store");this._subscriber=this._search.onValue(function(q){routeStore.navigate.push("/search?"+querystring.stringify({q:q,type:_this.props.content.content.type}));_this._trackSearch(q)});routeStore.initialPage.onValue(function(){var content=_this.props.content.content;var search=content.search;if(Array.isArray(search.results)){_this._trackSearch(search.q)}})},componentDidUpdate:function componentDidUpdate(props){if(props.content.content.search.q!==this.props.content.content.search.q){this.setState({query:this.props.content.content.search.q})}},componentWillUnmount:function componentWillUnmount(){this._subscriber()},_submit:function _submit(event){event.preventDefault();var queryNode=this.refs.q.getDOMNode();queryNode.blur();this._search.push(queryNode.value)},_change:function _change(event){this.setState({query:event.target.value})},render:function render(){var _this2=this;var content=this.props.content.content;var search=content.search;var start=parseInt(content.start,10);var isSchedule=content.type==="schedule";var programHasSomeAvailability=function programHasSomeAvailability(program){return program.availability.linear.filter(afterNow).length>0||[(0,_programAvailability.programAvailability)(program,"onDemand",_this2.props.timezone),(0,_programAvailability.programAvailability)(program,"go",_this2.props.timezone)].some(function(_ref){var availability=_ref.availability;return[_programAvailability.available,_programAvailability.comingSoon,_programAvailability.availableUntil].some(function(x){return x===availability})})};var results=isSchedule&&Array.isArray(search.results)?search.results.filter(programHasSomeAvailability):search.results;return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("header",{className:"headerGrid headerGrid--search"},React.createElement("div",{className:"headerGrid-block headerGrid-block--searchForm"},React.createElement("form",{action:"/search",onSubmit:this._submit},React.createElement("input",{autoComplete:"off",ref:"q",name:"q",type:"search",className:"form-control form-control--light",placeholder:"Search HBO.com",value:this.state.query,onChange:this._change}))),React.createElement("div",{className:"headerGrid-block headerGrid-action headerGrid-block--searchFilter"},React.createElement("span",{className:"headerGrid-actionTitle"},"Search from"),React.createElement(Link,{omniture:omniture.siteSearch(this.props.query.q||""),className:!isSchedule?"is-selected":"",href:"/search?q="+(this.props.query.q||"")},"Site"),React.createElement(Link,{omniture:omniture.scheduleSearch(this.props.query.q||""),className:isSchedule?"is-selected":"",href:"/search?type=schedule&q="+(this.props.query.q||"")},"Schedule"))),React.createElement("div",{className:"content-primary content-primary--search"},Array.isArray(results)?React.createElement("div",null,React.createElement("div",{className:"pageTitle--search"},React.createElement("h4",{className:"pageTitle-preTitle"},"Showing results "+(start+results.length>0?start+1:0)+" to "+(start+results.length)),React.createElement("h2",{className:"pageTitle-title"},content.title),React.createElement("h5",{className:"pageTitle-subTitle"},'For "',search.q,'"')),isSchedule?React.createElement(ScheduleSearchResults,{query:search.q,results:results,timezone:this.props.timezone,renderApi:this.props.renderApi}):React.createElement(SiteSearchResults,{query:search.q,results:results,content:content})):null)))}});module.exports=Search},{"../analytics":250,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../program-availability":326,"../stores/route-store":332,"./ScheduleSearchResults":371,"./SiteSearchResults":377,baconjs:42,moment:58,"query-string":80,"react/addons":84}],374:[function(require,module,exports){"use strict";var React=require("react");var R=require("ramda");var omniture=require("../analytics");var querystring=require("query-string");var url=require("url");var Main=require("../components/Main");var NavSidebar=require("../components/NavSidebar");var NavProperty=require("../components/NavProperty");var SearchProgram=require("../components/SearchProgram");var Content=require("../components/Content");var OegyScroll=require("../components/OegyScroll");var Link=require("../components/Link");var NavTabs=require("../components/NavTabs");var Select=require("../components/Select");var SingleColumnFilms=React.createClass({displayName:"SingleColumnFilms",sortOptions:{"name-asc":"A-Z","name-desc":"Z-A"},getInitialState:function getInitialState(){return{order:"name-asc",films:this.props.content.navigation.films,allFilms:[],searchQuery:"",searchLoading:true}},componentDidMount:function componentDidMount(){this._loadAllFilms(this.props)},_loadAllFilms:function _loadAllFilms(props){var _this=this;if(props.query.group===undefined||props.query.group==="all"){this.setState({allFilms:props.content.navigation.films,searchLoading:false})}else{this.setState({searchLoading:true});require("superagent").get("/api/content"+location.pathname,function(data){if(data.body){_this.setState({allFilms:data.body.navigation.films,searchLoading:false})}else{_this.setState({searchLoading:false})}})}},componentWillReceiveProps:function componentWillReceiveProps(nextProps){var order=nextProps.query.order||"name-asc";this.setState({films:nextProps.content.navigation.films,order:order,searchQuery:""});if(url.parse(nextProps.url).pathname!==url.parse(this.props.url).pathname){this._loadAllFilms(nextProps)}},_search:function _search(query){this.setState({searchQuery:query})},render:function render(){var _this2=this;var films=this.state.films;var filmGroups=this.props.content.navigation.filmNav||[];var query=this.props.query;var title=R.find(function(link){return link.type==="homeIcon"},this.props.content.navigation.dockedBar||[]);var searchResults=this.state.allFilms.filter(function(film){return R.strIndexOf(_this2.state.searchQuery.toLowerCase(),film.title.toLowerCase())!==-1}).filter(function(film){return film.link&&film.link.trim()!==""}).map(function(film){return{highlighted:SearchProgram.highlight(film.title,_this2.state.searchQuery),href:film.link,id:film.id}});return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule})),React.createElement(Content,{modifier:"singleColumnFilms"},React.createElement("header",{className:"headerGrid headerGrid--singleColumnFilms"},React.createElement("div",{className:"headerGrid-block headerGrid-tabs"},React.createElement(NavTabs,{categories:filmGroups.map(function(group,idx){return{key:group.id,href:_this2._url({group:group.id}),name:group.name,selected:query.group?query.group===group.id:idx===0}})})),React.createElement("div",{className:"headerGrid-block headerGrid-action headerGrid-sort"},React.createElement("span",{className:"headerGrid-actionTitle"},"Sort by"),React.createElement(Select,{value:this.state.order,onChange:this._sort,className:"select--light",inputClassName:"form-control--light"},R.toPairs(this.sortOptions).map(function(pair){return React.createElement("option",{key:pair[0],value:pair[0]},pair[1])})))),React.createElement(SearchProgram,{className:"searchProgram--singleColumnFilms",loading:this.state.searchLoading,placeholder:"Find "+title.name,results:searchResults,onSearch:this._search,value:this.state.searchQuery}),React.createElement("div",{className:"content-primary"},React.createElement(OegyScroll,{className:"listGrid listGrid--singleColumnFilms",count:films.length,items:films.slice(0,60),breakpointColumns:{0:1,768:2,980:3},fetch:this._filmSlice,render:function(film){var filmLink=/^\/HBO_GO\//.test(film.link)?"/HBO_GO/"+film.productId:film.link;var filmElem=React.createElement("div",null,React.createElement("div",{className:"listGrid-itemImageWrapper"},React.createElement("div",{className:"listGrid-itemImage"},React.createElement("img",{src:film.img,title:film.title}))),React.createElement("div",{className:"listGrid-itemContent"},React.createElement("h4",{className:"listGrid-itemTitle",title:film.title,dangerouslySetInnerHTML:{__html:film.title}})));return React.createElement("li",{className:"listGrid-item",key:film.id},film.link?React.createElement(Link,{href:filmLink,className:"listGrid-link"},filmElem):{filmElem:filmElem})}}))))},_filmSlice:function _filmSlice(head,count,cb){cb({videos:{video:this.state.films.slice(head,head+count)}})},_url:function _url(newQuery){var parsed=url.parse(this.props.url);var oldQuery=querystring.parse(parsed.query);return parsed.pathname+"?"+querystring.stringify(R.merge(oldQuery,newQuery))},_sort:function _sort(e){var newSort=e.target.value;var oldSort=this.state.order;var films=this.state.films;this.setState({order:newSort,films:newSort===oldSort?films:R.reverse(films)});if(Link.hasPushState()){history.pushState({},null,this._url({order:newSort}))}var sortBy="Sort By : "+this.sortOptions[e.target.value];require("../stores/route-store").tracking.trackLink.push({type:"internal",omnitureF:omniture.event56(sortBy,"GlobalVideo")})}});module.exports=SingleColumnFilms},{"../analytics":250,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTabs":295,"../components/OegyScroll":300,"../components/SearchProgram":310,"../components/Select":312,"../stores/route-store":332,"query-string":80,ramda:83,react:245,superagent:246,url:49}],375:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");

var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var NavProperty=require("../components/NavProperty");var Link=require("../components/Link");var Picture=require("../components/Picture");var Content=require("../components/Content");var VideoItem=require("../components/VideoItem");var PageTitle=require("../components/PageTitle");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var SingleColumnGridInside=React.createClass({displayName:"SingleColumnGridInside",render:function render(){var _this=this;var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,this.props.content.content.parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},this.props.content.content.parsed["common:PageTitleNew"],{className:"pageTitle--sub pageTitle--hasParent"})):null,React.createElement("div",{className:"content-primary"},this.props.content.navigation.inside.map(function(group,g){return React.createElement("div",{key:group.id+group.name+g},React.createElement("h3",{className:"content-title content-title--episodes"},group.name),React.createElement("ul",{className:"listGrid listGrid--inside"},group.items.map(function(item,i){return React.createElement("li",{key:item.id+item.nav+i,className:"listGrid-item"},item.type==="video"?React.createElement(VideoItem,_this._toVideoItem(item)):React.createElement(Link,{href:item.nav},React.createElement("div",{className:"listGrid-itemImageWrapper"},React.createElement("div",{className:"listGrid-itemImage"},React.createElement(Picture,{src:item.img,fallbackImage:item.img,sizes:"33vw",images:Picture.sizesFromUrl(item.img,[200,300])}))),React.createElement("div",{className:"listGrid-itemContent"},React.createElement("h4",{className:"listGrid-itemTitle"},item.title),React.createElement("h5",{className:"listGrid-itemDescription"},item.shortdescription))))})))})),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))},_toVideoItem:function _toVideoItem(item){return R.merge(item,{imageUrl:item.img,subTitle:item.shortdescription,pageName:this.props.content.tracking.pageName})}});module.exports=SingleColumnGridInside},{"../components/Content":263,"../components/FooterProperty":268,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/PageTitle":302,"../components/Picture":303,"../components/UpcomingSchedule":317,"../components/VideoItem":320,ramda:83,react:245}],376:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var Link=require("../components/Link");var NavProperty=require("../components/NavProperty");var PageTitle=require("../components/PageTitle");var Content=require("../components/Content");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var SingleColumnPeople=React.createClass({displayName:"SingleColumnPeople",render:function render(){var prop=this.props.content.content.parsed["common:CastAndCrewNavigator"].group;var people=this.props.content.navigation[prop];var hasParent=this.props.content.category==="102"||this.props.content.category==="105";var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,this.props.content.content.parsed["common:PageTitleNew"]?React.createElement(PageTitle,_extends({},this.props.content.content.parsed["common:PageTitleNew"],{className:"pageTitle--sub"+(hasParent?" pageTitle--hasParent":null)})):null,React.createElement("div",{className:"content-primary"},people.map(function(group){return React.createElement("div",{key:group.id,className:"castAndCrew-group castAndCrew-group--"+group.type},React.createElement("h3",{className:"content-title content-title--castAndCrew",dangerouslySetInnerHTML:{__html:group.name}}),React.createElement("ul",{className:"listGrid listGrid--castAndCrew"},group.items.map(function(person,i){var content=React.createElement("div",null,React.createElement("div",{className:"listGrid-itemImageWrapper"},React.createElement("div",{className:"listGrid-itemImage"},person.img?React.createElement("img",{src:person.img}):null)),React.createElement("div",{className:"listGrid-itemContent"},React.createElement("h4",{className:"listGrid-itemTitle"},person.title),React.createElement("h5",{className:"listGrid-itemDescription"},person.shortdescription)));return React.createElement("li",{key:i,className:"listGrid-item"},person.nav?React.createElement(Link,{href:person.nav},content):content)})))})),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=SingleColumnPeople},{"../components/Content":263,"../components/FooterProperty":268,"../components/Link":276,"../components/Main":280,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/PageTitle":302,"../components/UpcomingSchedule":317,ramda:83,react:245}],377:[function(require,module,exports){"use strict";var React=require("react/addons");var omniture=require("../analytics");var querystring=require("query-string");var Button=require("../components/Button");var ListContentItem=require("../components/ListContentItem");var SiteSearchResults=React.createClass({displayName:"SiteSearchResults",_prev:function _prev(){return this._createSearchUrl(Math.max(0,this.props.content.start-this.props.content.num))},_next:function _next(){return this._createSearchUrl(Math.max(1,parseInt(parseInt(this.props.content.start,10)+parseInt(this.props.content.num,10),10)))},_createSearchUrl:function _createSearchUrl(start){return"/search?"+querystring.stringify({start:isNaN(start)?0:start,q:this.props.query})},render:function render(){var _this=this;return React.createElement("div",null,this.props.results.length>0?React.createElement("div",null,React.createElement("div",{className:"listContent listContent--search listContent--showAll"},this.props.results.map(function(result,i){return React.createElement(ListContentItem,{key:result.title+i,nav:result.url,title:result.title,body:"<p>"+result.description+"</p>",omniture:omniture.event39(_this.props.query||"",result.title),forceImage:false})})),React.createElement("div",{className:"search-navigate"},this.props.content.start>0?React.createElement(Button,{label:"Prev",nav:this._prev(),light:true,arrowBack:true,size:"small",className:"search-navigatePrev"}):null,this.props.results.length>=this.props.content.num?React.createElement(Button,{label:"Next",nav:this._next(),light:true,arrow:true,size:"small",className:"search-navigateNext"}):null)):React.createElement("div",null,"We're sorry, there are no matches for \""+this.props.query+'". Try another search.'))}});module.exports=SiteSearchResults},{"../analytics":250,"../components/Button":256,"../components/ListContentItem":278,"query-string":80,"react/addons":84}],378:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var Link=require("../components/Link");var Picture=require("../components/Picture");var Share=require("../components/Share");var Main=require("../components/Main");var Content=require("../components/Content");var querystring=require("query-string");var cx=require("classnames");var R=require("ramda");var moment=require("moment");var omniture=require("../analytics");var UpcomingSchedule=require("../components/UpcomingSchedule");var Slideshow=React.createClass({displayName:"Slideshow",statics:{urlWithIndex:function urlWithIndex(baseUrl,index){var split=baseUrl.split("?");var query=split.length>0?querystring.parse(split[1]):{};query.index=index;return split[0]+"?"+querystring.stringify(query)}},_parseQuery:function _parseQuery(search){var parsed=querystring.parse(search);return parsed.index&&!isNaN(parseInt(parsed.index,10))?parseInt(parsed.index,10):0},getDefaultProps:function getDefaultProps(){return{index:0}},getInitialState:function getInitialState(){var split=this.props.url.split("?");var index=split.length>0?this._parseQuery(split[1]):0;return{index:index,isPortrait:false,detail:false,hoverIndex:null}},_selectImage:function _selectImage(index,url){var state={index:index};if(Link.hasPushState()){history.replaceState(state,null,url)}this.setState(state)},_navigateSlidesWithArrows:function _navigateSlidesWithArrows(event){var _this=this;var index=function(){switch(event.keyCode){case 37:return _this.state.index-1;case 39:return _this.state.index+1;default:return _this.state.index}}();var totalCount=this.props.content.content.parsed["common:Slideshow"].group.length;var url=Slideshow.urlWithIndex(this.props.url,index);if(index!==this.state.index&&index>=0&&index<totalCount){this._selectImage(index,url)}},_toggleDetails:function _toggleDetails(flag){var _this2=this;return function(){_this2.setState(R.assoc("detail",flag===undefined?!_this2.state.detail:flag,_this2.state))}},_linkProps:function _linkProps(index){var _this3=this;var url=Slideshow.urlWithIndex(this.props.url,index);return{href:url,onClick:function onClick(event){event.preventDefault();event.stopPropagation();_this3._selectImage(index,url)}}},_linkPropsThumbnail:function _linkPropsThumbnail(index){var _this4=this;var url=Slideshow.urlWithIndex(this.props.url,index);return{href:url,onClick:function onClick(event){event.preventDefault();event.stopPropagation();if(!_this4.state.detail){return _this4._toggleDetails(true)()}_this4._selectImage(index,url)}}},_setHoverState:function _setHoverState(index){var _this5=this;return function(){_this5.setState(R.assoc("hoverIndex",index,_this5.state))}},_togglePortraitMode:function _togglePortraitMode(){var image=this.refs.pictureContainer.getDOMNode();var isPortrait=image.offsetWidth/image.offsetHeight<16/9;this.setState({index:this.state.index,isPortrait:isPortrait})},componentDidMount:function componentDidMount(){window.addEventListener("resize",this._togglePortraitMode);this._togglePortraitMode();window.addEventListener("keydown",this._navigateSlidesWithArrows);var routeStore=require("../stores/route-store");routeStore.initialPage.onValue(function(){routeStore.tracking.trackLink.push({type:"internal",omnitureF:omniture.event21})});routeStore.tracking.trackLink.push({type:"internal",omnitureF:omniture.event21})},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("resize",this._togglePortraitMode);window.removeEventListener("keydown",this._navigateSlidesWithArrows)},render:function render(){var _this6=this;var parsed=this.props.content.content.parsed;var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);var currentIndex=this.state.index;var pageTitleNew=parsed["common:PageTitleNew"];var slideshow=parsed["common:Slideshow"];var group=slideshow.group;var currentImage=group[currentIndex];var thumbnailCount=7;var paddingCount=(thumbnailCount-1)/2;var totalCount=group.length;var thumbnailStart=Math.max(0,Math.min(currentIndex-paddingCount,totalCount-thumbnailCount));var thumbnailEnd=Math.min(totalCount,Math.max(thumbnailCount,currentIndex+paddingCount+1));var thumbnails=group.map(function(image,i){return{thumb:image.thumb,index:i}}).slice(thumbnailStart,thumbnailEnd);var isPortrait=this.state.isPortrait;var containerClasses=cx({"slideshow-pictureWrapper":true,portrait:isPortrait});var detailClasses=cx({"slideshow-detail":true,"is-down":!this.state.detail});var pageTitle=function pageTitle(){var isEpisodic=_this6.props.content.category==="101";var preTitle=isEpisodic?_this6.props.content.program+": "+pageTitleNew.heading.label:pageTitleNew.heading.label;var title=slideshow.title;return React.createElement("div",{className:"pageTitle pageTitle--slideshow"},React.createElement("h4",{className:"pageTitle-preTitle"},preTitle),React.createElement("h2",{className:"pageTitle-title"},React.createElement(Link,{href:pageTitleNew.heading.nav},title)),React.createElement("div",{dangerouslySetInnerHTML:{__html:_this6.props.desc}}),React.createElement(Link,{className:"slideshow-close",href:pageTitleNew.heading.nav}))};return React.createElement(Main,null,React.createElement(Content,{withSidebar:false},React.createElement("div",{className:"slideshow"},pageTitle(),currentImage?React.createElement("div",{ref:"pictureContainer",className:containerClasses},React.createElement("div",{className:"slideshow-progress"},currentIndex+1," of ",totalCount),React.createElement(Link,{className:"slideshow-close iconFont-closeSmall",href:pageTitleNew.heading.nav}),React.createElement("div",{className:"slideshow-nav navSeq navSeq--imageOverlay"},currentIndex>0?React.createElement(Link,_extends({},this._linkProps(currentIndex-1),{className:"navSeq-link navSeq-prev"}),React.createElement("span",{className:"navSeq-arrow"}),React.createElement("span",{className:"navSeq-text"},"Previous")):null,currentIndex<totalCount-1?React.createElement(Link,_extends({},this._linkProps(currentIndex+1),{className:"navSeq-link navSeq-next"}),React.createElement("span",{className:"navSeq-arrow"}),React.createElement("span",{className:"navSeq-text"},"Next")):null,React.createElement(Picture,{images:currentImage.image,sizes:"100vw",className:"slideshow-image",src:currentImage.image[0].src,onClick:this._toggleDetails(),onMouseEnter:this._toggleDetails(false)})),React.createElement("div",{className:detailClasses},React.createElement("div",{className:"slideshow-detailContent"},pageTitle(),React.createElement(Share,{url:"http://hbo.com/"+this.props.url,className:"share--slideshow"}),React.createElement("div",{className:"slideshow-progress"},currentIndex+1," of ",totalCount),React.createElement("div",{className:"slideshow-body"},currentImage.title?React.createElement("h3",{className:"slideshow-title"},currentImage.title):null,currentImage.subtitle||currentImage.created?React.createElement("h4",{className:"slideshow-titlePost"},currentImage.subtitle?currentImage.subtitle:null,currentImage.created?React.createElement("span",{className:"slideshow-created"}," Created "+moment(currentImage.created).format("MMMM DD, YYYY")):null):null,React.createElement("div",{dangerouslySetInnerHTML:{__html:currentImage.body}}))),React.createElement("ul",{className:"slideshow-thumbnails",onMouseEnter:this._toggleDetails(true)},thumbnails.map(function(image,index){var classes=cx({"slideshow-thumbnail":true,"slideshow-thumbnail--selected":currentIndex===image.index,"slideshow-thumbnail--hover":_this6.state.hoverIndex===image.index});var baseUrl=Picture.parseImageBaseUrl(image.thumb);var images=Picture.imagesFromBaseUrl(baseUrl,[100,200,300,512]);return React.createElement("li",{key:image.thumb+index,className:classes},React.createElement(Link,_extends({onMouseEnter:_this6._setHoverState(image.index)},_this6._linkPropsThumbnail(image.index)),React.createElement(Picture,{images:images,src:images[0].src,sizes:"14.3vw"})))})))):null),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,className:"upcomingSchedule--secondary",programTitle:programTitle}):null))}});module.exports=Slideshow},{"../analytics":250,"../components/Content":263,"../components/Link":276,"../components/Main":280,"../components/Picture":303,"../components/Share":313,"../components/UpcomingSchedule":317,"../stores/route-store":332,classnames:50,moment:58,"query-string":80,ramda:83,react:245}],379:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var React=require("react");var R=require("ramda");var PageTitle=require("../components/PageTitle");var Hero=require("../components/Hero");var NavTertiary=require("../components/NavTertiary");var NavProperty=require("../components/NavProperty");var NavSidebar=require("../components/NavSidebar");var Main=require("../components/Main");var VideoItem=require("../components/VideoItem");var MediaGrid=require("../components/MediaGrid");var Content=require("../components/Content");var Gallery=require("../components/Gallery");var UpcomingSchedule=require("../components/UpcomingSchedule");var FooterProperty=require("../components/FooterProperty");var SpecialsHome=React.createClass({displayName:"SpecialsHome",render:function render(){var _this=this;var content=this.props.content.content;var fullBleedImage=content.parsed["common:FullBleedImage"];var mediaPageNavigation=content.parsed["common:MediaPageNavigation"];var mediaTray=this.props.content.navigation.mediaTray||[];var episodeLink=R.find(function(link){return link.type==="goVideo"},mediaTray);var episodeUrl=episodeLink?episodeLink.productId?"/HBO_GO/"+episodeLink.productId:episodeLink.nav:null;var galleries=R.path(["bundled","galleries"],this.props.content)||[];var galleryDetails=mediaTray.filter(function(link){return link.type==="gallery"});var videos=mediaTray.filter(function(link){return link.type==="video"});var home=R.find(function(link){return link.type==="homeIcon"},this.props.content.navigation.dockedBar||[]);var title=content.parsed["common:SpecialsPageTitle"];var upcomingSchedule=R.path(["content","bundled","schedule"],this.props);var programTitle=R.path(["content","propertyProgram"],this.props);return React.createElement(Main,null,React.createElement(NavSidebar,null,React.createElement(NavProperty,{dockedBar:this.props.content.navigation.dockedBar,schedule:this.props.content.navigation.schedule}),upcomingSchedule?React.createElement(FooterProperty,null,React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle})):null),React.createElement(Content,null,React.createElement(Hero,{images:fullBleedImage,className:"hero--episodeHome"},React.createElement(PageTitle,{upperText:title.title,heading:home?{label:home.name,nav:home.nav}:null})),title.desc?React.createElement("div",{className:"lead--episodeHome",dangerouslySetInnerHTML:{__html:title.desc}}):null,React.createElement(NavTertiary,{links:mediaPageNavigation?this.props.content.navigation[mediaPageNavigation.group]:[],episode:episodeUrl,className:"navTertiary--episodeHome"}),upcomingSchedule?React.createElement(UpcomingSchedule,{schedule:upcomingSchedule,timezone:this.props.timezone,programTitle:programTitle}):null,videos.length>0?React.createElement("div",{className:"content-primary content-primary--episodeHome"},React.createElement(MediaGrid,{mobileLimit:5,className:"mediaGrid--episodeHome"},videos.map(function(link){return React.createElement("div",{key:link.nav},React.createElement(VideoItem,_extends({title:link.name,sizes:"(min-width: 768px) 50vw, 100vw",imageUrl:link.img},link,{pageName:_this.props.content.tracking.pageName})))}))):null,galleries.length>0?React.createElement("div",{className:"content-secondary content-secondary--episodeHome"},galleries.map(function(gallery,i){return React.createElement(Gallery,_extends({key:i},R.path(["content","parsed","common:Slideshow"],gallery),{title:galleryDetails[i]?galleryDetails[i].name:undefined,galleryUrl:galleryDetails[i]?galleryDetails[i].nav:undefined,count:8}))})):null))}});module.exports=SpecialsHome},{"../components/Content":263,"../components/FooterProperty":268,"../components/Gallery":270,"../components/Hero":272,"../components/Main":280,"../components/MediaGrid":282,"../components/NavProperty":291,"../components/NavSidebar":294,"../components/NavTertiary":296,"../components/PageTitle":302,"../components/UpcomingSchedule":317,"../components/VideoItem":320,ramda:83,react:245}],380:[function(require,module,exports){"use strict";var moment=require("moment-timezone");var R=require("ramda");exports.getZone=function(){var date=new Date;var now=moment(date).format();var zone=R.find(function(zone){return moment.tz(date,zone).format()===now})(["US/Pacific","US/Central","US/Mountain","US/Eastern","US/Alaska","US/Hawaii"]);return zone?zone:"US/Eastern"};exports.suffix=function(zone){switch(zone){case"US/Pacific":return"PT";case"US/Central":return"CT";case"US/Mountain":return"MT";case"US/Eastern":return"ET";case"US/Alaska":return"AK";case"US/Hawaii":return"HT"}return""};exports.isWestZone=function(zone){return R.contains(zone,["US/Pacific","US/Mountain","US/Alaska","US/Hawaii"])};exports.parseDate=function(str,timezone){var date=moment.tz(str,timezone);return date.isValid()?date:moment.tz(str,"YYYY-MM-DD",timezone)}},{"moment-timezone":56,ramda:83}],381:[function(require,module,exports){"use strict";var omniture=require("./analytics");var R=require("ramda");var Bacon=require("baconjs");var bindVideoPlayPing=function bindVideoPlayPing(player,pingInterval,callback){Bacon.mergeAll(Bacon.fromEvent(player,"play").map(true),Bacon.fromEvent(player,"pause").map(false)).toProperty(false).flatMapLatest(function(playing){return playing?Bacon.interval(pingInterval):Bacon.never()}).takeUntil(Bacon.fromEvent(player,"destroy")).onValue(callback)};var externalTracking=function externalTracking(event,data){if(typeof window.dtmVideoTracking==="function"){window.dtmVideoTracking(event,data)}};exports.bindTrackingEvents=function(player,isEmbedded){var trackLink=require("./stores/route-store").tracking.trackLink;var timeupdate=function timeupdate(){var fired={5:false,10:false,25:false,50:false,75:false};return function(){var elapsed=player.getCurrentTime()/player.getDuration();var progressFn=R.partialRight(omniture.progress,player.videoData,isEmbedded,player.options);if(elapsed>.05&&!fired[5]){fired[5]=true;trackLink.push({type:"internal",omnitureF:progressFn(5)});externalTracking("video_time_update_5",player.videoData)}else if(elapsed>.1&&!fired[10]){fired[10]=true;trackLink.push({type:"internal",omnitureF:progressFn(10)});externalTracking("video_time_update_10",player.videoData)}else if(elapsed>.25&&!fired[25]){fired[25]=true;trackLink.push({type:"internal",omnitureF:progressFn(25)});externalTracking("video_time_update_25",player.videoData)}else if(elapsed>.5&&!fired[50]){fired[50]=true;trackLink.push({type:"internal",omnitureF:progressFn(50)});externalTracking("video_time_update_50",player.videoData)}else if(elapsed>.75&&!fired[75]){fired[75]=true;trackLink.push({type:"internal",omnitureF:progressFn(75)});externalTracking("video_time_update_75",player.videoData)}}};player.once("play",function(){trackLink.push({type:"internal",omnitureF:omniture.playing(player.videoData,isEmbedded,player.options)});externalTracking("video_play",player.videoData)});player.on("ended",function(){trackLink.push({type:"internal",omnitureF:omniture.ended(player.videoData,isEmbedded,player.options)});externalTracking("video_ended",player.videoData)});player.on("fullscreenchange",function(){return trackLink.push({type:"internal",omnitureF:omniture.fullscreen(player.videoData,isEmbedded,player.options)})});player.on("timeupdate",timeupdate());player.on("share",function(type){switch(type){case"email":trackLink.push({type:"internal",omnitureF:omniture.sendToFriend(player.videoData.title,undefined,player.options.pageName)});break;case"facebook":case"twitter":trackLink.push({type:"internal",omnitureF:omniture.postToSocial("share",type,player.options.pageName)});break;case"embed":trackLink.push({type:"internal",omnitureF:omniture.embed(player.videoData.title,undefined,player.options.pageName)});break}});player.on("related",function(){return trackLink.push({type:"internal",omnitureF:omniture.relatedOverlayOpened(player.videoData,isEmbedded,player.options)})});player.on("related-item-clicked",function(_ref){var item=_ref.item;var event=_ref.event;var itemIndex=_ref.itemIndex;var numItems=_ref.numItems;if(item.type==="cta"){trackLink.push({type:"external",target:event.currentTarget,omnitureF:omniture.samplingPageCTA("start your free trial video end card")})}else{trackLink.push({type:"internal",omnitureF:omniture.relatedItemClicked(player.videoData,isEmbedded,itemIndex,numItems,player.options)})}});player.on("tvmaerror",function(error){return trackLink.push({type:"internal",omnitureF:omniture.tvmaErrorOccurred(error)})});player.on("tvmaemailcaptured",function(newsOptIn){return trackLink.push({type:"internal",omnitureF:omniture.tvmaEmailCaptured(newsOptIn)})});player.on("tvmacheck",function(){return trackLink.push({type:"internal",omnitureF:omniture.samplingPageCTA("play")})});player.on("tvmashown",function(){return trackLink.push({type:"internal",omnitureF:omniture.tvmaOverlayShown("global","global: hbo now sampling: verification overlay")})});bindVideoPlayPing(player,20*60*1e3,function(){return trackLink.push({type:"internal",omnitureF:omniture.videoPlayPing})})}},{"./analytics":250,"./stores/route-store":332,baconjs:42,ramda:83}],382:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};require("es5-shim");require("es5-shim/es5-sham");var FastClick=require("fastclick");var React=require("react");var Link=require("./components/Link");if(Link.hasTouchEvents()){React.initializeTouchEvents(true);FastClick(document.body)}var App=require("./components/App");React.render(React.createElement(App,_extends({},window.__reactContent,{url:location.pathname+location.search})),document);window.React=React},{"./components/App":253,"./components/Link":276,"es5-shim":53,"es5-shim/es5-sham":52,fastclick:54,react:245}]},{},[382]);